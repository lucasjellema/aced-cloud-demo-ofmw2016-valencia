!function(){function t(t,e,i,n,r,o){return e[t]||(t=t.replace(/^zh-(Hans|Hant)-([^-]+)$/,"zh-$2")),e[t]?(i.push(t),!0!==e[t]&&1!==e[t]||n.push(r+t+"/"+o),!0):!1}function e(t){var e=t.toLowerCase().split(/-|_/);t=[e[0]];var i,n=1;for(i=1;i<e.length;i++){var r=e[i],o=r.length;if(1==o)break;switch(n){case 1:if(n=2,4==o){t.push(r.charAt(0).toUpperCase()+r.slice(1));break}case 2:n=3,t.push(r.toUpperCase());break;default:t.push(r)}}return"zh"!=t[0]||1<t.length&&4==t[1].length||(e="Hans",n=1<t.length?t[1]:null,"TW"!==n&&"MO"!==n&&"HK"!==n||(e="Hant"),t.splice(1,0,e)),t}function i(t,e){for(var n in e)e.hasOwnProperty(n)&&(null==t[n]?t[n]=e[n]:"object"==typeof e[n]&&"object"==typeof t[n]&&i(t[n],e[n]))}var n=/(^.*(^|\/)nls(\/|$))([^\/]*)\/?([^\/]*)/;define("ojL10n",["module"],function(r){var o=r.config?r.config():{};return{version:"2.0.1+",load:function(r,s,a,l){l=l||{},l.locale&&(o.locale=l.locale);var u,h,c,p,d,g,f,_,v,m=n.exec(r),y=m[1],S=m[5],E=[],T={},b="";for(m[5]?(y=m[1],r=y+S,u=m[4]):(S=m[4],u=o.locale,"undefined"!=typeof document?(u||(u=l.isBuild?"root":document.documentElement.lang)||(u=void 0===navigator?"root":navigator.language||navigator.userLanguage||"root"),o.locale=u):u="root"),h=e(u),p=o.noOverlay,d=o.defaultNoOverlayLocale,(m=o.merge)&&(g=m[y+S])&&(m=n.exec(g),f=m[1],_=m[4]),v=[],c=0;c<h.length;c++)m=h[c],b+=(b?"-":"")+m,v.push(b);l.isBuild?(E.push(r),g&&E.push(g),s(E,function(){a()})):("query"==o.includeLocale&&(r=s.toUrl(r+".js"),r+=(-1===r.indexOf("?")?"?":"&")+"loc="+u),l=[r],g&&l.push(g),s(l,function(e,n){var r,o=[],l=!1,u=p||!0===e.__noOverlay,g=d||e.__defaultNoOverlayLocale;for(c=v.length-1;c>=0&&(!l||!u);c--)l=t(v[c],e,o,E,y,S);if(u&&!l&&g&&t(g,e,o,E,y,S),t("root",e,o,E,y,S),r=o.length,n){for(l=!1,u=!0===n.__noOverlay,g=n.__defaultNoOverlayLocale,c=v.length-1;c>=0&&(!l||!u);c--)l=t(v[c],n,o,E,f,_);u&&!l&&g&&t(g,n,o,E,f,_),t("root",n,o,E,f,_)}s(E,function(){var t,l,u;for(t=r;t<o.length&&o[t];t++)u=o[t],l=n[u],!0!==l&&1!==l||(l=s(f+u+"/"+_)),i(T,l);for(t=0;r>t&&o[t];t++)u=o[t],l=e[u],!0!==l&&1!==l||(l=s(y+u+"/"+S)),i(T,l);T._ojLocale_=h.join("-"),a(T)})}))}}})}(),define("ojtranslations/nls/ojtranslations",{root:{"oj-message":{fatal:"Fatal",error:"Error",warning:"Warning",info:"Info",confirmation:"Confirmation","compact-type-summary":"{0}: {1}"},"oj-converter":{summary:"Value is not in the expected format.",detail:"Enter a value in the expected format.","plural-separator":", ",hint:{summary:"Example: {exampleValue}",detail:"Enter a value in the same format as this example: '{exampleValue}'","detail-plural":"Enter a value in the same format as these examples: '{exampleValue}'"},optionHint:{detail:"An accepted value for option '{propertyName}' is '{propertyValueValid}'.","detail-plural":"Accepted values for option '{propertyName}' are '{propertyValueValid}'."},optionTypesMismatch:{summary:"A value for the option '{requiredPropertyName}' is required when the option '{propertyName}' is set to '{propertyValue}'."},optionTypeInvalid:{summary:"A value of the expected type was not provided for option '{propertyName}'."},optionOutOfRange:{summary:"Value {propertyValue} is out of range for the option '{propertyName}'."},optionValueInvalid:{summary:"An invalid value '{propertyValue}' was specified for the option '{propertyName}'."},number:{decimalFormatMismatch:{summary:"'{value}' is not in the expected number format."},decimalFormatUnsupportedParse:{summary:"decimalFormat: 'short' and 'long' are not supported for converter parsing.",detail:"Change component to readOnly. readOnly fields do not call the converter's parse function."},currencyFormatMismatch:{summary:"'{value}' is not in the expected currency format."},percentFormatMismatch:{summary:"'{value}' is not in the expected percent format."}},datetime:{datetimeOutOfRange:{summary:"Value '{value}' is out of range for the '{propertyName}'.",detail:"Enter a value between '{minValue}' and '{maxValue}'."},dateFormatMismatch:{summary:"'{value}' is not in the expected date format."},timeFormatMismatch:{summary:"'{value}' is not in the expected time format."},datetimeFormatMismatch:{summary:"'{value}' is not in the expected date and time format."},dateToWeekdayMismatch:{summary:"Day '{date}' does not fall on a '{weekday}'.",detail:"Enter a weekday that corresponds with the date."}}},"oj-validator":{length:{hint:{min:"Enter {min} or more characters.",max:"Enter {max} or fewer characters",inRange:"Enter {min} or more characters, up to a maximum of {max}.",exact:"Enter {length} characters."},messageDetail:{tooShort:"Enter {min} or more characters, not fewer.",tooLong:"Enter {max} or fewer characters, not more."},messageSummary:{tooShort:"There are too few characters.",tooLong:"There are too many characters."}},range:{number:{hint:{min:"Enter a number greater than or equal to {min}.",max:"Enter a number less than or equal to {max}.",inRange:"Enter a number between {min} and {max}."},messageDetail:{rangeUnderflow:"Number {value} must be greater than or equal to {min}.",rangeOverflow:"Number {value} must be less than or equal to {max}."},messageSummary:{rangeUnderflow:"Number is too low.",rangeOverflow:"Number is too high."}},datetime:{hint:{min:"Enter a date and time on or after {min}.",max:"Enter a date and time on or before {max}.",inRange:"Enter a date and time between {min} and {max}."},messageDetail:{rangeUnderflow:"Date and time must be on or later than {min}.",rangeOverflow:"Date and time must be on or sooner than {max}."},messageSummary:{rangeUnderflow:"Date and time is earlier than the minimum date.",rangeOverflow:"Date and time is later than the maximum date."}}},restriction:{date:{messageSummary:"Date {value} is of a disabled entry.",messageDetail:"Date {value} should not be of a disabled entry."}},regExp:{summary:"Format is incorrect.",detail:"Value '{value}' must match this pattern: '{pattern}'"},required:{summary:"Value is required.",detail:"You must enter a value."}},"oj-editableValue":{required:{hint:"",messageSummary:"",messageDetail:""}},"oj-ojInputDate":{prevText:"Prev",nextText:"Next",currentText:"Today",weekHeader:"Wk",tooltipCalendar:"Select Date",tooltipCalendarDisabled:"Select Date Disabled",weekText:"Week",datePicker:"Date Picker",inputHelp:"Press Key down or Key up for access to Calendar",inputHelpBoth:"Press Key down or Key up for access to Calendar and Shift + Key down or Shift Key up for access to time drop down",dateTimeRange:{hint:{min:"",max:"",inRange:""},messageDetail:{rangeUnderflow:"",rangeOverflow:""},messageSummary:{rangeUnderflow:"",rangeOverflow:""}},dateRestriction:{hint:"",messageSummary:"",messageDetail:""}},"oj-ojInputTime":{tooltipTime:"Select Time",tooltipTimeDisabled:"Select Time Disabled",inputHelp:"Press Key down or Key up for access to time drop down",dateTimeRange:{hint:{min:"",max:"",inRange:""},messageDetail:{rangeUnderflow:"",rangeOverflow:""},messageSummary:{rangeUnderflow:"",rangeOverflow:""}}},"oj-inputBase":{regexp:{messageSummary:"",messageDetail:""}},"oj-ojInputPassword":{regexp:{messageDetail:"Value must match this pattern: '{pattern}'"}},"oj-ojFilmStrip":{labelAccArrowNextPage:"Next Page",labelAccArrowPreviousPage:"Previous Page",tipArrowNextPage:"Next",tipArrowPreviousPage:"Previous"},"oj-ojDataGrid":{accessibleSortAscending:"{id} sorted in ascending order",accessibleSortDescending:"{id} sorted in descending order",accessibleActionableMode:"Enter actionable mode",accessibleNavigationMode:"Enter navigation mode",accessibleSummaryExact:"This is a data grid with {rownum} rows and {colnum} columns",accessibleSummaryEstimate:"This is a data grid with unknown number of rows and columns",accessibleSummaryExpanded:"There are currently {num} rows expanded",accessibleRowExpanded:"Row expanded",accessibleRowCollapsed:"Row collapsed",accessibleRowSelected:"Row {row} selected",accessibleColumnSelected:"Column {column} selected",accessibleStateSelected:"selected",accessibleMultiCellSelected:"{num} cells selected",accessibleRowContext:"Row {index}",accessibleColumnContext:"Column {index}",accessibleRowHeaderContext:"Row Header {index}",accessibleColumnHeaderContext:"Column Header {index}",accessibleLevelContext:"Level {level}",accessibleRangeSelectModeOn:"Add selected range of cells mode on",accessibleRangeSelectModeOff:"Add selected range of cells mode off",accessibleFirstRow:"You have reached the first row",accessibleLastRow:"You have reached the last row",accessibleFirstColumn:"You have reached the first column",accessibleLastColumn:"You have reached the last column",accessibleSelectionAffordanceTop:"Top selection handle",accessibleSelectionAffordanceBottom:"Bottom selection handle",msgFetchingData:"Fetching Data...",msgNoData:"No items to display.",labelResize:"Resize",labelResizeWidth:"Resize Width",labelResizeHeight:"Resize Height",labelSortRow:"Sort Row",labelSortRowAsc:"Sort Row Ascending",labelSortRowDsc:"Sort Row Descending",labelSortCol:"Sort Column",labelSortColAsc:"Sort Column Ascending",labelSortColDsc:"Sort Column Descending",labelCut:"Cut",labelPaste:"Paste",labelEnableNonContiguous:"Enable Non-Contiguous Selection",labelDisableNonContiguous:"Disable Non-Contiguous Selection",labelResizeDialogSubmit:"OK"},"oj-ojRowExpander":{accessibleLevelDescription:"Level {level}",accessibleRowDescription:"Level {level}, Row {num} of {total}",accessibleRowExpanded:"Row expanded",accessibleRowCollapsed:"Row collapsed",accessibleStateExpanded:"expanded",accessibleStateCollapsed:"collapsed"},"oj-ojListView":{msgFetchingData:"Fetching Data...",msgNoData:"No items to display.",indexerCharacters:"A|B|C|D|E|F|G|H|I|J|K|L|M|N|O|P|Q|R|S|T|U|V|W|X|Y|Z"},"oj-_ojLabel":{tooltipHelp:"Help",tooltipRequired:"Required"},"oj-ojInputNumber":{numberRange:{hint:{min:"",max:"",inRange:""},messageDetail:{rangeUnderflow:"",rangeOverflow:""},messageSummary:{rangeUnderflow:"",rangeOverflow:""}},tooltipDecrement:"Decrement",tooltipIncrement:"Increment"},"oj-ojTable":{labelAccSelectionAffordanceTop:"Top selection handle",labelAccSelectionAffordanceBottom:"Bottom selection handle",labelEnableNonContiguousSelection:"Enable Non-Contiguous Selection",labelDisableNonContiguousSelection:"Disable Non-Contiguous Selection",labelSelectRow:"Select Row",labelSelectColumn:"Select Column",labelSort:"Sort",labelSortAsc:"Sort Ascending",labelSortDsc:"Sort Descending",msgFetchingData:"Fetching Data...",msgNoData:"No data to display."},"oj-ojTabs":{labelCut:"Cut",labelPasteBefore:"Paste Before",labelPasteAfter:"Paste After",labelRemove:"Remove",labelReorder:"Reorder",removeCueText:"Removable"},"oj-ojSelect":{seachField:"Search field",noMatchesFound:"No matches found"},"oj-ojSwitch":{SwitchON:"On",SwitchOFF:"Off"},"oj-ojCombobox":{noMatchesFound:"No matches found"},"oj-ojInputSearch":{noMatchesFound:"No matches found"},"oj-ojTree":{stateLoading:"Loading...",labelNewNode:"New Node",labelMultiSelection:"Multiple Selection",labelEdit:"Edit",labelCreate:"Create",labelCut:"Cut",labelCopy:"Copy",labelPaste:"Paste",labelRemove:"Remove",labelRename:"Rename",labelNoData:"No data"},"oj-ojPagingControl":{labelAccPaging:"Pagination",labelAccNavFirstPage:"First Page",labelAccNavLastPage:"Last Page",labelAccNavNextPage:"Next Page",labelAccNavPreviousPage:"Previous Page",labelAccNavPage:"Page",labelLoadMore:"Show More...",labelLoadMoreMaxRows:"Reached Maximum Limit of {maxRows} rows",labelNavInputPage:"Page",labelNavInputPageMax:"of {pageMax}",msgItemRangeCurrent:"{pageFrom}-{pageTo}",msgItemRangeCurrentSingle:"{pageFrom}",msgItemRangeOf:"of",msgItemRangeOfAtLeast:"of at least",msgItemRangeOfApprox:"of approx.",msgItemRangeItems:"items",tipNavInputPage:"Go To Page",tipNavPageLink:"Go To Page {pageNum}",tipNavNextPage:"Next",tipNavPreviousPage:"Previous",tipNavFirstPage:"First",tipNavLastPage:"Last",pageInvalid:{summary:"The page value entered is invalid.",detail:"Please enter a value greater than 0."},maxPageLinksInvalid:{summary:"Value for maxPageLinks is invalid.",detail:"Please enter a value greater than 4."}},"oj-ojMasonryLayout":{labelCut:"Cut",labelPasteBefore:"Paste Before",labelPasteAfter:"Paste After"},"oj-panel":{labelAccButtonExpand:"Expand",labelAccButtonCollapse:"Collapse",labelAccButtonRemove:"Remove"},"oj-ojChart":{labelDefaultGroupName:"Group {0}",labelSeries:"Series",labelGroup:"Group",labelDate:"Date",labelValue:"Value",labelTargetValue:"Target",labelX:"X",labelY:"Y",labelZ:"Z",labelPercentage:"Percentage",labelLow:"Low",labelHigh:"High",labelOpen:"Open",labelClose:"Close",labelVolume:"Volume",labelMin:"Min",labelMax:"Max",labelOther:"Other",tooltipPan:"Pan",tooltipSelect:"Marquee select",tooltipZoom:"Marquee zoom",componentName:"Chart"},"oj-dvtBaseGauge":{componentName:"Gauge"},"oj-ojDiagram":{componentName:"Diagram"},"oj-ojLegend":{componentName:"Legend"},"oj-ojNBox":{highlightedCount:"{0}/{1}",labelOther:"Other",labelGroup:"Group",labelSize:"Size",labelAdditionalData:"Additional Data",componentName:"NBox"},"oj-ojPictoChart":{componentName:"Picture Chart"},"oj-ojSparkChart":{componentName:"Chart"},"oj-ojSunburst":{labelColor:"Color",labelSize:"Size",componentName:"Sunburst"},"oj-ojTagCloud":{componentName:"Tag Cloud"},"oj-ojThematicMap":{componentName:"Thematic Map"},"oj-ojTimeline":{componentName:"Timeline",labelSeries:"Series",tooltipZoomIn:"Zoom In",tooltipZoomOut:"Zoom Out"},"oj-ojTreemap":{labelColor:"Color",labelSize:"Size",tooltipIsolate:"Isolate",tooltipRestore:"Restore",componentName:"Treemap"},"oj-dvtBaseComponent":{labelScalingSuffixThousand:"K",labelScalingSuffixMillion:"M",labelScalingSuffixBillion:"B",labelScalingSuffixTrillion:"T",labelScalingSuffixQuadrillion:"Q",labelInvalidData:"Invalid data",labelNoData:"No data to display",labelClearSelection:"Clear Selection",labelDataVisualization:"Data Visualization",stateSelected:"Selected",stateUnselected:"Unselected",stateMaximized:"Maximized",stateMinimized:"Minimized",stateExpanded:"Expanded",stateCollapsed:"Collapsed",stateIsolated:"Isolated",stateHidden:"Hidden",stateVisible:"Visible",stateDrillable:"Drillable",labelAndValue:"{0}: {1}",labelCountWithTotal:"{0} of {1}"},"oj-ojNavigationList":{defaultRootLabel:"Navigation List",hierMenuBtnLabel:"Hierarchical Menu button",selectedLabel:"selected",previousIcon:"Previous",msgFetchingData:"Fetching Data...",msgNoData:"No items to display."},"oj-ojSlider":{noValue:"ojSlider has no value",maxMin:"Max must not be less than min",valueRange:"Value must be within min to max range",optionNum:"{option} option is not a number",invalidStep:"Invalid step; step must be > 0"},"oj-ojPopup":{ariaLiveRegionInitialFocusFirstFocusable:"Entering pop-up. Press F6 to navigate between the pop-up and associated control.",ariaLiveRegionInitialFocusNone:"Pop-up opened. Press F6 to navigate between the pop-up and associated control.",ariaLiveRegionInitialFocusFirstFocusableTouch:"Entering pop-up. Pop-up can be closed by navigating to the last link within the pop-up.",ariaLiveRegionInitialFocusNoneTouch:"Pop-up opened.  Navigate to the next link to establish focus within the pop-up.",ariaFocusSkipLink:"Double tap to navigate to the open pop-up.",ariaCloseSkipLink:"Double tap to close the open pop-up."},"oj-pullToRefresh":{ariaRefreshLink:"Activate link to refresh content",ariaRefreshingLink:"Refreshing content",ariaRefreshCompleteLink:"Refresh complete"},"oj-ojIndexer":{indexerOthers:"#",ariaDisabledLabel:"No matching group header",ariaOthersLabel:"number",ariaInBetweenText:"Between {first} and {second}",ariaKeyboardInstructionText:"Press enter to select value.",ariaTouchInstructionText:"Double tap and hold to enter gesture mode, then drag up or down to adjust value."}},ro:1,"zh-Hant":1,sv:1,ko:1,th:1,"zh-Hans":1,sk:1,pl:1,nl:1,fi:1,he:1,de:1,es:1,el:1,hu:1,ru:1,it:1,da:1,tr:1,ja:1,"pt-PT":1,cs:1,fr:1,no:1,pt:1,"fr-CA":1,ar:1}),define("ojs/ojcore",["require","ojL10n!ojtranslations/nls/ojtranslations"],function(t,e){var i={};"undefined"!=typeof window?i=window:"undefined"!=typeof self&&(i=self);var n=i.oj,r=i.oj={version:"2.0.0",build:"1",revision:"23446",noConflict:function(){i.oj=n}};r.Logger={},r.Logger.LEVEL_NONE=0,r.Logger.LEVEL_ERROR=1,r.Logger.LEVEL_WARN=2,r.Logger.LEVEL_INFO=3,r.Logger.LEVEL_LOG=4,r.Logger._METHOD_ERROR="error",r.Logger._METHOD_WARN="warn",r.Logger._METHOD_INFO="info",r.Logger._METHOD_LOG="log",r.Logger._defaultOptions={level:r.Logger.LEVEL_ERROR,writer:null},r.Logger._options=r.Logger._defaultOptions,r.Logger.error=function(t){r.Logger._write(r.Logger.LEVEL_ERROR,r.Logger._METHOD_ERROR,arguments)},r.Logger.info=function(t){r.Logger._write(r.Logger.LEVEL_INFO,r.Logger._METHOD_INFO,arguments)},r.Logger.warn=function(t){r.Logger._write(r.Logger.LEVEL_WARN,r.Logger._METHOD_WARN,arguments)},r.Logger.log=function(t){r.Logger._write(r.Logger.LEVEL_LOG,r.Logger._METHOD_LOG,arguments)},r.Logger.option=function(t,e){var i,n={};if(0==arguments.length){for(i in r.Logger._options)r.Logger._options.hasOwnProperty(i)&&(n[i]=r.Logger._options[i]);return n}if("string"==typeof t&&void 0===e)return void 0===r.Logger._options[t]?null:r.Logger._options[t];if("string"==typeof t)r.Logger._options[t]=e;else{var o=t;for(i in o)o.hasOwnProperty(i)&&r.Logger.option(i,o[i])}},r.Logger._write=function(t,e,i){if(!(r.Logger.option("level")<t)){var n=r.Logger._getWriter();if(null!=n){if(1==i.length&&i[0]instanceof Function){var o=i[0]();i=[o]}n[e]&&n[e].apply?n[e].apply(n,i):n[e]&&(n[e]=Function.prototype.bind.call(n[e],n),r.Logger._write(t,e,i))}}},r.Logger._getWriter=function(){var t=null;return r.Logger.option("writer")?t=r.Logger.option("writer"):void 0!==window&&void 0!==window.console&&(t=window.console),t},r.Logger._validateOption=function(t){return void 0!==r.Logger._defaultOptions[t]};var o=i.__ojCheckpointManager;r.CHECKPOINT_MANAGER={},r.CHECKPOINT_MANAGER.startCheckpoint=function(t,e){o&&o.startCheckpoint(t,e)},r.CHECKPOINT_MANAGER.endCheckpoint=function(t){o&&o.endCheckpoint(t)},r.CHECKPOINT_MANAGER.getRecord=function(t){return o?o.getRecord(t):void 0},r.CHECKPOINT_MANAGER.matchRecords=function(t){return o?o.matchRecords(t):[]},r.CHECKPOINT_MANAGER.dump=function(t){r.Logger.info(function(){for(var e="Checkpoint Records:",i=r.CHECKPOINT_MANAGER.matchRecords(t),n=0;n<i.length;n++){var o=i[n];e=e+"\n"+o.name;var s=o.description;null!=s&&(e=e+" ("+s+")"),e+=":\n",e=e+"start: "+o.start+"	duration: "+o.duration}return e})},r.Object=function(){this.Init()},r.Object.superclass=null,r.Object._typeName="oj.Object",r.Object._GET_FUNCTION_NAME_REGEXP=/function\s+([\w\$][\w\$\d]*)\s*\(/,r.Object.prototype={},r.Object.prototype.constructor=r.Object,r.Object.exportPrototypeSymbol=function(t,e){var i,n=null,o=null;for(i in e)if(e.hasOwnProperty(i)){n=i,o=e[i];break}var s=t.split("."),a=r[s[0]],l=s[2];if(n!=l&&null!=n){var u=a._r2o;u||(u={},a._r2o=u),u[n]=l,goog.exportProperty(a.prototype,l,o)}},r.Object.createSubclass=function(t,e,i){r.Assert.assertFunction(t),r.Assert.assertFunctionOrNull(e),r.Assert.assertStringOrNull(i),void 0===e&&(e=r.Object),r.Assert.assert(t!==e,"Class can't extend itself");var n=r.Object._tempSubclassConstructor;n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.superclass=t.superclass=e.prototype,i&&(t._typeName=i)},r.Object.copyPropertiesForClass=function(t,e){var i;r.Assert.assertFunction(t),r.Assert.assert(null!=e,"source object cannot be null");for(i in e)e.hasOwnProperty(i)&&(t.prototype[i]=e[i])},r.Object._tempSubclassConstructor=function(){},r.Object.prototype.getClass=function(t){if(void 0===t)t=this;else if(null===t)return null;return t.constructor},r.Object.prototype.clone=function(){var t=new this.constructor;return r.CollectionUtils.copyInto(t,this),t},r.Object.prototype.toString=function(){return this.toDebugString()},r.Object.prototype.toDebugString=function(){return this.getTypeName()+" Object"},r.Object.getTypeName=function(t){r.Assert.assertFunction(t);var e,i,n=t._typeName;return null==n&&(e=t.toString(),i=r.Object._GET_FUNCTION_NAME_REGEXP.exec(e),n=i?i[1]:"anonymous",t._typeName=n),n},r.Object.prototype.getTypeName=function(){return r.Object.getTypeName(this.constructor)},r.Object.prototype.Init=function(){r.Assert.isDebug()&&r.Assert.assert(this.getTypeName,"Not an oj.Object");var t=this.constructor;t._initialized||r.Object._initClasses(t)},r.Object.ensureClassInitialization=function(t){r.Assert.assertFunction(t),t._initialized||r.Object._initClasses(t)},r.Object.prototype.equals=function(t){return this===t},r.Object.createCallback=function(t,e){return r.Assert.assertFunction(e),e.bind(t)},r.Object._initClasses=function(t){r.Assert.isDebug()&&(r.Assert.assertFunction(t),r.Assert.assert(!t._initialized)),t._initialized=!0;var e,i,n=t.superclass;n&&(e=n.constructor,e&&!e._initialized&&r.Object._initClasses(e),r.Object._applyRenamesToSubclass(t)),i=t.InitClass||null,i||(i=t.InitClass),i&&i.call(t)},r.Object.compareValues=function(t,e){if(t===e)return!0;var i=typeof t,n=typeof e;if(i!==n)return!1;if(null===t||null===e)return!1;if(t.constructor===e.constructor){if(Array.isArray(t))return r.Object._compareArrayValues(t,e);if(t.constructor===Object)return r.Object.__innerEquals(t,e);if(t.valueOf&&"function"==typeof t.valueOf)return t.valueOf()===e.valueOf()}return!1},r.Object._compareArrayValues=function(t,e){if(t.length!==e.length)return!1;for(var i=0,n=t.length;n>i;i++)if(!r.Object.compareValues(t[i],e[i]))return!1;return!0},r.Object._compareSet=function(t,e){if(!t)return!e||0==e.length;if(!e)return!t||0==t.length;if(t.length!=e.length)return!1;for(var i=0;i<t.length;i++)if(t[i]!=e[i]&&(-1==t.indexOf(e[i])||-1==e.indexOf(t[i])))return!1;return!0},r.Object.__innerEquals=function(t,e){var i,n=!1;if(t===e)return!0;if(!(t instanceof Object&&e instanceof Object))return!1;if(t.constructor!==e.constructor)return!1;for(i in t)if(n||(n=!0),t.hasOwnProperty(i)){if(!e.hasOwnProperty(i))return!1;if(t[i]!==e[i]){if("object"!=typeof t[i])return!1;if(!r.Object.__innerEquals(t[i],e[i]))return!1}}for(i in e)if(n||(n=!0),e.hasOwnProperty(i)&&!t.hasOwnProperty(i))return!1;return n?!0:JSON.stringify(t)===JSON.stringify(e)},r.Object.isEmpty=function(t){var e;if(void 0===t||null===t)return!0;for(e in t)if(t.hasOwnProperty(e))return!1;return!0},r.Object._applyRenamesToSubclass=function(t){if(r.Object._r2o){var e=t.superclass;r.Object._applyRenamesFromChain(t,e)}},r.Object._applyRenamesFromChain=function(t,e){if(e){var i=e.constructor;r.Object._applyRenamesFromChain(t,i.superclass);var n,o=i._r2o;if(o)for(n in o)if(o.hasOwnProperty(n)){var s=o[n];if(n!=s){var a=t.prototype;!a.hasOwnProperty(n)&&a.hasOwnProperty(s)?a[n]=a[s]:!a.hasOwnProperty(s)&&a.hasOwnProperty(n)&&(a[s]=a[n])}}}},r.__isAmdLoaderPresent=function(){return"function"==typeof define&&define.amd},r.Assert={};var s="DEBUG";r.Assert.forceDebug=function(){r.Assert[s]=!0},r.Assert.clearDebug=function(){r.Assert[s]=!1},r.Assert.isDebug=function(){return 1==r.Assert[s]},r.Assert.assert=function(t,e){if(r.Assert[s]&&!t){var i,n=e||"";if(arguments.length>2){for(n+="(",i=2;i<arguments.length;i+=1)n+=arguments[i];n+=")"}r.Assert.assertionFailed(n,1)}},r.Assert.failedInAbstractFunction=function(){r.Assert[s]&&r.Assert.assertionFailed("Abstract function called",1)},r.Assert.assertPrototype=function(t,e,i){var n;r.Assert[s]&&(null!=t?(r.Assert.assertType(e,"function",null,1,!1),n=e.prototype,n.isPrototypeOf(t)||r.Assert.assertionFailed("object '"+t+"' doesn't match prototype "+n,1,i)):r.Assert.assertionFailed("null object doesn't match prototype "+n,1,i))},r.Assert.assertPrototypeOrNull=function(t,e,i){var n;r.Assert[s]&&null!=t&&(null!=t?(r.Assert.assertType(e,"function",null,1,!1),n=e.prototype,n.isPrototypeOf(t)||r.Assert.assertionFailed("object '"+t+"' doesn't match prototype "+n,1,i)):r.Assert.assertionFailed("null object doesn't match prototype "+n,1,i))},r.Assert.assertPrototypes=function(t,e,i,n){if(r.Assert[s]){var o=e.prototype,a=i.prototype;o.isPrototypeOf(t)||a.isPrototypeOf(t)||r.Assert.assertionFailed("object '"+t+"' doesn't match prototype "+o+" or "+a,1,n)}},r.Assert.assertDomNodeOrNull=function(t,e){r.Assert[s]&&t&&void 0===t.nodeType&&r.Assert.assertionFailed(t+" is not a DOM Node",e+1)},r.Assert.assertDomNode=function(t,e){r.Assert[s]&&(t&&void 0!==t.nodeType||r.Assert.assertionFailed(t+" is not a DOM Node",e+1))},r.Assert.assertDomElement=function(t,e){r.Assert[s]&&(r.Assert.assertDomNode(t,1),1!==t.nodeType?r.Assert.assertionFailed(t+" is not a DOM Element",1):e&&t.nodeName!==e&&r.Assert.assertionFailed(t+" is not a "+e+" Element",1))},r.Assert.assertDomElementOrNull=function(t,e){r.Assert[s]&&null!=t&&(r.Assert.assertDomNode(t,1),1!==t.nodeType?r.Assert.assertionFailed(t+" is not a DOM Element",1):e&&t.nodeName!==e&&r.Assert.assertionFailed(t+" is not a "+e+" Element",1))},r.Assert.assertType=function(t,e,i,n,o){if(r.Assert[s]){var a,l=typeof t;null==t&&o||l===e||(a=t+" is not of type "+e,i&&(a=i+a),n||(n=0),r.Assert.assertionFailed(a,n+1))}},r.Assert.assertObject=function(t,e){r.Assert[s]&&r.Assert.assertType(t,"object",e,1,!1)},r.Assert.assertObjectOrNull=function(t,e){r.Assert[s]&&r.Assert.assertType(t,"object",e,1,!0)},r.Assert.assertNonEmptyString=function(t,e){r.Assert[s]&&(r.Assert.assertType(t,"string",e,1,!1),r.Assert.assert(t.length>0,"empty string"))},r.Assert.assertString=function(t,e){r.Assert[s]&&r.Assert.assertType(t,"string",e,1,!1)},r.Assert.assertStringOrNull=function(t,e){r.Assert[s]&&r.Assert.assertType(t,"string",e,1,!0)},r.Assert.assertFunction=function(t,e){r.Assert[s]&&r.Assert.assertType(t,"function",e,1,!1)},r.Assert.assertFunctionOrNull=function(t,e){r.Assert[s]&&r.Assert.assertType(t,"function",e,1,!0)},r.Assert.assertBoolean=function(t,e){r.Assert[s]&&r.Assert.assertType(t,"boolean",e,1,!1)},r.Assert.assertNumber=function(t,e){r.Assert[s]&&r.Assert.assertType(t,"number",e,1,!1)},r.Assert.assertNumberOrNull=function(t,e){r.Assert[s]&&r.Assert.assertType(t,"number",e,1,!0)},r.Assert.assertArray=function(t,e){r.Assert[s]&&(Array.isArray(t)||(void 0===e&&(e=t+" is not an array"),r.Assert.assertionFailed(e,1)))},r.Assert.assertArrayOrNull=function(t,e){r.Assert[s]&&null!=t&&(Array.isArray(t)||(void 0===e&&(e=t+" is not an array"),r.Assert.assertionFailed(e,1)))},r.Assert.assertNonNumeric=function(t,e){r.Assert[s]&&(isNaN(t)||(void 0===e&&(e=t+" is convertible to a number"),r.Assert.assertionFailed(e,1)))},r.Assert.assertNumeric=function(t,e){r.Assert[s]&&isNaN(t)&&(void 0===e&&(e=t+" is not convertible to a number"),r.Assert.assertionFailed(e,1))},r.Assert.assertInSet=function(t,e,i){var n,o;if(null==t||void 0===e[t.toString()]){if(void 0===i){n=" is not in set: {";for(o in e)e.hasOwnProperty(o)&&(n+=o,n+=",");n+="}",i=t+n}r.Assert.assertionFailed(i,1)}},r.Assert.assertionFailed=function(t,e,i){e||(e=0);var n,r="Assertion";throw i&&(r+=" ("+i+")"),r+=" failed: ",void 0!==t&&(r+=t),n=new Error(r)};var a=i.__oj_Assert_DEBUG;return void 0!==a&&(r.Assert[s]=a),r.EventSource=function(){this.Init()},r.Object.createSubclass(r.EventSource,r.Object,"oj.EventSource"),r.EventSource.prototype.Init=function(){this._eventHandlers=[],r.EventSource.superclass.Init.call(this)},r.EventSource.prototype.on=function(t,e){var i,n=!1;for(i=0;i<this._eventHandlers.length;i++)if(this._eventHandlers[i].eventType==t&&this._eventHandlers[i].eventHandlerFunc==e){n=!0;break}n||this._eventHandlers.push({eventType:t,eventHandlerFunc:e})},r.EventSource.prototype.off=function(t,e){var i;for(i=this._eventHandlers.length-1;i>=0;i--)if(this._eventHandlers[i].eventType==t&&this._eventHandlers[i].eventHandlerFunc==e){this._eventHandlers.splice(i,1);break}},r.EventSource.prototype.handleEvent=function(t,e){var i,n;for(i=0;i<this._eventHandlers.length;i++){var r=this._eventHandlers[i];if(r.eventType==t&&(n=r.eventHandlerFunc.apply(this,Array.prototype.slice.call(arguments).slice(1)),n===!1))return!1}return!0},r.Config={},r.Config.getLocale=function(){var t,i;return r.__isAmdLoaderPresent()?(r.Assert.assert(void 0!==e,"ojtranslations module must be defined"),t=e._ojLocale_,"root"==t?"en":t):(i=r.Config._locale,null==i&&(i=document.documentElement.lang,i||(i=void 0===navigator?"en":(navigator.language||navigator.userLanguage||"en").toLowerCase()),r.Config._locale=i=i.toLowerCase()),i)},r.Config.setLocale=function(i,n){if(r.__isAmdLoaderPresent()){var o="ojL10n!ojtranslations/nls/",s=[o+i+"/ojtranslations"];r.LocaleData&&s.push(o+i+"/localeElements"),t(s,function(t,i){e=t,i&&r.LocaleData.__updateBundle(i),n&&n()})}else r.Config._locale=i,n&&n()},r.Config.getResourceUrl=function(e){var i,n,o=/^\/|:/;return null==e||o.test(e)?e:(i=r.Config._resourceBaseUrl,i?i+("/"==i.charAt(i.length-1)?"":"/")+e:r.__isAmdLoaderPresent()?(n=t.toUrl("ojs/_foo_"),n.replace(/[^\/]*$/,"../"+e)):e)},r.Config.setResourceBaseUrl=function(t){r.Config._resourceBaseUrl=t},r.Config.setAutomationMode=function(t){r.Config._automationMode=t},r.Config.getAutomationMode=function(){return r.Config._automationMode},r.Config.getVersionInfo=function(){var t="Oracle JET Version: "+r.version+"\n";return t+="Oracle JET Revision: "+r.revision+"\n",window.navigator&&(t+="Browser: "+window.navigator.userAgent+"\n",t+="Browser Platform: "+window.navigator.platform+"\n"),$&&($.fn&&(t+="jQuery Version: "+$.fn.jquery+"\n"),$.ui&&$.ui.version&&(t+="jQuery UI Version: "+$.ui.version+"\n")),r.ComponentBinding&&(t+="Knockout Version: "+r.ComponentBinding.__getKnockoutVersion()+"\n"),window.require&&(t+="Require Version: "+window.require.version+"\n"),t},r.Config.logVersionInfo=function(){console.log(r.Config.getVersionInfo())},r.AgentUtils=function(){},r.AgentUtils.BROWSER={IE:"ie",FIREFOX:"firefox",SAFARI:"safari",CHROME:"chrome",UNKNOWN:"unknown"},r.AgentUtils.ENGINE={TRIDENT:"trident",WEBKIT:"webkit",GECKO:"gecko",UNKNOWN:"unknown"},r.AgentUtils.OS={WINDOWS:"Windows",SOLARIS:"Solaris",MAC:"Mac",UNKNOWN:"Unknown",ANDROID:"Android",IOS:"IOS",LINUX:"Linux"},r.AgentUtils.getAgentInfo=function(t){r.StringUtils.isEmptyOrUndefined(t)&&(t=navigator.userAgent),t=t.toLowerCase();var e=r.StringUtils.hashCode(t),i=r.AgentUtils._currAgentInfo;if(i&&i.hashCode===e)return{os:i.os,browser:i.browser,browserVersion:i.browserVersion,engine:i.engine,engineVersion:i.engineVersion,hashCode:i.hashCode};var n=r.AgentUtils.OS.UNKNOWN,o=r.AgentUtils.BROWSER.UNKNOWN,s=0,a=r.AgentUtils.ENGINE.UNKNOWN,l=0;return t.indexOf("iphone")>-1||t.indexOf("ipad")>-1?n=r.AgentUtils.OS.IOS:t.indexOf("mac")>-1?n=r.AgentUtils.OS.MAC:t.indexOf("sunos")>-1?n=r.AgentUtils.OS.SOLARIS:t.indexOf("android")>-1?n=r.AgentUtils.OS.ANDROID:t.indexOf("linux")>-1?n=r.AgentUtils.OS.LINUX:t.indexOf("win")>-1&&(n=r.AgentUtils.OS.WINDOWS),t.indexOf("msie")>-1?(o=r.AgentUtils.BROWSER.IE,s=r.AgentUtils._parseFloatVersion(t,/msie (\d+[.]\d+)/),t.indexOf("trident")&&(a=r.AgentUtils.ENGINE.TRIDENT,l=r.AgentUtils._parseFloatVersion(t,/trident\/(\d+[.]\d+)/))):t.indexOf("trident")>-1?(o=r.AgentUtils.BROWSER.IE,s=r.AgentUtils._parseFloatVersion(t,/rv:(\d+[.]\d+)/),t.indexOf("trident")&&(a=r.AgentUtils.ENGINE.TRIDENT,l=r.AgentUtils._parseFloatVersion(t,/trident\/(\d+[.]\d+)/))):t.indexOf("chrome")>-1?(o=r.AgentUtils.BROWSER.CHROME,s=r.AgentUtils._parseFloatVersion(t,/chrome\/(\d+[.]\d+)/),a=r.AgentUtils.ENGINE.WEBKIT,l=r.AgentUtils._parseFloatVersion(t,/applewebkit\/(\d+[.]\d+)/)):t.indexOf("safari")>-1?(o=r.AgentUtils.BROWSER.SAFARI,s=r.AgentUtils._parseFloatVersion(t,/version\/(\d+[.]\d+)/),a=r.AgentUtils.ENGINE.WEBKIT,l=r.AgentUtils._parseFloatVersion(t,/applewebkit\/(\d+[.]\d+)/)):t.indexOf("firefox")>-1&&(o=r.AgentUtils.BROWSER.FIREFOX,s=r.AgentUtils._parseFloatVersion(t,/rv:(\d+[.]\d+)/),a=r.AgentUtils.ENGINE.GECKO,l=r.AgentUtils._parseFloatVersion(t,/gecko\/(\d+)/)),i=r.AgentUtils._currAgentInfo={hashCode:e,os:n,browser:o,browserVersion:s,engine:a,engineVersion:l},{os:i.os,browser:i.browser,browserVersion:i.browserVersion,engine:i.engine,engineVersion:i.engineVersion,hashCode:i.hashCode}},r.AgentUtils._parseFloatVersion=function(t,e){var i=t.match(e);if(i){var n=i[1];if(n)return parseFloat(n)}return 0},r.ThemeUtils={},r.ThemeUtils.parseJSONFromFontFamily=function(t){var e=document.getElementsByClassName(t).item(0);
null===e&&(e=document.createElement("meta"),e.className=t,document.head.appendChild(e));var i=window.getComputedStyle(e);if(i){var n=i.getPropertyValue("font-family");if(n&&"none"!=n&&(n=n.replace(/^['"]+|\s+|\\|(;\s?})+|['"]$/g,""))){try{n=JSON.parse(n)}catch(o){return r.Logger.error("Error parsing json for selector "+t+".\nString being parsed is "+n+"\n"+o),null}return n}}return r.Logger.info("No json found for selector "+t),null},r.ThemeUtils.getOptionDefaultMap=function(t){t=t.toLowerCase(),null==r.ThemeUtils.optionDefaults&&(r.ThemeUtils.optionDefaults={});var e=r.ThemeUtils.optionDefaults[t];if(null==e){var i="oj-"+t+"-option-defaults";e=r.ThemeUtils.parseJSONFromFontFamily(i),null==e&&(e={}),r.ThemeUtils.optionDefaults[t]=e}return e},r.ResponsiveUtils={},r.ResponsiveUtils.SCREEN_RANGE={SM:"sm",MD:"md",LG:"lg",XL:"xl",XXL:"xxl"},r.ResponsiveUtils.FRAMEWORK_QUERY_KEY={SM_UP:"sm-up",MD_UP:"md-up",LG_UP:"lg-up",XL_UP:"xl-up",XXL_UP:"xxl-up",SM_ONLY:"sm-only",MD_ONLY:"md-only",LG_ONLY:"lg-only",XL_ONLY:"xl-only",MD_DOWN:"md-down",LG_DOWN:"lg-down",XL_DOWN:"xl-down",HIGH_RESOLUTION:"high-resolution"},r.ResponsiveUtils._RANGE={},r.ResponsiveUtils._RANGE[r.ResponsiveUtils.SCREEN_RANGE.SM]=0,r.ResponsiveUtils._RANGE[r.ResponsiveUtils.SCREEN_RANGE.MD]=1,r.ResponsiveUtils._RANGE[r.ResponsiveUtils.SCREEN_RANGE.LG]=2,r.ResponsiveUtils._RANGE[r.ResponsiveUtils.SCREEN_RANGE.XL]=3,r.ResponsiveUtils._RANGE[r.ResponsiveUtils.SCREEN_RANGE.XXL]=4,r.ResponsiveUtils._getMediaQueryFromClass=function(t){var e=document.getElementsByClassName(t).item(0);null===e&&(e=document.createElement("meta"),e.className=t,document.head.appendChild(e));var i=window.getComputedStyle(e).getPropertyValue("font-family");return i.replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,"")},r.ResponsiveUtils.getFrameworkQuery=function(t){var e="oj-mq-"+t,i=r.ResponsiveUtils._getMediaQueryFromClass(e);return"null"==i?null:i},r.ResponsiveUtils.compare=function(t,e){var i=r.ResponsiveUtils._RANGE[t],n=r.ResponsiveUtils._RANGE[e];if(void 0==i)throw"size1 param "+t+" illegal, please use one of the screen size constants like oj.ResponsiveUtils.SCREEN_RANGE.MD";if(void 0==n)throw"size2 param "+e+" illegal, please use one of the screen size constants like oj.ResponsiveUtils.SCREEN_RANGE.MD";return i-n},r.StringUtils={},r.StringUtils._TRIM_ALL_RE=/^\s*|\s*$/g,r.StringUtils.isEmpty=function(t){if(null===t)return!0;var e=r.StringUtils.trim(t);return 0===e.length},r.StringUtils.isEmptyOrUndefined=function(t){return!(void 0!==t&&!r.StringUtils.isEmpty(t))},r.StringUtils.isString=function(t){return null!==t&&("string"==typeof t||t instanceof String)},r.StringUtils.trim=function(t){return r.StringUtils.isString(t)?t.replace(r.StringUtils._TRIM_ALL_RE,""):t},r.StringUtils.hashCode=function(t){var e=0;if(0===t.length)return e;for(var i=0;i<t.length;i++){var n=t.charCodeAt(i);e=(e<<5)-e+n,e&=e}return e},r.CollectionUtils={},r.CollectionUtils.copyInto=function(t,e,i,n,o){return r.CollectionUtils._copyIntoImpl(t,e,i,n,o,0)},r.CollectionUtils.isPlainObject=function(t){if("object"==typeof t)try{if(t.constructor&&t.constructor.prototype.hasOwnProperty("isPrototypeOf"))return!0}catch(e){}return!1},r.CollectionUtils._copyIntoImpl=function(t,e,i,n,o,s){var a,l,u;if(t&&e&&t!==e){u=Object.keys(e);for(var h=0;h<u.length;h++){a=u[h],l=i?i(a):a;var c=e[a],p=!1;if(n&&o>s){var d=t[l];r.CollectionUtils.isPlainObject(d)&&r.CollectionUtils.isPlainObject(c)&&(p=!0,r.CollectionUtils._copyIntoImpl(d,c,i,!0,o,s+1))}p||(t[l]=c)}}return t},r.Translations={},r.Translations.setBundle=function(t){r.Translations._bundle=t},r.Translations.getResource=function(t){return r.Translations._getResourceString(t)},r.Translations.applyParameters=function(t,e){return null==t?null:r.Translations._format(t,e)},r.Translations.getTranslatedString=function(t,e){var i=r.Translations._getResourceString(t);if(null==i)return t;var n={};return arguments.length>2?n=Array.prototype.slice.call(arguments,1):2==arguments.length&&(n=arguments[1],"object"==typeof n||n instanceof Array||(n=[n])),r.Translations.applyParameters(i,n)},r.Translations.getComponentTranslations=function(t){var e,i,n=r.Translations._getBundle()[t];if(null==n)return{};e={};for(i in n)n.hasOwnProperty(i)&&(e[i]=n[i]);return e},r.Translations._getResourceString=function(t){var e=t?t.split("."):[],i=r.Translations._getBundle(),n=e.length,o=0,s=e[o];for(r.Assert.assertObject(i);--n>0&&i;)i=i[s],o++,s=e[o];return i?i[s]||null:null},r.Translations._format=function(t,e){var i,n,r=t.length,o=[],s=null,a=!1,l=!1,u=!1,h=!1;for(n=0;r>n;n++){var c=t.charAt(n),p=!1;if(a)p=!0,a=!1;else switch(c){case"$":a=!0;break;case"{":h||(l||(i=!1,s=[]),l=!0);break;case"}":if(l&&s.length>0){var d=e[s.join("")];o.push(void 0===d?"null":d)}l=!1;break;case"[":l||(u?h=!0:u=!0);break;case"]":h?h=!1:u=!1;break;default:p=!0}p&&(l?","==c||" "==c?i=!0:i||s.push(c):h||o.push(c))}return o.join("")},r.Translations._getBundle=function(){var t=r.Translations._bundle;return t?t:r.__isAmdLoaderPresent()?(r.Assert.assert(void 0!==e,"ojtranslations module must be defined"),e):{}},r}),function(){!function(t){var e=this||(0,eval)("this"),i=e.document,n=e.navigator,r=e.jQuery,o=e.JSON;!function(t){"function"==typeof define&&define.amd?define("knockout",["exports","require"],t):t("object"==typeof exports&&"object"==typeof module?module.exports||exports:e.ko={})}(function(s,a){function l(t,e){return null===t||typeof t in _?t===e:!1}function u(e,i){var n;return function(){n||(n=f.a.setTimeout(function(){n=t,e()},i))}}function h(t,e){var i;return function(){clearTimeout(i),i=f.a.setTimeout(t,e)}}function c(t,e){e&&e!==v?"beforeChange"===e?this.Kb(t):this.Ha(t,e):this.Lb(t)}function p(t,e){null!==e&&e.k&&e.k()}function d(t,e){var i=this.Hc,n=i[T];n.R||(this.lb&&this.Ma[e]?(i.Pb(e,t,this.Ma[e]),this.Ma[e]=null,--this.lb):n.r[e]||i.Pb(e,t,n.s?{ia:t}:i.uc(t)))}function g(t,e,i,n){f.d[t]={init:function(t,r,o,s,a){var l,u;return f.m(function(){var o=f.a.c(r()),s=!i!=!o,h=!u;(h||e||s!==l)&&(h&&f.va.Aa()&&(u=f.a.ua(f.f.childNodes(t),!0)),s?(h||f.f.da(t,f.a.ua(u)),f.eb(n?n(a,o):a,t)):f.f.xa(t),l=s)},null,{i:t}),{controlsDescendantBindings:!0}}},f.h.ta[t]=!1,f.f.Z[t]=!0}var f="undefined"!=typeof s?s:{};f.b=function(t,e){for(var i=t.split("."),n=f,r=0;r<i.length-1;r++)n=n[i[r]];n[i[i.length-1]]=e},f.G=function(t,e,i){t[e]=i},f.version="3.4.0",f.b("version",f.version),f.options={deferUpdates:!1,useOnlyNativeEvents:!1},f.a=function(){function s(t,e){for(var i in t)t.hasOwnProperty(i)&&e(i,t[i])}function a(t,e){if(e)for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function l(t,e){return t.__proto__=e,t}function u(t,e,i,n){var r=t[e].match(v)||[];f.a.q(i.match(v),function(t){f.a.pa(r,t,n)}),t[e]=r.join(" ")}var h={__proto__:[]}instanceof Array,c="function"==typeof Symbol,p={},d={};p[n&&/Firefox\/2/i.test(n.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"],p.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" "),s(p,function(t,e){if(e.length)for(var i=0,n=e.length;n>i;i++)d[e[i]]=t});var g={propertychange:!0},_=i&&function(){for(var e=3,n=i.createElement("div"),r=n.getElementsByTagName("i");n.innerHTML="<!--[if gt IE "+ ++e+"]><i></i><![endif]-->",r[0];);return e>4?e:t}(),v=/\S+/g;return{cc:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],q:function(t,e){for(var i=0,n=t.length;n>i;i++)e(t[i],i)},o:function(t,e){if("function"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(t,e);for(var i=0,n=t.length;n>i;i++)if(t[i]===e)return i;return-1},Sb:function(t,e,i){for(var n=0,r=t.length;r>n;n++)if(e.call(i,t[n],n))return t[n];return null},La:function(t,e){var i=f.a.o(t,e);i>0?t.splice(i,1):0===i&&t.shift()},Tb:function(t){t=t||[];for(var e=[],i=0,n=t.length;n>i;i++)0>f.a.o(e,t[i])&&e.push(t[i]);return e},fb:function(t,e){t=t||[];for(var i=[],n=0,r=t.length;r>n;n++)i.push(e(t[n],n));return i},Ka:function(t,e){t=t||[];for(var i=[],n=0,r=t.length;r>n;n++)e(t[n],n)&&i.push(t[n]);return i},ra:function(t,e){if(e instanceof Array)t.push.apply(t,e);else for(var i=0,n=e.length;n>i;i++)t.push(e[i]);return t},pa:function(t,e,i){var n=f.a.o(f.a.zb(t),e);0>n?i&&t.push(e):i||t.splice(n,1)},ka:h,extend:a,Xa:l,Ya:h?l:a,D:s,Ca:function(t,e){if(!t)return t;var i,n={};for(i in t)t.hasOwnProperty(i)&&(n[i]=e(t[i],i,t));return n},ob:function(t){for(;t.firstChild;)f.removeNode(t.firstChild)},jc:function(t){t=f.a.V(t);for(var e=(t[0]&&t[0].ownerDocument||i).createElement("div"),n=0,r=t.length;r>n;n++)e.appendChild(f.$(t[n]));return e},ua:function(t,e){for(var i=0,n=t.length,r=[];n>i;i++){var o=t[i].cloneNode(!0);r.push(e?f.$(o):o)}return r},da:function(t,e){if(f.a.ob(t),e)for(var i=0,n=e.length;n>i;i++)t.appendChild(e[i])},qc:function(t,e){var i=t.nodeType?[t]:t;if(0<i.length){for(var n=i[0],r=n.parentNode,o=0,s=e.length;s>o;o++)r.insertBefore(e[o],n);for(o=0,s=i.length;s>o;o++)f.removeNode(i[o])}},za:function(t,e){if(t.length){for(e=8===e.nodeType&&e.parentNode||e;t.length&&t[0].parentNode!==e;)t.splice(0,1);for(;1<t.length&&t[t.length-1].parentNode!==e;)t.length--;if(1<t.length){var i=t[0],n=t[t.length-1];for(t.length=0;i!==n;)t.push(i),i=i.nextSibling;t.push(n)}}return t},sc:function(t,e){7>_?t.setAttribute("selected",e):t.selected=e},$a:function(e){return null===e||e===t?"":e.trim?e.trim():e.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},nd:function(t,e){return t=t||"",e.length>t.length?!1:t.substring(0,e.length)===e},Mc:function(t,e){if(t===e)return!0;if(11===t.nodeType)return!1;if(e.contains)return e.contains(3===t.nodeType?t.parentNode:t);if(e.compareDocumentPosition)return 16==(16&e.compareDocumentPosition(t));for(;t&&t!=e;)t=t.parentNode;return!!t},nb:function(t){return f.a.Mc(t,t.ownerDocument.documentElement)},Qb:function(t){return!!f.a.Sb(t,f.a.nb)},A:function(t){return t&&t.tagName&&t.tagName.toLowerCase()},Wb:function(t){return f.onError?function(){try{return t.apply(this,arguments)}catch(e){throw f.onError&&f.onError(e),e}}:t},setTimeout:function(t,e){return setTimeout(f.a.Wb(t),e)},$b:function(t){setTimeout(function(){throw f.onError&&f.onError(t),t},0)},p:function(t,e,i){var n=f.a.Wb(i);if(i=_&&g[e],f.options.useOnlyNativeEvents||i||!r)if(i||"function"!=typeof t.addEventListener){if("undefined"==typeof t.attachEvent)throw Error("Browser doesn't support addEventListener or attachEvent");var o=function(e){n.call(t,e)},s="on"+e;t.attachEvent(s,o),f.a.F.oa(t,function(){t.detachEvent(s,o)})}else t.addEventListener(e,n,!1);else r(t).bind(e,n)},Da:function(t,n){if(!t||!t.nodeType)throw Error("element must be a DOM node when calling triggerEvent");var o;if("input"===f.a.A(t)&&t.type&&"click"==n.toLowerCase()?(o=t.type,o="checkbox"==o||"radio"==o):o=!1,f.options.useOnlyNativeEvents||!r||o)if("function"==typeof i.createEvent){if("function"!=typeof t.dispatchEvent)throw Error("The supplied element doesn't support dispatchEvent");o=i.createEvent(d[n]||"HTMLEvents"),o.initEvent(n,!0,!0,e,0,0,0,0,0,!1,!1,!1,!1,0,t),t.dispatchEvent(o)}else if(o&&t.click)t.click();else{if("undefined"==typeof t.fireEvent)throw Error("Browser doesn't support triggering events");t.fireEvent("on"+n)}else r(t).trigger(n)},c:function(t){return f.H(t)?t():t},zb:function(t){return f.H(t)?t.t():t},bb:function(t,e,i){var n;e&&("object"==typeof t.classList?(n=t.classList[i?"add":"remove"],f.a.q(e.match(v),function(e){n.call(t.classList,e)})):"string"==typeof t.className.baseVal?u(t.className,"baseVal",e,i):u(t,"className",e,i))},Za:function(e,i){var n=f.a.c(i);null!==n&&n!==t||(n="");var r=f.f.firstChild(e);!r||3!=r.nodeType||f.f.nextSibling(r)?f.f.da(e,[e.ownerDocument.createTextNode(n)]):r.data=n,f.a.Rc(e)},rc:function(t,e){if(t.name=e,7>=_)try{t.mergeAttributes(i.createElement("<input name='"+t.name+"'/>"),!1)}catch(n){}},Rc:function(t){_>=9&&(t=1==t.nodeType?t:t.parentNode,t.style&&(t.style.zoom=t.style.zoom))},Nc:function(t){if(_){var e=t.style.width;t.style.width=0,t.style.width=e}},hd:function(t,e){t=f.a.c(t),e=f.a.c(e);for(var i=[],n=t;e>=n;n++)i.push(n);return i},V:function(t){for(var e=[],i=0,n=t.length;n>i;i++)e.push(t[i]);return e},Yb:function(t){return c?Symbol(t):t},rd:6===_,sd:7===_,C:_,ec:function(t,e){for(var i=f.a.V(t.getElementsByTagName("input")).concat(f.a.V(t.getElementsByTagName("textarea"))),n="string"==typeof e?function(t){return t.name===e}:function(t){return e.test(t.name)},r=[],o=i.length-1;o>=0;o--)n(i[o])&&r.push(i[o]);return r},ed:function(t){return"string"==typeof t&&(t=f.a.$a(t))?o&&o.parse?o.parse(t):new Function("return "+t)():null},Eb:function(t,e,i){if(!o||!o.stringify)throw Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");return o.stringify(f.a.c(t),e,i)},fd:function(t,e,n){n=n||{};var r=n.params||{},o=n.includeFields||this.cc,a=t;if("object"==typeof t&&"form"===f.a.A(t))for(var a=t.action,l=o.length-1;l>=0;l--)for(var u=f.a.ec(t,o[l]),h=u.length-1;h>=0;h--)r[u[h].name]=u[h].value;e=f.a.c(e);var c=i.createElement("form");c.style.display="none",c.action=a,c.method="post";for(var p in e)t=i.createElement("input"),t.type="hidden",t.name=p,t.value=f.a.Eb(f.a.c(e[p])),c.appendChild(t);s(r,function(t,e){var n=i.createElement("input");n.type="hidden",n.name=t,n.value=e,c.appendChild(n)}),i.body.appendChild(c),n.submitter?n.submitter(c):c.submit(),setTimeout(function(){c.parentNode.removeChild(c)},0)}}}(),f.b("utils",f.a),f.b("utils.arrayForEach",f.a.q),f.b("utils.arrayFirst",f.a.Sb),f.b("utils.arrayFilter",f.a.Ka),f.b("utils.arrayGetDistinctValues",f.a.Tb),f.b("utils.arrayIndexOf",f.a.o),f.b("utils.arrayMap",f.a.fb),f.b("utils.arrayPushAll",f.a.ra),f.b("utils.arrayRemoveItem",f.a.La),f.b("utils.extend",f.a.extend),f.b("utils.fieldsIncludedWithJsonPost",f.a.cc),f.b("utils.getFormFields",f.a.ec),f.b("utils.peekObservable",f.a.zb),f.b("utils.postJson",f.a.fd),f.b("utils.parseJson",f.a.ed),f.b("utils.registerEventHandler",f.a.p),f.b("utils.stringifyJson",f.a.Eb),f.b("utils.range",f.a.hd),f.b("utils.toggleDomNodeCssClass",f.a.bb),f.b("utils.triggerEvent",f.a.Da),f.b("utils.unwrapObservable",f.a.c),f.b("utils.objectForEach",f.a.D),f.b("utils.addOrRemoveItem",f.a.pa),f.b("utils.setTextContent",f.a.Za),f.b("unwrap",f.a.c),Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;if(1===arguments.length)return function(){return e.apply(t,arguments)};var i=Array.prototype.slice.call(arguments,1);return function(){var n=i.slice(0);return n.push.apply(n,arguments),e.apply(t,n)}}),f.a.e=new function(){function e(e,o){var s=e[n];if(!s||"null"===s||!r[s]){if(!o)return t;s=e[n]="ko"+i++,r[s]={}}return r[s]}var i=0,n="__ko__"+(new Date).getTime(),r={};return{get:function(i,n){var r=e(i,!1);return r===t?t:r[n]},set:function(i,n,r){r===t&&e(i,!1)===t||(e(i,!0)[n]=r)},clear:function(t){var e=t[n];return e?(delete r[e],t[n]=null,!0):!1},I:function(){return i++ +n}}},f.b("utils.domData",f.a.e),f.b("utils.domData.clear",f.a.e.clear),f.a.F=new function(){function e(e,i){var r=f.a.e.get(e,n);return r===t&&i&&(r=[],f.a.e.set(e,n,r)),r}function i(t){var n=e(t,!1);if(n)for(var n=n.slice(0),r=0;r<n.length;r++)n[r](t);if(f.a.e.clear(t),f.a.F.cleanExternalData(t),s[t.nodeType])for(n=t.firstChild;t=n;)n=t.nextSibling,8===t.nodeType&&i(t)}var n=f.a.e.I(),o={1:!0,8:!0,9:!0},s={1:!0,9:!0};return{oa:function(t,i){if("function"!=typeof i)throw Error("Callback must be a function");e(t,!0).push(i)},pc:function(i,r){var o=e(i,!1);o&&(f.a.La(o,r),0==o.length&&f.a.e.set(i,n,t))},$:function(t){if(o[t.nodeType]&&(i(t),s[t.nodeType])){var e=[];f.a.ra(e,t.getElementsByTagName("*"));for(var n=0,r=e.length;r>n;n++)i(e[n])}return t},removeNode:function(t){f.$(t),t.parentNode&&t.parentNode.removeChild(t)},cleanExternalData:function(t){r&&"function"==typeof r.cleanData&&r.cleanData([t])}}},f.$=f.a.F.$,f.removeNode=f.a.F.removeNode,f.b("cleanNode",f.$),f.b("removeNode",f.removeNode),f.b("utils.domNodeDisposal",f.a.F),f.b("utils.domNodeDisposal.addDisposeCallback",f.a.F.oa),f.b("utils.domNodeDisposal.removeDisposeCallback",f.a.F.pc),function(){var n=[0,"",""],o=[1,"<table>","</table>"],s=[3,"<table><tbody><tr>","</tr></tbody></table>"],a=[1,"<select multiple='multiple'>","</select>"],l={thead:o,tbody:o,tfoot:o,tr:[2,"<table><tbody>","</tbody></table>"],td:s,th:s,option:a,optgroup:a},u=8>=f.a.C;f.a.ma=function(t,o){var s;if(r){if(r.parseHTML)s=r.parseHTML(t,o)||[];else if((s=r.clean([t],o))&&s[0]){for(var a=s[0];a.parentNode&&11!==a.parentNode.nodeType;)a=a.parentNode;a.parentNode&&a.parentNode.removeChild(a)}}else{(s=o)||(s=i);var h,a=s.parentWindow||s.defaultView||e,c=f.a.$a(t).toLowerCase(),p=s.createElement("div");for(h=(c=c.match(/^<([a-z]+)[ >]/))&&l[c[1]]||n,c=h[0],h="ignored<div>"+h[1]+t+h[2]+"</div>","function"==typeof a.innerShiv?p.appendChild(a.innerShiv(h)):(u&&s.appendChild(p),p.innerHTML=h,u&&p.parentNode.removeChild(p));c--;)p=p.lastChild;s=f.a.V(p.lastChild.childNodes)}return s},f.a.Cb=function(e,i){if(f.a.ob(e),i=f.a.c(i),null!==i&&i!==t)if("string"!=typeof i&&(i=i.toString()),r)r(e).html(i);else for(var n=f.a.ma(i,e.ownerDocument),o=0;o<n.length;o++)e.appendChild(n[o])}}(),f.b("utils.parseHtmlFragment",f.a.ma),f.b("utils.setHtml",f.a.Cb),f.M=function(){function e(t,i){if(t)if(8==t.nodeType){var n=f.M.lc(t.nodeValue);null!=n&&i.push({Lc:t,cd:n})}else if(1==t.nodeType)for(var n=0,r=t.childNodes,o=r.length;o>n;n++)e(r[n],i)}var i={};return{wb:function(t){if("function"!=typeof t)throw Error("You can only pass a function to ko.memoization.memoize()");var e=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|0).toString(16).substring(1);return i[e]=t,"<!--[ko_memo:"+e+"]-->"},xc:function(e,n){var r=i[e];if(r===t)throw Error("Couldn't find any memo with ID "+e+". Perhaps it's already been unmemoized.");try{return r.apply(null,n||[]),!0}finally{delete i[e]}},yc:function(t,i){var n=[];e(t,n);for(var r=0,o=n.length;o>r;r++){var s=n[r].Lc,a=[s];i&&f.a.ra(a,i),f.M.xc(n[r].cd,a),s.nodeValue="",s.parentNode&&s.parentNode.removeChild(s)}},lc:function(t){return(t=t.match(/^\[ko_memo\:(.*?)\]$/))?t[1]:null}}}(),f.b("memoization",f.M),f.b("memoization.memoize",f.M.wb),f.b("memoization.unmemoize",f.M.xc),f.b("memoization.parseMemoText",f.M.lc),f.b("memoization.unmemoizeDomNodeAndDescendants",f.M.yc),f.Y=function(){function t(){if(o)for(var t,e=o,i=0;o>a;)if(t=r[a++]){if(a>e){if(5e3<=++i){a=o,f.a.$b(Error("'Too much recursion' after processing "+i+" task groups."));break}e=o}try{t()}catch(n){f.a.$b(n)}}}function n(){t(),a=o=r.length=0}var r=[],o=0,s=1,a=0;return{scheduler:e.MutationObserver?function(t){var e=i.createElement("div");return new MutationObserver(t).observe(e,{attributes:!0}),function(){e.classList.toggle("foo")}}(n):i&&"onreadystatechange"in i.createElement("script")?function(t){var e=i.createElement("script");e.onreadystatechange=function(){e.onreadystatechange=null,i.documentElement.removeChild(e),e=null,t()},i.documentElement.appendChild(e)}:function(t){setTimeout(t,0)},Wa:function(t){return o||f.Y.scheduler(n),r[o++]=t,s++},cancel:function(t){t-=s-o,t>=a&&o>t&&(r[t]=null)},resetForTesting:function(){var t=o-a;return a=o=r.length=0,t},md:t}}(),f.b("tasks",f.Y),f.b("tasks.schedule",f.Y.Wa),f.b("tasks.runEarly",f.Y.md),f.ya={throttle:function(t,e){t.throttleEvaluation=e;var i=null;return f.B({read:t,write:function(n){clearTimeout(i),i=f.a.setTimeout(function(){t(n)},e)}})},rateLimit:function(t,e){var i,n,r;"number"==typeof e?i=e:(i=e.timeout,n=e.method),t.cb=!1,r="notifyWhenChangesStop"==n?h:u,t.Ta(function(t){return r(t,i)})},deferred:function(e,i){if(!0!==i)throw Error("The 'deferred' extender only accepts the value 'true', because it is not supported to turn deferral off once enabled.");e.cb||(e.cb=!0,e.Ta(function(i){var n;return function(){f.Y.cancel(n),n=f.Y.Wa(i),e.notifySubscribers(t,"dirty")}}))},notify:function(t,e){t.equalityComparer="always"==e?null:l}};var _={undefined:1,"boolean":1,number:1,string:1};f.b("extenders",f.ya),f.vc=function(t,e,i){this.ia=t,this.gb=e,this.Kc=i,this.R=!1,f.G(this,"dispose",this.k)},f.vc.prototype.k=function(){this.R=!0,this.Kc()},f.J=function(){f.a.Ya(this,m),m.rb(this)};var v="change",m={rb:function(t){t.K={},t.Nb=1},X:function(t,e,i){var n=this;i=i||v;var r=new f.vc(n,e?t.bind(e):t,function(){f.a.La(n.K[i],r),n.Ia&&n.Ia(i)});return n.sa&&n.sa(i),n.K[i]||(n.K[i]=[]),n.K[i].push(r),r},notifySubscribers:function(t,e){if(e=e||v,e===v&&this.zc(),this.Pa(e))try{f.l.Ub();for(var i,n=this.K[e].slice(0),r=0;i=n[r];++r)i.R||i.gb(t)}finally{f.l.end()}},Na:function(){return this.Nb},Uc:function(t){return this.Na()!==t},zc:function(){++this.Nb},Ta:function(t){var e,i,n,r=this,o=f.H(r);r.Ha||(r.Ha=r.notifySubscribers,r.notifySubscribers=c);var s=t(function(){r.Mb=!1,o&&n===r&&(n=r()),e=!1,r.tb(i,n)&&r.Ha(i=n)});r.Lb=function(t){r.Mb=e=!0,n=t,s()},r.Kb=function(t){e||(i=t,r.Ha(t,"beforeChange"))}},Pa:function(t){return this.K[t]&&this.K[t].length},Sc:function(t){if(t)return this.K[t]&&this.K[t].length||0;var e=0;return f.a.D(this.K,function(t,i){"dirty"!==t&&(e+=i.length)}),e},tb:function(t,e){return!this.equalityComparer||!this.equalityComparer(t,e)},extend:function(t){var e=this;return t&&f.a.D(t,function(t,i){var n=f.ya[t];"function"==typeof n&&(e=n(e,i)||e)}),e}};f.G(m,"subscribe",m.X),f.G(m,"extend",m.extend),f.G(m,"getSubscriptionsCount",m.Sc),f.a.ka&&f.a.Xa(m,Function.prototype),f.J.fn=m,f.hc=function(t){return null!=t&&"function"==typeof t.X&&"function"==typeof t.notifySubscribers},f.b("subscribable",f.J),f.b("isSubscribable",f.hc),f.va=f.l=function(){function t(t){n.push(i),i=t}function e(){i=n.pop()}var i,n=[],r=0;return{Ub:t,end:e,oc:function(t){if(i){if(!f.hc(t))throw Error("Only subscribable things can act as dependencies");i.gb.call(i.Gc,t,t.Cc||(t.Cc=++r))}},w:function(i,n,r){try{return t(),i.apply(n,r||[])}finally{e()}},Aa:function(){return i?i.m.Aa():void 0},Sa:function(){return i?i.Sa:void 0}}}(),f.b("computedContext",f.va),f.b("computedContext.getDependenciesCount",f.va.Aa),f.b("computedContext.isInitial",f.va.Sa),f.b("ignoreDependencies",f.qd=f.l.w);var y=f.a.Yb("_latestValue");f.N=function(t){function e(){return 0<arguments.length?(e.tb(e[y],arguments[0])&&(e.ga(),e[y]=arguments[0],e.fa()),this):(f.l.oc(e),e[y])}return e[y]=t,f.a.ka||f.a.extend(e,f.J.fn),f.J.fn.rb(e),f.a.Ya(e,S),f.options.deferUpdates&&f.ya.deferred(e,!0),e};var S={equalityComparer:l,t:function(){return this[y]},fa:function(){this.notifySubscribers(this[y])},ga:function(){this.notifySubscribers(this[y],"beforeChange")}};f.a.ka&&f.a.Xa(S,f.J.fn);var E=f.N.gd="__ko_proto__";S[E]=f.N,f.Oa=function(e,i){return null===e||e===t||e[E]===t?!1:e[E]===i?!0:f.Oa(e[E],i)},f.H=function(t){return f.Oa(t,f.N)},f.Ba=function(t){return!!("function"==typeof t&&t[E]===f.N||"function"==typeof t&&t[E]===f.B&&t.Vc)},f.b("observable",f.N),f.b("isObservable",f.H),f.b("isWriteableObservable",f.Ba),f.b("isWritableObservable",f.Ba),f.b("observable.fn",S),f.G(S,"peek",S.t),f.G(S,"valueHasMutated",S.fa),f.G(S,"valueWillMutate",S.ga),f.la=function(t){if(t=t||[],"object"!=typeof t||!("length"in t))throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");return t=f.N(t),f.a.Ya(t,f.la.fn),t.extend({trackArrayChanges:!0})},f.la.fn={remove:function(t){for(var e=this.t(),i=[],n="function"!=typeof t||f.H(t)?function(e){return e===t}:t,r=0;r<e.length;r++){var o=e[r];n(o)&&(0===i.length&&this.ga(),i.push(o),e.splice(r,1),r--)}return i.length&&this.fa(),i},removeAll:function(e){if(e===t){var i=this.t(),n=i.slice(0);return this.ga(),i.splice(0,i.length),this.fa(),n}return e?this.remove(function(t){return 0<=f.a.o(e,t)}):[]},destroy:function(t){var e=this.t(),i="function"!=typeof t||f.H(t)?function(e){return e===t}:t;this.ga();for(var n=e.length-1;n>=0;n--)i(e[n])&&(e[n]._destroy=!0);this.fa()},destroyAll:function(e){return e===t?this.destroy(function(){return!0}):e?this.destroy(function(t){return 0<=f.a.o(e,t)}):[]},indexOf:function(t){var e=this();return f.a.o(e,t)},replace:function(t,e){var i=this.indexOf(t);i>=0&&(this.ga(),this.t()[i]=e,this.fa())}},f.a.ka&&f.a.Xa(f.la.fn,f.N.fn),f.a.q("pop push reverse shift sort splice unshift".split(" "),function(t){f.la.fn[t]=function(){var e=this.t();this.ga(),this.Vb(e,t,arguments);var i=e[t].apply(e,arguments);return this.fa(),i===e?this:i}}),f.a.q(["slice"],function(t){f.la.fn[t]=function(){var e=this();return e[t].apply(e,arguments)}}),f.b("observableArray",f.la),f.ya.trackArrayChanges=function(t,e){function i(){if(!r){r=!0;var e=t.notifySubscribers;t.notifySubscribers=function(t,i){return i&&i!==v||++s,e.apply(this,arguments)};var i=[].concat(t.t()||[]);o=null,n=t.X(function(e){if(e=[].concat(e||[]),t.Pa("arrayChange")){var n;(!o||s>1)&&(o=f.a.ib(i,e,t.hb)),n=o}i=e,o=null,s=0,n&&n.length&&t.notifySubscribers(n,"arrayChange")})}}if(t.hb={},e&&"object"==typeof e&&f.a.extend(t.hb,e),t.hb.sparse=!0,!t.Vb){var n,r=!1,o=null,s=0,a=t.sa,l=t.Ia;t.sa=function(e){a&&a.call(t,e),"arrayChange"===e&&i()},t.Ia=function(e){l&&l.call(t,e),"arrayChange"!==e||t.Pa("arrayChange")||(n.k(),r=!1)},t.Vb=function(t,e,i){function n(t,e,i){return a[a.length]={status:t,value:e,index:i}}if(r&&!s){var a=[],l=t.length,u=i.length,h=0;switch(e){case"push":h=l;case"unshift":for(e=0;u>e;e++)n("added",i[e],h+e);break;case"pop":h=l-1;case"shift":l&&n("deleted",t[h],h);break;case"splice":e=Math.min(Math.max(0,0>i[0]?l+i[0]:i[0]),l);for(var l=1===u?l:Math.min(e+(i[1]||0),l),u=e+u-2,h=Math.max(l,u),c=[],p=[],d=2;h>e;++e,++d)l>e&&p.push(n("deleted",t[e],e)),u>e&&c.push(n("added",i[d],e));f.a.dc(p,c);break;default:return}o=a}}}};var T=f.a.Yb("_state");f.m=f.B=function(e,i,n){function r(){if(0<arguments.length){if("function"!=typeof o)throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return o.apply(s.pb,arguments),this}return f.l.oc(r),(s.S||s.s&&r.Qa())&&r.aa(),s.T}if("object"==typeof e?n=e:(n=n||{},e&&(n.read=e)),"function"!=typeof n.read)throw Error("Pass a function that returns the value of the ko.computed");var o=n.write,s={T:t,S:!0,Ra:!1,Fb:!1,R:!1,Va:!1,s:!1,jd:n.read,pb:i||n.owner,i:n.disposeWhenNodeIsRemoved||n.i||null,wa:n.disposeWhen||n.wa,mb:null,r:{},L:0,bc:null};return r[T]=s,r.Vc="function"==typeof o,f.a.ka||f.a.extend(r,f.J.fn),f.J.fn.rb(r),f.a.Ya(r,b),n.pure?(s.Va=!0,s.s=!0,f.a.extend(r,C)):n.deferEvaluation&&f.a.extend(r,A),f.options.deferUpdates&&f.ya.deferred(r,!0),s.i&&(s.Fb=!0,s.i.nodeType||(s.i=null)),s.s||n.deferEvaluation||r.aa(),s.i&&r.ba()&&f.a.F.oa(s.i,s.mb=function(){r.k()}),r};var b={equalityComparer:l,Aa:function(){return this[T].L},Pb:function(t,e,i){if(this[T].Va&&e===this)throw Error("A 'pure' computed must not be called recursively");this[T].r[t]=i,i.Ga=this[T].L++,i.na=e.Na()},Qa:function(){var t,e,i=this[T].r;for(t in i)if(i.hasOwnProperty(t)&&(e=i[t],e.ia.Uc(e.na)))return!0},bd:function(){this.Fa&&!this[T].Ra&&this.Fa()},ba:function(){return this[T].S||0<this[T].L},ld:function(){this.Mb||this.ac()},uc:function(t){if(t.cb&&!this[T].i){var e=t.X(this.bd,this,"dirty"),i=t.X(this.ld,this);return{ia:t,k:function(){e.k(),i.k()}}}return t.X(this.ac,this)},ac:function(){var t=this,e=t.throttleEvaluation;e&&e>=0?(clearTimeout(this[T].bc),this[T].bc=f.a.setTimeout(function(){t.aa(!0)},e)):t.Fa?t.Fa():t.aa(!0)},aa:function(t){var e=this[T],i=e.wa;if(!e.Ra&&!e.R){if(e.i&&!f.a.nb(e.i)||i&&i()){if(!e.Fb)return void this.k()}else e.Fb=!1;e.Ra=!0;try{this.Qc(t)}finally{e.Ra=!1}e.L||this.k()}},Qc:function(e){var i=this[T],n=i.Va?t:!i.L,r={Hc:this,Ma:i.r,lb:i.L};f.l.Ub({Gc:r,gb:d,m:this,Sa:n}),i.r={},i.L=0,r=this.Pc(i,r),this.tb(i.T,r)&&(i.s||this.notifySubscribers(i.T,"beforeChange"),i.T=r,i.s?this.zc():e&&this.notifySubscribers(i.T)),n&&this.notifySubscribers(i.T,"awake")},Pc:function(t,e){try{var i=t.jd;return t.pb?i.call(t.pb):i()}finally{f.l.end(),e.lb&&!t.s&&f.a.D(e.Ma,p),t.S=!1}},t:function(){var t=this[T];return(t.S&&!t.L||t.s&&this.Qa())&&this.aa(),t.T},Ta:function(t){f.J.fn.Ta.call(this,t),this.Fa=function(){this.Kb(this[T].T),this[T].S=!0,this.Lb(this)}},k:function(){var t=this[T];!t.s&&t.r&&f.a.D(t.r,function(t,e){e.k&&e.k()}),t.i&&t.mb&&f.a.F.pc(t.i,t.mb),t.r=null,t.L=0,t.R=!0,t.S=!1,t.s=!1,t.i=null}},C={sa:function(t){var e=this,i=e[T];if(!i.R&&i.s&&"change"==t){if(i.s=!1,i.S||e.Qa())i.r=null,i.L=0,i.S=!0,e.aa();else{var n=[];f.a.D(i.r,function(t,e){n[e.Ga]=t}),f.a.q(n,function(t,n){var r=i.r[t],o=e.uc(r.ia);o.Ga=n,o.na=r.na,i.r[t]=o})}i.R||e.notifySubscribers(i.T,"awake")}},Ia:function(e){var i=this[T];i.R||"change"!=e||this.Pa("change")||(f.a.D(i.r,function(t,e){e.k&&(i.r[t]={ia:e.ia,Ga:e.Ga,na:e.na},e.k())}),i.s=!0,this.notifySubscribers(t,"asleep"))},Na:function(){var t=this[T];return t.s&&(t.S||this.Qa())&&this.aa(),f.J.fn.Na.call(this)}},A={sa:function(t){"change"!=t&&"beforeChange"!=t||this.t()}};f.a.ka&&f.a.Xa(b,f.J.fn);var D=f.N.gd;f.m[D]=f.N,b[D]=f.m,f.Xc=function(t){return f.Oa(t,f.m)},f.Yc=function(t){return f.Oa(t,f.m)&&t[T]&&t[T].Va},f.b("computed",f.m),f.b("dependentObservable",f.m),f.b("isComputed",f.Xc),f.b("isPureComputed",f.Yc),f.b("computed.fn",b),f.G(b,"peek",b.t),f.G(b,"dispose",b.k),f.G(b,"isActive",b.ba),f.G(b,"getDependenciesCount",b.Aa),f.nc=function(t,e){return"function"==typeof t?f.m(t,e,{pure:!0}):(t=f.a.extend({},t),t.pure=!0,f.m(t,e))},f.b("pureComputed",f.nc),function(){function e(r,o,s){if(s=s||new n,r=o(r),"object"!=typeof r||null===r||r===t||r instanceof RegExp||r instanceof Date||r instanceof String||r instanceof Number||r instanceof Boolean)return r;var a=r instanceof Array?[]:{};return s.save(r,a),i(r,function(i){var n=o(r[i]);switch(typeof n){case"boolean":case"number":case"string":case"function":a[i]=n;break;case"object":case"undefined":var l=s.get(n);a[i]=l!==t?l:e(n,o,s)}}),a}function i(t,e){if(t instanceof Array){for(var i=0;i<t.length;i++)e(i);"function"==typeof t.toJSON&&e("toJSON")}else for(i in t)e(i)}function n(){this.keys=[],this.Ib=[]}f.wc=function(t){if(0==arguments.length)throw Error("When calling ko.toJS, pass the object you want to convert.");return e(t,function(t){for(var e=0;f.H(t)&&10>e;e++)t=t();return t})},f.toJSON=function(t,e,i){return t=f.wc(t),f.a.Eb(t,e,i)},n.prototype={save:function(t,e){var i=f.a.o(this.keys,t);i>=0?this.Ib[i]=e:(this.keys.push(t),this.Ib.push(e))},get:function(e){return e=f.a.o(this.keys,e),e>=0?this.Ib[e]:t}}}(),f.b("toJS",f.wc),f.b("toJSON",f.toJSON),function(){f.j={u:function(e){switch(f.a.A(e)){case"option":return!0===e.__ko__hasDomDataOptionValue__?f.a.e.get(e,f.d.options.xb):7>=f.a.C?e.getAttributeNode("value")&&e.getAttributeNode("value").specified?e.value:e.text:e.value;case"select":return 0<=e.selectedIndex?f.j.u(e.options[e.selectedIndex]):t;default:return e.value}},ha:function(e,i,n){switch(f.a.A(e)){case"option":switch(typeof i){case"string":f.a.e.set(e,f.d.options.xb,t),"__ko__hasDomDataOptionValue__"in e&&delete e.__ko__hasDomDataOptionValue__,e.value=i;break;default:f.a.e.set(e,f.d.options.xb,i),e.__ko__hasDomDataOptionValue__=!0,e.value="number"==typeof i?i:""}break;case"select":""!==i&&null!==i||(i=t);for(var r,o=-1,s=0,a=e.options.length;a>s;++s)if(r=f.j.u(e.options[s]),r==i||""==r&&i===t){o=s;break}(n||o>=0||i===t&&1<e.size)&&(e.selectedIndex=o);break;default:null!==i&&i!==t||(i=""),e.value=i}}}}(),f.b("selectExtensions",f.j),f.b("selectExtensions.readValue",f.j.u),f.b("selectExtensions.writeValue",f.j.ha),f.h=function(){function t(t){t=f.a.$a(t),123===t.charCodeAt(0)&&(t=t.slice(1,-1));var e,i=[],s=t.match(n),a=[],l=0;if(s){s.push(",");for(var u,h=0;u=s[h];++h){var c=u.charCodeAt(0);if(44===c){if(0>=l){i.push(e&&a.length?{key:e,value:a.join("")}:{unknown:e||a.join("")}),e=l=0,a=[];continue}}else if(58===c){if(!l&&!e&&1===a.length){e=a.pop();continue}}else 47===c&&h&&1<u.length?(c=s[h-1].match(r))&&!o[c[0]]&&(t=t.substr(t.indexOf(u)+1),s=t.match(n),s.push(","),h=-1,
u="/"):40===c||123===c||91===c?++l:41===c||125===c||93===c?--l:e||a.length||34!==c&&39!==c||(u=u.slice(1,-1));a.push(u)}}return i}var e=["true","false","null","undefined"],i=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,n=RegExp("\"(?:[^\"\\\\]|\\\\.)*\"|'(?:[^'\\\\]|\\\\.)*'|/(?:[^/\\\\]|\\\\.)*/w*|[^\\s:,/][^,\"'{}()/:[\\]]*[^\\s,\"'{}()/:[\\]]|[^\\s]","g"),r=/[\])"'A-Za-z0-9_$]+$/,o={"in":1,"return":1,"typeof":1},s={};return{ta:[],ea:s,yb:t,Ua:function(n,r){function o(t,n){var r;if(!h){var c=f.getBindingHandler(t);if(c&&c.preprocess&&!(n=c.preprocess(n,t,o)))return;(c=s[t])&&(r=n,0<=f.a.o(e,r)?r=!1:(c=r.match(i),r=null===c?!1:c[1]?"Object("+c[1]+")"+c[2]:r),c=r),c&&l.push("'"+t+"':function(_z){"+r+"=_z}")}u&&(n="function(){return "+n+" }"),a.push("'"+t+"':"+n)}r=r||{};var a=[],l=[],u=r.valueAccessors,h=r.bindingParams,c="string"==typeof n?t(n):n;return f.a.q(c,function(t){o(t.key||t.unknown,t.value)}),l.length&&o("_ko_property_writers","{"+l.join(",")+" }"),a.join(",")},ad:function(t,e){for(var i=0;i<t.length;i++)if(t[i].key==e)return!0;return!1},Ea:function(t,e,i,n,r){t&&f.H(t)?!f.Ba(t)||r&&t.t()===n||t(n):(t=e.get("_ko_property_writers"))&&t[i]&&t[i](n)}}}(),f.b("expressionRewriting",f.h),f.b("expressionRewriting.bindingRewriteValidators",f.h.ta),f.b("expressionRewriting.parseObjectLiteral",f.h.yb),f.b("expressionRewriting.preProcessBindings",f.h.Ua),f.b("expressionRewriting._twoWayBindings",f.h.ea),f.b("jsonExpressionRewriting",f.h),f.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",f.h.Ua),function(){function t(t){return 8==t.nodeType&&s.test(o?t.text:t.nodeValue)}function e(t){return 8==t.nodeType&&a.test(o?t.text:t.nodeValue)}function n(i,n){for(var r=i,o=1,s=[];r=r.nextSibling;){if(e(r)&&(o--,0===o))return s;s.push(r),t(r)&&o++}if(!n)throw Error("Cannot find closing comment tag to match: "+i.nodeValue);return null}function r(t,e){var i=n(t,e);return i?0<i.length?i[i.length-1].nextSibling:t.nextSibling:null}var o=i&&"<!--test-->"===i.createComment("test").text,s=o?/^\x3c!--\s*ko(?:\s+([\s\S]+))?\s*--\x3e$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,a=o?/^\x3c!--\s*\/ko\s*--\x3e$/:/^\s*\/ko\s*$/,l={ul:!0,ol:!0};f.f={Z:{},childNodes:function(e){return t(e)?n(e):e.childNodes},xa:function(e){if(t(e)){e=f.f.childNodes(e);for(var i=0,n=e.length;n>i;i++)f.removeNode(e[i])}else f.a.ob(e)},da:function(e,i){if(t(e)){f.f.xa(e);for(var n=e.nextSibling,r=0,o=i.length;o>r;r++)n.parentNode.insertBefore(i[r],n)}else f.a.da(e,i)},mc:function(e,i){t(e)?e.parentNode.insertBefore(i,e.nextSibling):e.firstChild?e.insertBefore(i,e.firstChild):e.appendChild(i)},gc:function(e,i,n){n?t(e)?e.parentNode.insertBefore(i,n.nextSibling):n.nextSibling?e.insertBefore(i,n.nextSibling):e.appendChild(i):f.f.mc(e,i)},firstChild:function(i){return t(i)?!i.nextSibling||e(i.nextSibling)?null:i.nextSibling:i.firstChild},nextSibling:function(i){return t(i)&&(i=r(i)),i.nextSibling&&e(i.nextSibling)?null:i.nextSibling},Tc:t,pd:function(t){return(t=(o?t.text:t.nodeValue).match(s))?t[1]:null},kc:function(i){if(l[f.a.A(i)]){var n=i.firstChild;if(n)do if(1===n.nodeType){var o;o=n.firstChild;var s=null;if(o)do if(s)s.push(o);else if(t(o)){var a=r(o,!0);a?o=a:s=[o]}else e(o)&&(s=[o]);while(o=o.nextSibling);if(o=s)for(s=n.nextSibling,a=0;a<o.length;a++)s?i.insertBefore(o[a],s):i.appendChild(o[a])}while(n=n.nextSibling)}}}}(),f.b("virtualElements",f.f),f.b("virtualElements.allowedBindings",f.f.Z),f.b("virtualElements.emptyNode",f.f.xa),f.b("virtualElements.insertAfter",f.f.gc),f.b("virtualElements.prepend",f.f.mc),f.b("virtualElements.setDomNodeChildren",f.f.da),function(){f.Q=function(){this.Fc={}},f.a.extend(f.Q.prototype,{nodeHasBindings:function(t){switch(t.nodeType){case 1:return null!=t.getAttribute("data-bind")||f.g.getComponentNameForNode(t);case 8:return f.f.Tc(t);default:return!1}},getBindings:function(t,e){var i=this.getBindingsString(t,e),i=i?this.parseBindingsString(i,e,t):null;return f.g.Ob(i,t,e,!1)},getBindingAccessors:function(t,e){var i=this.getBindingsString(t,e),i=i?this.parseBindingsString(i,e,t,{valueAccessors:!0}):null;return f.g.Ob(i,t,e,!0)},getBindingsString:function(t){switch(t.nodeType){case 1:return t.getAttribute("data-bind");case 8:return f.f.pd(t);default:return null}},parseBindingsString:function(t,e,i,n){try{var r,o=this.Fc,s=t+(n&&n.valueAccessors||"");if(!(r=o[s])){var a,l="with($context){with($data||{}){return{"+f.h.Ua(t,n)+"}}}";a=new Function("$context","$element",l),r=o[s]=a}return r(e,i)}catch(u){throw u.message="Unable to parse bindings.\nBindings value: "+t+"\nMessage: "+u.message,u}}}),f.Q.instance=new f.Q}(),f.b("bindingProvider",f.Q),function(){function i(t){return function(){return t}}function n(t){return t()}function o(t){return f.a.Ca(f.l.w(t),function(e,i){return function(){return t()[i]}})}function s(t,e,n){return"function"==typeof t?o(t.bind(null,e,n)):f.a.Ca(t,i)}function a(t,e){return o(this.getBindings.bind(this,t,e))}function l(t,e,i){var n,r=f.f.firstChild(e),o=f.Q.instance,s=o.preprocessNode;if(s){for(;n=r;)r=f.f.nextSibling(n),s.call(o,n);r=f.f.firstChild(e)}for(;n=r;)r=f.f.nextSibling(n),u(t,n,i)}function u(t,e,i){var n=!0,r=1===e.nodeType;r&&f.f.kc(e),(r&&i||f.Q.instance.nodeHasBindings(e))&&(n=c(e,null,t,i).shouldBindDescendants),n&&!d[f.a.A(e)]&&l(t,e,!r)}function h(t){var e=[],i={},n=[];return f.a.D(t,function r(o){if(!i[o]){var s=f.getBindingHandler(o);s&&(s.after&&(n.push(o),f.a.q(s.after,function(e){if(t[e]){if(-1!==f.a.o(n,e))throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+n.join(", "));r(e)}}),n.length--),e.push({key:o,fc:s})),i[o]=!0}}),e}function c(e,i,r,o){var s=f.a.e.get(e,g);if(!i){if(s)throw Error("You cannot apply bindings multiple times to the same element.");f.a.e.set(e,g,!0)}!s&&o&&f.tc(e,r);var l;if(i&&"function"!=typeof i)l=i;else{var u=f.Q.instance,c=u.getBindingAccessors||a,p=f.B(function(){return(l=i?i(r,e):c.call(u,e,r))&&r.P&&r.P(),l},null,{i:e});l&&p.ba()||(p=null)}var d;if(l){var _=p?function(t){return function(){return n(p()[t])}}:function(t){return l[t]},v=function(){return f.a.Ca(p?p():l,n)};v.get=function(t){return l[t]&&n(_(t))},v.has=function(t){return t in l},o=h(l),f.a.q(o,function(i){var n=i.fc.init,o=i.fc.update,s=i.key;if(8===e.nodeType&&!f.f.Z[s])throw Error("The binding '"+s+"' cannot be used with virtual elements");try{"function"==typeof n&&f.l.w(function(){var i=n(e,_(s),v,r.$data,r);if(i&&i.controlsDescendantBindings){if(d!==t)throw Error("Multiple bindings ("+d+" and "+s+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");d=s}}),"function"==typeof o&&f.B(function(){o(e,_(s),v,r.$data,r)},null,{i:e})}catch(a){throw a.message='Unable to process binding "'+s+": "+l[s]+'"\nMessage: '+a.message,a}})}return{shouldBindDescendants:d===t}}function p(t){return t&&t instanceof f.U?t:new f.U(t)}f.d={};var d={script:!0,textarea:!0,template:!0};f.getBindingHandler=function(t){return f.d[t]},f.U=function(e,i,n,r){var o,s=this,a="function"==typeof e&&!f.H(e),l=f.B(function(){var t=a?e():e,o=f.a.c(t);return i?(i.P&&i.P(),f.a.extend(s,i),l&&(s.P=l)):(s.$parents=[],s.$root=o,s.ko=f),s.$rawData=t,s.$data=o,n&&(s[n]=o),r&&r(s,i,o),s.$data},null,{wa:function(){return o&&!f.a.Qb(o)},i:!0});l.ba()&&(s.P=l,l.equalityComparer=null,o=[],l.Ac=function(e){o.push(e),f.a.F.oa(e,function(e){f.a.La(o,e),o.length||(l.k(),s.P=l=t)})})},f.U.prototype.createChildContext=function(t,e,i){return new f.U(t,this,e,function(t,e){t.$parentContext=e,t.$parent=e.$data,t.$parents=(e.$parents||[]).slice(0),t.$parents.unshift(t.$parent),i&&i(t)})},f.U.prototype.extend=function(t){return new f.U(this.P||this.$data,this,null,function(e,i){e.$rawData=i.$rawData,f.a.extend(e,"function"==typeof t?t():t)})};var g=f.a.e.I(),_=f.a.e.I();f.tc=function(t,e){return 2!=arguments.length?f.a.e.get(t,_):(f.a.e.set(t,_,e),void(e.P&&e.P.Ac(t)))},f.Ja=function(t,e,i){return 1===t.nodeType&&f.f.kc(t),c(t,e,p(i),!0)},f.Dc=function(t,e,i){return i=p(i),f.Ja(t,s(e,i,t),i)},f.eb=function(t,e){1!==e.nodeType&&8!==e.nodeType||l(p(t),e,!0)},f.Rb=function(t,i){if(!r&&e.jQuery&&(r=e.jQuery),i&&1!==i.nodeType&&8!==i.nodeType)throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");i=i||e.document.body,u(p(t),i,!0)},f.kb=function(e){switch(e.nodeType){case 1:case 8:var i=f.tc(e);if(i)return i;if(e.parentNode)return f.kb(e.parentNode)}return t},f.Jc=function(e){return(e=f.kb(e))?e.$data:t},f.b("bindingHandlers",f.d),f.b("applyBindings",f.Rb),f.b("applyBindingsToDescendants",f.eb),f.b("applyBindingAccessorsToNode",f.Ja),f.b("applyBindingsToNode",f.Dc),f.b("contextFor",f.kb),f.b("dataFor",f.Jc)}(),function(t){function e(e,n){var s,a=r.hasOwnProperty(e)?r[e]:t;a?a.X(n):(a=r[e]=new f.J,a.X(n),i(e,function(t,i){var n=!(!i||!i.synchronous);o[e]={definition:t,Zc:n},delete r[e],s||n?a.notifySubscribers(t):f.Y.Wa(function(){a.notifySubscribers(t)})}),s=!0)}function i(t,e){n("getConfig",[t],function(i){i?n("loadComponent",[t,i],function(t){e(t,i)}):e(null,null)})}function n(e,i,r,o){o||(o=f.g.loaders.slice(0));var s=o.shift();if(s){var a=s[e];if(a){var l=!1;if(a.apply(s,i.concat(function(t){l?r(null):null!==t?r(t):n(e,i,r,o)}))!==t&&(l=!0,!s.suppressLoaderExceptions))throw Error("Component loaders must supply values by invoking the callback, not by returning values synchronously.")}else n(e,i,r,o)}else r(null)}var r={},o={};f.g={get:function(i,n){var r=o.hasOwnProperty(i)?o[i]:t;r?r.Zc?f.l.w(function(){n(r.definition)}):f.Y.Wa(function(){n(r.definition)}):e(i,n)},Xb:function(t){delete o[t]},Jb:n},f.g.loaders=[],f.b("components",f.g),f.b("components.get",f.g.get),f.b("components.clearCachedDefinition",f.g.Xb)}(),function(){function t(t,e,i,n){function r(){0===--a&&n(o)}var o={},a=2,l=i.template;i=i.viewModel,l?s(e,l,function(e){f.g.Jb("loadTemplate",[t,e],function(t){o.template=t,r()})}):r(),i?s(e,i,function(e){f.g.Jb("loadViewModel",[t,e],function(t){o[h]=t,r()})}):r()}function n(t,e,i){if("function"==typeof e)i(function(t){return new e(t)});else if("function"==typeof e[h])i(e[h]);else if("instance"in e){var r=e.instance;i(function(){return r})}else"viewModel"in e?n(t,e.viewModel,i):t("Unknown viewModel value: "+e)}function r(t){switch(f.a.A(t)){case"script":return f.a.ma(t.text);case"textarea":return f.a.ma(t.value);case"template":if(o(t.content))return f.a.ua(t.content.childNodes)}return f.a.ua(t.childNodes)}function o(t){return e.DocumentFragment?t instanceof DocumentFragment:t&&11===t.nodeType}function s(t,i,n){"string"==typeof i.require?a||e.require?(a||e.require)([i.require],n):t("Uses require, but no AMD loader is present"):n(i)}function l(t){return function(e){throw Error("Component '"+t+"': "+e)}}var u={};f.g.register=function(t,e){if(!e)throw Error("Invalid configuration for "+t);if(f.g.ub(t))throw Error("Component "+t+" is already registered");u[t]=e},f.g.ub=function(t){return u.hasOwnProperty(t)},f.g.od=function(t){delete u[t],f.g.Xb(t)},f.g.Zb={getConfig:function(t,e){e(u.hasOwnProperty(t)?u[t]:null)},loadComponent:function(e,i,n){var r=l(e);s(r,i,function(i){t(e,r,i,n)})},loadTemplate:function(t,n,s){if(t=l(t),"string"==typeof n)s(f.a.ma(n));else if(n instanceof Array)s(n);else if(o(n))s(f.a.V(n.childNodes));else if(n.element)if(n=n.element,e.HTMLElement?n instanceof HTMLElement:n&&n.tagName&&1===n.nodeType)s(r(n));else if("string"==typeof n){var a=i.getElementById(n);a?s(r(a)):t("Cannot find element with ID "+n)}else t("Unknown element type: "+n);else t("Unknown template value: "+n)},loadViewModel:function(t,e,i){n(l(t),e,i)}};var h="createViewModel";f.b("components.register",f.g.register),f.b("components.isRegistered",f.g.ub),f.b("components.unregister",f.g.od),f.b("components.defaultLoader",f.g.Zb),f.g.loaders.push(f.g.Zb),f.g.Bc=u}(),function(){function t(t,i){var n=t.getAttribute("params");if(n){var n=e.parseBindingsString(n,i,t,{valueAccessors:!0,bindingParams:!0}),n=f.a.Ca(n,function(e){return f.m(e,null,{i:t})}),r=f.a.Ca(n,function(e){var i=e.t();return e.ba()?f.m({read:function(){return f.a.c(e())},write:f.Ba(i)&&function(t){e()(t)},i:t}):i});return r.hasOwnProperty("$raw")||(r.$raw=n),r}return{$raw:{}}}f.g.getComponentNameForNode=function(t){var e=f.a.A(t);return f.g.ub(e)&&(-1!=e.indexOf("-")||"[object HTMLUnknownElement]"==""+t||8>=f.a.C&&t.tagName===e)?e:void 0},f.g.Ob=function(e,i,n,r){if(1===i.nodeType){var o=f.g.getComponentNameForNode(i);if(o){if(e=e||{},e.component)throw Error('Cannot use the "component" binding on a custom element matching a component');var s={name:o,params:t(i,n)};e.component=r?function(){return s}:s}}return e};var e=new f.Q;9>f.a.C&&(f.g.register=function(t){return function(e){return i.createElement(e),t.apply(this,arguments)}}(f.g.register),i.createDocumentFragment=function(t){return function(){var e,i=t(),n=f.g.Bc;for(e in n)n.hasOwnProperty(e)&&i.createElement(e);return i}}(i.createDocumentFragment))}(),function(t){function e(t,e,i){if(e=e.template,!e)throw Error("Component '"+t+"' has no template");t=f.a.ua(e),f.f.da(i,t)}function i(t,e,i,n){var r=t.createViewModel;return r?r.call(t,n,{element:e,templateNodes:i}):n}var n=0;f.d.component={init:function(r,o,s,a,l){function u(){var t=h&&h.dispose;"function"==typeof t&&t.call(h),c=h=null}var h,c,p=f.a.V(f.f.childNodes(r));return f.a.F.oa(r,u),f.m(function(){var s,a,d=f.a.c(o());if("string"==typeof d?s=d:(s=f.a.c(d.name),a=f.a.c(d.params)),!s)throw Error("No component name specified");var g=c=++n;f.g.get(s,function(n){if(c===g){if(u(),!n)throw Error("Unknown component '"+s+"'");e(s,n,r);var o=i(n,r,p,a);n=l.createChildContext(o,t,function(t){t.$component=o,t.$componentTemplateNodes=p}),h=o,f.eb(n,r)}})},null,{i:r}),{controlsDescendantBindings:!0}}},f.f.Z.component=!0}();var I={"class":"className","for":"htmlFor"};f.d.attr={update:function(e,i){var n=f.a.c(i())||{};f.a.D(n,function(i,n){n=f.a.c(n);var r=!1===n||null===n||n===t;r&&e.removeAttribute(i),8>=f.a.C&&i in I?(i=I[i],r?e.removeAttribute(i):e[i]=n):r||e.setAttribute(i,n.toString()),"name"===i&&f.a.rc(e,r?"":n.toString())})}},function(){f.d.checked={after:["value","attr"],init:function(e,i,n){function r(){var t=e.checked,r=d?s():t;if(!f.va.Sa()&&(!l||t)){var o=f.l.w(i);if(h){var a=c?o.t():o;p!==r?(t&&(f.a.pa(a,r,!0),f.a.pa(a,p,!1)),p=r):f.a.pa(a,r,t),c&&f.Ba(o)&&o(a)}else f.h.Ea(o,n,"checked",r,!0)}}function o(){var t=f.a.c(i());e.checked=h?0<=f.a.o(t,s()):a?t:s()===t}var s=f.nc(function(){return n.has("checkedValue")?f.a.c(n.get("checkedValue")):n.has("value")?f.a.c(n.get("value")):e.value}),a="checkbox"==e.type,l="radio"==e.type;if(a||l){var u=i(),h=a&&f.a.c(u)instanceof Array,c=!(h&&u.push&&u.splice),p=h?s():t,d=l||h;l&&!e.name&&f.d.uniqueName.init(e,function(){return!0}),f.m(r,null,{i:e}),f.a.p(e,"click",r),f.m(o,null,{i:e}),u=t}}},f.h.ea.checked=!0,f.d.checkedValue={update:function(t,e){t.value=f.a.c(e())}}}(),f.d.css={update:function(t,e){var i=f.a.c(e());null!==i&&"object"==typeof i?f.a.D(i,function(e,i){i=f.a.c(i),f.a.bb(t,e,i)}):(i=f.a.$a(String(i||"")),f.a.bb(t,t.__ko__cssValue,!1),t.__ko__cssValue=i,f.a.bb(t,i,!0))}},f.d.enable={update:function(t,e){var i=f.a.c(e());i&&t.disabled?t.removeAttribute("disabled"):i||t.disabled||(t.disabled=!0)}},f.d.disable={update:function(t,e){f.d.enable.update(t,function(){return!f.a.c(e())})}},f.d.event={init:function(t,e,i,n,r){var o=e()||{};f.a.D(o,function(o){"string"==typeof o&&f.a.p(t,o,function(t){var s,a=e()[o];if(a){try{var l=f.a.V(arguments);n=r.$data,l.unshift(n),s=a.apply(n,l)}finally{!0!==s&&(t.preventDefault?t.preventDefault():t.returnValue=!1)}!1===i.get(o+"Bubble")&&(t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation())}})})}},f.d.foreach={ic:function(t){return function(){var e=t(),i=f.a.zb(e);return i&&"number"!=typeof i.length?(f.a.c(e),{foreach:i.data,as:i.as,includeDestroyed:i.includeDestroyed,afterAdd:i.afterAdd,beforeRemove:i.beforeRemove,afterRender:i.afterRender,beforeMove:i.beforeMove,afterMove:i.afterMove,templateEngine:f.W.sb}):{foreach:e,templateEngine:f.W.sb}}},init:function(t,e){return f.d.template.init(t,f.d.foreach.ic(e))},update:function(t,e,i,n,r){return f.d.template.update(t,f.d.foreach.ic(e),i,n,r)}},f.h.ta.foreach=!1,f.f.Z.foreach=!0,f.d.hasfocus={init:function(t,e,i){function n(n){t.__ko_hasfocusUpdating=!0;var r=t.ownerDocument;if("activeElement"in r){var o;try{o=r.activeElement}catch(s){o=r.body}n=o===t}r=e(),f.h.Ea(r,i,"hasfocus",n,!0),t.__ko_hasfocusLastValue=n,t.__ko_hasfocusUpdating=!1}var r=n.bind(null,!0),o=n.bind(null,!1);f.a.p(t,"focus",r),f.a.p(t,"focusin",r),f.a.p(t,"blur",o),f.a.p(t,"focusout",o)},update:function(t,e){var i=!!f.a.c(e());t.__ko_hasfocusUpdating||t.__ko_hasfocusLastValue===i||(i?t.focus():t.blur(),!i&&t.__ko_hasfocusLastValue&&t.ownerDocument.body.focus(),f.l.w(f.a.Da,null,[t,i?"focusin":"focusout"]))}},f.h.ea.hasfocus=!0,f.d.hasFocus=f.d.hasfocus,f.h.ea.hasFocus=!0,f.d.html={init:function(){return{controlsDescendantBindings:!0}},update:function(t,e){f.a.Cb(t,e())}},g("if"),g("ifnot",!1,!0),g("with",!0,!1,function(t,e){return t.createChildContext(e)});var x={};f.d.options={init:function(t){if("select"!==f.a.A(t))throw Error("options binding applies only to SELECT elements");for(;0<t.length;)t.remove(0);return{controlsDescendantBindings:!0}},update:function(e,i,n){function r(){return f.a.Ka(e.options,function(t){return t.selected})}function o(t,e,i){var n=typeof e;return"function"==n?e(t):"string"==n?t[e]:i}function s(t,i){if(g&&h)f.j.ha(e,f.a.c(n.get("value")),!0);else if(d.length){var r=0<=f.a.o(d,f.j.u(i[0]));f.a.sc(i[0],r),g&&!r&&f.l.w(f.a.Da,null,[e,"change"])}}var a=e.multiple,l=0!=e.length&&a?e.scrollTop:null,u=f.a.c(i()),h=n.get("valueAllowUnset")&&n.has("value"),c=n.get("optionsIncludeDestroyed");i={};var p,d=[];h||(a?d=f.a.fb(r(),f.j.u):0<=e.selectedIndex&&d.push(f.j.u(e.options[e.selectedIndex]))),u&&("undefined"==typeof u.length&&(u=[u]),p=f.a.Ka(u,function(e){return c||e===t||null===e||!f.a.c(e._destroy)}),n.has("optionsCaption")&&(u=f.a.c(n.get("optionsCaption")),null!==u&&u!==t&&p.unshift(x)));var g=!1;i.beforeRemove=function(t){e.removeChild(t)},u=s,n.has("optionsAfterRender")&&"function"==typeof n.get("optionsAfterRender")&&(u=function(e,i){s(0,i),f.l.w(n.get("optionsAfterRender"),null,[i[0],e!==x?e:t])}),f.a.Bb(e,p,function(i,r,s){return s.length&&(d=!h&&s[0].selected?[f.j.u(s[0])]:[],g=!0),r=e.ownerDocument.createElement("option"),i===x?(f.a.Za(r,n.get("optionsCaption")),f.j.ha(r,t)):(s=o(i,n.get("optionsValue"),i),f.j.ha(r,f.a.c(s)),i=o(i,n.get("optionsText"),s),f.a.Za(r,i)),[r]},i,u),f.l.w(function(){h?f.j.ha(e,f.a.c(n.get("value")),!0):(a?d.length&&r().length<d.length:d.length&&0<=e.selectedIndex?f.j.u(e.options[e.selectedIndex])!==d[0]:d.length||0<=e.selectedIndex)&&f.a.Da(e,"change")}),f.a.Nc(e),l&&20<Math.abs(l-e.scrollTop)&&(e.scrollTop=l)}},f.d.options.xb=f.a.e.I(),f.d.selectedOptions={after:["options","foreach"],init:function(t,e,i){f.a.p(t,"change",function(){var n=e(),r=[];f.a.q(t.getElementsByTagName("option"),function(t){t.selected&&r.push(f.j.u(t))}),f.h.Ea(n,i,"selectedOptions",r)})},update:function(t,e){if("select"!=f.a.A(t))throw Error("values binding applies only to SELECT elements");var i=f.a.c(e()),n=t.scrollTop;i&&"number"==typeof i.length&&f.a.q(t.getElementsByTagName("option"),function(t){var e=0<=f.a.o(i,f.j.u(t));t.selected!=e&&f.a.sc(t,e)}),t.scrollTop=n}},f.h.ea.selectedOptions=!0,f.d.style={update:function(e,i){var n=f.a.c(i()||{});f.a.D(n,function(i,n){n=f.a.c(n),null!==n&&n!==t&&!1!==n||(n=""),e.style[i]=n})}},f.d.submit={init:function(t,e,i,n,r){if("function"!=typeof e())throw Error("The value for a submit binding must be a function");f.a.p(t,"submit",function(i){var n,o=e();try{n=o.call(r.$data,t)}finally{!0!==n&&(i.preventDefault?i.preventDefault():i.returnValue=!1)}})}},f.d.text={init:function(){return{controlsDescendantBindings:!0}},update:function(t,e){f.a.Za(t,e())}},f.f.Z.text=!0,function(){if(e&&e.navigator)var i=function(t){return t?parseFloat(t[1]):void 0},n=e.opera&&e.opera.version&&parseInt(e.opera.version()),r=e.navigator.userAgent,o=i(r.match(/^(?:(?!chrome).)*version\/([^ ]*) safari/i)),s=i(r.match(/Firefox\/([^ ]*)/));if(10>f.a.C)var a=f.a.e.I(),l=f.a.e.I(),u=function(t){var e=this.activeElement;(e=e&&f.a.e.get(e,l))&&e(t)},h=function(t,e){var i=t.ownerDocument;f.a.e.get(i,a)||(f.a.e.set(i,a,!0),f.a.p(i,"selectionchange",u)),f.a.e.set(t,l,e)};f.d.textInput={init:function(e,i,r){function a(t,i){f.a.p(e,t,i)}function l(){var n=f.a.c(i());null!==n&&n!==t||(n=""),d!==t&&n===d?f.a.setTimeout(l,4):e.value!==n&&(g=n,e.value=n)}function u(){p||(d=e.value,p=f.a.setTimeout(c,4))}function c(){clearTimeout(p),d=p=t;var n=e.value;g!==n&&(g=n,f.h.Ea(i(),r,"textInput",n))}var p,d,g=e.value,_=9==f.a.C?u:c;10>f.a.C?(a("propertychange",function(t){"value"===t.propertyName&&_(t)}),8==f.a.C&&(a("keyup",c),a("keydown",c)),8<=f.a.C&&(h(e,_),a("dragend",u))):(a("input",c),5>o&&"textarea"===f.a.A(e)?(a("keydown",u),a("paste",u),a("cut",u)):11>n?a("keydown",u):4>s&&(a("DOMAutoComplete",c),a("dragdrop",c),a("drop",c))),a("change",c),f.m(l,null,{i:e})}},f.h.ea.textInput=!0,f.d.textinput={preprocess:function(t,e,i){i("textInput",t)}}}(),f.d.uniqueName={init:function(t,e){if(e()){var i="ko_unique_"+ ++f.d.uniqueName.Ic;f.a.rc(t,i)}}},f.d.uniqueName.Ic=0,f.d.value={after:["options","foreach"],init:function(t,e,i){if("input"!=t.tagName.toLowerCase()||"checkbox"!=t.type&&"radio"!=t.type){var n=["change"],r=i.get("valueUpdate"),o=!1,s=null;r&&("string"==typeof r&&(r=[r]),f.a.ra(n,r),n=f.a.Tb(n));var a=function(){s=null,o=!1;var n=e(),r=f.j.u(t);f.h.Ea(n,i,"value",r)};!f.a.C||"input"!=t.tagName.toLowerCase()||"text"!=t.type||"off"==t.autocomplete||t.form&&"off"==t.form.autocomplete||-1!=f.a.o(n,"propertychange")||(f.a.p(t,"propertychange",function(){o=!0}),f.a.p(t,"focus",function(){o=!1}),f.a.p(t,"blur",function(){o&&a()})),f.a.q(n,function(e){var i=a;f.a.nd(e,"after")&&(i=function(){s=f.j.u(t),f.a.setTimeout(a,0)},e=e.substring(5)),f.a.p(t,e,i)});var l=function(){var n=f.a.c(e()),r=f.j.u(t);if(null!==s&&n===s)f.a.setTimeout(l,0);else if(n!==r)if("select"===f.a.A(t)){var o=i.get("valueAllowUnset"),r=function(){f.j.ha(t,n,o)};r(),o||n===f.j.u(t)?f.a.setTimeout(r,0):f.l.w(f.a.Da,null,[t,"change"])}else f.j.ha(t,n)};f.m(l,null,{i:t})}else f.Ja(t,{checkedValue:e})},update:function(){}},f.h.ea.value=!0,f.d.visible={update:function(t,e){var i=f.a.c(e()),n="none"!=t.style.display;i&&!n?t.style.display="":!i&&n&&(t.style.display="none")}},function(t){f.d[t]={init:function(e,i,n,r,o){return f.d.event.init.call(this,e,function(){var e={};return e[t]=i(),e},n,r,o)}}}("click"),f.O=function(){},f.O.prototype.renderTemplateSource=function(){throw Error("Override renderTemplateSource")},f.O.prototype.createJavaScriptEvaluatorBlock=function(){throw Error("Override createJavaScriptEvaluatorBlock")},f.O.prototype.makeTemplateSource=function(t,e){if("string"==typeof t){e=e||i;var n=e.getElementById(t);if(!n)throw Error("Cannot find template with ID "+t);return new f.v.n(n)}if(1==t.nodeType||8==t.nodeType)return new f.v.qa(t);throw Error("Unknown template type: "+t)},f.O.prototype.renderTemplate=function(t,e,i,n){return t=this.makeTemplateSource(t,n),this.renderTemplateSource(t,e,i,n)},f.O.prototype.isTemplateRewritten=function(t,e){return!1===this.allowTemplateRewriting?!0:this.makeTemplateSource(t,e).data("isRewritten")},f.O.prototype.rewriteTemplate=function(t,e,i){t=this.makeTemplateSource(t,i),e=e(t.text()),t.text(e),t.data("isRewritten",!0)},f.b("templateEngine",f.O),f.Gb=function(){function t(t,e,i,n){t=f.h.yb(t);for(var r=f.h.ta,o=0;o<t.length;o++){var s=t[o].key;if(r.hasOwnProperty(s)){var a=r[s];if("function"==typeof a){if(s=a(t[o].value))throw Error(s)}else if(!a)throw Error("This template engine does not support the '"+s+"' binding within its templates")}}return i="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+f.h.Ua(t,{valueAccessors:!0})+" } })()},'"+i.toLowerCase()+"')",n.createJavaScriptEvaluatorBlock(i)+e}var e=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'|[^>]*))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,i=/\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g;return{Oc:function(t,e,i){e.isTemplateRewritten(t,i)||e.rewriteTemplate(t,function(t){return f.Gb.dd(t,e)},i)},dd:function(n,r){return n.replace(e,function(e,i,n,o,s){return t(s,i,n,r)}).replace(i,function(e,i){return t(i,"<!-- ko -->","#comment",r)})},Ec:function(t,e){return f.M.wb(function(i,n){var r=i.nextSibling;r&&r.nodeName.toLowerCase()===e&&f.Ja(r,t,n)})}}}(),f.b("__tr_ambtns",f.Gb.Ec),function(){f.v={},f.v.n=function(t){if(this.n=t){var e=f.a.A(t);this.ab="script"===e?1:"textarea"===e?2:"template"==e&&t.content&&11===t.content.nodeType?3:4}},f.v.n.prototype.text=function(){var t=1===this.ab?"text":2===this.ab?"value":"innerHTML";if(0==arguments.length)return this.n[t];var e=arguments[0];"innerHTML"===t?f.a.Cb(this.n,e):this.n[t]=e};var e=f.a.e.I()+"_";f.v.n.prototype.data=function(t){return 1===arguments.length?f.a.e.get(this.n,e+t):void f.a.e.set(this.n,e+t,arguments[1])};var i=f.a.e.I();f.v.n.prototype.nodes=function(){var e=this.n;return 0==arguments.length?(f.a.e.get(e,i)||{}).jb||(3===this.ab?e.content:4===this.ab?e:t):void f.a.e.set(e,i,{jb:arguments[0]})},f.v.qa=function(t){this.n=t},f.v.qa.prototype=new f.v.n,f.v.qa.prototype.text=function(){if(0==arguments.length){var e=f.a.e.get(this.n,i)||{};return e.Hb===t&&e.jb&&(e.Hb=e.jb.innerHTML),e.Hb}f.a.e.set(this.n,i,{Hb:arguments[0]})},f.b("templateSources",f.v),f.b("templateSources.domElement",f.v.n),f.b("templateSources.anonymousTemplate",f.v.qa)}(),function(){function e(t,e,i){var n;for(e=f.f.nextSibling(e);t&&(n=t)!==e;)t=f.f.nextSibling(n),i(n,t)}function i(t,i){if(t.length){var n=t[0],r=t[t.length-1],o=n.parentNode,s=f.Q.instance,a=s.preprocessNode;if(a){if(e(n,r,function(t,e){var i=t.previousSibling,o=a.call(s,t);o&&(t===n&&(n=o[0]||e),t===r&&(r=o[o.length-1]||i))}),t.length=0,!n)return;n===r?t.push(n):(t.push(n,r),f.a.za(t,o))}e(n,r,function(t){1!==t.nodeType&&8!==t.nodeType||f.Rb(i,t)}),e(n,r,function(t){1!==t.nodeType&&8!==t.nodeType||f.M.yc(t,[i])}),f.a.za(t,o)}}function n(t){return t.nodeType?t:0<t.length?t[0]:null}function r(t,e,r,o,a){a=a||{};var l=(t&&n(t)||r||{}).ownerDocument,u=a.templateEngine||s;if(f.Gb.Oc(r,u,l),r=u.renderTemplate(r,o,a,l),"number"!=typeof r.length||0<r.length&&"number"!=typeof r[0].nodeType)throw Error("Template engine must return an array of DOM nodes");switch(l=!1,e){case"replaceChildren":f.f.da(t,r),l=!0;break;case"replaceNode":f.a.qc(t,r),l=!0;break;case"ignoreTargetNode":break;default:throw Error("Unknown renderMode: "+e)}return l&&(i(r,o),a.afterRender&&f.l.w(a.afterRender,null,[r,o.$data])),r}function o(t,e,i){return f.H(t)?t():"function"==typeof t?t(e,i):t}var s;f.Db=function(e){if(e!=t&&!(e instanceof f.O))throw Error("templateEngine must inherit from ko.templateEngine");s=e},f.Ab=function(e,i,a,l,u){if(a=a||{},(a.templateEngine||s)==t)throw Error("Set a template engine before calling renderTemplate");if(u=u||"replaceChildren",l){var h=n(l);return f.B(function(){var t=i&&i instanceof f.U?i:new f.U(f.a.c(i)),s=o(e,t.$data,t),t=r(l,u,s,t,a);"replaceNode"==u&&(l=t,h=n(l))},null,{wa:function(){return!h||!f.a.nb(h)},i:h&&"replaceNode"==u?h.parentNode:h})}return f.M.wb(function(t){f.Ab(e,i,a,t,"replaceNode")})},f.kd=function(e,n,s,a,l){function u(t,e){i(e,c),s.afterRender&&s.afterRender(e,t),c=null}function h(t,i){c=l.createChildContext(t,s.as,function(t){t.$index=i});var n=o(e,t,c);return r(null,"ignoreTargetNode",n,c,s)}var c;return f.B(function(){var e=f.a.c(n)||[];"undefined"==typeof e.length&&(e=[e]),e=f.a.Ka(e,function(e){return s.includeDestroyed||e===t||null===e||!f.a.c(e._destroy)}),f.l.w(f.a.Bb,null,[a,e,h,s,u])},null,{i:a})};var a=f.a.e.I();f.d.template={init:function(t,e){var i=f.a.c(e());if("string"==typeof i||i.name)f.f.xa(t);else{if("nodes"in i){if(i=i.nodes||[],f.H(i))throw Error('The "nodes" option must be a plain, non-observable array.')}else i=f.f.childNodes(t);i=f.a.jc(i),new f.v.qa(t).nodes(i)}return{controlsDescendantBindings:!0}},update:function(e,i,n,r,o){var s,l=i();i=f.a.c(l),n=!0,r=null,"string"==typeof i?i={}:(l=i.name,"if"in i&&(n=f.a.c(i["if"])),n&&"ifnot"in i&&(n=!f.a.c(i.ifnot)),s=f.a.c(i.data)),"foreach"in i?r=f.kd(l||e,n&&i.foreach||[],i,e,o):n?(o="data"in i?o.createChildContext(s,i.as):o,r=f.Ab(l||e,o,i,e)):f.f.xa(e),o=r,(s=f.a.e.get(e,a))&&"function"==typeof s.k&&s.k(),f.a.e.set(e,a,o&&o.ba()?o:t)}},f.h.ta.template=function(t){return t=f.h.yb(t),1==t.length&&t[0].unknown||f.h.ad(t,"name")?null:"This template engine does not support anonymous templates nested within its templates"},f.f.Z.template=!0}(),f.b("setTemplateEngine",f.Db),f.b("renderTemplate",f.Ab),f.a.dc=function(t,e,i){if(t.length&&e.length){var n,r,o,s,a;for(n=r=0;(!i||i>n)&&(s=t[r]);++r){for(o=0;a=e[o];++o)if(s.value===a.value){s.moved=a.index,a.moved=s.index,e.splice(o,1),n=o=0;break}n+=o}}},f.a.ib=function(){function t(t,e,i,n,r){var o,s,a,l,u,h=Math.min,c=Math.max,p=[],d=t.length,g=e.length,_=g-d||1,v=d+g+1;for(o=0;d>=o;o++)for(l=a,p.push(a=[]),u=h(g,o+_),s=c(0,o-1);u>=s;s++)a[s]=s?o?t[o-1]===e[s-1]?l[s-1]:h(l[s]||v,a[s-1]||v)+1:s+1:o+1;for(h=[],c=[],_=[],o=d,s=g;o||s;)g=p[o][s]-1,s&&g===p[o][s-1]?c.push(h[h.length]={status:i,value:e[--s],index:s}):o&&g===p[o-1][s]?_.push(h[h.length]={status:n,value:t[--o],index:o}):(--s,--o,r.sparse||h.push({status:"retained",value:e[s]}));return f.a.dc(_,c,!r.dontLimitMoves&&10*d),h.reverse()}return function(e,i,n){return n="boolean"==typeof n?{dontLimitMoves:n}:n||{},e=e||[],i=i||[],e.length<i.length?t(e,i,"added","deleted",n):t(i,e,"deleted","added",n)}}(),f.b("utils.compareArrays",f.a.ib),function(){function e(e,i,n,r,o){var s=[],a=f.B(function(){var t=i(n,o,f.a.za(s,e))||[];0<s.length&&(f.a.qc(s,t),r&&f.l.w(r,null,[n,t,o])),s.length=0,f.a.ra(s,t)},null,{i:e,wa:function(){return!f.a.Qb(s)}});return{ca:s,B:a.ba()?a:t}}var i=f.a.e.I(),n=f.a.e.I();f.a.Bb=function(r,o,s,a,l){function u(t,e){E=p[e],m!==e&&(C[t]=E),E.qb(m++),f.a.za(E.ca,r),_.push(E),S.push(E)}function h(t,e){if(t)for(var i=0,n=e.length;n>i;i++)e[i]&&f.a.q(e[i].ca,function(n){t(n,i,e[i].ja)})}o=o||[],a=a||{};var c=f.a.e.get(r,i)===t,p=f.a.e.get(r,i)||[],d=f.a.fb(p,function(t){return t.ja}),g=f.a.ib(d,o,a.dontLimitMoves),_=[],v=0,m=0,y=[],S=[];o=[];for(var E,T,b,C=[],d=[],A=0;T=g[A];A++)switch(b=T.moved,T.status){case"deleted":b===t&&(E=p[v],E.B&&(E.B.k(),E.B=t),f.a.za(E.ca,r).length&&(a.beforeRemove&&(_.push(E),S.push(E),E.ja===n?E=null:o[A]=E),E&&y.push.apply(y,E.ca))),v++;break;case"retained":u(A,v++);break;case"added":b!==t?u(A,b):(E={ja:T.value,qb:f.N(m++)},_.push(E),S.push(E),c||(d[A]=E))}f.a.e.set(r,i,_),h(a.beforeMove,C),f.a.q(y,a.beforeRemove?f.$:f.removeNode);for(var D,A=0,c=f.f.firstChild(r);E=S[A];A++){for(E.ca||f.a.extend(E,e(r,s,E.ja,l,E.qb)),v=0;g=E.ca[v];c=g.nextSibling,D=g,v++)g!==c&&f.f.gc(r,g,D);!E.Wc&&l&&(l(E.ja,E.ca,E.qb),E.Wc=!0)}for(h(a.beforeRemove,o),A=0;A<o.length;++A)o[A]&&(o[A].ja=n);h(a.afterMove,C),h(a.afterAdd,d)}}(),f.b("utils.setDomNodeChildrenFromArrayMapping",f.a.Bb),f.W=function(){this.allowTemplateRewriting=!1},f.W.prototype=new f.O,f.W.prototype.renderTemplateSource=function(t,e,i,n){return(e=(9>f.a.C?0:t.nodes)?t.nodes():null)?f.a.V(e.cloneNode(!0).childNodes):(t=t.text(),f.a.ma(t,n))},f.W.sb=new f.W,f.Db(f.W.sb),f.b("nativeTemplateEngine",f.W),function(){f.vb=function(){var t=this.$c=function(){if(!r||!r.tmpl)return 0;try{if(0<=r.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(t){}return 1}();this.renderTemplateSource=function(e,n,o,s){if(s=s||i,o=o||{},2>t)throw Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");var a=e.data("precompiled");return a||(a=e.text()||"",a=r.template(null,"{{ko_with $item.koBindingContext}}"+a+"{{/ko_with}}"),e.data("precompiled",a)),e=[n.$data],n=r.extend({koBindingContext:n},o.templateOptions),n=r.tmpl(a,e,n),
n.appendTo(s.createElement("div")),r.fragments={},n},this.createJavaScriptEvaluatorBlock=function(t){return"{{ko_code ((function() { return "+t+" })()) }}"},this.addTemplate=function(t,e){i.write("<script type='text/html' id='"+t+"'>"+e+"</script>")},t>0&&(r.tmpl.tag.ko_code={open:"__.push($1 || '');"},r.tmpl.tag.ko_with={open:"with($1) {",close:"} "})},f.vb.prototype=new f.O;var t=new f.vb;0<t.$c&&f.Db(t),f.b("jqueryTmplTemplateEngine",f.vb)}()})}()}(),function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function i(t){var e=t.length,i=Q.type(t);return"function"===i||Q.isWindow(t)?!1:1===t.nodeType&&e?!0:"array"===i||0===e||"number"==typeof e&&e>0&&e-1 in t}function n(t,e,i){if(Q.isFunction(e))return Q.grep(t,function(t,n){return!!e.call(t,n,t)!==i});if(e.nodeType)return Q.grep(t,function(t){return t===e!==i});if("string"==typeof e){if(at.test(e))return Q.filter(e,t,i);e=Q.filter(e,t)}return Q.grep(t,function(t){return K.call(e,t)>=0!==i})}function r(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function o(t){var e=gt[t]={};return Q.each(t.match(dt)||[],function(t,i){e[i]=!0}),e}function s(){$.removeEventListener("DOMContentLoaded",s,!1),t.removeEventListener("load",s,!1),Q.ready()}function a(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=Q.expando+a.uid++}function l(t,e,i){var n;if(void 0===i&&1===t.nodeType)if(n="data-"+e.replace(St,"-$1").toLowerCase(),i=t.getAttribute(n),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:+i+""===i?+i:yt.test(i)?Q.parseJSON(i):i}catch(r){}mt.set(t,e,i)}else i=void 0;return i}function u(){return!0}function h(){return!1}function c(){try{return $.activeElement}catch(t){}}function p(t,e){return Q.nodeName(t,"table")&&Q.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function d(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function g(t){var e=kt.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function f(t,e){for(var i=0,n=t.length;n>i;i++)vt.set(t[i],"globalEval",!e||vt.get(e[i],"globalEval"))}function _(t,e){var i,n,r,o,s,a,l,u;if(1===e.nodeType){if(vt.hasData(t)&&(o=vt.access(t),s=vt.set(e,o),u=o.events)){delete s.handle,s.events={};for(r in u)for(i=0,n=u[r].length;n>i;i++)Q.event.add(e,r,u[r][i])}mt.hasData(t)&&(a=mt.access(t),l=Q.extend({},a),mt.set(e,l))}}function v(t,e){var i=t.getElementsByTagName?t.getElementsByTagName(e||"*"):t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&Q.nodeName(t,e)?Q.merge([t],i):i}function m(t,e){var i=e.nodeName.toLowerCase();"input"===i&&Ct.test(t.type)?e.checked=t.checked:"input"!==i&&"textarea"!==i||(e.defaultValue=t.defaultValue)}function y(e,i){var n,r=Q(i.createElement(e)).appendTo(i.body),o=t.getDefaultComputedStyle&&(n=t.getDefaultComputedStyle(r[0]))?n.display:Q.css(r[0],"display");return r.detach(),o}function S(t){var e=$,i=Ut[t];return i||(i=y(t,e),"none"!==i&&i||(Bt=(Bt||Q("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=Bt[0].contentDocument,e.write(),e.close(),i=y(t,e),Bt.detach()),Ut[t]=i),i}function E(t,e,i){var n,r,o,s,a=t.style;return i=i||Vt(t),i&&(s=i.getPropertyValue(e)||i[e]),i&&(""!==s||Q.contains(t.ownerDocument,t)||(s=Q.style(t,e)),jt.test(s)&&Gt.test(e)&&(n=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=i.width,a.width=n,a.minWidth=r,a.maxWidth=o)),void 0!==s?s+"":s}function T(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function b(t,e){if(e in t)return e;for(var i=e[0].toUpperCase()+e.slice(1),n=e,r=qt.length;r--;)if(e=qt[r]+i,e in t)return e;return n}function C(t,e,i){var n=Wt.exec(e);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):e}function A(t,e,i,n,r){for(var o=i===(n?"border":"content")?4:"width"===e?1:0,s=0;4>o;o+=2)"margin"===i&&(s+=Q.css(t,i+Tt[o],!0,r)),n?("content"===i&&(s-=Q.css(t,"padding"+Tt[o],!0,r)),"margin"!==i&&(s-=Q.css(t,"border"+Tt[o]+"Width",!0,r))):(s+=Q.css(t,"padding"+Tt[o],!0,r),"padding"!==i&&(s+=Q.css(t,"border"+Tt[o]+"Width",!0,r)));return s}function D(t,e,i){var n=!0,r="width"===e?t.offsetWidth:t.offsetHeight,o=Vt(t),s="border-box"===Q.css(t,"boxSizing",!1,o);if(0>=r||null==r){if(r=E(t,e,o),(0>r||null==r)&&(r=t.style[e]),jt.test(r))return r;n=s&&(Z.boxSizingReliable()||r===t.style[e]),r=parseFloat(r)||0}return r+A(t,e,i||(s?"border":"content"),n,o)+"px"}function I(t,e){for(var i,n,r,o=[],s=0,a=t.length;a>s;s++)n=t[s],n.style&&(o[s]=vt.get(n,"olddisplay"),i=n.style.display,e?(o[s]||"none"!==i||(n.style.display=""),""===n.style.display&&bt(n)&&(o[s]=vt.access(n,"olddisplay",S(n.nodeName)))):(r=bt(n),"none"===i&&r||vt.set(n,"olddisplay",r?i:Q.css(n,"display"))));for(s=0;a>s;s++)n=t[s],n.style&&(e&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=e?o[s]||"":"none"));return t}function x(t,e,i,n,r){return new x.prototype.init(t,e,i,n,r)}function O(){return setTimeout(function(){Zt=void 0}),Zt=Q.now()}function M(t,e){var i,n=0,r={height:t};for(e=e?1:0;4>n;n+=2-e)i=Tt[n],r["margin"+i]=r["padding"+i]=t;return e&&(r.opacity=r.width=t),r}function R(t,e,i){for(var n,r=(ie[e]||[]).concat(ie["*"]),o=0,s=r.length;s>o;o++)if(n=r[o].call(i,e,t))return n}function w(t,e,i){var n,r,o,s,a,l,u,h,c=this,p={},d=t.style,g=t.nodeType&&bt(t),f=vt.get(t,"fxshow");i.queue||(a=Q._queueHooks(t,"fx"),null==a.unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,c.always(function(){c.always(function(){a.unqueued--,Q.queue(t,"fx").length||a.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(i.overflow=[d.overflow,d.overflowX,d.overflowY],u=Q.css(t,"display"),h="none"===u?vt.get(t,"olddisplay")||S(t.nodeName):u,"inline"===h&&"none"===Q.css(t,"float")&&(d.display="inline-block")),i.overflow&&(d.overflow="hidden",c.always(function(){d.overflow=i.overflow[0],d.overflowX=i.overflow[1],d.overflowY=i.overflow[2]}));for(n in e)if(r=e[n],Jt.exec(r)){if(delete e[n],o=o||"toggle"===r,r===(g?"hide":"show")){if("show"!==r||!f||void 0===f[n])continue;g=!0}p[n]=f&&f[n]||Q.style(t,n)}else u=void 0;if(Q.isEmptyObject(p))"inline"===("none"===u?S(t.nodeName):u)&&(d.display=u);else{f?"hidden"in f&&(g=f.hidden):f=vt.access(t,"fxshow",{}),o&&(f.hidden=!g),g?Q(t).show():c.done(function(){Q(t).hide()}),c.done(function(){var e;vt.remove(t,"fxshow");for(e in p)Q.style(t,e,p[e])});for(n in p)s=R(g?f[n]:0,n,c),n in f||(f[n]=s.start,g&&(s.end=s.start,s.start="width"===n||"height"===n?1:0))}}function P(t,e){var i,n,r,o,s;for(i in t)if(n=Q.camelCase(i),r=e[n],o=t[i],Q.isArray(o)&&(r=o[1],o=t[i]=o[0]),i!==n&&(t[n]=o,delete t[i]),s=Q.cssHooks[n],s&&"expand"in s){o=s.expand(o),delete t[n];for(i in o)i in t||(t[i]=o[i],e[i]=r)}else e[n]=r}function L(t,e,i){var n,r,o=0,s=ee.length,a=Q.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var e=Zt||O(),i=Math.max(0,u.startTime+u.duration-e),n=i/u.duration||0,o=1-n,s=0,l=u.tweens.length;l>s;s++)u.tweens[s].run(o);return a.notifyWith(t,[u,o,i]),1>o&&l?i:(a.resolveWith(t,[u]),!1)},u=a.promise({elem:t,props:Q.extend({},e),opts:Q.extend(!0,{specialEasing:{}},i),originalProperties:e,originalOptions:i,startTime:Zt||O(),duration:i.duration,tweens:[],createTween:function(e,i){var n=Q.Tween(t,u.opts,e,i,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(n),n},stop:function(e){var i=0,n=e?u.tweens.length:0;if(r)return this;for(r=!0;n>i;i++)u.tweens[i].run(1);return e?a.resolveWith(t,[u,e]):a.rejectWith(t,[u,e]),this}}),h=u.props;for(P(h,u.opts.specialEasing);s>o;o++)if(n=ee[o].call(u,t,h,u.opts))return n;return Q.map(h,R,u),Q.isFunction(u.opts.start)&&u.opts.start.call(t,u),Q.fx.timer(Q.extend(l,{elem:t,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function N(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var n,r=0,o=e.toLowerCase().match(dt)||[];if(Q.isFunction(i))for(;n=o[r++];)"+"===n[0]?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(i)):(t[n]=t[n]||[]).push(i)}}function k(t,e,i,n){function r(a){var l;return o[a]=!0,Q.each(t[a]||[],function(t,a){var u=a(e,i,n);return"string"!=typeof u||s||o[u]?s?!(l=u):void 0:(e.dataTypes.unshift(u),r(u),!1)}),l}var o={},s=t===ye;return r(e.dataTypes[0])||!o["*"]&&r("*")}function H(t,e){var i,n,r=Q.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((r[i]?t:n||(n={}))[i]=e[i]);return n&&Q.extend(!0,t,n),t}function F(t,e,i){for(var n,r,o,s,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=t.mimeType||e.getResponseHeader("Content-Type"));if(n)for(r in a)if(a[r]&&a[r].test(n)){l.unshift(r);break}if(l[0]in i)o=l[0];else{for(r in i){if(!l[0]||t.converters[r+" "+l[0]]){o=r;break}s||(s=r)}o=o||s}return o?(o!==l[0]&&l.unshift(o),i[o]):void 0}function B(t,e,i,n){var r,o,s,a,l,u={},h=t.dataTypes.slice();if(h[1])for(s in t.converters)u[s.toLowerCase()]=t.converters[s];for(o=h.shift();o;)if(t.responseFields[o]&&(i[t.responseFields[o]]=e),!l&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=h.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(s=u[l+" "+o]||u["* "+o],!s)for(r in u)if(a=r.split(" "),a[1]===o&&(s=u[l+" "+a[0]]||u["* "+a[0]])){s===!0?s=u[r]:u[r]!==!0&&(o=a[0],h.unshift(a[1]));break}if(s!==!0)if(s&&t["throws"])e=s(e);else try{e=s(e)}catch(c){return{state:"parsererror",error:s?c:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}function U(t,e,i,n){var r;if(Q.isArray(e))Q.each(e,function(e,r){i||Ce.test(t)?n(t,r):U(t+"["+("object"==typeof r?e:"")+"]",r,i,n)});else if(i||"object"!==Q.type(e))n(t,e);else for(r in e)U(t+"["+r+"]",e[r],i,n)}function G(t){return Q.isWindow(t)?t:9===t.nodeType&&t.defaultView}var j=[],V=j.slice,Y=j.concat,W=j.push,K=j.indexOf,z={},X=z.toString,q=z.hasOwnProperty,Z={},$=t.document,J="2.1.3",Q=function(t,e){return new Q.fn.init(t,e)},tt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,et=/^-ms-/,it=/-([\da-z])/gi,nt=function(t,e){return e.toUpperCase()};Q.fn=Q.prototype={jquery:J,constructor:Q,selector:"",length:0,toArray:function(){return V.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:V.call(this)},pushStack:function(t){var e=Q.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return Q.each(this,t,e)},map:function(t){return this.pushStack(Q.map(this,function(e,i){return t.call(e,i,e)}))},slice:function(){return this.pushStack(V.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(0>t?e:0);return this.pushStack(i>=0&&e>i?[this[i]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:W,sort:j.sort,splice:j.splice},Q.extend=Q.fn.extend=function(){var t,e,i,n,r,o,s=arguments[0]||{},a=1,l=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[a]||{},a++),"object"==typeof s||Q.isFunction(s)||(s={}),a===l&&(s=this,a--);l>a;a++)if(null!=(t=arguments[a]))for(e in t)i=s[e],n=t[e],s!==n&&(u&&n&&(Q.isPlainObject(n)||(r=Q.isArray(n)))?(r?(r=!1,o=i&&Q.isArray(i)?i:[]):o=i&&Q.isPlainObject(i)?i:{},s[e]=Q.extend(u,o,n)):void 0!==n&&(s[e]=n));return s},Q.extend({expando:"jQuery"+(J+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===Q.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){return!Q.isArray(t)&&t-parseFloat(t)+1>=0},isPlainObject:function(t){return"object"!==Q.type(t)||t.nodeType||Q.isWindow(t)?!1:!t.constructor||q.call(t.constructor.prototype,"isPrototypeOf")},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?z[X.call(t)]||"object":typeof t},globalEval:function(t){var e,i=eval;t=Q.trim(t),t&&(1===t.indexOf("use strict")?(e=$.createElement("script"),e.text=t,$.head.appendChild(e).parentNode.removeChild(e)):i(t))},camelCase:function(t){return t.replace(et,"ms-").replace(it,nt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,n){var r,o=0,s=t.length,a=i(t);if(n){if(a)for(;s>o&&(r=e.apply(t[o],n),r!==!1);o++);else for(o in t)if(r=e.apply(t[o],n),r===!1)break}else if(a)for(;s>o&&(r=e.call(t[o],o,t[o]),r!==!1);o++);else for(o in t)if(r=e.call(t[o],o,t[o]),r===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(tt,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(i(Object(t))?Q.merge(n,"string"==typeof t?[t]:t):W.call(n,t)),n},inArray:function(t,e,i){return null==e?-1:K.call(e,t,i)},merge:function(t,e){for(var i=+e.length,n=0,r=t.length;i>n;n++)t[r++]=e[n];return t.length=r,t},grep:function(t,e,i){for(var n,r=[],o=0,s=t.length,a=!i;s>o;o++)n=!e(t[o],o),n!==a&&r.push(t[o]);return r},map:function(t,e,n){var r,o=0,s=t.length,a=i(t),l=[];if(a)for(;s>o;o++)r=e(t[o],o,n),null!=r&&l.push(r);else for(o in t)r=e(t[o],o,n),null!=r&&l.push(r);return Y.apply([],l)},guid:1,proxy:function(t,e){var i,n,r;return"string"==typeof e&&(i=t[e],e=t,t=i),Q.isFunction(t)?(n=V.call(arguments,2),r=function(){return t.apply(e||this,n.concat(V.call(arguments)))},r.guid=t.guid=t.guid||Q.guid++,r):void 0},now:Date.now,support:Z}),Q.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){z["[object "+e+"]"]=e.toLowerCase()});var rt=function(t){function e(t,e,i,n){var r,o,s,a,l,u,c,d,g,f;if((e?e.ownerDocument||e:U)!==w&&R(e),e=e||w,i=i||[],a=e.nodeType,"string"!=typeof t||!t||1!==a&&9!==a&&11!==a)return i;if(!n&&L){if(11!==a&&(r=mt.exec(t)))if(s=r[1]){if(9===a){if(o=e.getElementById(s),!o||!o.parentNode)return i;if(o.id===s)return i.push(o),i}else if(e.ownerDocument&&(o=e.ownerDocument.getElementById(s))&&F(e,o)&&o.id===s)return i.push(o),i}else{if(r[2])return J.apply(i,e.getElementsByTagName(t)),i;if((s=r[3])&&E.getElementsByClassName)return J.apply(i,e.getElementsByClassName(s)),i}if(E.qsa&&(!N||!N.test(t))){if(d=c=B,g=e,f=1!==a&&t,1===a&&"object"!==e.nodeName.toLowerCase()){for(u=A(t),(c=e.getAttribute("id"))?d=c.replace(St,"\\$&"):e.setAttribute("id",d),d="[id='"+d+"'] ",l=u.length;l--;)u[l]=d+p(u[l]);g=yt.test(t)&&h(e.parentNode)||e,f=u.join(",")}if(f)try{return J.apply(i,g.querySelectorAll(f)),i}catch(_){}finally{c||e.removeAttribute("id")}}}return I(t.replace(lt,"$1"),e,i,n)}function i(){function t(i,n){return e.push(i+" ")>T.cacheLength&&delete t[e.shift()],t[i+" "]=n}var e=[];return t}function n(t){return t[B]=!0,t}function r(t){var e=w.createElement("div");try{return!!t(e)}catch(i){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var i=t.split("|"),n=t.length;n--;)T.attrHandle[i[n]]=e}function s(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||z)-(~t.sourceIndex||z);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function a(t){return function(e){var i=e.nodeName.toLowerCase();return"input"===i&&e.type===t}}function l(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}function u(t){return n(function(e){return e=+e,n(function(i,n){for(var r,o=t([],i.length,e),s=o.length;s--;)i[r=o[s]]&&(i[r]=!(n[r]=i[r]))})})}function h(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function c(){}function p(t){for(var e=0,i=t.length,n="";i>e;e++)n+=t[e].value;return n}function d(t,e,i){var n=e.dir,r=i&&"parentNode"===n,o=j++;return e.first?function(e,i,o){for(;e=e[n];)if(1===e.nodeType||r)return t(e,i,o)}:function(e,i,s){var a,l,u=[G,o];if(s){for(;e=e[n];)if((1===e.nodeType||r)&&t(e,i,s))return!0}else for(;e=e[n];)if(1===e.nodeType||r){if(l=e[B]||(e[B]={}),(a=l[n])&&a[0]===G&&a[1]===o)return u[2]=a[2];if(l[n]=u,u[2]=t(e,i,s))return!0}}}function g(t){return t.length>1?function(e,i,n){for(var r=t.length;r--;)if(!t[r](e,i,n))return!1;return!0}:t[0]}function f(t,i,n){for(var r=0,o=i.length;o>r;r++)e(t,i[r],n);return n}function _(t,e,i,n,r){for(var o,s=[],a=0,l=t.length,u=null!=e;l>a;a++)(o=t[a])&&(i&&!i(o,n,r)||(s.push(o),u&&e.push(a)));return s}function v(t,e,i,r,o,s){return r&&!r[B]&&(r=v(r)),o&&!o[B]&&(o=v(o,s)),n(function(n,s,a,l){var u,h,c,p=[],d=[],g=s.length,v=n||f(e||"*",a.nodeType?[a]:a,[]),m=!t||!n&&e?v:_(v,p,t,a,l),y=i?o||(n?t:g||r)?[]:s:m;if(i&&i(m,y,a,l),r)for(u=_(y,d),r(u,[],a,l),h=u.length;h--;)(c=u[h])&&(y[d[h]]=!(m[d[h]]=c));if(n){if(o||t){if(o){for(u=[],h=y.length;h--;)(c=y[h])&&u.push(m[h]=c);o(null,y=[],u,l)}for(h=y.length;h--;)(c=y[h])&&(u=o?tt(n,c):p[h])>-1&&(n[u]=!(s[u]=c))}}else y=_(y===s?y.splice(g,y.length):y),o?o(null,s,y,l):J.apply(s,y)})}function m(t){for(var e,i,n,r=t.length,o=T.relative[t[0].type],s=o||T.relative[" "],a=o?1:0,l=d(function(t){return t===e},s,!0),u=d(function(t){return tt(e,t)>-1},s,!0),h=[function(t,i,n){var r=!o&&(n||i!==x)||((e=i).nodeType?l(t,i,n):u(t,i,n));return e=null,r}];r>a;a++)if(i=T.relative[t[a].type])h=[d(g(h),i)];else{if(i=T.filter[t[a].type].apply(null,t[a].matches),i[B]){for(n=++a;r>n&&!T.relative[t[n].type];n++);return v(a>1&&g(h),a>1&&p(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(lt,"$1"),i,n>a&&m(t.slice(a,n)),r>n&&m(t=t.slice(n)),r>n&&p(t))}h.push(i)}return g(h)}function y(t,i){var r=i.length>0,o=t.length>0,s=function(n,s,a,l,u){var h,c,p,d=0,g="0",f=n&&[],v=[],m=x,y=n||o&&T.find.TAG("*",u),S=G+=null==m?1:Math.random()||.1,E=y.length;for(u&&(x=s!==w&&s);g!==E&&null!=(h=y[g]);g++){if(o&&h){for(c=0;p=t[c++];)if(p(h,s,a)){l.push(h);break}u&&(G=S)}r&&((h=!p&&h)&&d--,n&&f.push(h))}if(d+=g,r&&g!==d){for(c=0;p=i[c++];)p(f,v,s,a);if(n){if(d>0)for(;g--;)f[g]||v[g]||(v[g]=Z.call(l));v=_(v)}J.apply(l,v),u&&!n&&v.length>0&&d+i.length>1&&e.uniqueSort(l)}return u&&(G=S,x=m),f};return r?n(s):s}var S,E,T,b,C,A,D,I,x,O,M,R,w,P,L,N,k,H,F,B="sizzle"+1*new Date,U=t.document,G=0,j=0,V=i(),Y=i(),W=i(),K=function(t,e){return t===e&&(M=!0),0},z=1<<31,X={}.hasOwnProperty,q=[],Z=q.pop,$=q.push,J=q.push,Q=q.slice,tt=function(t,e){for(var i=0,n=t.length;n>i;i++)if(t[i]===e)return i;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",it="[\\x20\\t\\r\\n\\f]",nt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",rt=nt.replace("w","w#"),ot="\\["+it+"*("+nt+")(?:"+it+"*([*^$|!~]?=)"+it+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+rt+"))|)"+it+"*\\]",st=":("+nt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ot+")*)|.*)\\)|)",at=new RegExp(it+"+","g"),lt=new RegExp("^"+it+"+|((?:^|[^\\\\])(?:\\\\.)*)"+it+"+$","g"),ut=new RegExp("^"+it+"*,"+it+"*"),ht=new RegExp("^"+it+"*([>+~]|"+it+")"+it+"*"),ct=new RegExp("="+it+"*([^\\]'\"]*?)"+it+"*\\]","g"),pt=new RegExp(st),dt=new RegExp("^"+rt+"$"),gt={ID:new RegExp("^#("+nt+")"),CLASS:new RegExp("^\\.("+nt+")"),TAG:new RegExp("^("+nt.replace("w","w*")+")"),ATTR:new RegExp("^"+ot),PSEUDO:new RegExp("^"+st),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+it+"*(even|odd|(([+-]|)(\\d*)n|)"+it+"*(?:([+-]|)"+it+"*(\\d+)|))"+it+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+it+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+it+"*((?:-\\d)?\\d*)"+it+"*\\)|)(?=[^-]|$)","i")},ft=/^(?:input|select|textarea|button)$/i,_t=/^h\d$/i,vt=/^[^{]+\{\s*\[native \w/,mt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yt=/[+~]/,St=/'|\\/g,Et=new RegExp("\\\\([\\da-f]{1,6}"+it+"?|("+it+")|.)","ig"),Tt=function(t,e,i){var n="0x"+e-65536;return n!==n||i?e:0>n?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},bt=function(){R()};try{J.apply(q=Q.call(U.childNodes),U.childNodes),q[U.childNodes.length].nodeType}catch(Ct){J={apply:q.length?function(t,e){$.apply(t,Q.call(e))}:function(t,e){for(var i=t.length,n=0;t[i++]=e[n++];);t.length=i-1}}}E=e.support={},C=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},R=e.setDocument=function(t){var e,i,n=t?t.ownerDocument||t:U;return n!==w&&9===n.nodeType&&n.documentElement?(w=n,P=n.documentElement,i=n.defaultView,i&&i!==i.top&&(i.addEventListener?i.addEventListener("unload",bt,!1):i.attachEvent&&i.attachEvent("onunload",bt)),L=!C(n),E.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),E.getElementsByTagName=r(function(t){return t.appendChild(n.createComment("")),!t.getElementsByTagName("*").length}),E.getElementsByClassName=vt.test(n.getElementsByClassName),E.getById=r(function(t){return P.appendChild(t).id=B,!n.getElementsByName||!n.getElementsByName(B).length}),E.getById?(T.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&L){var i=e.getElementById(t);return i&&i.parentNode?[i]:[]}},T.filter.ID=function(t){var e=t.replace(Et,Tt);return function(t){return t.getAttribute("id")===e}}):(delete T.find.ID,T.filter.ID=function(t){var e=t.replace(Et,Tt);return function(t){var i="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return i&&i.value===e}}),T.find.TAG=E.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):E.qsa?e.querySelectorAll(t):void 0}:function(t,e){var i,n=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;i=o[r++];)1===i.nodeType&&n.push(i);return n}return o},T.find.CLASS=E.getElementsByClassName&&function(t,e){return L?e.getElementsByClassName(t):void 0},k=[],N=[],(E.qsa=vt.test(n.querySelectorAll))&&(r(function(t){P.appendChild(t).innerHTML="<a id='"+B+"'></a><select id='"+B+"-\f]' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&N.push("[*^$]="+it+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||N.push("\\["+it+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+B+"-]").length||N.push("~="),t.querySelectorAll(":checked").length||N.push(":checked"),t.querySelectorAll("a#"+B+"+*").length||N.push(".#.+[+~]")}),r(function(t){var e=n.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&N.push("name"+it+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||N.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),N.push(",.*:")})),(E.matchesSelector=vt.test(H=P.matches||P.webkitMatchesSelector||P.mozMatchesSelector||P.oMatchesSelector||P.msMatchesSelector))&&r(function(t){E.disconnectedMatch=H.call(t,"div"),H.call(t,"[s!='']:x"),k.push("!=",st)}),N=N.length&&new RegExp(N.join("|")),k=k.length&&new RegExp(k.join("|")),e=vt.test(P.compareDocumentPosition),F=e||vt.test(P.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},K=e?function(t,e){if(t===e)return M=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i?i:(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&i||!E.sortDetached&&e.compareDocumentPosition(t)===i?t===n||t.ownerDocument===U&&F(U,t)?-1:e===n||e.ownerDocument===U&&F(U,e)?1:O?tt(O,t)-tt(O,e):0:4&i?-1:1)}:function(t,e){if(t===e)return M=!0,0;var i,r=0,o=t.parentNode,a=e.parentNode,l=[t],u=[e];if(!o||!a)return t===n?-1:e===n?1:o?-1:a?1:O?tt(O,t)-tt(O,e):0;if(o===a)return s(t,e);for(i=t;i=i.parentNode;)l.unshift(i);for(i=e;i=i.parentNode;)u.unshift(i);for(;l[r]===u[r];)r++;return r?s(l[r],u[r]):l[r]===U?-1:u[r]===U?1:0},n):w},e.matches=function(t,i){return e(t,null,null,i)},e.matchesSelector=function(t,i){if((t.ownerDocument||t)!==w&&R(t),i=i.replace(ct,"='$1']"),E.matchesSelector&&L&&(!k||!k.test(i))&&(!N||!N.test(i)))try{var n=H.call(t,i);if(n||E.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(r){}return e(i,w,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==w&&R(t),F(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==w&&R(t);var i=T.attrHandle[e.toLowerCase()],n=i&&X.call(T.attrHandle,e.toLowerCase())?i(t,e,!L):void 0;return void 0!==n?n:E.attributes||!L?t.getAttribute(e):(n=t.getAttributeNode(e))&&n.specified?n.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,i=[],n=0,r=0;if(M=!E.detectDuplicates,O=!E.sortStable&&t.slice(0),t.sort(K),M){for(;e=t[r++];)e===t[r]&&(n=i.push(r));for(;n--;)t.splice(i[n],1)}return O=null,t},b=e.getText=function(t){var e,i="",n=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=b(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[n++];)i+=b(e);return i},T=e.selectors={cacheLength:50,createPseudo:n,match:gt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(Et,Tt),t[3]=(t[3]||t[4]||t[5]||"").replace(Et,Tt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return gt.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&pt.test(i)&&(e=A(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(Et,Tt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=V[t+" "];return e||(e=new RegExp("(^|"+it+")"+t+"("+it+"|$)"))&&V(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,i,n){return function(r){var o=e.attr(r,t);return null==o?"!="===i:i?(o+="","="===i?o===n:"!="===i?o!==n:"^="===i?n&&0===o.indexOf(n):"*="===i?n&&o.indexOf(n)>-1:"$="===i?n&&o.slice(-n.length)===n:"~="===i?(" "+o.replace(at," ")+" ").indexOf(n)>-1:"|="===i?o===n||o.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(t,e,i,n,r){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===n&&0===r?function(t){return!!t.parentNode}:function(e,i,l){var u,h,c,p,d,g,f=o!==s?"nextSibling":"previousSibling",_=e.parentNode,v=a&&e.nodeName.toLowerCase(),m=!l&&!a;if(_){if(o){for(;f;){for(c=e;c=c[f];)if(a?c.nodeName.toLowerCase()===v:1===c.nodeType)return!1;g=f="only"===t&&!g&&"nextSibling"}return!0}if(g=[s?_.firstChild:_.lastChild],s&&m){for(h=_[B]||(_[B]={}),u=h[t]||[],d=u[0]===G&&u[1],p=u[0]===G&&u[2],c=d&&_.childNodes[d];c=++d&&c&&c[f]||(p=d=0)||g.pop();)if(1===c.nodeType&&++p&&c===e){h[t]=[G,d,p];break}}else if(m&&(u=(e[B]||(e[B]={}))[t])&&u[0]===G)p=u[1];else for(;(c=++d&&c&&c[f]||(p=d=0)||g.pop())&&((a?c.nodeName.toLowerCase()!==v:1!==c.nodeType)||!++p||(m&&((c[B]||(c[B]={}))[t]=[G,p]),c!==e)););return p-=r,p===n||p%n===0&&p/n>=0}}},PSEUDO:function(t,i){var r,o=T.pseudos[t]||T.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[B]?o(i):o.length>1?(r=[t,t,"",i],T.setFilters.hasOwnProperty(t.toLowerCase())?n(function(t,e){for(var n,r=o(t,i),s=r.length;s--;)n=tt(t,r[s]),t[n]=!(e[n]=r[s])}):function(t){return o(t,0,r)}):o}},pseudos:{not:n(function(t){var e=[],i=[],r=D(t.replace(lt,"$1"));return r[B]?n(function(t,e,i,n){for(var o,s=r(t,null,n,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))}):function(t,n,o){return e[0]=t,r(e,null,o,i),e[0]=null,!i.pop()}}),has:n(function(t){return function(i){return e(t,i).length>0}}),contains:n(function(t){return t=t.replace(Et,Tt),function(e){return(e.textContent||e.innerText||b(e)).indexOf(t)>-1}}),lang:n(function(t){return dt.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(Et,Tt).toLowerCase(),function(e){var i;do if(i=L?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return i=i.toLowerCase(),i===t||0===i.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===P},focus:function(t){return t===w.activeElement&&(!w.hasFocus||w.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!T.pseudos.empty(t)},header:function(t){return _t.test(t.nodeName)},input:function(t){return ft.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:u(function(){return[0]}),last:u(function(t,e){return[e-1]}),eq:u(function(t,e,i){return[0>i?i+e:i]}),even:u(function(t,e){for(var i=0;e>i;i+=2)t.push(i);return t}),odd:u(function(t,e){for(var i=1;e>i;i+=2)t.push(i);return t}),lt:u(function(t,e,i){for(var n=0>i?i+e:i;--n>=0;)t.push(n);return t}),gt:u(function(t,e,i){for(var n=0>i?i+e:i;++n<e;)t.push(n);return t})}},T.pseudos.nth=T.pseudos.eq;for(S in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})T.pseudos[S]=a(S);for(S in{submit:!0,reset:!0})T.pseudos[S]=l(S);return c.prototype=T.filters=T.pseudos,T.setFilters=new c,A=e.tokenize=function(t,i){var n,r,o,s,a,l,u,h=Y[t+" "];if(h)return i?0:h.slice(0);for(a=t,l=[],u=T.preFilter;a;){n&&!(r=ut.exec(a))||(r&&(a=a.slice(r[0].length)||a),l.push(o=[])),n=!1,(r=ht.exec(a))&&(n=r.shift(),o.push({value:n,type:r[0].replace(lt," ")}),a=a.slice(n.length));for(s in T.filter)!(r=gt[s].exec(a))||u[s]&&!(r=u[s](r))||(n=r.shift(),o.push({value:n,type:s,matches:r}),a=a.slice(n.length));if(!n)break}return i?a.length:a?e.error(t):Y(t,l).slice(0)},D=e.compile=function(t,e){var i,n=[],r=[],o=W[t+" "];if(!o){for(e||(e=A(t)),i=e.length;i--;)o=m(e[i]),o[B]?n.push(o):r.push(o);o=W(t,y(r,n)),o.selector=t}return o},I=e.select=function(t,e,i,n){var r,o,s,a,l,u="function"==typeof t&&t,c=!n&&A(t=u.selector||t);if(i=i||[],1===c.length){if(o=c[0]=c[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&E.getById&&9===e.nodeType&&L&&T.relative[o[1].type]){if(e=(T.find.ID(s.matches[0].replace(Et,Tt),e)||[])[0],!e)return i;u&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(r=gt.needsContext.test(t)?0:o.length;r--&&(s=o[r],!T.relative[a=s.type]);)if((l=T.find[a])&&(n=l(s.matches[0].replace(Et,Tt),yt.test(o[0].type)&&h(e.parentNode)||e))){if(o.splice(r,1),t=n.length&&p(o),!t)return J.apply(i,n),i;break}}return(u||D(t,c))(n,e,!L,i,yt.test(t)&&h(e.parentNode)||e),i},E.sortStable=B.split("").sort(K).join("")===B,E.detectDuplicates=!!M,R(),E.sortDetached=r(function(t){return 1&t.compareDocumentPosition(w.createElement("div"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,i){return i?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),E.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,i){return i||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||o(et,function(t,e,i){var n;return i?void 0:t[e]===!0?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null}),e}(t);Q.find=rt,Q.expr=rt.selectors,Q.expr[":"]=Q.expr.pseudos,
Q.unique=rt.uniqueSort,Q.text=rt.getText,Q.isXMLDoc=rt.isXML,Q.contains=rt.contains;var ot=Q.expr.match.needsContext,st=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,at=/^.[^:#\[\.,]*$/;Q.filter=function(t,e,i){var n=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?Q.find.matchesSelector(n,t)?[n]:[]:Q.find.matches(t,Q.grep(e,function(t){return 1===t.nodeType}))},Q.fn.extend({find:function(t){var e,i=this.length,n=[],r=this;if("string"!=typeof t)return this.pushStack(Q(t).filter(function(){for(e=0;i>e;e++)if(Q.contains(r[e],this))return!0}));for(e=0;i>e;e++)Q.find(t,r[e],n);return n=this.pushStack(i>1?Q.unique(n):n),n.selector=this.selector?this.selector+" "+t:t,n},filter:function(t){return this.pushStack(n(this,t||[],!1))},not:function(t){return this.pushStack(n(this,t||[],!0))},is:function(t){return!!n(this,"string"==typeof t&&ot.test(t)?Q(t):t||[],!1).length}});var lt,ut=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ht=Q.fn.init=function(t,e){var i,n;if(!t)return this;if("string"==typeof t){if(i="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:ut.exec(t),!i||!i[1]&&e)return!e||e.jquery?(e||lt).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof Q?e[0]:e,Q.merge(this,Q.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:$,!0)),st.test(i[1])&&Q.isPlainObject(e))for(i in e)Q.isFunction(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return n=$.getElementById(i[2]),n&&n.parentNode&&(this.length=1,this[0]=n),this.context=$,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):Q.isFunction(t)?"undefined"!=typeof lt.ready?lt.ready(t):t(Q):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),Q.makeArray(t,this))};ht.prototype=Q.fn,lt=Q($);var ct=/^(?:parents|prev(?:Until|All))/,pt={children:!0,contents:!0,next:!0,prev:!0};Q.extend({dir:function(t,e,i){for(var n=[],r=void 0!==i;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&Q(t).is(i))break;n.push(t)}return n},sibling:function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i}}),Q.fn.extend({has:function(t){var e=Q(t,this),i=e.length;return this.filter(function(){for(var t=0;i>t;t++)if(Q.contains(this,e[t]))return!0})},closest:function(t,e){for(var i,n=0,r=this.length,o=[],s=ot.test(t)||"string"!=typeof t?Q(t,e||this.context):0;r>n;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(s?s.index(i)>-1:1===i.nodeType&&Q.find.matchesSelector(i,t))){o.push(i);break}return this.pushStack(o.length>1?Q.unique(o):o)},index:function(t){return t?"string"==typeof t?K.call(Q(t),this[0]):K.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(Q.unique(Q.merge(this.get(),Q(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),Q.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return Q.dir(t,"parentNode")},parentsUntil:function(t,e,i){return Q.dir(t,"parentNode",i)},next:function(t){return r(t,"nextSibling")},prev:function(t){return r(t,"previousSibling")},nextAll:function(t){return Q.dir(t,"nextSibling")},prevAll:function(t){return Q.dir(t,"previousSibling")},nextUntil:function(t,e,i){return Q.dir(t,"nextSibling",i)},prevUntil:function(t,e,i){return Q.dir(t,"previousSibling",i)},siblings:function(t){return Q.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return Q.sibling(t.firstChild)},contents:function(t){return t.contentDocument||Q.merge([],t.childNodes)}},function(t,e){Q.fn[t]=function(i,n){var r=Q.map(this,e,i);return"Until"!==t.slice(-5)&&(n=i),n&&"string"==typeof n&&(r=Q.filter(n,r)),this.length>1&&(pt[t]||Q.unique(r),ct.test(t)&&r.reverse()),this.pushStack(r)}});var dt=/\S+/g,gt={};Q.Callbacks=function(t){t="string"==typeof t?gt[t]||o(t):Q.extend({},t);var e,i,n,r,s,a,l=[],u=!t.once&&[],h=function(o){for(e=t.memory&&o,i=!0,a=r||0,r=0,s=l.length,n=!0;l&&s>a;a++)if(l[a].apply(o[0],o[1])===!1&&t.stopOnFalse){e=!1;break}n=!1,l&&(u?u.length&&h(u.shift()):e?l=[]:c.disable())},c={add:function(){if(l){var i=l.length;!function o(e){Q.each(e,function(e,i){var n=Q.type(i);"function"===n?t.unique&&c.has(i)||l.push(i):i&&i.length&&"string"!==n&&o(i)})}(arguments),n?s=l.length:e&&(r=i,h(e))}return this},remove:function(){return l&&Q.each(arguments,function(t,e){for(var i;(i=Q.inArray(e,l,i))>-1;)l.splice(i,1),n&&(s>=i&&s--,a>=i&&a--)}),this},has:function(t){return t?Q.inArray(t,l)>-1:!(!l||!l.length)},empty:function(){return l=[],s=0,this},disable:function(){return l=u=e=void 0,this},disabled:function(){return!l},lock:function(){return u=void 0,e||c.disable(),this},locked:function(){return!u},fireWith:function(t,e){return!l||i&&!u||(e=e||[],e=[t,e.slice?e.slice():e],n?u.push(e):h(e)),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},Q.extend({Deferred:function(t){var e=[["resolve","done",Q.Callbacks("once memory"),"resolved"],["reject","fail",Q.Callbacks("once memory"),"rejected"],["notify","progress",Q.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var t=arguments;return Q.Deferred(function(i){Q.each(e,function(e,o){var s=Q.isFunction(t[e])&&t[e];r[o[1]](function(){var t=s&&s.apply(this,arguments);t&&Q.isFunction(t.promise)?t.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[o[0]+"With"](this===n?i.promise():this,s?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?Q.extend(t,n):n}},r={};return n.pipe=n.then,Q.each(e,function(t,o){var s=o[2],a=o[3];n[o[1]]=s.add,a&&s.add(function(){i=a},e[1^t][2].disable,e[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?n:this,arguments),this},r[o[0]+"With"]=s.fireWith}),n.promise(r),t&&t.call(r,r),r},when:function(t){var e,i,n,r=0,o=V.call(arguments),s=o.length,a=1!==s||t&&Q.isFunction(t.promise)?s:0,l=1===a?t:Q.Deferred(),u=function(t,i,n){return function(r){i[t]=this,n[t]=arguments.length>1?V.call(arguments):r,n===e?l.notifyWith(i,n):--a||l.resolveWith(i,n)}};if(s>1)for(e=new Array(s),i=new Array(s),n=new Array(s);s>r;r++)o[r]&&Q.isFunction(o[r].promise)?o[r].promise().done(u(r,n,o)).fail(l.reject).progress(u(r,i,e)):--a;return a||l.resolveWith(n,o),l.promise()}});var ft;Q.fn.ready=function(t){return Q.ready.promise().done(t),this},Q.extend({isReady:!1,readyWait:1,holdReady:function(t){t?Q.readyWait++:Q.ready(!0)},ready:function(t){(t===!0?--Q.readyWait:Q.isReady)||(Q.isReady=!0,t!==!0&&--Q.readyWait>0||(ft.resolveWith($,[Q]),Q.fn.triggerHandler&&(Q($).triggerHandler("ready"),Q($).off("ready"))))}}),Q.ready.promise=function(e){return ft||(ft=Q.Deferred(),"complete"===$.readyState?setTimeout(Q.ready):($.addEventListener("DOMContentLoaded",s,!1),t.addEventListener("load",s,!1))),ft.promise(e)},Q.ready.promise();var _t=Q.access=function(t,e,i,n,r,o,s){var a=0,l=t.length,u=null==i;if("object"===Q.type(i)){r=!0;for(a in i)Q.access(t,e,a,i[a],!0,o,s)}else if(void 0!==n&&(r=!0,Q.isFunction(n)||(s=!0),u&&(s?(e.call(t,n),e=null):(u=e,e=function(t,e,i){return u.call(Q(t),i)})),e))for(;l>a;a++)e(t[a],i,s?n:n.call(t[a],a,e(t[a],i)));return r?t:u?e.call(t):l?e(t[0],i):o};Q.acceptData=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType},a.uid=1,a.accepts=Q.acceptData,a.prototype={key:function(t){if(!a.accepts(t))return 0;var e={},i=t[this.expando];if(!i){i=a.uid++;try{e[this.expando]={value:i},Object.defineProperties(t,e)}catch(n){e[this.expando]=i,Q.extend(t,e)}}return this.cache[i]||(this.cache[i]={}),i},set:function(t,e,i){var n,r=this.key(t),o=this.cache[r];if("string"==typeof e)o[e]=i;else if(Q.isEmptyObject(o))Q.extend(this.cache[r],e);else for(n in e)o[n]=e[n];return o},get:function(t,e){var i=this.cache[this.key(t)];return void 0===e?i:i[e]},access:function(t,e,i){var n;return void 0===e||e&&"string"==typeof e&&void 0===i?(n=this.get(t,e),void 0!==n?n:this.get(t,Q.camelCase(e))):(this.set(t,e,i),void 0!==i?i:e)},remove:function(t,e){var i,n,r,o=this.key(t),s=this.cache[o];if(void 0===e)this.cache[o]={};else{Q.isArray(e)?n=e.concat(e.map(Q.camelCase)):(r=Q.camelCase(e),e in s?n=[e,r]:(n=r,n=n in s?[n]:n.match(dt)||[])),i=n.length;for(;i--;)delete s[n[i]]}},hasData:function(t){return!Q.isEmptyObject(this.cache[t[this.expando]]||{})},discard:function(t){t[this.expando]&&delete this.cache[t[this.expando]]}};var vt=new a,mt=new a,yt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,St=/([A-Z])/g;Q.extend({hasData:function(t){return mt.hasData(t)||vt.hasData(t)},data:function(t,e,i){return mt.access(t,e,i)},removeData:function(t,e){mt.remove(t,e)},_data:function(t,e,i){return vt.access(t,e,i)},_removeData:function(t,e){vt.remove(t,e)}}),Q.fn.extend({data:function(t,e){var i,n,r,o=this[0],s=o&&o.attributes;if(void 0===t){if(this.length&&(r=mt.get(o),1===o.nodeType&&!vt.get(o,"hasDataAttrs"))){for(i=s.length;i--;)s[i]&&(n=s[i].name,0===n.indexOf("data-")&&(n=Q.camelCase(n.slice(5)),l(o,n,r[n])));vt.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each(function(){mt.set(this,t)}):_t(this,function(e){var i,n=Q.camelCase(t);if(o&&void 0===e){if(i=mt.get(o,t),void 0!==i)return i;if(i=mt.get(o,n),void 0!==i)return i;if(i=l(o,n,void 0),void 0!==i)return i}else this.each(function(){var i=mt.get(this,n);mt.set(this,n,e),-1!==t.indexOf("-")&&void 0!==i&&mt.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){mt.remove(this,t)})}}),Q.extend({queue:function(t,e,i){var n;return t?(e=(e||"fx")+"queue",n=vt.get(t,e),i&&(!n||Q.isArray(i)?n=vt.access(t,e,Q.makeArray(i)):n.push(i)),n||[]):void 0},dequeue:function(t,e){e=e||"fx";var i=Q.queue(t,e),n=i.length,r=i.shift(),o=Q._queueHooks(t,e),s=function(){Q.dequeue(t,e)};"inprogress"===r&&(r=i.shift(),n--),r&&("fx"===e&&i.unshift("inprogress"),delete o.stop,r.call(t,s,o)),!n&&o&&o.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return vt.get(t,i)||vt.access(t,i,{empty:Q.Callbacks("once memory").add(function(){vt.remove(t,[e+"queue",i])})})}}),Q.fn.extend({queue:function(t,e){var i=2;return"string"!=typeof t&&(e=t,t="fx",i--),arguments.length<i?Q.queue(this[0],t):void 0===e?this:this.each(function(){var i=Q.queue(this,t,e);Q._queueHooks(this,t),"fx"===t&&"inprogress"!==i[0]&&Q.dequeue(this,t)})},dequeue:function(t){return this.each(function(){Q.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var i,n=1,r=Q.Deferred(),o=this,s=this.length,a=function(){--n||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)i=vt.get(o[s],t+"queueHooks"),i&&i.empty&&(n++,i.empty.add(a));return a(),r.promise(e)}});var Et=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Tt=["Top","Right","Bottom","Left"],bt=function(t,e){return t=e||t,"none"===Q.css(t,"display")||!Q.contains(t.ownerDocument,t)},Ct=/^(?:checkbox|radio)$/i;!function(){var t=$.createDocumentFragment(),e=t.appendChild($.createElement("div")),i=$.createElement("input");i.setAttribute("type","radio"),i.setAttribute("checked","checked"),i.setAttribute("name","t"),e.appendChild(i),Z.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",Z.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var At="undefined";Z.focusinBubbles="onfocusin"in t;var Dt=/^key/,It=/^(?:mouse|pointer|contextmenu)|click/,xt=/^(?:focusinfocus|focusoutblur)$/,Ot=/^([^.]*)(?:\.(.+)|)$/;Q.event={global:{},add:function(t,e,i,n,r){var o,s,a,l,u,h,c,p,d,g,f,_=vt.get(t);if(_)for(i.handler&&(o=i,i=o.handler,r=o.selector),i.guid||(i.guid=Q.guid++),(l=_.events)||(l=_.events={}),(s=_.handle)||(s=_.handle=function(e){return typeof Q!==At&&Q.event.triggered!==e.type?Q.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(dt)||[""],u=e.length;u--;)a=Ot.exec(e[u])||[],d=f=a[1],g=(a[2]||"").split(".").sort(),d&&(c=Q.event.special[d]||{},d=(r?c.delegateType:c.bindType)||d,c=Q.event.special[d]||{},h=Q.extend({type:d,origType:f,data:n,handler:i,guid:i.guid,selector:r,needsContext:r&&Q.expr.match.needsContext.test(r),namespace:g.join(".")},o),(p=l[d])||(p=l[d]=[],p.delegateCount=0,c.setup&&c.setup.call(t,n,g,s)!==!1||t.addEventListener&&t.addEventListener(d,s,!1)),c.add&&(c.add.call(t,h),h.handler.guid||(h.handler.guid=i.guid)),r?p.splice(p.delegateCount++,0,h):p.push(h),Q.event.global[d]=!0)},remove:function(t,e,i,n,r){var o,s,a,l,u,h,c,p,d,g,f,_=vt.hasData(t)&&vt.get(t);if(_&&(l=_.events)){for(e=(e||"").match(dt)||[""],u=e.length;u--;)if(a=Ot.exec(e[u])||[],d=f=a[1],g=(a[2]||"").split(".").sort(),d){for(c=Q.event.special[d]||{},d=(n?c.delegateType:c.bindType)||d,p=l[d]||[],a=a[2]&&new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=p.length;o--;)h=p[o],!r&&f!==h.origType||i&&i.guid!==h.guid||a&&!a.test(h.namespace)||n&&n!==h.selector&&("**"!==n||!h.selector)||(p.splice(o,1),h.selector&&p.delegateCount--,c.remove&&c.remove.call(t,h));s&&!p.length&&(c.teardown&&c.teardown.call(t,g,_.handle)!==!1||Q.removeEvent(t,d,_.handle),delete l[d])}else for(d in l)Q.event.remove(t,d+e[u],i,n,!0);Q.isEmptyObject(l)&&(delete _.handle,vt.remove(t,"events"))}},trigger:function(e,i,n,r){var o,s,a,l,u,h,c,p=[n||$],d=q.call(e,"type")?e.type:e,g=q.call(e,"namespace")?e.namespace.split("."):[];if(s=a=n=n||$,3!==n.nodeType&&8!==n.nodeType&&!xt.test(d+Q.event.triggered)&&(d.indexOf(".")>=0&&(g=d.split("."),d=g.shift(),g.sort()),u=d.indexOf(":")<0&&"on"+d,e=e[Q.expando]?e:new Q.Event(d,"object"==typeof e&&e),e.isTrigger=r?2:3,e.namespace=g.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),i=null==i?[e]:Q.makeArray(i,[e]),c=Q.event.special[d]||{},r||!c.trigger||c.trigger.apply(n,i)!==!1)){if(!r&&!c.noBubble&&!Q.isWindow(n)){for(l=c.delegateType||d,xt.test(l+d)||(s=s.parentNode);s;s=s.parentNode)p.push(s),a=s;a===(n.ownerDocument||$)&&p.push(a.defaultView||a.parentWindow||t)}for(o=0;(s=p[o++])&&!e.isPropagationStopped();)e.type=o>1?l:c.bindType||d,h=(vt.get(s,"events")||{})[e.type]&&vt.get(s,"handle"),h&&h.apply(s,i),h=u&&s[u],h&&h.apply&&Q.acceptData(s)&&(e.result=h.apply(s,i),e.result===!1&&e.preventDefault());return e.type=d,r||e.isDefaultPrevented()||c._default&&c._default.apply(p.pop(),i)!==!1||!Q.acceptData(n)||u&&Q.isFunction(n[d])&&!Q.isWindow(n)&&(a=n[u],a&&(n[u]=null),Q.event.triggered=d,n[d](),Q.event.triggered=void 0,a&&(n[u]=a)),e.result}},dispatch:function(t){t=Q.event.fix(t);var e,i,n,r,o,s=[],a=V.call(arguments),l=(vt.get(this,"events")||{})[t.type]||[],u=Q.event.special[t.type]||{};if(a[0]=t,t.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,t)!==!1){for(s=Q.event.handlers.call(this,t,l),e=0;(r=s[e++])&&!t.isPropagationStopped();)for(t.currentTarget=r.elem,i=0;(o=r.handlers[i++])&&!t.isImmediatePropagationStopped();)t.namespace_re&&!t.namespace_re.test(o.namespace)||(t.handleObj=o,t.data=o.data,n=((Q.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,a),void 0!==n&&(t.result=n)===!1&&(t.preventDefault(),t.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,t),t.result}},handlers:function(t,e){var i,n,r,o,s=[],a=e.delegateCount,l=t.target;if(a&&l.nodeType&&(!t.button||"click"!==t.type))for(;l!==this;l=l.parentNode||this)if(l.disabled!==!0||"click"!==t.type){for(n=[],i=0;a>i;i++)o=e[i],r=o.selector+" ",void 0===n[r]&&(n[r]=o.needsContext?Q(r,this).index(l)>=0:Q.find(r,this,null,[l]).length),n[r]&&n.push(o);n.length&&s.push({elem:l,handlers:n})}return a<e.length&&s.push({elem:this,handlers:e.slice(a)}),s},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var i,n,r,o=e.button;return null==t.pageX&&null!=e.clientX&&(i=t.target.ownerDocument||$,n=i.documentElement,r=i.body,t.pageX=e.clientX+(n&&n.scrollLeft||r&&r.scrollLeft||0)-(n&&n.clientLeft||r&&r.clientLeft||0),t.pageY=e.clientY+(n&&n.scrollTop||r&&r.scrollTop||0)-(n&&n.clientTop||r&&r.clientTop||0)),t.which||void 0===o||(t.which=1&o?1:2&o?3:4&o?2:0),t}},fix:function(t){if(t[Q.expando])return t;var e,i,n,r=t.type,o=t,s=this.fixHooks[r];for(s||(this.fixHooks[r]=s=It.test(r)?this.mouseHooks:Dt.test(r)?this.keyHooks:{}),n=s.props?this.props.concat(s.props):this.props,t=new Q.Event(o),e=n.length;e--;)i=n[e],t[i]=o[i];return t.target||(t.target=$),3===t.target.nodeType&&(t.target=t.target.parentNode),s.filter?s.filter(t,o):t},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==c()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===c()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&Q.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(t){return Q.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,i,n){var r=Q.extend(new Q.Event,i,{type:t,isSimulated:!0,originalEvent:{}});n?Q.event.trigger(r,null,e):Q.event.dispatch.call(e,r),r.isDefaultPrevented()&&i.preventDefault()}},Q.removeEvent=function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i,!1)},Q.Event=function(t,e){return this instanceof Q.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?u:h):this.type=t,e&&Q.extend(this,e),this.timeStamp=t&&t.timeStamp||Q.now(),void(this[Q.expando]=!0)):new Q.Event(t,e)},Q.Event.prototype={isDefaultPrevented:h,isPropagationStopped:h,isImmediatePropagationStopped:h,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=u,t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=u,t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=u,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},Q.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){Q.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=this,r=t.relatedTarget,o=t.handleObj;return r&&(r===n||Q.contains(n,r))||(t.type=o.origType,i=o.handler.apply(this,arguments),t.type=e),i}}}),Z.focusinBubbles||Q.each({focus:"focusin",blur:"focusout"},function(t,e){var i=function(t){Q.event.simulate(e,t.target,Q.event.fix(t),!0)};Q.event.special[e]={setup:function(){var n=this.ownerDocument||this,r=vt.access(n,e);r||n.addEventListener(t,i,!0),vt.access(n,e,(r||0)+1)},teardown:function(){var n=this.ownerDocument||this,r=vt.access(n,e)-1;r?vt.access(n,e,r):(n.removeEventListener(t,i,!0),vt.remove(n,e))}}}),Q.fn.extend({on:function(t,e,i,n,r){var o,s;if("object"==typeof t){"string"!=typeof e&&(i=i||e,e=void 0);for(s in t)this.on(s,e,i,t[s],r);return this}if(null==i&&null==n?(n=e,i=e=void 0):null==n&&("string"==typeof e?(n=i,i=void 0):(n=i,i=e,e=void 0)),n===!1)n=h;else if(!n)return this;return 1===r&&(o=n,n=function(t){return Q().off(t),o.apply(this,arguments)},n.guid=o.guid||(o.guid=Q.guid++)),this.each(function(){Q.event.add(this,t,n,i,e)})},one:function(t,e,i,n){return this.on(t,e,i,n,1)},off:function(t,e,i){var n,r;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,Q(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return e!==!1&&"function"!=typeof e||(i=e,e=void 0),i===!1&&(i=h),this.each(function(){Q.event.remove(this,t,i,e)})},trigger:function(t,e){return this.each(function(){Q.event.trigger(t,e,this)})},triggerHandler:function(t,e){var i=this[0];return i?Q.event.trigger(t,e,i,!0):void 0}});var Mt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Rt=/<([\w:]+)/,wt=/<|&#?\w+;/,Pt=/<(?:script|style|link)/i,Lt=/checked\s*(?:[^=]|=\s*.checked.)/i,Nt=/^$|\/(?:java|ecma)script/i,kt=/^true\/(.*)/,Ht=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Ft={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ft.optgroup=Ft.option,Ft.tbody=Ft.tfoot=Ft.colgroup=Ft.caption=Ft.thead,Ft.th=Ft.td,Q.extend({clone:function(t,e,i){var n,r,o,s,a=t.cloneNode(!0),l=Q.contains(t.ownerDocument,t);if(!(Z.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||Q.isXMLDoc(t)))for(s=v(a),o=v(t),n=0,r=o.length;r>n;n++)m(o[n],s[n]);if(e)if(i)for(o=o||v(t),s=s||v(a),n=0,r=o.length;r>n;n++)_(o[n],s[n]);else _(t,a);return s=v(a,"script"),s.length>0&&f(s,!l&&v(t,"script")),a},buildFragment:function(t,e,i,n){for(var r,o,s,a,l,u,h=e.createDocumentFragment(),c=[],p=0,d=t.length;d>p;p++)if(r=t[p],r||0===r)if("object"===Q.type(r))Q.merge(c,r.nodeType?[r]:r);else if(wt.test(r)){for(o=o||h.appendChild(e.createElement("div")),s=(Rt.exec(r)||["",""])[1].toLowerCase(),a=Ft[s]||Ft._default,o.innerHTML=a[1]+r.replace(Mt,"<$1></$2>")+a[2],u=a[0];u--;)o=o.lastChild;Q.merge(c,o.childNodes),o=h.firstChild,o.textContent=""}else c.push(e.createTextNode(r));for(h.textContent="",p=0;r=c[p++];)if((!n||-1===Q.inArray(r,n))&&(l=Q.contains(r.ownerDocument,r),o=v(h.appendChild(r),"script"),l&&f(o),i))for(u=0;r=o[u++];)Nt.test(r.type||"")&&i.push(r);return h},cleanData:function(t){for(var e,i,n,r,o=Q.event.special,s=0;void 0!==(i=t[s]);s++){if(Q.acceptData(i)&&(r=i[vt.expando],r&&(e=vt.cache[r]))){if(e.events)for(n in e.events)o[n]?Q.event.remove(i,n):Q.removeEvent(i,n,e.handle);vt.cache[r]&&delete vt.cache[r]}delete mt.cache[i[mt.expando]]}}}),Q.fn.extend({text:function(t){return _t(this,function(t){return void 0===t?Q.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=p(this,t);e.appendChild(t)}})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=p(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var i,n=t?Q.filter(t,this):this,r=0;null!=(i=n[r]);r++)e||1!==i.nodeType||Q.cleanData(v(i)),i.parentNode&&(e&&Q.contains(i.ownerDocument,i)&&f(v(i,"script")),i.parentNode.removeChild(i));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(Q.cleanData(v(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return Q.clone(this,t,e)})},html:function(t){return _t(this,function(t){var e=this[0]||{},i=0,n=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Pt.test(t)&&!Ft[(Rt.exec(t)||["",""])[1].toLowerCase()]){t=t.replace(Mt,"<$1></$2>");try{for(;n>i;i++)e=this[i]||{},1===e.nodeType&&(Q.cleanData(v(e,!1)),e.innerHTML=t);e=0}catch(r){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,function(e){t=this.parentNode,Q.cleanData(v(this)),t&&t.replaceChild(e,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e){t=Y.apply([],t);var i,n,r,o,s,a,l=0,u=this.length,h=this,c=u-1,p=t[0],f=Q.isFunction(p);if(f||u>1&&"string"==typeof p&&!Z.checkClone&&Lt.test(p))return this.each(function(i){var n=h.eq(i);f&&(t[0]=p.call(this,i,n.html())),n.domManip(t,e)});if(u&&(i=Q.buildFragment(t,this[0].ownerDocument,!1,this),n=i.firstChild,1===i.childNodes.length&&(i=n),n)){for(r=Q.map(v(i,"script"),d),o=r.length;u>l;l++)s=i,l!==c&&(s=Q.clone(s,!0,!0),o&&Q.merge(r,v(s,"script"))),e.call(this[l],s,l);if(o)for(a=r[r.length-1].ownerDocument,Q.map(r,g),l=0;o>l;l++)s=r[l],Nt.test(s.type||"")&&!vt.access(s,"globalEval")&&Q.contains(a,s)&&(s.src?Q._evalUrl&&Q._evalUrl(s.src):Q.globalEval(s.textContent.replace(Ht,"")))}return this}}),Q.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){Q.fn[t]=function(t){for(var i,n=[],r=Q(t),o=r.length-1,s=0;o>=s;s++)i=s===o?this:this.clone(!0),Q(r[s])[e](i),W.apply(n,i.get());return this.pushStack(n)}});var Bt,Ut={},Gt=/^margin/,jt=new RegExp("^("+Et+")(?!px)[a-z%]+$","i"),Vt=function(e){return e.ownerDocument.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):t.getComputedStyle(e,null)};!function(){function e(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",s.innerHTML="",r.appendChild(o);var e=t.getComputedStyle(s,null);i="1%"!==e.top,n="4px"===e.width,r.removeChild(o)}var i,n,r=$.documentElement,o=$.createElement("div"),s=$.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",Z.clearCloneStyle="content-box"===s.style.backgroundClip,o.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",o.appendChild(s),t.getComputedStyle&&Q.extend(Z,{pixelPosition:function(){return e(),i},boxSizingReliable:function(){return null==n&&e(),n},reliableMarginRight:function(){var e,i=s.appendChild($.createElement("div"));return i.style.cssText=s.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",s.style.width="1px",r.appendChild(o),e=!parseFloat(t.getComputedStyle(i,null).marginRight),r.removeChild(o),s.removeChild(i),e}}))}(),Q.swap=function(t,e,i,n){var r,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];r=i.apply(t,n||[]);for(o in e)t.style[o]=s[o];return r};var Yt=/^(none|table(?!-c[ea]).+)/,Wt=new RegExp("^("+Et+")(.*)$","i"),Kt=new RegExp("^([+-])=("+Et+")","i"),zt={position:"absolute",visibility:"hidden",display:"block"},Xt={letterSpacing:"0",fontWeight:"400"},qt=["Webkit","O","Moz","ms"];Q.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=E(t,"opacity");return""===i?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(t,e,i,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,s,a=Q.camelCase(e),l=t.style;return e=Q.cssProps[a]||(Q.cssProps[a]=b(l,a)),s=Q.cssHooks[e]||Q.cssHooks[a],void 0===i?s&&"get"in s&&void 0!==(r=s.get(t,!1,n))?r:l[e]:(o=typeof i,"string"===o&&(r=Kt.exec(i))&&(i=(r[1]+1)*r[2]+parseFloat(Q.css(t,e)),o="number"),null!=i&&i===i&&("number"!==o||Q.cssNumber[a]||(i+="px"),Z.clearCloneStyle||""!==i||0!==e.indexOf("background")||(l[e]="inherit"),s&&"set"in s&&void 0===(i=s.set(t,i,n))||(l[e]=i)),void 0)}},css:function(t,e,i,n){var r,o,s,a=Q.camelCase(e);return e=Q.cssProps[a]||(Q.cssProps[a]=b(t.style,a)),s=Q.cssHooks[e]||Q.cssHooks[a],s&&"get"in s&&(r=s.get(t,!0,i)),void 0===r&&(r=E(t,e,n)),"normal"===r&&e in Xt&&(r=Xt[e]),""===i||i?(o=parseFloat(r),i===!0||Q.isNumeric(o)?o||0:r):r}}),Q.each(["height","width"],function(t,e){Q.cssHooks[e]={get:function(t,i,n){return i?Yt.test(Q.css(t,"display"))&&0===t.offsetWidth?Q.swap(t,zt,function(){return D(t,e,n)}):D(t,e,n):void 0},set:function(t,i,n){var r=n&&Vt(t);return C(t,i,n?A(t,e,n,"border-box"===Q.css(t,"boxSizing",!1,r),r):0)}}}),Q.cssHooks.marginRight=T(Z.reliableMarginRight,function(t,e){return e?Q.swap(t,{display:"inline-block"},E,[t,"marginRight"]):void 0}),Q.each({margin:"",padding:"",border:"Width"},function(t,e){Q.cssHooks[t+e]={expand:function(i){for(var n=0,r={},o="string"==typeof i?i.split(" "):[i];4>n;n++)r[t+Tt[n]+e]=o[n]||o[n-2]||o[0];return r}},Gt.test(t)||(Q.cssHooks[t+e].set=C)}),Q.fn.extend({css:function(t,e){return _t(this,function(t,e,i){var n,r,o={},s=0;if(Q.isArray(e)){for(n=Vt(t),r=e.length;r>s;s++)o[e[s]]=Q.css(t,e[s],!1,n);return o}return void 0!==i?Q.style(t,e,i):Q.css(t,e)},t,e,arguments.length>1)},show:function(){return I(this,!0)},hide:function(){return I(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){bt(this)?Q(this).show():Q(this).hide()})}}),Q.Tween=x,x.prototype={constructor:x,init:function(t,e,i,n,r,o){this.elem=t,this.prop=i,this.easing=r||"swing",this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=o||(Q.cssNumber[i]?"":"px")},cur:function(){var t=x.propHooks[this.prop];return t&&t.get?t.get(this):x.propHooks._default.get(this)},run:function(t){var e,i=x.propHooks[this.prop];return this.options.duration?this.pos=e=Q.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):x.propHooks._default.set(this),this}},x.prototype.init.prototype=x.prototype,x.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=Q.css(t.elem,t.prop,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){Q.fx.step[t.prop]?Q.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[Q.cssProps[t.prop]]||Q.cssHooks[t.prop])?Q.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},x.propHooks.scrollTop=x.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},Q.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},Q.fx=x.prototype.init,Q.fx.step={};var Zt,$t,Jt=/^(?:toggle|show|hide)$/,Qt=new RegExp("^(?:([+-])=|)("+Et+")([a-z%]*)$","i"),te=/queueHooks$/,ee=[w],ie={"*":[function(t,e){var i=this.createTween(t,e),n=i.cur(),r=Qt.exec(e),o=r&&r[3]||(Q.cssNumber[t]?"":"px"),s=(Q.cssNumber[t]||"px"!==o&&+n)&&Qt.exec(Q.css(i.elem,t)),a=1,l=20;if(s&&s[3]!==o){o=o||s[3],r=r||[],s=+n||1;do a=a||".5",s/=a,Q.style(i.elem,t,s+o);while(a!==(a=i.cur()/n)&&1!==a&&--l)}return r&&(s=i.start=+s||+n||0,i.unit=o,i.end=r[1]?s+(r[1]+1)*r[2]:+r[2]),i}]};Q.Animation=Q.extend(L,{tweener:function(t,e){Q.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var i,n=0,r=t.length;r>n;n++)i=t[n],ie[i]=ie[i]||[],ie[i].unshift(e)},prefilter:function(t,e){e?ee.unshift(t):ee.push(t)}}),Q.speed=function(t,e,i){var n=t&&"object"==typeof t?Q.extend({},t):{complete:i||!i&&e||Q.isFunction(t)&&t,duration:t,easing:i&&e||e&&!Q.isFunction(e)&&e};return n.duration=Q.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in Q.fx.speeds?Q.fx.speeds[n.duration]:Q.fx.speeds._default,null!=n.queue&&n.queue!==!0||(n.queue="fx"),n.old=n.complete,n.complete=function(){Q.isFunction(n.old)&&n.old.call(this),n.queue&&Q.dequeue(this,n.queue)},n},Q.fn.extend({fadeTo:function(t,e,i,n){return this.filter(bt).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){var r=Q.isEmptyObject(t),o=Q.speed(e,i,n),s=function(){var e=L(this,Q.extend({},t),o);(r||vt.get(this,"finish"))&&e.stop(!0)};return s.finish=s,r||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(t,e,i){var n=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof t&&(i=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",o=Q.timers,s=vt.get(this);
if(r)s[r]&&s[r].stop&&n(s[r]);else for(r in s)s[r]&&s[r].stop&&te.test(r)&&n(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(i),e=!1,o.splice(r,1));!e&&i||Q.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,i=vt.get(this),n=i[t+"queue"],r=i[t+"queueHooks"],o=Q.timers,s=n?n.length:0;for(i.finish=!0,Q.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;s>e;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete i.finish})}}),Q.each(["toggle","show","hide"],function(t,e){var i=Q.fn[e];Q.fn[e]=function(t,n,r){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(M(e,!0),t,n,r)}}),Q.each({slideDown:M("show"),slideUp:M("hide"),slideToggle:M("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){Q.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}}),Q.timers=[],Q.fx.tick=function(){var t,e=0,i=Q.timers;for(Zt=Q.now();e<i.length;e++)t=i[e],t()||i[e]!==t||i.splice(e--,1);i.length||Q.fx.stop(),Zt=void 0},Q.fx.timer=function(t){Q.timers.push(t),t()?Q.fx.start():Q.timers.pop()},Q.fx.interval=13,Q.fx.start=function(){$t||($t=setInterval(Q.fx.tick,Q.fx.interval))},Q.fx.stop=function(){clearInterval($t),$t=null},Q.fx.speeds={slow:600,fast:200,_default:400},Q.fn.delay=function(t,e){return t=Q.fx?Q.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,i){var n=setTimeout(e,t);i.stop=function(){clearTimeout(n)}})},function(){var t=$.createElement("input"),e=$.createElement("select"),i=e.appendChild($.createElement("option"));t.type="checkbox",Z.checkOn=""!==t.value,Z.optSelected=i.selected,e.disabled=!0,Z.optDisabled=!i.disabled,t=$.createElement("input"),t.value="t",t.type="radio",Z.radioValue="t"===t.value}();var ne,re,oe=Q.expr.attrHandle;Q.fn.extend({attr:function(t,e){return _t(this,Q.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){Q.removeAttr(this,t)})}}),Q.extend({attr:function(t,e,i){var n,r,o=t.nodeType;if(t&&3!==o&&8!==o&&2!==o)return typeof t.getAttribute===At?Q.prop(t,e,i):(1===o&&Q.isXMLDoc(t)||(e=e.toLowerCase(),n=Q.attrHooks[e]||(Q.expr.match.bool.test(e)?re:ne)),void 0===i?n&&"get"in n&&null!==(r=n.get(t,e))?r:(r=Q.find.attr(t,e),null==r?void 0:r):null!==i?n&&"set"in n&&void 0!==(r=n.set(t,i,e))?r:(t.setAttribute(e,i+""),i):void Q.removeAttr(t,e))},removeAttr:function(t,e){var i,n,r=0,o=e&&e.match(dt);if(o&&1===t.nodeType)for(;i=o[r++];)n=Q.propFix[i]||i,Q.expr.match.bool.test(i)&&(t[n]=!1),t.removeAttribute(i)},attrHooks:{type:{set:function(t,e){if(!Z.radioValue&&"radio"===e&&Q.nodeName(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}}}),re={set:function(t,e,i){return e===!1?Q.removeAttr(t,i):t.setAttribute(i,i),i}},Q.each(Q.expr.match.bool.source.match(/\w+/g),function(t,e){var i=oe[e]||Q.find.attr;oe[e]=function(t,e,n){var r,o;return n||(o=oe[e],oe[e]=r,r=null!=i(t,e,n)?e.toLowerCase():null,oe[e]=o),r}});var se=/^(?:input|select|textarea|button)$/i;Q.fn.extend({prop:function(t,e){return _t(this,Q.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[Q.propFix[t]||t]})}}),Q.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(t,e,i){var n,r,o,s=t.nodeType;if(t&&3!==s&&8!==s&&2!==s)return o=1!==s||!Q.isXMLDoc(t),o&&(e=Q.propFix[e]||e,r=Q.propHooks[e]),void 0!==i?r&&"set"in r&&void 0!==(n=r.set(t,i,e))?n:t[e]=i:r&&"get"in r&&null!==(n=r.get(t,e))?n:t[e]},propHooks:{tabIndex:{get:function(t){return t.hasAttribute("tabindex")||se.test(t.nodeName)||t.href?t.tabIndex:-1}}}}),Z.optSelected||(Q.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null}}),Q.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Q.propFix[this.toLowerCase()]=this});var ae=/[\t\r\n\f]/g;Q.fn.extend({addClass:function(t){var e,i,n,r,o,s,a="string"==typeof t&&t,l=0,u=this.length;if(Q.isFunction(t))return this.each(function(e){Q(this).addClass(t.call(this,e,this.className))});if(a)for(e=(t||"").match(dt)||[];u>l;l++)if(i=this[l],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(ae," "):" ")){for(o=0;r=e[o++];)n.indexOf(" "+r+" ")<0&&(n+=r+" ");s=Q.trim(n),i.className!==s&&(i.className=s)}return this},removeClass:function(t){var e,i,n,r,o,s,a=0===arguments.length||"string"==typeof t&&t,l=0,u=this.length;if(Q.isFunction(t))return this.each(function(e){Q(this).removeClass(t.call(this,e,this.className))});if(a)for(e=(t||"").match(dt)||[];u>l;l++)if(i=this[l],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(ae," "):"")){for(o=0;r=e[o++];)for(;n.indexOf(" "+r+" ")>=0;)n=n.replace(" "+r+" "," ");s=t?Q.trim(n):"",i.className!==s&&(i.className=s)}return this},toggleClass:function(t,e){var i=typeof t;return"boolean"==typeof e&&"string"===i?e?this.addClass(t):this.removeClass(t):Q.isFunction(t)?this.each(function(i){Q(this).toggleClass(t.call(this,i,this.className,e),e)}):this.each(function(){if("string"===i)for(var e,n=0,r=Q(this),o=t.match(dt)||[];e=o[n++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else i!==At&&"boolean"!==i||(this.className&&vt.set(this,"__className__",this.className),this.className=this.className||t===!1?"":vt.get(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",i=0,n=this.length;n>i;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(ae," ").indexOf(e)>=0)return!0;return!1}});var le=/\r/g;Q.fn.extend({val:function(t){var e,i,n,r=this[0];{if(arguments.length)return n=Q.isFunction(t),this.each(function(i){var r;1===this.nodeType&&(r=n?t.call(this,i,Q(this).val()):t,null==r?r="":"number"==typeof r?r+="":Q.isArray(r)&&(r=Q.map(r,function(t){return null==t?"":t+""})),e=Q.valHooks[this.type]||Q.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))});if(r)return e=Q.valHooks[r.type]||Q.valHooks[r.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(i=e.get(r,"value"))?i:(i=r.value,"string"==typeof i?i.replace(le,""):null==i?"":i)}}}),Q.extend({valHooks:{option:{get:function(t){var e=Q.find.attr(t,"value");return null!=e?e:Q.trim(Q.text(t))}},select:{get:function(t){for(var e,i,n=t.options,r=t.selectedIndex,o="select-one"===t.type||0>r,s=o?null:[],a=o?r+1:n.length,l=0>r?a:o?r:0;a>l;l++)if(i=n[l],(i.selected||l===r)&&(Z.optDisabled?!i.disabled:null===i.getAttribute("disabled"))&&(!i.parentNode.disabled||!Q.nodeName(i.parentNode,"optgroup"))){if(e=Q(i).val(),o)return e;s.push(e)}return s},set:function(t,e){for(var i,n,r=t.options,o=Q.makeArray(e),s=r.length;s--;)n=r[s],(n.selected=Q.inArray(n.value,o)>=0)&&(i=!0);return i||(t.selectedIndex=-1),o}}}}),Q.each(["radio","checkbox"],function(){Q.valHooks[this]={set:function(t,e){return Q.isArray(e)?t.checked=Q.inArray(Q(t).val(),e)>=0:void 0}},Z.checkOn||(Q.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),Q.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){Q.fn[e]=function(t,i){return arguments.length>0?this.on(e,null,t,i):this.trigger(e)}}),Q.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)}});var ue=Q.now(),he=/\?/;Q.parseJSON=function(t){return JSON.parse(t+"")},Q.parseXML=function(t){var e,i;if(!t||"string"!=typeof t)return null;try{i=new DOMParser,e=i.parseFromString(t,"text/xml")}catch(n){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||Q.error("Invalid XML: "+t),e};var ce=/#.*$/,pe=/([?&])_=[^&]*/,de=/^(.*?):[ \t]*([^\r\n]*)$/gm,ge=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,fe=/^(?:GET|HEAD)$/,_e=/^\/\//,ve=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,me={},ye={},Se="*/".concat("*"),Ee=t.location.href,Te=ve.exec(Ee.toLowerCase())||[];Q.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ee,type:"GET",isLocal:ge.test(Te[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Se,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":Q.parseJSON,"text xml":Q.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?H(H(t,Q.ajaxSettings),e):H(Q.ajaxSettings,t)},ajaxPrefilter:N(me),ajaxTransport:N(ye),ajax:function(t,e){function i(t,e,i,s){var l,h,v,m,S,T=e;2!==y&&(y=2,a&&clearTimeout(a),n=void 0,o=s||"",E.readyState=t>0?4:0,l=t>=200&&300>t||304===t,i&&(m=F(c,E,i)),m=B(c,m,E,l),l?(c.ifModified&&(S=E.getResponseHeader("Last-Modified"),S&&(Q.lastModified[r]=S),S=E.getResponseHeader("etag"),S&&(Q.etag[r]=S)),204===t||"HEAD"===c.type?T="nocontent":304===t?T="notmodified":(T=m.state,h=m.data,v=m.error,l=!v)):(v=T,!t&&T||(T="error",0>t&&(t=0))),E.status=t,E.statusText=(e||T)+"",l?g.resolveWith(p,[h,T,E]):g.rejectWith(p,[E,T,v]),E.statusCode(_),_=void 0,u&&d.trigger(l?"ajaxSuccess":"ajaxError",[E,c,l?h:v]),f.fireWith(p,[E,T]),u&&(d.trigger("ajaxComplete",[E,c]),--Q.active||Q.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var n,r,o,s,a,l,u,h,c=Q.ajaxSetup({},e),p=c.context||c,d=c.context&&(p.nodeType||p.jquery)?Q(p):Q.event,g=Q.Deferred(),f=Q.Callbacks("once memory"),_=c.statusCode||{},v={},m={},y=0,S="canceled",E={readyState:0,getResponseHeader:function(t){var e;if(2===y){if(!s)for(s={};e=de.exec(o);)s[e[1].toLowerCase()]=e[2];e=s[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===y?o:null},setRequestHeader:function(t,e){var i=t.toLowerCase();return y||(t=m[i]=m[i]||t,v[t]=e),this},overrideMimeType:function(t){return y||(c.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>y)for(e in t)_[e]=[_[e],t[e]];else E.always(t[E.status]);return this},abort:function(t){var e=t||S;return n&&n.abort(e),i(0,e),this}};if(g.promise(E).complete=f.add,E.success=E.done,E.error=E.fail,c.url=((t||c.url||Ee)+"").replace(ce,"").replace(_e,Te[1]+"//"),c.type=e.method||e.type||c.method||c.type,c.dataTypes=Q.trim(c.dataType||"*").toLowerCase().match(dt)||[""],null==c.crossDomain&&(l=ve.exec(c.url.toLowerCase()),c.crossDomain=!(!l||l[1]===Te[1]&&l[2]===Te[2]&&(l[3]||("http:"===l[1]?"80":"443"))===(Te[3]||("http:"===Te[1]?"80":"443")))),c.data&&c.processData&&"string"!=typeof c.data&&(c.data=Q.param(c.data,c.traditional)),k(me,c,e,E),2===y)return E;u=Q.event&&c.global,u&&0===Q.active++&&Q.event.trigger("ajaxStart"),c.type=c.type.toUpperCase(),c.hasContent=!fe.test(c.type),r=c.url,c.hasContent||(c.data&&(r=c.url+=(he.test(r)?"&":"?")+c.data,delete c.data),c.cache===!1&&(c.url=pe.test(r)?r.replace(pe,"$1_="+ue++):r+(he.test(r)?"&":"?")+"_="+ue++)),c.ifModified&&(Q.lastModified[r]&&E.setRequestHeader("If-Modified-Since",Q.lastModified[r]),Q.etag[r]&&E.setRequestHeader("If-None-Match",Q.etag[r])),(c.data&&c.hasContent&&c.contentType!==!1||e.contentType)&&E.setRequestHeader("Content-Type",c.contentType),E.setRequestHeader("Accept",c.dataTypes[0]&&c.accepts[c.dataTypes[0]]?c.accepts[c.dataTypes[0]]+("*"!==c.dataTypes[0]?", "+Se+"; q=0.01":""):c.accepts["*"]);for(h in c.headers)E.setRequestHeader(h,c.headers[h]);if(c.beforeSend&&(c.beforeSend.call(p,E,c)===!1||2===y))return E.abort();S="abort";for(h in{success:1,error:1,complete:1})E[h](c[h]);if(n=k(ye,c,e,E)){E.readyState=1,u&&d.trigger("ajaxSend",[E,c]),c.async&&c.timeout>0&&(a=setTimeout(function(){E.abort("timeout")},c.timeout));try{y=1,n.send(v,i)}catch(T){if(!(2>y))throw T;i(-1,T)}}else i(-1,"No Transport");return E},getJSON:function(t,e,i){return Q.get(t,e,i,"json")},getScript:function(t,e){return Q.get(t,void 0,e,"script")}}),Q.each(["get","post"],function(t,e){Q[e]=function(t,i,n,r){return Q.isFunction(i)&&(r=r||n,n=i,i=void 0),Q.ajax({url:t,type:e,dataType:r,data:i,success:n})}}),Q._evalUrl=function(t){return Q.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},Q.fn.extend({wrapAll:function(t){var e;return Q.isFunction(t)?this.each(function(e){Q(this).wrapAll(t.call(this,e))}):(this[0]&&(e=Q(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(t){return Q.isFunction(t)?this.each(function(e){Q(this).wrapInner(t.call(this,e))}):this.each(function(){var e=Q(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)})},wrap:function(t){var e=Q.isFunction(t);return this.each(function(i){Q(this).wrapAll(e?t.call(this,i):t)})},unwrap:function(){return this.parent().each(function(){Q.nodeName(this,"body")||Q(this).replaceWith(this.childNodes)}).end()}}),Q.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0},Q.expr.filters.visible=function(t){return!Q.expr.filters.hidden(t)};var be=/%20/g,Ce=/\[\]$/,Ae=/\r?\n/g,De=/^(?:submit|button|image|reset|file)$/i,Ie=/^(?:input|select|textarea|keygen)/i;Q.param=function(t,e){var i,n=[],r=function(t,e){e=Q.isFunction(e)?e():null==e?"":e,n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=Q.ajaxSettings&&Q.ajaxSettings.traditional),Q.isArray(t)||t.jquery&&!Q.isPlainObject(t))Q.each(t,function(){r(this.name,this.value)});else for(i in t)U(i,t[i],e,r);return n.join("&").replace(be,"+")},Q.fn.extend({serialize:function(){return Q.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=Q.prop(this,"elements");return t?Q.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!Q(this).is(":disabled")&&Ie.test(this.nodeName)&&!De.test(t)&&(this.checked||!Ct.test(t))}).map(function(t,e){var i=Q(this).val();return null==i?null:Q.isArray(i)?Q.map(i,function(t){return{name:e.name,value:t.replace(Ae,"\r\n")}}):{name:e.name,value:i.replace(Ae,"\r\n")}}).get()}}),Q.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(t){}};var xe=0,Oe={},Me={0:200,1223:204},Re=Q.ajaxSettings.xhr();t.attachEvent&&t.attachEvent("onunload",function(){for(var t in Oe)Oe[t]()}),Z.cors=!!Re&&"withCredentials"in Re,Z.ajax=Re=!!Re,Q.ajaxTransport(function(t){var e;return Z.cors||Re&&!t.crossDomain?{send:function(i,n){var r,o=t.xhr(),s=++xe;if(o.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(r in t.xhrFields)o[r]=t.xhrFields[r];t.mimeType&&o.overrideMimeType&&o.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(r in i)o.setRequestHeader(r,i[r]);e=function(t){return function(){e&&(delete Oe[s],e=o.onload=o.onerror=null,"abort"===t?o.abort():"error"===t?n(o.status,o.statusText):n(Me[o.status]||o.status,o.statusText,"string"==typeof o.responseText?{text:o.responseText}:void 0,o.getAllResponseHeaders()))}},o.onload=e(),o.onerror=e("error"),e=Oe[s]=e("abort");try{o.send(t.hasContent&&t.data||null)}catch(a){if(e)throw a}},abort:function(){e&&e()}}:void 0}),Q.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return Q.globalEval(t),t}}}),Q.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),Q.ajaxTransport("script",function(t){if(t.crossDomain){var e,i;return{send:function(n,r){e=Q("<script>").prop({async:!0,charset:t.scriptCharset,src:t.url}).on("load error",i=function(t){e.remove(),i=null,t&&r("error"===t.type?404:200,t.type)}),$.head.appendChild(e[0])},abort:function(){i&&i()}}}});var we=[],Pe=/(=)\?(?=&|$)|\?\?/;Q.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=we.pop()||Q.expando+"_"+ue++;return this[t]=!0,t}}),Q.ajaxPrefilter("json jsonp",function(e,i,n){var r,o,s,a=e.jsonp!==!1&&(Pe.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Pe.test(e.data)&&"data");return a||"jsonp"===e.dataTypes[0]?(r=e.jsonpCallback=Q.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Pe,"$1"+r):e.jsonp!==!1&&(e.url+=(he.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return s||Q.error(r+" was not called"),s[0]},e.dataTypes[0]="json",o=t[r],t[r]=function(){s=arguments},n.always(function(){t[r]=o,e[r]&&(e.jsonpCallback=i.jsonpCallback,we.push(r)),s&&Q.isFunction(o)&&o(s[0]),s=o=void 0}),"script"):void 0}),Q.parseHTML=function(t,e,i){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(i=e,e=!1),e=e||$;var n=st.exec(t),r=!i&&[];return n?[e.createElement(n[1])]:(n=Q.buildFragment([t],e,r),r&&r.length&&Q(r).remove(),Q.merge([],n.childNodes))};var Le=Q.fn.load;Q.fn.load=function(t,e,i){if("string"!=typeof t&&Le)return Le.apply(this,arguments);var n,r,o,s=this,a=t.indexOf(" ");return a>=0&&(n=Q.trim(t.slice(a)),t=t.slice(0,a)),Q.isFunction(e)?(i=e,e=void 0):e&&"object"==typeof e&&(r="POST"),s.length>0&&Q.ajax({url:t,type:r,dataType:"html",data:e}).done(function(t){o=arguments,s.html(n?Q("<div>").append(Q.parseHTML(t)).find(n):t)}).complete(i&&function(t,e){s.each(i,o||[t.responseText,e,t])}),this},Q.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){Q.fn[e]=function(t){return this.on(e,t)}}),Q.expr.filters.animated=function(t){return Q.grep(Q.timers,function(e){return t===e.elem}).length};var Ne=t.document.documentElement;Q.offset={setOffset:function(t,e,i){var n,r,o,s,a,l,u,h=Q.css(t,"position"),c=Q(t),p={};"static"===h&&(t.style.position="relative"),a=c.offset(),o=Q.css(t,"top"),l=Q.css(t,"left"),u=("absolute"===h||"fixed"===h)&&(o+l).indexOf("auto")>-1,u?(n=c.position(),s=n.top,r=n.left):(s=parseFloat(o)||0,r=parseFloat(l)||0),Q.isFunction(e)&&(e=e.call(t,i,a)),null!=e.top&&(p.top=e.top-a.top+s),null!=e.left&&(p.left=e.left-a.left+r),"using"in e?e.using.call(t,p):c.css(p)}},Q.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){Q.offset.setOffset(this,t,e)});var e,i,n=this[0],r={top:0,left:0},o=n&&n.ownerDocument;if(o)return e=o.documentElement,Q.contains(e,n)?(typeof n.getBoundingClientRect!==At&&(r=n.getBoundingClientRect()),i=G(o),{top:r.top+i.pageYOffset-e.clientTop,left:r.left+i.pageXOffset-e.clientLeft}):r},position:function(){if(this[0]){var t,e,i=this[0],n={top:0,left:0};return"fixed"===Q.css(i,"position")?e=i.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),Q.nodeName(t[0],"html")||(n=t.offset()),n.top+=Q.css(t[0],"borderTopWidth",!0),n.left+=Q.css(t[0],"borderLeftWidth",!0)),{top:e.top-n.top-Q.css(i,"marginTop",!0),left:e.left-n.left-Q.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||Ne;t&&!Q.nodeName(t,"html")&&"static"===Q.css(t,"position");)t=t.offsetParent;return t||Ne})}}),Q.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,i){var n="pageYOffset"===i;Q.fn[e]=function(r){return _t(this,function(e,r,o){var s=G(e);return void 0===o?s?s[i]:e[r]:void(s?s.scrollTo(n?t.pageXOffset:o,n?o:t.pageYOffset):e[r]=o)},e,r,arguments.length,null)}}),Q.each(["top","left"],function(t,e){Q.cssHooks[e]=T(Z.pixelPosition,function(t,i){return i?(i=E(t,e),jt.test(i)?Q(t).position()[e]+"px":i):void 0})}),Q.each({Height:"height",Width:"width"},function(t,e){Q.each({padding:"inner"+t,content:e,"":"outer"+t},function(i,n){Q.fn[n]=function(n,r){var o=arguments.length&&(i||"boolean"!=typeof n),s=i||(n===!0||r===!0?"margin":"border");return _t(this,function(e,i,n){var r;return Q.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+t],r["scroll"+t],e.body["offset"+t],r["offset"+t],r["client"+t])):void 0===n?Q.css(e,i,s):Q.style(e,i,n,s)},e,o?n:void 0,o,null)}})}),Q.fn.size=function(){return this.length},Q.fn.andSelf=Q.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return Q});var ke=t.jQuery,He=t.$;return Q.noConflict=function(e){return t.$===Q&&(t.$=He),e&&t.jQuery===Q&&(t.jQuery=ke),Q},typeof e===At&&(t.jQuery=t.$=Q),Q}),define("ojs/ojknockout",["ojs/ojcore","jquery","knockout"],function(t,e,i){function n(){this.Init()}function r(t,e){var i="value",n={};return n[i]=e[i],n}function o(t,e){var i={},n=e.optionMetadata,r=n?"shouldWrite"===n.writeback:!1;return r&&(i[e.option]=e.value),i}function s(t,e){return function(n){var r,o;return r=n.parentElement,o=t.createChildContext(n.data,null,function(t){t.$optionContext=n}),i.renderTemplate(e,o,null,r),null}}function a(t,e,i){if("optionTemplate"===t&&null!==e){var n=String(e),r=s(i,n);return{optionRenderer:r}}return null}function l(t,e){return function(n){var r=t.createChildContext(n.data);return i.renderTemplate(e,r,null,n.parentElement),null}}function u(t,e,i){if("areaLayers"===t){for(var n=0;n<e.length;n++){var r=e[n].areaDataLayer;if(r){var o=r.template;null!=o&&(r._templateRenderer=l(i,o))}}return{areaLayers:e}}if("pointDataLayers"===t){for(var n=0;n<e.length;n++){var o=e[n].template;null!=o&&(e[n]._templateRenderer=l(i,o))}return{pointDataLayers:e}}return null}function h(t,e){this.Init(t,e)}function c(t,e){return function(n){var r=t.createChildContext(n.data);return i.renderTemplate(e,r,null,n.parentElement),null}}function p(t,e,i){return"template"===t?{_templateFunction:c(i,e)}:null}function d(){var e=i.bindingProvider,n="instance",r=e[n],o=e[n]={};E(r,o,"nodeHasBindings"),E(r,o,"getBindings",function(e,i,n){var r=n,o=f(n);return null!=o&&(t.Logger.error("%s binding is not compatible with bidding providers not implementing getBindingAccessors()",o),r=t.CollectionUtils.copyInto({},n),delete r[o]),r}),E(r,o,"getBindingAccessors",g)}function g(t,e,i,n){if(null==i)return null;var r=f(i);return null!=r&&(i=_(t,r,n,e,i)),i}function f(e){for(var i=Object.keys(e),n=-0;n<i.length;n++){var r=i[n];if(t.ComponentBinding._isNameRegistered(r))return r}return null}function _(e,i,n,r,o){var s=y(e,i,n,r),a=s.attrList;if(null==a)return o;var l={};return S(a,function(t,e){l[t]=e}),o=t.CollectionUtils.copyInto({},o),o[i]=v(r,l,s.bindingExpr),o}function v(e,i,n){var r=function(){var n={};return Object.keys(i).forEach(function(r){var o=i[r],s=t.ComponentBinding._createEvaluator(o).bind(null,e);Object.defineProperty(n,r,{get:s,enumerable:!0})}),Object.defineProperty(n,t.ComponentBinding._OPTION_MAP,{value:i}),n};return r.toString=function(){return n},r}function m(t,e,i){var n=e.getBindingsString;if(n)return n.call(e,t,i);switch(t.nodeType){case 1:return t.getAttribute("data-bind");case 8:var r=t.nodeValue.match(/^\s*ko(?:\s+([\s\S]+))?\s*$/);return r?r[1]:null}return null}function y(t,e,n,r){var o=null,s=m(t,n,r),a=i.jsonExpressionRewriting.parseObjectLiteral(s),l=null;return S(a,function(t,i){return t===e?(l=i,!0):!1}),null!=l&&0===l.indexOf("{")&&(o=i.jsonExpressionRewriting.parseObjectLiteral(l)),{attrList:o,bindingExpr:l}}function S(t,e){for(var i=0;i<t.length;i++){var n=t[i],r=n.key,o=n.value;if(null!=r&&null!=o&&e(r.trim(),o.trim()))break}}function E(t,e,i,n){var r=t[i];null!=r&&(e[i]=function(){var e=r.apply(t,arguments);if(null!=n){var i=Array.prototype.slice.call(arguments);i.push(e,t),e=n.apply(null,i)}return e})}function T(t,e){return function(n){var r,o;return r=n.parentElement,o=t.createChildContext(n.data,null,function(t){t.$key=n.key,t.$metadata=n.metadata,t.$headerContext=n}),i.renderTemplate(e,o,null,r),null}}function b(t,e){return function(n){var r,o;return r=n.parentElement,o=t.createChildContext(n.data,null,function(t){t.$keys=n.keys,t.$metadata=n.metadata,t.$cellContext=n}),i.renderTemplate(e,o,null,r),null}}function C(t,e,n){var r={};return function(e,n){r=function(r){var o=null,s=null;if("header"==n)o=t.extend({$columnIndex:r.columnIndex,$headerContext:r.headerContext,$data:r.data}),s=r.headerContext.parentElement;else if("cell"==n){var a=r.row;o=t.createChildContext(a,null,function(t){t.$columnIndex=r.columnIndex,t.$cellContext=r.cellContext}),s=r.cellContext.parentElement}"footer"==n&&(o=t.extend({$columnIndex:r.columnIndex,$footerContext:r.footerContext}),s=r.footerContext.parentElement),i.renderTemplate(e,o,null,s,"replaceNode")}}(n,e),r}function A(t,e){return function(n){var r=n.row,o=t.createChildContext(r,null,function(t){t.$rowContext=n.rowContext});i.renderTemplate(e,o,null,n.rowContext.parentElement,"replaceNode")}}function D(t,e){return function(n){var r,o;return r=n.parentElement,o=t.createChildContext(n.data,null,function(t){t.$itemContext=n}),i.renderTemplate(e,o,null,r,"replaceNode"),null}}function I(t,e,i){if("item"==t){var n=e.template;return null!=n&&(e.renderer=D(i,n)),{item:e}}return null}t.Object.createSubclass(n,t.Object,"ComponentBinding.GlobalChangeQueue"),n.prototype.Init=function(){n.superclass.Init.call(this),this._trackers=[],this._queue=[]},n.prototype.registerComponentChanges=function(e){-1===this._trackers.indexOf(e)&&(this._trackers.push(e),this._delayTimer||(this._delayTimer=setTimeout(t.Object.createCallback(this,this._deliverChangesImpl),1)))},n.prototype.deliverChanges=function(){this._delayTimer&&clearTimeout(this._delayTimer),this._deliverChangesImpl()},n.prototype._deliverChangesImpl=function(){var t;this._delayTimer=null;var e=this._trackers;for(this._trackers=[],t=0;t<e.length;t++){var i=e[t];this._queue.push({tracker:i,changes:i.flushChanges()})}for(;this._queue.length>0;){var n=this._queue.shift();n.tracker.applyChanges(n.changes)}},t.ComponentBinding=function(t,e){this.Init(t,e)},t.Object.createSubclass(t.ComponentBinding,t.Object,"oj.ComponentBinding"),t.ComponentBinding.create=function(e,n){if(null==e)throw"Binding name is required!";var r,o=new t.ComponentBinding(e,n),s=(o._getBindingOptions().componentName,i.bindingHandlers),a=Array.isArray(e)?e:[e];for(r=0;r<a.length;r++){var l=a[r];t.ComponentBinding._REGISTERED_NAMES.push(l),s[l]=o}return o},t.ComponentBinding.getDefaultInstance=function(){return t.ComponentBinding._INSTANCE},t.ComponentBinding.prototype.setupManagedAttributes=function(t){var e=t["for"];e=null==e?"@global":e;var i=this._managedAttrOptions[e]||[];i.push(t),this._managedAttrOptions[e]=i},t.ComponentBinding.deliverChanges=function(){t.ComponentBinding._changeQueue.deliverChanges()},t.ComponentBinding.prototype.Init=function(e,i){t.ComponentBinding.superclass.Init.call(this),"string"==typeof i&&(i={componentName:i}),this._bindingOptions=i||{},this._bindingNames=Array.isArray(e)?e:[e],this.init=this._init.bind(this),this.update=this._update.bind(this),this._managedAttrOptions={}},t.ComponentBinding.prototype._getBindingOptions=function(){return this._bindingOptions},t.ComponentBinding.prototype._init=function(t,e,n,r,o){return i.applyBindingsToDescendants(o,t),{controlsDescendantBindings:!0}},t.ComponentBinding.prototype._update=function(n,r,o,s,a){function l(e){d.forEach(function(t){t.dispose()}),d=[],e&&c&&(c("destroy"),c=null),p&&(p.dispose(),p=null),f.off(t.ComponentBinding._HANDLER_NAMESPACE)}function u(e,i,r){if(null!=e){var s=f[e];if("function"!=typeof s)return void t.Logger.error("Component %s is not found",e);s=s.bind(f),p=new h(s,t.ComponentBinding._changeQueue);var l=function(){return r},u=Object.keys(r).filter(function(t){return!(null==t||t===i)}),g={component:s,changeTracker:p,componentName:e,specifiedOptions:u,computeds:d,valueAccessor:l,allBindingsAccessor:o,bindingContext:a,destroyCallback:function(){c=null}};c=this._initComponent(n,g)}}var c,p,d=[],g=0,f=e(n);i.ignoreDependencies(function(){i.computed(function(){var e=i.utils.unwrapObservable(r());"object"!=typeof e&&t.Logger.error("ojComponent binding should evaluate to an object");var n,o=this._bindingOptions.componentName,s=!1;if(null==o&null!=e){for(var a=[t.ComponentBinding._COMPONENT_OPTION,"role"],h=0;!s&&h<a.length;h++)n=a[h],n in e&&(s=!0,o=e[n]);s||t.Logger.error("component attribute is required for the ojComponent binding"),o=i.utils.unwrapObservable(o)}0==g?g=1:i.ignoreDependencies(l,this,[!0]),i.ignoreDependencies(u,this,[o,n,e])},this,{disposeWhenNodeIsRemoved:n})},this),i.utils.domNodeDisposal.addDisposeCallback(n,l.bind(this,[!1]))},t.ComponentBinding.prototype._initComponent=function(n,r){var o=!1,s=0,a={},l=e(n),u=r.component,h=r.componentName,c=this;l.on("ojdestroy"+t.ComponentBinding._HANDLER_NAMESPACE,function(e){if(e.target&&e.target==n){r.destroyCallback();var i=c._bindingOptions.beforeDestroy;i&&i(n,u,r.valueAccessor,r.allBindingsAccessor,r.bindingContext),t.ComponentBinding._deliverCreateDestroyEventToManagedProps(!1,a,n,u,r.valueAccessor,r.allBindingsAccessor,r.bindingContext),o=!0,r.changeTracker.dispose()}});var p=t.ComponentBinding._resolveManagedAttributes(this._managedAttrOptions,r.specifiedOptions,h),d=t.ComponentBinding.getDefaultInstance();if(this!==d){var g=d._getManagedAttributes(r.specifiedOptions,h);t.CollectionUtils.copyInto(g,p),p=g}for(var f={},_=function(){var e=this._property,i=t.ComponentBinding._toJS(r.valueAccessor()[e]);if(0===s){var l=p[e];if(null!=l){a[e]=l;var h=l.init;if(null!=h){var c=h(e,i,n,u,r.valueAccessor,r.allBindingsAccessor,r.bindingContext)||{};t.CollectionUtils.copyInto(f,c)}}else f[e]=i}else if(!o)if(null!=p[e]){var d=p[e].update;if(null!=d)for(var g=d(e,i,n,u,r.valueAccessor,r.allBindingsAccessor,r.bindingContext)||{},_=Object.keys(g),v=0;v<_.length;v++){var m=_[v];r.changeTracker.addChange(m,g[m])}}else r.changeTracker.addChange(e,i)},v=0;v<r.specifiedOptions.length;v++)r.computeds.push(i.computed(_,{_property:r.specifiedOptions[v]}));s=1,t.ComponentBinding._registerWritebacks(l,r);var m=t.ComponentBinding._extractDotNotationOptions(f),y=Object.keys(m);y.forEach(function(t){delete f[t]}),u(f);for(var S=0;S<y.length;S++){var E=y[S];u("option",E,m[E])}var T=this._bindingOptions.afterCreate;return T&&T(n,u,r.valueAccessor,r.allBindingsAccessor,r.bindingContext),t.ComponentBinding._deliverCreateDestroyEventToManagedProps(!0,a,n,u,r.valueAccessor,r.allBindingsAccessor,r.bindingContext),f=null,u},t.ComponentBinding._createEvaluator=function(t){return new Function("$context","with($context){with($data||{}){return "+t+";}}")},t.ComponentBinding.prototype._getManagedAttributes=function(e,i){return t.ComponentBinding._resolveManagedAttributes(this._managedAttrOptions,e,i)},t.ComponentBinding._resolveManagedAttributes=function(t,i,n){var r={},o=[],s="attributes",a=function(e,i){var n=t[e];if(null!=n)for(var r=n.length-1;r>=0;r--){var l=n[r];if(null!=l[s]&&o.push(l),i){var u=l.use;if(null!=u){u=Array.isArray(u)?u:[u];for(var h=0;h<u.length;h++)a(u[h],!0)}}}};a(n,!0);var l="oj",u=e[l][n];if(null!=u)for(var h=Object.getPrototypeOf(u.prototype);null!=h&&l===h.namespace;)a(h.widgetName,!0),h=Object.getPrototypeOf(h);if(a("@global",!1),o.length>0)for(var c=0;c<i.length;c++)for(var p=i[c],d=0;d<o.length;d++){var g=o[d],f=g[s];if(f.indexOf(p)>=0){r[p]={init:g.init,update:g.update,afterCreate:g.afterCreate,beforeDestroy:g.beforeDestroy};break}}return r},t.ComponentBinding._HANDLER_NAMESPACE=".oj_ko",t.ComponentBinding._registerWritebacks=function(e,i){for(var n={"^slider$":[{event:"slidechange",getter:r}],"^oj*":[{event:"ojoptionchange",getter:o}]},s={},a=Object.keys(n),l=0;l<a.length;l++){var u=a[l];if(i.componentName.match(u)){for(var h=n[u],c=0;c<h.length;c++){var p=h[c];e.on(p.event+t.ComponentBinding._HANDLER_NAMESPACE,{getter:p.getter},function(e,n){e.stopPropagation();var r=e.data.getter(e,n),o=i.valueAccessor();for(var a in r){i.changeTracker.suspend(a);try{if(i.specifiedOptions.indexOf(a)>=0){var l=o[t.ComponentBinding._OPTION_MAP],u=null==l?null:l[a],h=o[a];
t.ComponentBinding._writeValueToProperty(a,h,r[a],u,i.bindingContext,s)}}finally{i.changeTracker.resume(a)}}})}break}}},t.ComponentBinding._getPropertyWriterExpression=function(t){var e=["true","false","null","undefined"];if(null==t||e.indexOf(t)>=0)return null;var i=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,n=t.match(i);if(null===n)return null;var r=n[1]?"Object("+n[1]+")"+n[2]:t;return"function(v){"+r+"=v;}"},t.ComponentBinding._writeValueToProperty=function(e,n,r,o,s,a){if(null!=n&&i.isObservable(n))i.isWriteableObservable(n)&&n(r);else{if(!(e in a)){var l=null,u=t.ComponentBinding._getPropertyWriterExpression(o);null!=u&&(l=t.ComponentBinding._createEvaluator(u)),a[e]=l}var h=a[e];if(h){var c=h(s);c(r)}}},t.ComponentBinding._toJS=function(e){return e=i.utils.unwrapObservable(e),(Array.isArray(e)||t.CollectionUtils.isPlainObject(e))&&e.ojConvertToJS&&(e=i.toJS(e)),e},t.ComponentBinding._extractDotNotationOptions=function(t){for(var e={},i=Object.keys(t),n=0;n<i.length;n++){var r=i[n];r.indexOf(".")>=0&&(e[r]=t[r])}return e},t.ComponentBinding._deliverCreateDestroyEventToManagedProps=function(t,e,i,n,r,o,s){for(var a=Object.keys(e),l=0;l<a.length;l++){var u=a[l],h=e[u],c=t?h.afterCreate:h.beforeDestroy;c&&c(u,i,n,r,o,s)}},t.ComponentBinding._changeQueue=new n,t.ComponentBinding.__getKnockoutVersion=function(){return t.__isAmdLoaderPresent()&&i?i.version:""},t.ComponentBinding._isNameRegistered=function(e){return t.ComponentBinding._REGISTERED_NAMES.indexOf(e)>=0},t.ComponentBinding._REGISTERED_NAMES=[],t.ComponentBinding._COMPONENT_OPTION="component",t.ComponentBinding._OPTION_MAP="_ojOptions",function(){var e="removeNode",n=i[e];i[e]=function(e){var i=t.Components;i&&t.DomUtils.setInKoRemoveNode(e);try{n(e)}finally{i&&t.DomUtils.setInKoRemoveNode(null)}}}(),t.ComponentBinding._INSTANCE=t.ComponentBinding.create(["ojComponent","jqueryUI"]),t.ComponentBinding.getDefaultInstance().setupManagedAttributes({attributes:["optionTemplate"],init:function(t,e,i,n,r,o,s){var l=a(t,e,s);return null!==l?l:void 0},update:function(t,e,i,n,r,o,s){return a(t,e,s)},"for":"ComboboxOptionRenderer"}),t.ComponentBinding.getDefaultInstance().setupManagedAttributes({"for":"ojCombobox",use:"ComboboxOptionRenderer"}),t.ComponentBinding.getDefaultInstance().setupManagedAttributes({"for":"ojSelect",use:"ComboboxOptionRenderer"}),t.ComponentBinding.getDefaultInstance().setupManagedAttributes({"for":"ojInputSearch",use:"ComboboxOptionRenderer"}),t.ResponsiveKnockoutUtils={},t.ResponsiveKnockoutUtils.createMediaQueryObservable=function(t){if(null==t)throw new Error("oj.ResponsiveKnockoutUtils.createMediaQueryObservable: aborting, queryString is null");var n=window.matchMedia(t),r=i.observable(n.matches);return n.addListener(function(t){r(t.matches)}),-1!=navigator.userAgent.indexOf("WebKit")&&-1==navigator.userAgent.indexOf("Chrome")&&e(window).resize(function(){var t="oj-webkit-bug-123293";0===e("body").has("."+t).length&&e("body").append('<div aria-hidden="true" class="oj-helper-hidden-accessible '+t+'">'),e("."+t).text((new Date).getMilliseconds().toString())}),r},t.ResponsiveKnockoutUtils.createScreenRangeObservable=function(){var e=t.ResponsiveUtils.getFrameworkQuery(t.ResponsiveUtils.FRAMEWORK_QUERY_KEY.XXL_UP),n=t.ResponsiveUtils.getFrameworkQuery(t.ResponsiveUtils.FRAMEWORK_QUERY_KEY.XL_UP),r=t.ResponsiveUtils.getFrameworkQuery(t.ResponsiveUtils.FRAMEWORK_QUERY_KEY.LG_UP),o=t.ResponsiveUtils.getFrameworkQuery(t.ResponsiveUtils.FRAMEWORK_QUERY_KEY.MD_UP),s=t.ResponsiveUtils.getFrameworkQuery(t.ResponsiveUtils.FRAMEWORK_QUERY_KEY.SM_UP),a=null==e?null:t.ResponsiveKnockoutUtils.createMediaQueryObservable(e),l=null==n?null:t.ResponsiveKnockoutUtils.createMediaQueryObservable(n),u=null==r?null:t.ResponsiveKnockoutUtils.createMediaQueryObservable(r),h=null==o?null:t.ResponsiveKnockoutUtils.createMediaQueryObservable(o),c=null==s?null:t.ResponsiveKnockoutUtils.createMediaQueryObservable(s);return i.computed(function(){if(a&&a())return t.ResponsiveUtils.SCREEN_RANGE.XXL;if(l&&l())return t.ResponsiveUtils.SCREEN_RANGE.XL;if(u&&u())return t.ResponsiveUtils.SCREEN_RANGE.LG;if(h&&h())return t.ResponsiveUtils.SCREEN_RANGE.MD;if(c&&c())return t.ResponsiveUtils.SCREEN_RANGE.SM;throw new Error(" NO MATCH in oj.ResponsiveKnockoutUtils.createScreenRangeObservable")})},t.ComponentBinding.getDefaultInstance().setupManagedAttributes({attributes:["areaLayers","pointDataLayers"],init:function(t,e,i,n,r,o,s){return u(t,e,s)},update:function(t,e,i,n,r,o,s){return u(t,e,s)},"for":"ojThematicMap"}),i.bindingHandlers.ojContextMenu={update:function(n,r,o,s,a){var l,u,h,c,p,d=".ojContextMenu",g=e(n),f=750,_=!1,v=!1,m=300,y=null;g.off(d).removeClass("oj-menu-context-menu-launcher")[0].removeEventListener("click",p,!0),l&&l.off(d),clearTimeout(h),u=void 0,l=void 0;var S=i.utils.unwrapObservable(r());"string"!==e.type(S)&&(S=n.getAttribute("contextmenu"),S&&(S="#"+S));var E=function(){if(l=e(S).first(),u=l.data("oj-ojMenu"),!u)throw new Error('"contextMenu" set to "'+S+'", which does not reference a valid JET Menu.');l.on("ojclose"+d,function(t,e){document.removeEventListener("keyup",C)})},T=function(){return u||E(),u},b=function(){return l||E(),l},C=function(t){121==t.which&&t.shiftKey&&b().is(":visible")&&t.preventDefault()},A=function(t,e,i){_=i;var n=T();if(_&&g.one("touchend"+d,function(t){var e=50;n.__contextMenuPressHoldJustEnded(!0),setTimeout(function(){n.__contextMenuPressHoldJustEnded(!1)},e)}),"touchstart"===y&&"contextmenu"===t.type||"contextmenu"===y&&"touchstart"===t.type)return y=null,void clearTimeout(c);if(!t.isDefaultPrevented()){var r={mouse:{my:"start top",at:"start bottom",of:t},touch:{my:"start>40 center",at:"start bottom",of:t,collision:"flipfit"},keyboard:{my:"start top",at:"start bottom",of:"launcher"}},o={launcher:g,initialFocus:"menu",position:r[e]};n.__openingContextMenu=!0,n.open(t,o),n.__openingContextMenu=!1,b().is(":visible")&&(t.preventDefault(),document.addEventListener("keyup",C),"touchstart"!==t.type&&"contextmenu"!==t.type||(y=t.type,c=setTimeout(function(){y=null},m)))}};p=function(t){return _?(t.preventDefault(),t.stopPropagation(),_=!1,!1):void 0},n.addEventListener("click",p,!0),g.on("touchstart"+d+" mousedown"+d+" keydown"+d+" ",function(t){return"mousedown"===t.type&&T().__contextMenuPressHoldJustEnded()?void 0:(_=!1,"touchstart"===t.type&&(v=!0,h=setTimeout(A.bind(void 0,t,"touch",!0),f)),!0)}).on("touchend"+d+" touchcancel"+d,function(t){return v=!1,clearTimeout(h),!0}).on("keydown"+d+" contextmenu"+d,function(t){if("contextmenu"===t.type||121==t.which&&t.shiftKey){var e=v?"touch":"keydown"===t.type?"keyboard":"mouse";A(t,e,!1)}return!0}).addClass(t.DomUtils.isTouchSupported()?"oj-menu-context-menu-launcher":"")}},t.Object.createSubclass(h,t.Object,"ComponentBinding.ComponentChangeTracker"),h.prototype.Init=function(t,e){h.superclass.Init.call(this),this._component=t,this._queue=e,this._changes={},this._suspendCountMap={}},h.prototype.addChange=function(t,e){this._isSuspended(t)||this._disposed||(this._changes[t]=e,this._queue.registerComponentChanges(this))},h.prototype.dispose=function(){this._disposed=!0},h.prototype.resume=function(e){var i=this._suspendCountMap[e]||0;t.Assert.assert(i>0,"ComponentChangeTracker suspendCount underflow"),i--,0==i?delete this._suspendCountMap[e]:this._suspendCountMap[e]=i},h.prototype.suspend=function(t){var e=this._suspendCountMap[t]||0;this._suspendCountMap[t]=e+1},h.prototype.applyChanges=function(e){if(!this._disposed){var i=t.ComponentBinding._extractDotNotationOptions(e),n={changed:!0};this._component("option",e,n);for(var r in i)this._component("option",r,i[r],n)}},h.prototype.flushChanges=function(){var t=this._changes;return this._changes={},t},h.prototype._isSuspended=function(t){var e=this._suspendCountMap[t]||0;return e>=1},t.ComponentBinding.getDefaultInstance().setupManagedAttributes({attributes:["template"],init:function(t,e,i,n,r,o,s){return p(t,e,s)},update:function(t,e,i,n,r,o,s){return p(t,e,s)},"for":"ojDiagram"}),t.koStringTemplateEngine={},t.koStringTemplateEngine.install=function(){if(!i.templates){var t={},e={},n=new i.nativeTemplateEngine,r=function(i){this._templateName=i,this.text=function(e){return e?void(t[this._templateName]=e):t[this._templateName]},this.data=function(t,i){return e[this._templateName]||(e[this._templateName]={}),1===arguments.length?e[this._templateName][t]:void(e[this._templateName][t]=i)}};n.makeTemplateSource=function(t,e){if("string"==typeof t){e=e||document;var n=e.getElementById(t);return n?new i.templateSources.domElement(n):new r(t)}return t&&1==t.nodeType||8==t.nodeType?new i.templateSources.anonymousTemplate(t):void 0},i.templates=t,i.setTemplateEngine(n)}},d(),t.ComponentBinding.getDefaultInstance().setupManagedAttributes({attributes:["header","cell"],init:function(t,e,i,n,r,o,s){var a,l,u,h,c;return"header"===t?(a=e.row,null!=a&&(l=a.template,null!=l&&(a.renderer=T(s,l))),u=e.column,null!=u&&(h=u.template,null!=h&&(u.renderer=T(s,h))),{header:e}):"cell"===t?(c=e.template,null!=c&&(e.renderer=b(s,c)),{cell:e}):void 0},update:function(t,e,i,n,r,o,s){var a,l,u,h,c;return"header"===t?(a=e.row,null!=a&&(l=a.template,null!=l&&(a.renderer=T(s,l))),u=e.column,null!=u&&(h=u.template,null!=h&&(u.renderer=T(s,h))),{header:e}):"cell"===t?(c=e.template,null!=c&&(e.renderer=b(s,c)),{cell:e}):null},"for":"ojDataGrid"});var x="columns",O="columnsDefault",M="rowTemplate";t.ComponentBinding.getDefaultInstance().setupManagedAttributes({attributes:[x,O,M],init:function(t,e,i,n,r,o,s){if(t==x||t==O){var a,l,u,h;for(a=0;a<e.length;a++){var c=e[a];l=c.template,u=c.footerTemplate,h=c.headerTemplate,null!=l&&(c.renderer=C(s,"cell",l)),null!=u&&(c.footerRenderer=C(s,"footer",u)),null!=h&&(c.headerRenderer=C(s,"header",h))}return t==x?{columns:e}:{columnsDefault:e}}return t==M?{rowRenderer:A(s,e)}:void 0},update:function(t,e,i,n,r,o,s){if(t==x||t==O){var a,l,u,h;for(a=0;a<e.length;a++){var c=e[a];l=c.template,u=c.footerTemplate,h=c.headerTemplate,null!=l&&(c.renderer=C(s,"cell",l)),null!=u&&(c.footerRenderer=C(s,"footer",u)),null!=h&&(c.headerRenderer=C(s,"header",h))}n(t==x?{columns:e}:{columnsDefault:e})}else if(t==M)return{rowRenderer:A(s,e)};return null},"for":"ojTable"}),t.ComponentBinding.getDefaultInstance().setupManagedAttributes({attributes:["item"],init:function(t,e,i,n,r,o,s){var a=I(t,e,s);return null!=a?a:void 0},update:function(t,e,i,n,r,o,s){return I(t,e,s)},"for":"ojListViewRenderer"}),t.ComponentBinding.getDefaultInstance().setupManagedAttributes({"for":"ojListView",use:"ojListViewRenderer"}),t.ComponentBinding.getDefaultInstance().setupManagedAttributes({"for":"ojNavigationList",use:"ojListViewRenderer"})}),function(){var t,e,i,n;!function(){var r={},o={};t=function(t,e,i){r[t]={deps:e,callback:i}},n=i=e=function(t){function i(e){if("."!==e.charAt(0))return e;for(var i=e.split("/"),n=t.split("/").slice(0,-1),r=0,o=i.length;o>r;r++){var s=i[r];if(".."===s)n.pop();else{if("."===s)continue;n.push(s)}}return n.join("/")}if(n._eak_seen=r,o[t])return o[t];if(o[t]={},!r[t])throw new Error("Could not find module "+t);for(var s,a=r[t],l=a.deps,u=a.callback,h=[],c=0,p=l.length;p>c;c++)"exports"===l[c]?h.push(s={}):h.push(e(i(l[c])));var d=u.apply(this,h);return o[t]=s||d}}(),t("promise/all",["./utils","exports"],function(t,e){function i(t){var e=this;if(!n(t))throw new TypeError("You must pass an array to all.");return new e(function(e,i){function n(t){return function(e){o(t,e)}}function o(t,i){a[t]=i,0===--l&&e(a)}var s,a=[],l=t.length;0===l&&e([]);for(var u=0;u<t.length;u++)s=t[u],s&&r(s.then)?s.then(n(u),i):o(u,s)})}var n=t.isArray,r=t.isFunction;e.all=i}),t("promise/asap",["exports"],function(t){function e(){return function(){process.nextTick(r)}}function i(){var t=0,e=new l(r),i=document.createTextNode("");return e.observe(i,{characterData:!0}),function(){i.data=t=++t%2}}function n(){return function(){u.setTimeout(r,1)}}function r(){for(var t=0;t<h.length;t++){var e=h[t],i=e[0],n=e[1];i(n)}h=[]}function o(t,e){var i=h.push([t,e]);1===i&&s()}var s,a="undefined"!=typeof window?window:{},l=a.MutationObserver||a.WebKitMutationObserver,u="undefined"!=typeof global?global:void 0===this?window:this,h=[];s="undefined"!=typeof process&&"[object process]"==={}.toString.call(process)?e():l?i():n(),t.asap=o}),t("promise/config",["exports"],function(t){function e(t,e){return 2!==arguments.length?i[t]:void(i[t]=e)}var i={instrument:!1};t.config=i,t.configure=e}),t("promise/polyfill",["./promise","./utils","exports"],function(t,e,i){function n(){var t;t="undefined"!=typeof global?global:"undefined"!=typeof window&&window.document?window:self;var e="Promise"in t&&"resolve"in t.Promise&&"reject"in t.Promise&&"all"in t.Promise&&"race"in t.Promise&&function(){var e;return new t.Promise(function(t){e=t}),o(e)}();e||(t.Promise=r)}var r=t.Promise,o=e.isFunction;i.polyfill=n}),t("promise/promise",["./config","./utils","./all","./race","./resolve","./reject","./asap","exports"],function(t,e,i,n,r,o,s,a){function l(t){if(!E(t))throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof l))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._subscribers=[],u(t,this)}function u(t,e){function i(t){g(e,t)}function n(t){_(e,t)}try{t(i,n)}catch(r){n(r)}}function h(t,e,i,n){var r,o,s,a,l=E(i);if(l)try{r=i(n),s=!0}catch(u){a=!0,o=u}else r=n,s=!0;d(e,r)||(l&&s?g(e,r):a?_(e,o):t===O?g(e,r):t===M&&_(e,r))}function c(t,e,i,n){var r=t._subscribers,o=r.length;r[o]=e,r[o+O]=i,r[o+M]=n}function p(t,e){for(var i,n,r=t._subscribers,o=t._detail,s=0;s<r.length;s+=3)i=r[s],n=r[s+e],h(e,i,n,o);t._subscribers=null}function d(t,e){var i,n=null;try{if(t===e)throw new TypeError("A promises callback cannot return that same promise.");if(S(e)&&(n=e.then,E(n)))return n.call(e,function(n){return i?!0:(i=!0,void(e!==n?g(t,n):f(t,n)))},function(e){return i?!0:(i=!0,void _(t,e))}),!0}catch(r){return i?!0:(_(t,r),!0)}return!1}function g(t,e){t===e?f(t,e):d(t,e)||f(t,e)}function f(t,e){t._state===I&&(t._state=x,t._detail=e,y.async(v,t))}function _(t,e){t._state===I&&(t._state=x,t._detail=e,y.async(m,t))}function v(t){p(t,t._state=O)}function m(t){p(t,t._state=M)}var y=t.config,S=(t.configure,e.objectOrFunction),E=e.isFunction,T=(e.now,i.all),b=n.race,C=r.resolve,A=o.reject,D=s.asap;y.async=D;var I=void 0,x=0,O=1,M=2;l.prototype={constructor:l,_state:void 0,_detail:void 0,_subscribers:void 0,then:function(t,e){var i=this,n=new this.constructor(function(){});if(this._state){var r=arguments;y.async(function(){h(i._state,n,r[i._state-1],i._detail)})}else c(this,n,t,e);return n},"catch":function(t){return this.then(null,t)}},l.all=T,l.race=b,l.resolve=C,l.reject=A,a.Promise=l}),t("promise/race",["./utils","exports"],function(t,e){function i(t){var e=this;if(!n(t))throw new TypeError("You must pass an array to race.");return new e(function(e,i){for(var n,r=0;r<t.length;r++)n=t[r],n&&"function"==typeof n.then?n.then(e,i):e(n)})}var n=t.isArray;e.race=i}),t("promise/reject",["exports"],function(t){function e(t){var e=this;return new e(function(e,i){i(t)})}t.reject=e}),t("promise/resolve",["exports"],function(t){function e(t){if(t&&"object"==typeof t&&t.constructor===this)return t;var e=this;return new e(function(e){e(t)})}t.resolve=e}),t("promise/utils",["exports"],function(t){function e(t){return i(t)||"object"==typeof t&&null!==t}function i(t){return"function"==typeof t}function n(t){return"[object Array]"===Object.prototype.toString.call(t)}var r=Date.now||function(){return(new Date).getTime()};t.objectOrFunction=e,t.isFunction=i,t.isArray=n,t.now=r}),e("promise/polyfill").polyfill()}(),define("promise",function(){}),define("ojs/ojmodule",["ojs/ojcore","knockout","promise"],function(t,e){t.ModuleBinding={},t.ModuleBinding.defaults={viewPath:"text!views/",viewSuffix:".html",modelPath:"viewModels/",initializeMethod:"initialize",disposeMethod:"dispose",activatedHandler:"handleActivated",attachedHandler:"handleAttached",detachedHandler:"handleDetached",bindingsAppliedHandler:"handleBindingsApplied",deactivatedHandler:"handleDeactivated",transitionCompletedHandler:"handleTransitionCompleted"},function(){function i(i,n,o,s,a,l,u){var h=n.canAnimate,p=null==h||h.call(n,i);if(p){var d,g,f=n.prepareAnimation.call(n,i);f&&(d=f.newViewParent,g=f.oldViewParent);var _=d||o;g&&g!==o?r(s,g):_===o&&l(null),_!==o&&e.virtualElements.setDomNodeChildren(_,[]),a(_);var v=Array.prototype.slice.call(_.childNodes),m=!1,y=function(){m||(m=!0,o!==_&&c(o,v))},S=l.bind(null,g);i.newViewParent=d,i.oldViewParent=g,i.oldViewNodes=s,i.removeOldView=S,i.insertNewView=y;var E=function(){S(),y(),u()},T=n.animate.call(n,i).then(E,function(e){E(),t.Logger.error("ojModule animation promise was rejected")});return T}}function n(t,i,n){i=i||t;var r=[];n&&t===i&&(n.parentNode.removeChild(n),r.push(n)),e.virtualElements.setDomNodeChildren(i,r)}function r(t,e){t.forEach(function(t){e.appendChild(t)})}function o(t){return window.DocumentFragment?t instanceof DocumentFragment:t&&11===t.nodeType}function s(t,i,n){if(t&&t[i]){var r={element:n[0],valueAccessor:n[1]};n.length>2&&(r.viewModel=n[2],n.length>3&&(r["boolean"==typeof n[3]?"fromCache":"cachedNodes"]=n[3]));var o=e.ignoreDependencies(t[i],t,[r]);return o}}function a(i,n,r){if(null!=i){var o=t.ModuleBinding.defaults[n];if(null!=o&&i){var s=i[o];if("function"==typeof s){var a=void 0;r&&(a={element:r[0],valueAccessor:r[1]},r.length>2&&(a["boolean"==typeof r[2]?"fromCache":"cachedNodes"]=r[2]));var l=e.ignoreDependencies(s,i,[a]);return l}}}}function l(t,i,n){for(var r=[],o=e.virtualElements.firstChild(t),s=o;null!=s&&s!=n;s=s.nextSibling)s!=i&&r.push(s);return r}function u(t,i){var n=[],r=e.virtualElements.firstChild(t);return h(r,i,function(t){n.push(t)}),n}function h(t,i,n){for(var r=t;null!=r;){var o=e.virtualElements.nextSibling(r),s=r.nodeType;r===i||1!==s&&8!==s||n(r),r=o}}function c(t,i){for(var n=i.length,r=n-1;r>=0;r--)e.virtualElements.prepend(t,i[r])}function p(t,e,i,n,r){return{node:t,valueAccessor:e,isInitial:i,oldViewModel:n,newViewModel:r}}function d(e,i){if(null!=t.Components)for(var n=0;n<e.length;n++)i?t.Components.subtreeShown(e[n]):t.Components.subtreeHidden(e[n])}function g(t){if("string"==typeof t)t=e.utils.parseHtmlFragment(t);else if(o(t))t=e.utils.arrayPushAll([],t.childNodes);else{if(!Array.isArray(t))throw"The View ("+t+") has an unsupported type";t=e.utils.arrayPushAll([],t)}return t}function f(t){return new Promise(function(e,i){require([t],function(t){e(t)},function(){throw new Error("ojModule failed to load "+t)})})}function _(t){if(!t)return t;var e=new Promise(function(e,i){t.then(e,e)});return e}e.bindingHandlers.ojModule={init:function(o,v,m,y,S){var E,T,b,C,A,D={},I=-1,x=function(t){a(t,"disposeMethod",[o,v])},O=function(){x(E)},M=function(){O();for(var t=Object.keys(D),e=0;e<t.length;e++){var i=D[t[e]].model;x(i)}};e.utils.domNodeDisposal.addDisposeCallback(o,M);var R=function(t){if(t!=I)throw new Error("Promise cancelled because ojModule is fetching new View and ViewModel")},w=function(){C||(C=document.createElement("div"),C.className="oj-helper-module-cache",e.virtualElements.prepend(o,C))};return 8===o.nodeType&&(e.virtualElements.setDomNodeChildren(o,[]),A=o.nextSibling),e.computed(function(){I++;var m,y,x,M,P,L,N,k,H=0===I,F=e.utils.unwrapObservable,B=F(v());"string"==typeof B?m=B:(m=F(B.name),y=F(B.viewName),x=F(B.params),M=F(B.viewModelFactory),P=F(B.createViewFunction),L=F(B.cacheKey),N=F(B.lifecycleListener),k=F(B.animation));var U,G,j=s(N,"activated",[o,v]),V=null==L?null:D[L];if(null!=V)delete D[L],U=Promise.resolve(V.view),G=Promise.resolve(V.model);else if(null!=M&&(G=e.ignoreDependencies(M.createViewModel,M,[x,v])),null==G&&null!=m&&(G=f(t.ModuleBinding.defaults.modelPath+m)),null!=G&&(G=G.then(function(t,e){return R(t),e="function"==typeof e?new e(x):a(e,"initializeMethod",[o,v])||e}.bind(null,I)),null!=P&&(U=G.then(function(t,e){if(R(t),null==e)throw"createViewFunction option cannot be used when the ViewModel is null";var i=e[P];if(null==i)throw"function specified by the createViewFunction option was not found on the ViewModel";return i.call(e)}.bind(null,I)))),null==U){if(y=null==y?m:y,null==y)throw new Error("View name must be specified");U=f(t.ModuleBinding.defaults.viewPath+y+t.ModuleBinding.defaults.viewSuffix)}if(null==U)throw new Error("ojModule is missing a View");var Y;null!=G&&(Y=G.then(function(t,e){return R(t),a(e,"activatedHandler",[o,v])}.bind(null,I)));var W=Promise.all([U,G,j,Y,T]);W.then(function(t,f){if(t==I){var m=f[0];if(null==m)throw"The module's View was resolved to null";var y,M=g(m),R=f[1],P=!1,F=l(o,C,A),B=u(o,C);null!=b&&(P=!0,y=F,w());var U=!1,G=function(t){U||(U=!0,P?r(F,C):B.forEach(function(t){e.cleanNode(t)}),n(o,t||o,C),H||(s(N,"detached",[o,v,E,y]),a(E,"detachedHandler",[o,v,y]),s(N,"deactivated",[o,v,E]),a(E,"deactivatedHandler",[o,v])),P?(d(y,!1),D[b]={model:E,view:y}):O(),E=R,b=L)},j=function(t){t=t||o,c(t,M);var i=null!=V;if(i&&d(M,!0),s(N,"attached",[t,v,R,i]),a(R,"attachedHandler",[t,v,i]),!i){var n=S.createChildContext(R,void 0,function(t){t.$module=R,t.$params=x});h(M[0],C,function(t){e.applyBindings(n,t)}),s(N,"bindingsApplied",[t,v,R]),a(R,"bindingsAppliedHandler",[t,v])}},Y=function(){s(N,"transitionCompleted",[o,v,R]),a(R,"transitionCompletedHandler",[o,v])};if(null!=k){var W=p(o,v,H,E,R),K=i(W,k,o,F,j,G,Y);T=_(K)}else T=void 0;T||(G(null),j(null),Y())}}.bind(null,I),function(e,i){e==I&&null!=i&&t.Logger.error(i)}.bind(null,I))},null,{disposeWhenNodeIsRemoved:o}),{controlsDescendantBindings:!0}}},e.virtualElements.allowedBindings.ojModule=!0}()}),requirejs.config({paths:{knockout:"../bower_components/knockout/dist/knockout",jquery:"../bower_components/jquery/dist/jquery","jqueryui-amd":"../bower_components/jquery-ui/ui",ojs:"../bower_components/oraclejet/dist/js/libs/oj/debug",ojL10n:"../bower_components/oraclejet/dist/js/libs/oj/ojL10n",ojtranslations:"../bower_components/oraclejet/dist/js/libs/oj/resources",text:"../bower_components/text/text",promise:"../bower_components/es6-promise/promise",hammerjs:"../bower_components/hammerjs/hammer"},shim:{jquery:{exports:["jQuery","$"]}},config:{ojL10n:{merge:{}}}}),require(["ojs/ojcore","knockout","jquery","ojs/ojknockout","ojs/ojmodule"],function(t,e,i){t.ModuleBinding.defaults.modelPath="views/",e.applyBindings(),i("body").addClass("started")}),define("main",function(){}),define("ojs/ojmoduleanimations",["ojs/ojcore","knockout","promise"],function(t,e){t.ModuleAnimations={},t.ModuleAnimations._DESCRIPTORS={coverStart:{oldViewClass:"oj-animation-coverstart",newViewClass:"oj-animation-coverstart",newViewOnTop:!0},coverUp:{newViewClass:"oj-animation-coverup",newViewOnTop:!0},fade:{oldViewClass:"oj-animation-fade",newViewClass:"oj-animation-fade",newViewOnTop:!1},revealDown:{oldViewClass:"oj-animation-revealdown",newViewOnTop:!1},revealEnd:{oldViewClass:"oj-animation-revealend",newViewClass:"oj-animation-revealend",newViewOnTop:!1},zoomIn:{newViewClass:"oj-animation-zoomin",newViewOnTop:!0},zoomOut:{oldViewClass:"oj-animation-zoomout",newViewOnTop:!1}},t.ModuleAnimations._animateElement=function(t,e,i){var n=$(t),r=new Promise(function(t,r){var o="oj-"+i,s=o+"-active";n.addClass(e),n.addClass(o),window.requestAnimationFrame(function(){n.addClass(s)});var a=function(){t(!0)},l=n.css("animationDuration")||n.css("webkitAnimationDuration");l&&"0s"!=l?n.on("animationend webkitAnimationEnd",a):(l=n.css("transitionDuration")||n.css("webkitTransitionDuration"),l&&"0s"!=l?n.on("transitionend webkitTransitionEnd",a):t(!0))});return r},t.ModuleAnimations._animateView=function(e,i,n){var r=[],o=t.ModuleAnimations._DESCRIPTORS[n];return e&&o&&o.oldViewClass&&r.push(t.ModuleAnimations._animateElement(e,o.oldViewClass,"leave")),i&&o&&o.newViewClass&&r.push(t.ModuleAnimations._animateElement(i,o.newViewClass,"enter")),Promise.all(r)},t.ModuleAnimations._addContainedElements=function(t,i){for(var n=e.virtualElements.firstChild(t);n;)1==n.nodeType?i.push(n):8==n.nodeType&&this._addContainedElements(n,i),n=e.virtualElements.nextSibling(n)},t.ModuleAnimations._cacheVirtualViewRoot=function(t,e){t._ojOldRoot=e},t.ModuleAnimations._getVirtualViewRoot=function(t){return t._ojOldRoot},t.ModuleAnimations._defaultCanAnimate=function(e){if(e.isInitial)return!1;if(1==e.node.nodeType)return!0;if(8==e.node.nodeType){var i=[];if(t.ModuleAnimations._addContainedElements(e.node,i),i&&1==i.length)return t.ModuleAnimations._cacheVirtualViewRoot(e,i[0]),!0}return!1},t.ModuleAnimations._getOldView=function(e){var i;return 1==e.node.nodeType?i=e.node:8==e.node.nodeType&&(i=t.ModuleAnimations._getVirtualViewRoot(e)),i},t.ModuleAnimations._createViewParent=function(t){var e=$(document.createElement("div")),i={position:"absolute",height:t.offsetHeight+"px",width:t.offsetWidth+"px",left:t.offsetLeft+"px",top:t.offsetTop+"px"};e.appendTo(t.offsetParent),e.css(i),e.addClass("oj-animation-host-viewport");var n=document.createElement("div");return n.className="oj-animation-host",e.append(n),n},t.ModuleAnimations._defaultPrepareAnimation=function(e,i){var n={},r=t.ModuleAnimations._DESCRIPTORS[i],o=t.ModuleAnimations._getOldView(e);return r&&(r.newViewClass&&!r.newViewOnTop&&(n.newViewParent=t.ModuleAnimations._createViewParent(o)),r.oldViewClass&&(n.oldViewParent=t.ModuleAnimations._createViewParent(o)),r.newViewClass&&r.newViewOnTop&&(n.newViewParent=t.ModuleAnimations._createViewParent(o))),n},t.ModuleAnimations._defaultAnimate=function(e,i){var n=e.oldViewParent,r=e.newViewParent,o=t.ModuleAnimations._animateView(n,r,i);return o.then(function(i){t.ModuleAnimations._postAnimationProcess(e)})},t.ModuleAnimations._removeViewParent=function(t,e){var i=t[e];if(i){var n=i.parentNode;n&&n.parentNode&&n.parentNode.removeChild(n)}},t.ModuleAnimations._postAnimationProcess=function(e){e.removeOldView(),e.insertNewView(),t.ModuleAnimations._removeViewParent(e,"newViewParent"),t.ModuleAnimations._removeViewParent(e,"oldViewParent")},t.ModuleAnimations._getImplementation=function(e){return{canAnimate:t.ModuleAnimations._defaultCanAnimate,prepareAnimation:function(i){return t.ModuleAnimations._defaultPrepareAnimation(i,e)},animate:function(i){return t.ModuleAnimations._defaultAnimate(i,e)}}},t.ModuleAnimations._getNavigateMethod=function(e,i){return null==t.ModuleAnimations._navigateMethods&&(t.ModuleAnimations._navigateMethods=t.ThemeUtils.parseJSONFromFontFamily("oj-animation-navigate-methods")),t.ModuleAnimations._navigateMethods?t.ModuleAnimations._navigateMethods[i]:null},t.ModuleAnimations._navigateCanAnimate=function(e,i){return t.ModuleAnimations._getNavigateMethod(e,i)&&t.ModuleAnimations._defaultCanAnimate(e)},t.ModuleAnimations._navigatePrepareAnimation=function(e,i){var n=t.ModuleAnimations._getNavigateMethod(e,i);return t.ModuleAnimations._defaultPrepareAnimation(e,n)},t.ModuleAnimations._navigateAnimate=function(e,i){var n=t.ModuleAnimations._getNavigateMethod(e,i);return t.ModuleAnimations._defaultAnimate(e,n)},t.ModuleAnimations._getNavigateImplementation=function(e){return{canAnimate:function(i){return t.ModuleAnimations._navigateCanAnimate(i,e)},prepareAnimation:function(i){return t.ModuleAnimations._navigatePrepareAnimation(i,e)},animate:function(i){return t.ModuleAnimations._navigateAnimate(i,e)}}},t.ModuleAnimations.coverStart=t.ModuleAnimations._getImplementation("coverStart"),t.ModuleAnimations.revealEnd=t.ModuleAnimations._getImplementation("revealEnd"),t.ModuleAnimations.coverUp=t.ModuleAnimations._getImplementation("coverUp"),t.ModuleAnimations.revealDown=t.ModuleAnimations._getImplementation("revealDown"),t.ModuleAnimations.zoomIn=t.ModuleAnimations._getImplementation("zoomIn"),t.ModuleAnimations.zoomOut=t.ModuleAnimations._getImplementation("zoomOut"),t.ModuleAnimations.fade=t.ModuleAnimations._getImplementation("fade"),t.ModuleAnimations.drillIn=t.ModuleAnimations._getNavigateImplementation("drillIn"),t.ModuleAnimations.drillOut=t.ModuleAnimations._getNavigateImplementation("drillOut"),t.ModuleAnimations.switcher=function(e){var i=function(){function i(t){var e=function(e){return n[t].call(n,e)};return e}var n,r=this,o="canAnimate";this[o]=function(s){var a=e(s);if(n=null==a?null:t.ModuleAnimations[a],!n)return!1;for(var l=["prepareAnimation","animate"],u=0;u<l.length;u++){var h=l[u];r[h]=i(h)}return i(o)(s)}};return new i}}),define("views/drill",["knockout","ojs/ojcore","ojs/ojmoduleanimations"],function(t,e){function i(){this.currentModule=t.observable("acts"),this.drillId=t.observable(),this.switcherCallback=n.bind(this)}function n(t){return"acts"===this.currentModule()?"drillOut":"drillIn"}return i}),define("settings",[""],function(){return{baseUrl:""}}),define("ojs/ojmodel",["ojs/ojcore","jquery","promise"],function(t,e){t.Events=window.oj.Events={on:function(t,e,i){return this.OnInternal(t,e,i,!1,!1)},off:function(t,e,i){return this._offInternal(t,e,i,!1)},trigger:function(e){var i=Array.prototype.slice.call(arguments);return i.unshift(!1),t.Events.TriggerInternal.apply(this,i)},once:function(t,e,i){return this._onceInternal(t,e,i,!1,null)},listenTo:function(e,i,n){var r,o,s,a,l,u,h,c,p={};i.constructor===String?p[i]=n:p=i;for(c in p)if(p.hasOwnProperty(c))for(r=t.Events._getEvents(c),o=0;o<r.length;o+=1)s=r[o].event,a=r[o].attribute,u={event:s,attribute:a,object:e,callback:p[c]},h=this._checkForHandler(this._listeningTo,u,t.Events._listenersIdentical),l=a?s+":"+a:s,void 0===this._listeningTo&&(this._listeningTo=[]),this._listeningTo.push(u),e.OnInternal(l,p[c],null,!0,!1);return this},listenToOnce:function(e,i,n){var r,o,s,a,l,u,h,c,p={};i.constructor===String?p[i]=n:p=i;for(c in p)if(p.hasOwnProperty(c))for(r=t.Events._getEvents(c),o=0;o<r.length;o+=1)s=r[o].event,a=r[o].attribute,u={event:s,attribute:a,object:e,callback:p[c]},h=this._checkForHandler(this._listeningTo,u,t.Events._listenersIdentical),l=a?s+":"+a:s,void 0===this._listeningTo&&(this._listeningTo=[]),this._listeningTo.push(u),e._onceInternal(l,p[c],null,!0,this);return this},stopListening:function(e,i,n){var r,o,s,a,l,u,h,c,p,d,g,f,_,v,m={};if(null==arguments||arguments.length<=1){for(_=this._listeningTo?this._listeningTo.length:0,g=0;_>g;g++)u=this._listeningTo[g],h=e?e===u.object:!0,h&&(v=u.object._offInternal,v.apply(u.object,[u.event,u.callback,u.context,!0]));return this._listeningTo=[],this}o=i,e&&e.constructor===String&&(o=e),o.constructor===String?m[o]=n:m=o;for(f in m)if(m.hasOwnProperty(f))for(r=t.Events._getEvents(f),s=0;s<r.length;s+=1)for(a=r[s].event,l=r[s].attribute,_=this._listeningTo?this._listeningTo.length:0,g=_-1;g>=0;g-=1)u=this._listeningTo[g],h=e?e===u.object:!0,c=a?a===u.event:!0,p=n?m[f]===u.callback:!0,d=l?l===u.attribute:!0,h&&c&&p&&d&&(v=this._listeningTo[g].object._offInternal,v.apply(this._listeningTo[g].object,[this._listeningTo[g].event,this._listeningTo[g].callback,this._listeningTo[g].context,!0]),this._listeningTo.splice(g,1));return this}},t.Events.bind=t.Events.on,t.Events.unbind=t.Events.off,t.Events.EventType={ADD:"add",ALLADDED:"alladded",REMOVE:"remove",RESET:"reset",REFRESH:"refresh",SORT:"sort",CHANGE:"change",DESTROY:"destroy",ALLREMOVED:"allremoved",REQUEST:"request",SYNC:"sync",ERROR:"error",INVALID:"invalid",READY:"ready",ALL:"all"},t.Events.Mixin=function(t,e){var i,n=e||this;for(i in n)"function"==typeof n[i]&&(t[i]=n[i]);t.eventHandlers={},t._listeningTo=[]},t.Events._onceInternal=function(t,e,i,n,r){var o,s,a,l,u,h;u=this._getEventMap(t,e,i);for(h in u)if(u.hasOwnProperty(h))for(o=this._getEvents(h),s=0;s<o.length;s+=1)a=o[s].event,l=o[s].attribute,void 0===this.eventHandlers&&(this.eventHandlers=[]),void 0===this.eventHandlers[a]&&(this.eventHandlers[a]=[]),this.eventHandlers[a].push({callback:u[h],context:i,attribute:l,once:!0,fired:!1,listen:n,otherObj:r});return this},t.Events._shouldFire=function(t){return t.once?t.fired?!1:(t.fired=!0,!0):!0},t.Events._getContext=function(t,e){
return e.context||e.otherObj||t},t.Events.TriggerInternal=function(e,i){var n,r,o,s,a,l,u,h,c,p=this._getEvents(i);for(s=[],n=0;n<p.length;n+=1)r=p[n].event,o=p[n].attribute,s.push({event:r,attribute:o});for(n=0;n<s.length;n+=1){for(h=this._getHandlers(this.eventHandlers,t.Events.EventType.ALL),a=t.Events._getHandlers(this.eventHandlers,s[n].event,!1),l=0;l<(a?a.length:0);l+=1)a[l].attribute===s[n].attribute&&a[l].callback&&(u=Array.prototype.slice.call(arguments),a&&a[l]&&a[l].once&&(this._removeHandler(t.Events._getHandlers(this.eventHandlers,s[n].event,!0),a[l]),a[l].otherObj&&a[l].otherObj.stopListening(this,i,a[l].callback)),a&&a[l]&&this._shouldFire(a[l])&&(c=a[l].callback,e&&!a[l].ignoreSilent||c.apply(t.Events._getContext(this,a[l]),u.slice(2))));for(l=0;l<(h?h.length:0);l+=1)u=Array.prototype.slice.call(arguments),u.length>0&&(s[n].attribute?u[1]=s[n].event+":"+s[n].attribute:u[1]=s[n].event),h&&h[l]&&h[l].callback&&this._shouldFire(h[l])&&(c=h[l].callback,e&&!h[l].ignoreSilent||c.apply(t.Events._getContext(this,h[l]),u.slice(1))),h&&h[l]&&h[l].once&&(this._removeHandler(this._getHandlers(this.eventHandlers,t.Events.EventType.ALL,!0),h[l]),h[l].otherObj&&h[l].otherObj.stopListening(this,t.Events.EventType.ALL,h[l].callback))}return this},t.Events.OnInternal=function(e,i,n,r,o){var s,a,l,u,h,c,p;s=this._getEventMap(e,i,n);for(a in s)if(s.hasOwnProperty(a))for(l=this._getEvents(a),u=0;u<l.length;u+=1)h=l[u].event,c=l[u].attribute,void 0===this.eventHandlers&&(this.eventHandlers=[]),void 0===this.eventHandlers[h]&&(this.eventHandlers[h]=[]),p={callback:s[a],context:n,attribute:c,listen:r,ignoreSilent:o},-1===this._checkForHandler(this.eventHandlers[h],p,t.Events._handlersIdentical)&&this.eventHandlers[h].push(p);return this},t.Events._offInternal=function(t,e,i,n){var r,o;if(null==arguments||0==arguments.length)return this.eventHandlers={},this;if(null==t)return this._removeEvent(t,e,i,n),this;r=this._getEventMap(t,e,i);for(o in r)r.hasOwnProperty(o)&&this._removeEvent(o,r[o],i,n);return this},t.Events._getEventMap=function(t,e,i){var n={};return t.constructor===String?n[t]=e:(n=t,i=e),n},t.Events._removeEvent=function(e,i,n,r){var o,s,a,l,u,h,c,p,d,g=[];if(e)g=t.Events._getEvents(e);else if(void 0!==this.eventHandlers)for(a in this.eventHandlers)this.eventHandlers.hasOwnProperty(a)&&g.push({event:a});for(o=0;o<g.length;o+=1)if(a=g[o].event,l=g[o].attribute,void 0!==this.eventHandlers&&this.eventHandlers[a]instanceof Array){for(u=this.eventHandlers[a],s=u.length-1;s>=0;s-=1)h=void 0===i||null===i||u[s].callback==i,c=void 0===n||null===n||u[s].context==n,p=void 0===l||null===l||u[s].attribute==l,d=void 0===r||null===r||u[s].listen==r,h&&c&&p&&d&&u.splice(s,1);0===u.length&&delete this.eventHandlers[a]}},t.Events._removeHandler=function(t,e){var i,n,r,o,s,a;if(t)for(i=t.length-1;i>=0;i-=1)n=void 0===e.callback||null===e.callback||t[i].callback==e.callback,r=void 0===e.context||null===e.context||t[i].context==e.context,o=void 0===e.attribute||null===e.attribute||t[i].attribute==e.attribute,s=void 0===e.listen||null===e.listen||t[i].listen==e.listen,a=void 0===e.once||null===e.once||t[i].once==e.once,n&&r&&o&&s&&a&&t.splice(i,1)},t.Events._getEvents=function(t){var e,i,n,r,o=t?t.split(" "):[],s=[];for(e=0;e<o.length;e+=1)i=o[e].split(":"),n=i[0],r=i.length>1?i[1]:null,s.push({event:n,attribute:r});return s},t.Events._handlersIdentical=function(t,e){return t.callback===e.callback&&t.attribute===e.attribute&&t.context===e.context&&t.listen===e.listen&&t.once===e.once},t.Events._listenersIdentical=function(t,e){return t.event===e.event&&t.attribute===e.attribute&&t.context===e.context&&t.object===e.object},t.Events._checkForHandler=function(t,e,i){var n;if(void 0===t)return-1;for(n=0;n<t.length;n+=1)if(i(t[n],e))return n;return-1},t.Events._getHandlers=function(t,e,i){if(t&&t[e]instanceof Array){if(i)return t[e];var n,r=[];for(n=0;n<t[e].length;n++)r.push(t[e][n]);return r}return null},t.Model=function(e,i){t.Model._init(this,e,i,null)},t.Object.createSubclass(t.Model,t.Object,"oj.Model"),t.Model.prototype.Init=function(){t.Model.superclass.Init.call(this)},t.Model.prototype.attributes={},t.Model.prototype.defaults={},t.Model.prototype.id=null,t.Model.prototype.idAttribute="id",t.Model.prototype.urlRoot=null,t.Model.prototype.customURL=null,t.Model._idCount=0,t.Model._init=function(i,n,r,o){var s,a,l=null;if(!t.Model._justExtending){i.Init(),t.Events.Mixin(i),i._clearChanged(),i.previousAttrs={},i.nestedSet=!1,i.index=-1,r=r||{},i.attributes={},i.defaults&&!r.ignoreDefaults&&(i.attributes=t.Model._cloneAttributes(e.isFunction(i.defaults)?i.defaults():i.defaults,null));for(l in o)o.hasOwnProperty(l)&&(i[l]=o[l]);if(n)if(s=r.parse,e.isFunction(s)&&(i.parse=s),a=t.Model._cloneAttributes(n,i.attributes),a=s?i.parse(a):a,null==a||void 0===a)i.attributes={};else for(l in a)a.hasOwnProperty(l)&&i._setProp(l,a[l],!1,!1,r);i.SetCid(),i.SetCollection(r.collection),r.customURL&&(i.customURL=r.customURL),r.url&&(i.url=r.url),r.urlRoot&&(i.urlRoot=r.urlRoot),i.initialize&&i.initialize(n,r),i.SetupId()}},t.Model.extend=function(i,n){t.Model._justExtending=!0;var r,o;r=new t.Model,t.Model._justExtending=!1,e.extend(r,this.prototype),i=i||{};for(o in i)i.hasOwnProperty(o)&&(r[o]=i[o]);var s;if(s=i&&i.constructor&&i.hasOwnProperty("constructor")?i.constructor:function(e,n){t.Model._init(this,e,n,i)},e.extend(s,this),s.prototype=r,s.extend=t.Model.extend,s.prototype.constructor=s,t.Events.Mixin(s,this),n)for(o in n)n.hasOwnProperty(o)&&(s[o]=n[o]);return s},t.Model.prototype.TriggerInternal=function(t,e,i,n,r){},t.Model.prototype.SetCid=function(){this.GetCid()||(this.cid="id"+t.Model._idCount,t.Model._idCount=t.Model._idCount+1)},t.Model.prototype.GetCid=function(){return this.cid},t.Model.prototype.SetIndex=function(t){this.index=t},t.Model.prototype.GetIndex=function(){return this.index},t.Model.prototype.SetNext=function(t){var e=this.nextModel;return this.nextModel=t,e},t.Model.prototype.GetNext=function(){return this.nextModel},t.Model.prototype.SetPrevious=function(t){var e=this.previousModel;return this.previousModel=t,e},t.Model.prototype.GetPrevious=function(){return this.previousModel},t.Model.prototype.Merge=function(e,i,n){var r,o,s=!1,a=t.StringUtils.isString(i),l=!1;for(r in e.attributes)e.attributes.hasOwnProperty(r)&&(o=this.attributes[r]!=e.attributes[r],a?r===i&&o&&(s=!0):o&&(s=!0),o&&(l=!0,this.attributes[r]=e.attributes[r],this._addChange(r,e.attributes[r]),this._fireAttrChange(r,this.attributes[r],null,n)));return this.SetupId(),l&&this._fireChange(null,n),s},t.Model._hasProperties=function(t){var e;if(t&&t instanceof Object)for(e in t)if(t.hasOwnProperty(e))return!0;return!1},t.Model.prototype.SetCollection=function(t){return null==t?void delete this.collection:(this.collection=t,void this.SetupId())},t.Model.prototype.GetCollection=function(){return this.collection},t.Model.prototype._fireAttrChange=function(e,i,n,r){null!=e&&this.TriggerInternal(r,t.Events.EventType.CHANGE+":"+e,this,i,n)},t.Model.prototype._fireChange=function(e,i){this.TriggerInternal(i,t.Events.EventType.CHANGE,this,e,null)},t.Model.prototype.SetupId=function(){var t=null;if(this.collection&&this.collection.modelId){var i=this.collection.modelId;t=e.isFunction(i)?i.call(this.collection,this.attributes):i}if(!t){var n=this._getIdAttr();t=null!=this.attributes?this.attributes[n]:null}this.id=t},t.Model.prototype._setPropInternal=function(e,i,n){var r=t.Object.__innerEquals(this.attributes[e],i);return n||!r?(this.attributes[e]=i,this.SetupId(),!r):!1},t.Model.prototype._clearChanged=function(){this.changed={}},t.Model.prototype._addChange=function(t,e){this.changed[t]=e},t.Model.prototype._setProp=function(e,i,n,r,o){if(null==e)return!0;var s,a,l={},u=this.nestedSet;if(r)for(s in e)e.hasOwnProperty(s)&&(l[s]=e[s]);else l[e]=i;if(a=o||{},!this._checkValid(l,{validate:a.validate},!1))return!1;u||(this._clearChanged(),this.changes=[]),this.nestedSet||(this.previousAttrs=t.Model._cloneAttributes(this.attributes,null)),this.nestedSet=!0;for(s in l)l.hasOwnProperty(s)&&(this._setPropInternal(s,l[s],n)?(this._addChange(s,l[s]),this.changes.push(s)):delete l[s]);var h=a.silent;for(s in l)l.hasOwnProperty(s)&&(!h&&(this.changes.length>0||u&&-1===this.changes.indexOf(s))&&(this.pendingChanges=!0,this.pendingOpts=a),this._fireAttrChange(s,l[s],a,h));if(u)return!0;if(!h&&!u)for(;this.pendingChanges;)this.pendingChanges=!1,this._fireChange(this.pendingOpts,h);return this.nestedSet=!1,!0},t.Model.prototype.clear=function(e){var i,n,r={silent:!0};e=e||{},n=e.silent,r.validate=e.validate,this._clearChanged();for(i in this.attributes)if(this.attributes.hasOwnProperty(i)){if(!this._unsetInternal(i,r,!0))return!1;this.TriggerInternal(n,t.Events.EventType.CHANGE+":"+i,this,void 0,null)}return this.attributes={},this.SetupId(),this._fireAttrChange(null,null,null,n),this._fireChange(null,n),this},t.Model._cloneAttributes=function(e,i){i=i||{};var n;for(n in e)i.hasOwnProperty(n)&&e.hasOwnProperty(n)&&void 0===e[n]&&delete e[n];return t.CollectionUtils.copyInto(i,e,void 0,!0,1e4),i},t.Model.prototype.clone=function(){var e,i=new this.constructor;for(e in this)this.hasOwnProperty(e)&&this[e]!==this.attributes&&(i[e]=this[e]);return i.attributes=t.Model._cloneAttributes(this.attributes,null),delete i.cid,i.SetCid(),i.SetupId(),i},t.Model.prototype.Match=function(t,e){var i,n=this.GetId();return void 0!==n&&n==t?!0:(i=this.cid,void 0!==i&&i==e)},t.Model.prototype.set=function(e,i,n){var r,o=n||{},s=!0;if(arguments&&arguments.length>0)if(t.StringUtils.isString(e))o.unset?this._unsetInternal(e,null,!1):this._setProp(e,i,!1,!1,o)||(s=!1);else if(o=i||{},o.unset)for(r in e)e.hasOwnProperty(r)&&this._unsetInternal(r,null,!1);else this._setProp(e,null,!0,!0,o)||(s=!1);return s?this:!1},t.Model.prototype.unset=function(t,e){return this._unsetInternal(t,e,!1)},t.Model.prototype._unsetInternal=function(t,e,i){e=e||{};var n=e.silent,r={};if(this.has(t)){if(!this._checkValid(r,e,!1))return!1;i||this._clearChanged(),delete this.attributes[t],this._addChange(t,void 0),this._fireAttrChange(t,null,null,n),this._fireChange(null,n)}return this.SetupId(),!0},t.Model.prototype.get=function(t){return this.attributes[t]},t.Model.prototype.has=function(e){return t.Collection._defined(this.attributes[e])},t.Model.prototype.fetch=function(i){i=i||{};var n,r=i.success,o=i.error,s=this;n=t.Model._copyOptions(i),n.error=function(e,n,r){t.Model._triggerError(s,!1,i,n,r,e),o&&o.apply(s,arguments)},n.success=function(o){n.xhr&&(i.xhr=n.xhr),t.Model._fireSyncEvent(s,o,n,!1),e.isFunction(s.parse)&&s.set(s.parse(o),n),r&&r.call(s,this,o,i)},t.Model._internalSync("read",this,n)},t.Model.prototype.parse=function(t){return t},t.Model.prototype.url=function(){var e,i,n,r=this._getUrlRoot(),o=this.GetId();if(r)return o?r+"/"+encodeURIComponent(o):r;if(e=this.collection)return i=t.Model.GetPropValue(e,"url"),o&&i?(n="/"==t.Model._getLastChar(i)?"":"/",i+n+encodeURIComponent(this.GetId())):i;throw new t.URLError},t.Model.prototype.keys=function(){var t,e=[];for(t in this.attributes)this.attributes.hasOwnProperty(t)&&e.push(t);return e},t.Model.prototype.values=function(){var t,e=[];for(t in this.attributes)this.attributes.hasOwnProperty(t)&&e.push(this.get(t));return e},t.Model.prototype.pairs=function(){var t,e,i=[];for(t in this.attributes)this.attributes.hasOwnProperty(t)&&(e=[],e.push(t),e.push(this.get(t)),i.push(e));return i},t.Model.prototype.omit=function(t){var e,i,n=[],r={};if(t instanceof Array)n=t;else for(e=0;e<arguments.length;e++)n.push(arguments[e]);for(i in this.attributes)this.attributes.hasOwnProperty(i)&&-1==n.indexOf(i)&&(r[i]=this.get(i));return r},t.Model.prototype.pick=function(t){var e,i=[],n={};if(t instanceof Array)i=t;else for(e=0;e<arguments.length;e++)i.push(arguments[e]);for(e=0;e<i.length;e++)this.attributes.hasOwnProperty(i[e])&&(n[i[e]]=this.get(i[e]));return n},t.Model.prototype.invert=function(){var t,e,i={};for(t in this.attributes)this.attributes.hasOwnProperty(t)&&(e=this.get(t),i[e]=t);return i},t.Model._getLastChar=function(t){return t.charAt(t.length-1)},t.Model.prototype._saveUrl=function(){var t=this._getUrlRoot();return t?t:this.GetCollection()?this.GetCollection().url:null},t.Model.prototype._getUrlRoot=function(){return t.Model.GetPropValue(this,"urlRoot")},t.Model.prototype.parseSave=function(t){return t},t.Model.prototype.isValid=function(){var t={};return t.validate=this.validate,this._checkValid(this.attributes,t,!1)},t.Model._isValidateSet=function(t,e){return t=t||{},void 0!==t.validate&&null!==t.validate?t.validate:e},t.Model.prototype._checkValid=function(e,i,n){i=i||{};var r=this.validate;return r&&t.Model._isValidateSet(i,n)&&(this.validationError=r.call(this,e,i),this.validationError)?(this.TriggerInternal(!1,t.Events.EventType.INVALID,this,this.validationError,i),!1):!0},t.Model._processArgs=function(e){var i,n,r=!1,o={},s={};if(e&&e.length>0){if(e.length>1&&e[e.length-1]&&t.Model._hasProperties(e[e.length-1])&&(r=!0,o=e[e.length-1]||{}),null==e[0])return{attributes:null,options:o};if(t.Model._hasProperties(e[0])||t.Object.isEmpty(e[0]))for(i in e[0])e[0].hasOwnProperty(i)&&(s[i]=e[0][i]);else for(n=0;n<e.length;n+=2)(void 0!==e[n]||n<e.length-1||!r&&n===e.length-1)&&(s[e[n]]=e[n+1])}return{attributes:s,options:o}},t.Model._copyOptions=function(t){var e,i={};t=t||{};for(e in t)t.hasOwnProperty(e)&&(i[e]=t[e]);return i},t.Model._triggerError=function(e,i,n,r,o,s){n=n||{},n.textStatus=r,n.errorThrown=o,e.TriggerInternal(i,t.Events.EventType.ERROR,e,s,n)},t.Model.prototype.save=function(i,n){var r,o,s,a,l,u,h,c,p,d=t.Model._processArgs(arguments);return p=void 0===i?void 0:d.attributes,n=n||{},h=t.Model._copyOptions(d.options),this._checkValid(this.attributes,h,!0)?(h.wait||this.set(p),r=void 0===h.forceNew?!1:h.forceNew,a=this,l=h.error,u=h.patch,h.error=function(e,i,r){t.Model._triggerError(a,!1,n,i,r,e),l&&l.apply(a,arguments)},h.saveAttrs=h.wait?this._attrUnion(p):this.attributes,c=this.attributes,this.attributes=h.saveAttrs,h.saveAttrs=this.toJSON(),this.attributes=c,r||this.isNew()?(s=t.Model._getSuccess(h),h.success=function(i,r,o){var l;if(h.xhr&&(n.xhr=h.xhr),i){if(l=e.isFunction(a.parse)?a.parse(i):i,!a._checkValid(l,h,!0))return;a.attributes=e.extend(!0,a.attributes,l),a.SetupId()}h.wait&&a.set(p),t.Model._fireSyncEvent(a,i,h,!1),s&&s.call(t.Model.GetContext(h,a),a,i,n),a._clearChanged()},h.attrs||(h.attrs=h.saveAttrs),h.parse=!0,u&&(h.saveAttrs=h.attrs),t.Model._internalSync("create",this,h)):(o=h.success,h.success=function(i,r,s){var l;h.xhr&&(n.xhr=h.xhr),i&&(l=e.isFunction(a.parse)?a.parse(i):i,a.attributes=e.extend(!0,a.attributes,l),a.SetupId()),t.Model._fireSyncEvent(a,i,h,!1),h.wait&&a.set(p),o&&o.call(t.Model.GetContext(h,a),a,i,n),a._clearChanged()},h.attrs||(void 0===p?h.attrs=void 0:h.attrs=u?p:h.saveAttrs),t.Model._internalSync(u?"patch":"update",this,h))):!1},t.Model.prototype._attrUnion=function(t){var e,i={};for(e in this.attributes)this.attributes.hasOwnProperty(e)&&(i[e]=this.attributes[e]);for(e in t)t.hasOwnProperty(e)&&(i[e]=t[e]);return i},t.Model.GetPropValue=function(t,i){return t?e.isFunction(t[i])?t[i]():t[i]:e.isFunction(i)?i():i},t.Model.IsComplexValue=function(t){return t&&t.hasOwnProperty("value")&&t.hasOwnProperty("comparator")},t.Model.prototype._hasAttrs=function(e){var i;for(i in e)if(e.hasOwnProperty(i)){if(!this.attributes.hasOwnProperty(i))return!1;for(var n=Array.isArray(e[i])?e[i]:[e[i]],r=0;r<n.length;r++)if(t.Model.IsComplexValue(n[r])){var o=n[r].comparator,s=n[r].value;if(t.StringUtils.isString(o))throw new Error("String comparator invalid for local where/findWhere");if(!o(this,i,s))return!1}else if(e[i]!==this.attributes[i])return!1}return!0},t.Model.prototype.matches=function(t){return function(e){for(var i in t)if(e.get(i)!==t[i])return!1;return!0}(this)},t.Model.prototype.Contains=function(t){var e,i=t.constructor===Array?t:[t];for(e=0;e<i.length;e++)if(this._hasAttrs(i[e]))return!0;return!1},t.Model._getSuccess=function(t){return null!=t&&t.success?t.success:null},t.Model.GetContext=function(t,e){return void 0!==t&&void 0!==t.context?t.context:e},t.Model.prototype.isNew=function(){return void 0==this.GetId()},t.Model.prototype._getIdAttr=function(){return this.idAttribute||"id"},t.Model.prototype.GetId=function(){return this.id},t.Model.prototype.changedAttributes=function(e){if(e){var i,n={};for(i in e)e.hasOwnProperty(i)&&(t.Object.__innerEquals(e[i],this.attributes[i])||(n[i]=e[i]));return t.Object.isEmpty(n)?!1:n}return t.Object.isEmpty(this.changed)?!1:this.changed},t.Model.prototype.hasChanged=function(e){return void 0!==e?t.Model._hasProperties(this.changed)&&this.changed.hasOwnProperty(e):t.Model._hasProperties(this.changed)},t.Model.prototype.destroy=function(e){e=e||{};var i,n,r,o,s=e.wait,a=e.error,l=this;o=t.Model._copyOptions(e),i=t.Model._getSuccess(o),n=t.Model.GetContext(o,this);var u=this.GetCollection();return o.success=function(n,r,a){if(o.xhr&&(e.xhr=o.xhr),u){var h=t.StringUtils.isString(n)&&!t.StringUtils.isEmpty(n)?JSON.parse(n):n;u._setPagingReturnValues(h,null,n,!0)}s&&l._fireDestroy(!1),t.Model._fireSyncEvent(l,n,o,!1),i&&i.call(t.Model.GetContext(o,l),l,n,e)},o.error=function(i,n,r){l.TriggerInternal(!1,t.Events.EventType.ERROR,l,i,e),a&&a.apply(l,arguments)},this.isNew()?(s||this._fireDestroy(!1),i&&i.call(t.Model.GetContext(o,l),l,null,e),!1):(r=t.Model._internalSync("delete",this,o),s||this._fireDestroy(!1),r)},t.Model.prototype._fireRequest=function(e,i,n,r){this.TriggerInternal(r,t.Events.EventType.REQUEST,e,i,n)},t.Model.prototype._fireDestroy=function(e){this.TriggerInternal(e,t.Events.EventType.DESTROY,this,this.collection,null)},t.Model._fireSyncEvent=function(e,i,n,r){e.TriggerInternal(r,t.Events.EventType.SYNC,e,i,n)},t.Model.prototype.toJSON=function(){var t,e={};for(t in this.attributes)this.attributes.hasOwnProperty(t)&&(Array.isArray(this.attributes[t])?e[t]=this.attributes[t].slice(0):e[t]=this.attributes[t]);return e},t.Model.prototype.previous=function(t){return this.previousAttrs[t]},t.Model.prototype.previousAttributes=function(){return this.previousAttrs},t.Model.prototype.sync=function(t,e,i){return window.oj.sync(t,e,i)},t.Model._internalSync=function(e,i,n){n=n||{},i.oauth&&(n.oauthHeader=i.oauth.getHeader()),!n.dataType&&i.dataType&&(n.dataType=i.dataType),!n.jsonpCallback&&i.jsonpCallback&&(n.jsonpCallback=i.jsonpCallback),"create"!==e&&"patch"!==e&&"update"!==e||(n.parsedData=i.parseSave.call(i,"patch"===e?n.attrs:n.saveAttrs));var r=null;i instanceof t.Model&&(r=i.GetId());var o={};if(n)for(var s in n)o[s]=n[s];var a=t.Model.SetCustomURLOptions(r,i,n);for(var s in a)o[s]=a[s];return n.xhr=i.sync(e,i,o),o.xhr&&(n.xhr=o.xhr),n.xhr},t.Model.SetCustomURLOptions=function(e,i,n){var r=i instanceof t.Collection?i.ModifyOptionsForCustomURL(n):{};return e&&(r.recordID=e),r},t.sync=function(e,i,n){function r(t){return i._fireRequest(i,t,n,n.silent),t}n=n||{};var o,s,a,l=n.success,u=n.error;if(s="jsonp"!==n.dataType,a=i.customURL,"create"===e.valueOf()){var h=i._saveUrl();return h=h?h:t.Model.GetPropValue(i,"url"),o=new t.RestImpl(h,a),r(o.addRecord(n.parsedData,u,n,i))}if("read"===e.valueOf()){if(i instanceof t.Model){var h=n.url?n.url:t.Model.GetPropValue(i,"url");return o=new t.RestImpl(h,a),r(o.getRecord(l,u,i.GetId(),n,t.Model.GetContext(n,i)))}var h=i.GetCollectionFetchUrl(n);return o=new t.RestImpl(h,a),r(o.getRecords(l,u,n,i))}o=new t.RestImpl(t.Model.GetPropValue(i,"url"),a);var c=null;return i instanceof t.Model&&(c=i.GetId()),"update"===e.valueOf()?r(o.updateRecord(l,c,n.parsedData,u,n,i,!1)):"patch"===e.valueOf()?r(o.updateRecord(l,c,n.parsedData,u,n,i,!0)):"delete"===e.valueOf()?r(o.deleteRecord(c,u,n,i)):null},t.Model._urlError=function(t){if(!t.url)throw new Error("The url property or function must be specified")},t.ajax=function(){return arguments&&arguments.length>0&&t.Model._urlError(arguments[0]),e.ajax.apply(window.oj,arguments)},t.URLError=function(){this.name="URLError",this.message="No URL defined"},t.URLError.prototype=new Error,t.URLError.constructor=t.URLError,t.RestImpl=function(t,i){this.rootURL=t,this.customURL=i,e.support.cors=!0},t.RestImpl._HEADER_PROP="headers",t.RestImpl.addOptions=function(i,n,r){var o;i=e.extend(!0,i,r);for(o in n)n.hasOwnProperty(o)&&"oauthHeader"!==o&&(i.hasOwnProperty(o)||(i[o]=n[o]),o===t.RestImpl._HEADER_PROP&&(i[o]=e.extend(!0,i[o],n[o])));if(n.oauthHeader){i[t.RestImpl._HEADER_PROP]||(i[t.RestImpl._HEADER_PROP]={});for(o in n.oauthHeader)n.oauthHeader.hasOwnProperty(o)&&(i[t.RestImpl._HEADER_PROP].hasOwnProperty(o)||(i[t.RestImpl._HEADER_PROP][o]=n.oauthHeader[o]))}return i},t.RestImpl.prototype.getRecords=function(e,i,n,r){n=n||{};var o="jsonp"===n.dataType,s=this._getURL("read",this.rootURL,this.customURL,null,r,n),a={crossDomain:n.crossDomain||!o,dataType:this._getDataType(n),jsonpCallback:n.jsonpCallback,context:null!==r?r:this,success:e,error:i};return a=this._addHeaderProp(a),a=t.RestImpl.addOptions(a,n,s),n.xhr=this.ajax(a),n.xhr},t.RestImpl.prototype._addHeaderProp=function(e){return e[t.RestImpl._HEADER_PROP]={"Accept-Language":this.getLocale()},e},t.RestImpl.prototype.getRecord=function(e,i,n,r,o){r=r||{};var s="jsonp"===r.dataType,a=this._getURL("read",this.rootURL,this.customURL,n,o,r),l={crossDomain:r.crossDomain||!s,dataType:this._getDataType(r),jsonpCallback:r.jsonpCallback,context:null!==o?o:this,success:e,error:i};return l=this._addHeaderProp(l),l=t.RestImpl.addOptions(l,r,a),r.xhr=this.ajax(l),r.xhr},t.RestImpl.prototype.updateRecord=function(e,i,n,r,o,s,a){o=o||{};var l="jsonp"===o.dataType,u=this._getURL(a?"patch":"update",this.rootURL,this.customURL,i,s,o),h=t.RestImpl._emulateHTTP(o),c={crossDomain:o.crossDomain||!l,contentType:this._getContentType(o),dataType:this._getDataType(o),jsonpCallback:o.jsonpCallback,data:this._getData(JSON.stringify(n),o,u),emulateHTTP:h,emulateJSON:t.RestImpl._emulateJSON(o),success:e,error:r,context:null!==s?s:this};return c=this._addHeaderProp(c),c=t.RestImpl.addOptions(c,o,u),c=t.RestImpl._beforeSendMod(h,c),o.xhr=this.ajax(c),o.xhr},t.RestImpl._beforeSendMod=function(t,e){if(t){var i=e.beforeSend;e.beforeSend=function(t){return t.setRequestHeader("X-HTTP-Method-Override",e._method),i?i.apply(this,arguments):void 0}}return e},t.RestImpl.prototype._getData=function(e,i,n){if(t.RestImpl._emulateJSON(i)){var r={_method:n._method?n._method:n.type};return e&&(r.model=e),r}return e},t.RestImpl.prototype._getHTTPMethod=function(e,i){if(i.type)return{method:i.type};var n=null;if("create"===e&&(n="POST"),"delete"===e&&(n="DELETE"),"patch"===e&&(n="PATCH"),"update"===e&&(n="PUT"),t.RestImpl._emulateHTTP(i)){var r={};return r.method="POST",r._method=n,r}return null===n&&(n="GET"),{method:n}},t.RestImpl._emulateHTTP=function(e){return e.emulateHTTP||t.emulateHTTP},t.RestImpl._emulateJSON=function(e){return e.emulateJSON||t.emulateJSON},t.RestImpl.prototype._getURL=function(i,n,r,o,s,a){var l=this._getHTTPMethod(i,a);if(e.isFunction(r)){var u=r.call(this,i,s,t.Model.SetCustomURLOptions(o,s,a));if(t.StringUtils.isString(u)){var h={url:u,type:l.method};return l._method&&(h._method=l._method),h}if(u)return u.url=u.hasOwnProperty("url")?u.url:n,u.hasOwnProperty("type")||(u.type=l.method),u.hasOwnProperty("data")||l._method&&(u._method=l._method),u}var h={url:t.Model.GetPropValue(null,n),type:l.method};return l._method&&(h._method=l._method),h},t.RestImpl.prototype.deleteRecord=function(e,i,n,r){n=n||{};var o="jsonp"===n.dataType,s=this._getURL("delete",this.rootURL,this.customURL,e,r,n),a=t.RestImpl._emulateHTTP(n),l=t.RestImpl._emulateJSON(n),u={crossDomain:n.crossDomain||!o,success:n.success,error:i,context:null!==r?r:this,emulateHTTP:a,emulateJSON:l},h=this._getData(null,n,s);return h&&(u.data=h),u=t.RestImpl.addOptions(u,n,s),u=t.RestImpl._beforeSendMod(a,u),n.xhr=this.ajax(u),n.xhr},t.RestImpl.prototype.addRecord=function(e,i,n,r){n=n||{};var o=JSON.stringify(e),s="jsonp"===n.dataType,a=this._getURL("create",this.rootURL,this.customURL,null,r,n),l=t.RestImpl._emulateHTTP(n),u={crossDomain:n.crossDomain||!s,contentType:n.contentType||"application/json",dataType:this._getDataType(n),jsonpCallback:n.jsonpCallback,data:this._getData(o,n,a),success:n.success,error:i,emulateHTTP:l,emulateJSON:t.RestImpl._emulateJSON(n),context:null!==r?r:this};return u=this._addHeaderProp(u),u=t.RestImpl.addOptions(u,n,a),n.xhr=this.ajax(u),n.xhr},t.RestImpl.prototype._getDataType=function(e){return t.RestImpl._emulateJSON(e)&&!t.RestImpl._emulateHTTP(e)?"application/x-www-form-urlencoded":e.dataType||"json"},t.RestImpl.prototype._getContentType=function(e){return t.RestImpl._emulateJSON(e)&&!t.RestImpl._emulateHTTP(e)?"application/x-www-form-urlencoded":e.contentType||"application/json"},t.RestImpl.prototype.getLocale=function(){return t.Config.getLocale()},t.RestImpl.prototype.ajax=function(e){if(null===e.url||void 0===e.url)throw new t.URLError;return window.oj.ajax(e)},t.OAuth=function(e,i){i=i||{},e=e||"Authorization",t.OAuth._init(this,i,e)},t.Object.createSubclass(t.OAuth,t.Object,"oj.OAuth"),t.OAuth.prototype.Init=function(){t.OAuth.superclass.Init.call(this)},t.OAuth.prototype.getHeader=function(){var t={};return this.accessTokenResponse.access_token||this.clientCredentialGrant(),t[this.accessTokenRequest.auth_header]="Bearer "+this.accessTokenResponse.access_token,t},t.OAuth.prototype.isInitialized=function(){return!!this.accessTokenResponse.access_token},t.OAuth.prototype.clientCredentialGrant=function(){var i={},n=this;i[n.accessTokenRequest.auth_header]="Basic "+t.OAuth._base64_encode(n.accessTokenRequest.client_id+":"+n.accessTokenRequest.client_secret),e.ajax({type:"POST",async:!1,url:this.accessTokenRequest.bearer_url,data:"grant_type=client_credentials",headers:i,success:function(e){t.OAuth._initAccessToken(n.accessTokenResponse,e)},error:function(t,e,i){throw new Error(t.responseText)}})},t.OAuth.prototype.setAccessTokenResponse=function(e){t.OAuth._initAccessToken(this.accessTokenResponse,e)},t.OAuth.prototype.getAccessTokenResponse=function(){return this.accessTokenResponse},t.OAuth.prototype.cleanAccessTokenResponse=function(){t.OAuth._cleanAccessToken(this.accessTokenResponse)},t.OAuth.prototype.setAccessTokenRequest=function(e){t.OAuth._initAccessToken(this.accessTokenRequest,e)},t.OAuth.prototype.getAccessTokenRequest=function(){return this.accessTokenRequest},t.OAuth.prototype.cleanAccessTokenRequest=function(){t.OAuth._cleanAccessToken(this.accessTokenRequest)},t.OAuth._init=function(e,i,n){e.Init(),e.accessTokenRequest={},e.accessTokenResponse={},i.access_token?t.OAuth._initAccessToken(e.accessTokenResponse,i):i.client_id&&i.client_secret&&i.bearer_url&&t.OAuth._initAccessToken(e.accessTokenRequest,i),e.accessTokenRequest.auth_header=n},t.OAuth._initAccessToken=function(t,e){var i;e=e||{};for(i in e)t[i]=e[i]},t.OAuth._cleanAccessToken=function(t){var e;for(e in t)t.hasOwnProperty(e)&&"auth_header"!==e&&(t[e]=null,delete t[e])},t.OAuth._base64_encode=function(t){var e,i,n,r,o=0,s=0,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",l=[];do e=t.charCodeAt(o++),i=t.charCodeAt(o++),n=t.charCodeAt(o++),r=e<<16|i<<8|n,e=r>>18&63,i=r>>12&63,n=r>>6&63,r&=63,l[s++]=a.charAt(e)+a.charAt(i)+a.charAt(n)+a.charAt(r);while(o<t.length);return l=l.join(""),e=t.length%3,(e?l.slice(0,e-3):l)+"===".slice(e||3)},t.Collection=function(e,i){t.Collection._justExtending||t.Collection._init(this,e,i,null)},t.Object.createSubclass(t.Collection,t.Object,"oj.Collection"),t.Collection.prototype.model=null,t.Collection.prototype.modelId=function(t){var e=this.model;return e&&t?t[e.idAttribute||e.prototype.idAttribute||"id"]:null},t.Collection.prototype.length=void 0,t.Collection.prototype.models=void 0,t.Collection.prototype._modelIndices=[],t.Collection.prototype.url=null,t.Collection.prototype.changes=[],t.Collection.prototype.customURL=null,t.Collection.prototype.customPagingOptions=null,t.Collection.prototype.lastFetchSize=void 0,t.Collection.prototype.hasMore=!1,t.Collection.prototype.totalResults=void 0,t.Collection.prototype.lastFetchCount=void 0,t.Collection.prototype.modelLimit=-1,t.Collection.prototype.offset=void 0,t.Collection.prototype.fetchSize=-1,t.Collection.prototype.sortDirection=1,t.Collection.prototype.comparator=null,t.Collection.prototype.Init=function(){t.Collection.superclass.Init.call(this)},t.Collection.extend=function(i,n){t.Collection._justExtending=!0;var r=new t.Collection;t.Collection._justExtending=!1,e.extend(r,this.prototype);var o;if(o=i&&i.constructor&&i.hasOwnProperty("constructor")?i.constructor:function(e,n){t.Collection._init(this,e,n,i)},n){var s;for(s in n)n.hasOwnProperty(s)&&(o[s]=n[s])}if(i){var s;for(s in i)i.hasOwnProperty(s)&&(r[s]=i[s])}return e.extend(o,this),o.prototype=r,o.extend=t.Collection.extend,o.prototype.constructor=o,o},t.Collection._init=function(e,i,n,r){var o,s,a,l;if(e.Init(),t.Events.Mixin(e),r)for(o in r)r.hasOwnProperty(o)&&(e[o]=r[o]);for(n=n||{},a=["comparator","customPagingOptions","customURL",t.Collection._FETCH_SIZE_PROP,"model","modelLimit","sortDirection","url"],s=0;s<a.length;s++)n.hasOwnProperty(a[s])&&void 0!==n[a[s]]&&(e[a[s]]=n[a[s]]);if(void 0===e._getFetchSize(null)&&e.setFetchSize(-1),void 0===e.modelLimit&&e.setModelLimit(-1),e.hasMore=!1,e.lruCount=0,e._setModels([],!0),n.parse&&(i=e.parse(i)),null!=i)for(n.noparse=!0,l=i instanceof Array?i:[i],s=0;s<l.length;s+=1)e.add(l[s],n);e._setLength(),r&&r.initialize&&r.initialize.call(e,i,n)},t.Collection.prototype.on=function(t,e){},t.Collection.prototype.OnInternal=function(t,e,i,n,r){},t.Collection.prototype.TriggerInternal=function(t,e,i,n,r){},t.Collection.prototype._fireRequest=function(e,i,n,r){this.TriggerInternal(r,t.Events.EventType.REQUEST,e,i,n)},t.Collection.prototype._resetChanges=function(){this.changes=[]},t.Collection.prototype._setChangeAt=function(t,e){for(var i=t;t+e>i;i++)-1===this.changes.indexOf(i)&&(this.changes.push(i),this.changes.sort(function(t,e){return t-e}))},t.Collection.prototype._setModels=function(t,e){if(this.models=t,e)this._modelIndices=[],this._resetChanges();else for(var i=0;i<t.length;i++)t[i]&&this._modelIndices.push(i)},t.Collection.prototype._getModels=function(){return this.models},t.Collection.prototype._getModelsLength=function(){return this._getModels().length},t.Collection.prototype._overUpperLimit=function(t){return t<this._getModelsLength()?!1:!(this.IsVirtual()&&(!this._hasTotalResults()||0===this._getModelsLength()))},t.Collection.prototype._hasTotalResults=function(){return t.Collection._defined(this.totalResults)},t.Collection._defined=function(t){return null!=t},t.Collection.prototype._pushModel=function(t){this._getModels().push(t),this._modelIndices.push(this._getModelsLength()-1),this._setChangeAt(this._getModelsLength()-1,1)},t.Collection.prototype._pushModels=function(t){this._makeModelHead(t),this._pushModel(t),this.lruCount++,t.SetIndex(this._getModelsLength()-1)},t.Collection.prototype._reduceLRU=function(t){if(t)for(var e=0;e<t.length;e++)t[e]&&this.lruCount--},t.Collection.prototype._spliceModels=function(t,e,i){for(var n=t;t+e>n;n++)this._removePrevNext(this._getModel(n));void 0===i?(this._reduceLRU(this._getModels().splice(t,e)),this._spliceModelIndices(t,t+e-1)):(this._reduceLRU(this._getModels().splice(t,e,i)),this._spliceModelIndices(t,t+e-1),this._insertModelIndex(t),this._makeModelHead(i)),this._setChangeAt(t,e),this.lruCount<0&&(this.lruCount=0),this._realignModelIndices(t)},t.Collection.prototype._getModel=function(t){return this._getModels()[t]},t.Collection.prototype._realignModelIndices=function(t){for(var e,i=0;i<this._modelIndices.length;i++)e=this._modelIndices[i],e>=t&&this._getModel(e)&&this._getModel(e).SetIndex(e)},t.Collection.prototype._removePrevNext=function(t){if(t){var e=t.GetPrevious(),i=t.GetNext();e?e.SetNext(i):this.head=i,i?i.SetPrevious(e):this.tail=e}},t.Collection.prototype._makeModelHead=function(t){
t.SetNext(this.head),this.head?this.head.SetPrevious(t):this.tail=t,t.SetPrevious(null),this.head=t},t.Collection.prototype._setModelIndex=function(t){-1===this._modelIndices.indexOf(t)&&this._modelIndices.push(t)},t.Collection.prototype._verifyIndices=function(){for(var t=this._getModels(),e=0,i=0;i<t.length;i++)if(t[i]){e++;var n=this._modelIndices.indexOf(i);-1===n&&console.log("ERROR: Could not find:"+i)}e!==this._modelIndices.length&&console.log("ERROR: Model index count is wrong"),console.log("all ok")},t.Collection.prototype._insertModelIndex=function(t){for(var e=0;e<this._modelIndices.length;e++)this._modelIndices[e]>=t&&this._modelIndices[e]++;this._modelIndices.push(t)},t.Collection.prototype._spliceModelIndices=function(t,e){void 0===e&&(e=t),this._clearModelIndices(t,e);for(var i=e-t+1,n=0;n<this._modelIndices.length;n++)this._modelIndices[n]>e&&(this._modelIndices[n]-=i)},t.Collection.prototype._clearModelIndices=function(t,e){void 0===e&&(e=t);for(var i=t;e>=i;i++){var n=this._modelIndices.indexOf(t);n>-1&&this._modelIndices.splice(n,1)}},t.Collection.prototype._setModel=function(t,e){var i=this._getModel(t);this._removePrevNext(i),i||this.lruCount++,this._setChangeAt(t,1),this._getModels()[t]=e,e&&(this._setModelIndex(t),e.SetIndex(t),this._makeModelHead(e))},t.Collection.prototype._clearOutModels=function(t){var e,i,n=this.tail,r=0;for(this.tail=null;n&&t>r;)e=n.GetIndex(),i=this._getModel(e),i&&i.hasChanged()?(this.tail||(this.tail=n),n=n.GetPrevious()):(this.lruCount--,e>-1&&(this._setModel(e,void 0),this._clearModelIndices(e,e)),n.SetNext(null),n=n.SetPrevious(null),r++);this.tail||(this.tail=n),this.lruCount<0&&(this.lruCount=0),0===this.lruCount&&(this.head=null,this.tail=null)},t.Collection.prototype._resetLRU=function(){this.lruCount=0,this.head=null,this.tail=null},t.Collection.prototype._manageLRU=function(t){if(this.IsVirtual()){var e=this._getModelLimit();e>-1&&this.lruCount+t>e&&this._clearOutModels(this.lruCount+t-e)}},t.Collection.prototype.clone=function(){return this._cloneInternal(!0)},t.Collection.prototype._cloneInternal=function(t){var e,i,n=new this.constructor;if(this.IsVirtual()&&(n=this._copyFetchProperties(n),n._resetModelsToFullLength()),n=this._copyProperties(n),t){var r=[];for(e=0;e<this._modelIndices.length;e++)r.push(this._modelIndices[e]);r.sort(function(t,e){return t-e});var o;for(e=0;e<r.length;e++)o=r[e],i=this._atInternal(o,null,!0,!1),i&&n._addInternal(i.clone(),{at:o},!0,!1)}return n},t.Collection.prototype._copyProperties=function(t){var e,i,n=["comparator","model","modelId"];for(i=0;i<n.length;i++)e=n[i],t[e]=this[e];return t},t.Collection.prototype._copyFetchProperties=function(e){var i,n,r=["totalResults","hasMore",t.Collection._FETCH_SIZE_PROP];for(n=0;n<r.length;n++)i=r[n],e[i]=this[i];return e},t.Collection.prototype._getLength=function(){return this.length},t.Collection.prototype._setLength=function(){var t=this._getModelsLength();this.length=t,this.IsVirtual()||(this.totalResults=t)},t.Collection._createModel=function(t,i,n){return t.model?e.isFunction(t.model)?new t.model(i,n):new t.model.constructor(i,n):null},t.Collection.prototype._newModel=function(e,i,n,r){var o,s=null,a=n||{};return a.ignoreDefaults=r,e instanceof t.Model?s=e:this.model?s=t.Collection._createModel(this,e,a):(a.collection=this,s=new t.Model(e,a)),a.validate&&s.validate&&(o=s.validate(s.attributes))?(a.validationError=o,this.TriggerInternal(!1,t.Events.EventType.INVALID,s,o,a),null):s},t.Collection.prototype.add=function(t,e){this._manageLRU(1);var i=e||{};return this._handlePromise(this._addInternal(t,e,!1,i.deferred))},t.Collection.prototype._addInternal=function(e,i,n,r){function o(t,e){void 0===g?(t._pushModels(e),c=t._getModelsLength()-1,t._getModel(c).SetCid()):(c=g,t.IsVirtual()&&n?t._setModel(c,e):t._spliceModels(c,0,e),t._getModel(c).SetCid(),g+=1),void 0===e.GetCollection()&&e.SetCollection(t),t._setLength(),t._listenToModel(e),S=!0}function s(e,r,o,s,a){if(n&&(i=i||{},i.fillIn=!0),y&&void 0===r&&!m&&void 0===g&&e._getLength()>1){c>-1&&(p=e._getModel(c).cid);var l={};t.CollectionUtils.copyInto(l,i),l.add=!0,e.sort(l),c>-1&&(c=e.IsVirtual()?-1:e.indexOf(e.getByCid(p),a))}S&&(i.at&&(i.index=c),s?(s.TriggerInternal(f,t.Events.EventType.ADD,s,e,i),E.push(s)):(o.TriggerInternal(f,t.Events.EventType.ADD,o,e,i),E.push(o)))}function a(e,i,r,a,l){var u,h=null;return!_&&v&&r?(y=r.Merge(i,e.comparator,f),h=r):(_||(u=e._getLocal(a),u&&n&&g!==u.index&&t.Logger.warn("Duplicate ID fetched or added without merging, the id = "+u.GetId())),void 0===u?(o(e,a),h=a):h=u),s(e,u,r,a,l),h}function l(e,r,o){S=!1;var s=e._newModel(r,!0,i,!1),l=null,u=null;if(null!=s){if(c=-1,s.SetupId(),l=r instanceof t.Model?r:s,o)return _?new Promise(function(t,i){var n=a(e,l,void 0,s,o);T.push(n),t(n)}):e._getInternal(l,{silent:!0},o,!0).then(function(t){u=t.m;var i=a(e,l,u,s,o);T.push(i)});!_&&v&&(u=n?e._getLocal(l):e.get(l));var h=a(e,l,u,s,o);h&&T.push(h)}else T.push(!1)}function u(t,e){return t.parse&&i.parse&&!i.noparse?t.parse(e):e}i=i||{};var h,c,p,d=[],g=i.at,f=i.silent,_=i.force,v=i.merge||!1,m=i.sort,y=!0,S=!1,E=[],T=[];if(void 0!==g&&0>g&&(g+=this._getLength()+1),e instanceof Array?d=e:d.push(e),!n&&(this.IsVirtual()||r)){var b=this;return new Promise(function(e,n){var r=function(t){return new Promise(function(e,i){l(b,d[t],!0).then(function(){e(t+1)},i)})},o=Promise.resolve(0);for(d=u(b,d),h=0;h<d.length;h++)o=o.then(r);o.then(function(){E.length>0&&b.TriggerInternal(i.silent,t.Events.EventType.ALLADDED,b,E,i),e(t.Collection._returnModels(T))},n)})}for(d=u(this,d),h=0;h<d.length;h++)l(this,d[h],!1);return E.length>0&&this.TriggerInternal(i.silent,t.Events.EventType.ALLADDED,this,E,i),t.Collection._returnModels(T)},t.Collection._returnModels=function(t){return 1===t.length?t[0]:t},t.Collection.prototype._hasComparator=function(){return t.Collection._defined(this.comparator)},t.Collection.prototype.sort=function(e){e=e||{};var i,n=e.silent,r=this.comparator;if(!this._hasComparator())return null;if(this.IsVirtual()){var o=this.totalResults;this._hasTotalResults()?this._setModels(new Array(o),!0):(this._setModels([],!0),this._resetLRU(),this._setLength());var s=e.add?{add:!0}:null;this.TriggerInternal(n,t.Events.EventType.SORT,this,s,null);var a=e.startIndex;return void 0!==a&&null!==a?this.setRangeLocal(a,this._getFetchSize(e)):null}i=this,this._getModels().sort(function(e,n){return t.Collection.SortFunc(e,n,r,i,i)}),this._realignModelIndices(0);var s=e.add?{add:!0}:null;return this.TriggerInternal(n,t.Events.EventType.SORT,this,s,null),null},t.Collection._getKey=function(e,i){return e instanceof t.Model?e.get(i):t.Model.GetPropValue(e,i)},t.Collection.SortFunc=function(i,n,r,o,s){var a,l,u,h;if(e.isFunction(r)){if(1===r.length){a=r.call(s,i),l=r.call(s,n);var c=t.StringUtils.isString(a)?a.split(","):[a],p=t.StringUtils.isString(l)?l.split(","):[l];for(u=0;u<c.length;u++)if(h=t.Collection._compareKeys(c[u],p[u],o.sortDirection),0!==h)return h}return r.call(s,i,n)}if(t.StringUtils.isString(r)){var d=r.split(",");for(u=0;u<d.length;u++)if(a=t.Collection._getKey(i,d[u]),l=t.Collection._getKey(n,d[u]),h=t.Collection._compareKeys(a,l,o.sortDirection),0!==h)return h}return 0},t.Collection.prototype.sortedIndex=function(i,n){var r,o,s=n?n:this.comparator;return s?(this._throwErrIfVirtual("sortedIndex"),r=this,o=function(i,n){var o,a;if(e.isFunction(s)){if(1===s.length){o=s.call(r,i),a=s.call(r,n);var l,u,h=t.StringUtils.isString(o)?o.split(","):[o],c=t.StringUtils.isString(a)?a.split(","):[a];for(u=0;u<h.length;u++)if(l=t.Collection._compareKeys(h[u],c[u],r.sortDirection),0!==l)return l}return s.call(r,i,n)}return t.StringUtils.isString(s)?(o=i.get(s),a=n.get(s),t.Collection._compareKeys(o,a,r.sortDirection)):0},t.Collection._find(this._getModels(),i,o)):-1},t.Collection._find=function(t,e,i){function n(r,o){var s,a,l;return r>o?-1:(s=e.GetCid(),a=e.GetId(),t[r].Match(a,s)?r:t[o].Match(a,s)?o:(l=Math.floor((o+r)/2),-1===i(t[l],e)?n(r+1,l):1===i(t[l],e)?n(l,o-1):l))}return n(0,t.length-1)},t.Collection._compareKeys=function(t,e,i){if(-1===i){if(e>t)return 1;if(t>e)return-1}else{if(t>e)return 1;if(e>t)return-1}return 0},t.Collection.prototype.unshift=function(e,i){var n={};return t.CollectionUtils.copyInto(n,i||{}),n.at||(n.at=0),this._manageLRU(1),this._handlePromise(this._addInternal(e,n,!1,n.deferred))},t.Collection.prototype._handlePromise=function(t){return e.isFunction(t.then)?this._addPromise(function(){return t}):t},t.Collection.prototype.shift=function(e){e=e||{};var i,n=this._getDeferred(e);if(this.IsVirtual()||n){var r=this;return this.at(0,e).then(function(n){return i=r._removeInternal(n,0,e),r.TriggerInternal(e.silent,t.Events.EventType.ALLREMOVED,r,[i],e),i})}return i=this._removeInternal(this.at(0),0,e),this.TriggerInternal(e.silent,t.Events.EventType.ALLREMOVED,this,[i],e),i},t.Collection.prototype.initial=function(t){void 0===t&&(t=1),this._throwErrIfVirtual("initial");var e,i=[];for(e=0;e<this._getLength()-t;e+=1)i.push(this.at(e));return i},t.Collection.prototype._getDeferred=function(t){var e=t||{};return e.deferred},t.Collection.prototype.last=function(t,e){var i=this._getDeferred(e);if(void 0===t&&(t=1),1===t){var n=this._getModelsLength();return 0===n&&(n=t),n>0?this.at(n-1,i):null}var r,o=[],n=this._getLength();if(i||this.IsVirtual()){var s=n-t;0>s&&(s=0),0===n&&(n=t);var a=this;return this._addPromise(function(){return a.IterativeAt(s,n)})}for(r=n-t;n>r;r+=1)o.push(this.at(r));return o},t.Collection.prototype.IterativeAt=function(t,e){var i,n=[],r=this;return new Promise(function(o,s){var a=function(t){return new Promise(function(e,i){r._deferredAt(t,null).then(function(i){n.push(i),e(t+1)},i)})},l=Promise.resolve(t);for(i=t;e>i;i++)l=l.then(a);l.then(function(){o(n)},s)})},t.Collection.prototype._getDefaultFetchSize=function(e){return void 0===e||null===e?this[t.Collection._FETCH_SIZE_PROP]:e},t.Collection.prototype._calculateNextStart=function(){var e=this.lastFetchCount;return void 0!==e&&null!==e||(e=this[t.Collection._FETCH_SIZE_PROP]),void 0===this.offset||null===this.offset?e:this.offset+e},t.Collection.prototype.next=function(e,i){i=i||{},i[t.Collection._FETCH_SIZE_PROP]=this._getDefaultFetchSize(e);var n=this._calculateNextStart(),r=this._getLength();if(0===r&&i[t.Collection._FETCH_SIZE_PROP]>0)n=0;else if(n>=r){var o=this;return i.success&&i.success.call(t.Model.GetContext(i,o),o,null,i),null}return i.startIndex=n,this.fetch(i)},t.Collection.prototype._calculatePrevStart=function(t){return void 0===this.offset||null===this.offset?0:this.offset-t},t.Collection.prototype.previous=function(e,i){if(i=i||{},0===this.offset){var n=this;return i.success&&this.lastFetchCount&&i.success.call(t.Model.GetContext(i,n),n,null,i),null}i[t.Collection._FETCH_SIZE_PROP]=this._getDefaultFetchSize(e);var r=this._calculatePrevStart(i[t.Collection._FETCH_SIZE_PROP]);return 0>r&&(i[t.Collection._FETCH_SIZE_PROP]=this.offset,r=0),i.startIndex=r,this.fetch(i)},t.Collection.prototype.setModelLimit=function(t){this.modelLimit=t,this._manageLRU(0)},t.Collection.prototype._getModelLimit=function(){return this.modelLimit},t.Collection.prototype.setFetchSize=function(e){this[t.Collection._FETCH_SIZE_PROP]=e},t.Collection.prototype.rest=function(t,e){var i=this._getDeferred(e);void 0===t&&(t=1);var n,r=[];if(this.IsVirtual()||i){var o=this;return this._addPromise(function(){return o.IterativeAt(t,o._getLength())})}for(n=t;n<this._getLength();n+=1)r.push(this.at(n));return r},t.Collection.prototype.remove=function(e,i){i=i||{};var n,r=[];e instanceof Array?r=e:r.push(e);var o=[];for(n=r.length-1;n>=0;n-=1)o.unshift(this._removeInternal(r[n],-1,i));return this.TriggerInternal(i.silent,t.Events.EventType.ALLREMOVED,this,r,i),t.Collection._returnModels(o)},t.Collection.prototype._removeInternal=function(e,i,n){n=n||{};var r=-1==i?this._getInternal(e):t.Collection._getModinfo(i,e),o=n.silent;if(i=r.index,i>-1){var s=r.m;void 0!==s&&s.GetCollection()===this&&s.SetCollection(null),this._spliceModels(i,1),this._setLength();var a={};t.CollectionUtils.copyInto(a,n),a.index=i,void 0!==s&&s.TriggerInternal(o,t.Events.EventType.REMOVE,s,this,a),this._unlistenToModel(s)}return r.m},t.Collection.prototype._unlistenToModel=function(t){void 0!==t&&t.off(null,null,this)},t.Collection.prototype._listenToModel=function(e){e.OnInternal(t.Events.EventType.ALL,this._modelEvent,this,!1,!0)},t.Collection.prototype._modelEvent=function(e,i,n,r){var o;if(e===t.Events.EventType.DESTROY&&this.remove(i),!(void 0!==n&&n instanceof t.Collection&&n!==this)){o=Array.prototype.slice.call(arguments);var s=r&&r.silent;this.TriggerInternal(s,e,i,n,r)}},t.Collection.prototype.refresh=function(e){e=e||{};var i=this;return this._addPromise(function(){return new Promise(function(n,r){if(!i.IsVirtual()){var o=void 0!==e.silent&&e.silent;try{i.reset(null,{silent:!0});var s={};for(var a in e)e.hasOwnProperty(a)&&(s[a]=e[a]);return s.success=function(e,r,s){i.TriggerInternal(o,t.Events.EventType.REFRESH,i,s,null),n({collection:e,response:r,options:s})},s.error=function(n,o,s){r(t.Collection._createRejectionError(n,o,s,i,e))},void i.fetch(s)}catch(l){if(l instanceof t.URLError)return i.TriggerInternal(o,t.Events.EventType.REFRESH,i,e,null),void n({collection:i,options:e});throw l}}var u=e.startIndex;i._setModels([],!0),i._resetLRU(),i.totalResults=void 0,i._setLength();var o=void 0!==e.silent&&e.silent;i.TriggerInternal(o,t.Events.EventType.REFRESH,i,e,null),void 0!==u&&null!==u||(u=0),void 0!==u&&null!==u?i._setRangeLocalInternal(u,i._getFetchSize(e)).then(function(t){n(t)},function(t){r(t)}):n(void 0)})})},t.Collection.prototype.reset=function(e,i){var n={};t.CollectionUtils.copyInto(n,i||{}),n.previousModels=this._getModels();for(var r,o,s=0;s<this._modelIndices.length;s++)r=this._modelIndices[s],o=this._getModel(r),o&&(this._unlistenToModel(o),o.SetCollection(null));this._setModels([],!0),this._resetLRU();var a=void 0!==n.silent&&n.silent;if(!e)return this.totalResults=void 0,this._setLength(),this.TriggerInternal(a,t.Events.EventType.RESET,this,n,null),null;var l=null;return n.parse&&(e=this.parse(e)),this._manageLRU(e instanceof Array?e.length:1),n.noparse=!0,l=this._addInternal(e,n,!0,!1),this._setLength(),this.TriggerInternal(a,t.Events.EventType.RESET,this,n,null),this._handlePromise(l)},t.Collection.prototype.at=function(t,e){var i=this._getDeferred(e);return this._atInternal(t,e,!1,i)},t.Collection.prototype._atInternal=function(t,e,i,n){if(0>t&&(t+=this._getLength()),0>t||this._overUpperLimit(t))return i||!this.IsVirtual()&&!n?null:this._addPromise(function(){return Promise.resolve(null)});var r=this;return i||!this.IsVirtual()&&!n?this._getModel(t):this._addPromise(function(){return r._deferredAt(t,e)})},t.Collection.prototype.whenReady=function(){return this._promises?this._promises:Promise.resolve()},t.Collection.prototype._addPromise=function(e){var i=this;return void 0===this._promises&&(this._promiseCount=0,this._promises=Promise.resolve()),this._promiseCount++,this._promises=this._promises.then(e.bind(i)).then(function(e){return i._promiseCount--,0===i._promiseCount&&(i._promises=void 0,i.TriggerInternal(!1,t.Events.EventType.READY,i,null,null)),e},function(t){return i._promiseCount--,0===i._promiseCount&&(i._promises=void 0),Promise.reject(t)}),this._promises},t.Collection.prototype._deferredAt=function(e,i){var n=this,r=n._getModel(e);return void 0===r?new Promise(function(r,o){var s={};t.CollectionUtils.copyInto(s,i||{}),s.context=n,s.startIndex=e,s.error=function(e,r,s){o(t.Collection._createRejectionError(e,r,s,n,i))},s.success=function(t,i,o){r(n._getModel(e))},n._fetchInternal(s,-1,!1)}):new Promise(function(t,e){t(r)})},t.Collection.prototype.getByCid=function(t){for(var e,i=this._getModels(),n=null,r=0;r<this._modelIndices.length;r++)if(e=this._modelIndices[r],i[e]&&t===i[e].cid){n=i[e];break}if(n)return n;if(this.IsVirtual())throw new Error("Not found locally and not supported by server for virtual collections");return null},t.Collection.prototype.get=function(t,i){var n=this._getDeferred(i),r=this._getInternal(t,i,n);if(r){if(e.isFunction(r.then))return this._addPromise(function(){return new Promise(function(t,e){r.then(function(e){t(e.m)},function(t){e(t)})})});if(this.IsVirtual())return this._addPromise(function(){return new Promise(function(t,e){t(r.m)})});if(r.hasOwnProperty("m"))return r.m}return null},t.Collection.prototype._getLocal=function(t){var e=this._getLocalInternal(t);return e?e.m:null},t.Collection.prototype._getLocalInternal=function(e){var i=e;e instanceof t.Model?(i=e.GetCid(),e=e.GetId()):t.Collection._defined(e)&&void 0!==e.id&&(e=e.id);for(var n,r,o=null,s=this._modelIndices.length,a=this._getModels(),l=0;s>l;l++)if(r=this._modelIndices[l],n=a[r],void 0!==n&&n.Match(e,i)){o=t.Collection._getModinfo(r,n);break}return o?o:t.Collection._getModinfo(-1,void 0)},t.Collection.prototype._getInternal=function(e,i,n,r){var o=e;void 0===r&&(r=!1),e instanceof t.Model?(o=e.GetCid(),e=e.GetId()):t.Collection._defined(e)&&void 0!==e.id&&(e=e.id);for(var s,a=null,l=this._getModels(),u=0;u<this._modelIndices.length;u++)if(s=this._modelIndices[u],l[s]&&l[s].Match(e,o)){var h=t.Collection._getModinfo(s,l[s]);a=h;break}if(a)return n?new Promise(function(t,e){t(a)}):a;if(this.IsVirtual()){if(void 0===e&&void 0!==o)return new Promise(function(e,i){e(t.Collection._getModinfo(-1,void 0))});var c=this;return new Promise(function(n,s){var a=function(i){if(null!=i){var r=c._getOffset(),s=c._getModel(r);n(void 0!==s&&s.Match(e,o)?t.Collection._getModinfo(r,s):t.Collection._getModinfo(-1,void 0))}else n(t.Collection._getModinfo(-1,void 0))},l={};t.CollectionUtils.copyInto(l,i||{}),l.context=c,l.startID=e,l.error=function(e,n,r){s(t.Collection._createRejectionError(e,n,r,c,i))},l.success=function(t,e,i){a(e)},c._fetchInternal(l,-1,r)})}var p=t.Collection._getModinfo(-1,void 0);return n?new Promise(function(t,e){t(p)}):p},t.Collection._getModinfo=function(t,e){return{index:t,m:e}},t.Collection.prototype.parse=function(t){var e;if(t instanceof Array)return t;if(!t)return t;for(e in t)if(t.hasOwnProperty(e)&&t[e]instanceof Array)return t[e];return t},t.Collection.prototype._checkActual=function(t,e,i){return this._hasTotalResults()&&this.totalResults>0&&i.start+i.count>=this.totalResults?!0:i.start===t&&i.count===e},t.Collection.prototype.setRangeLocal=function(t,e){var i=this;return this._addPromise(function(){return i._setRangeLocalInternal(t,e)})},t.Collection.prototype._setRangeLocalInternal=function(t,e){this.IsVirtual()&&this._resetModelsToFullLength();var i=this._getLocalRange(t,e),n=this;if(this._checkActual(t,e,i))return new Promise(function(t,e){t(i)});var r=this._getModelLimit();return r>-1&&e>r&&(this.modelLimit=e),new Promise(function(i,r){n._setRangeLocalFetch(t,e,-1,{start:t,count:e},i,r,!0)})},t.Collection.prototype._setRangeLocalFetch=function(e,i,n,r,o,s,a){var l=this,u=function(){var t=l._getLocalRange(r.start,r.count);if(a&&l._hasTotalResults()&&t.count<r.count){var n=t.start+t.count,u=e+i;u<l.totalResults?l._setRangeLocalFetch(u,i,n,r,o,s,a):o(t)}else o(t)},h=e+i;this[t.Collection._FETCH_SIZE_PROP]&&this[t.Collection._FETCH_SIZE_PROP]>i&&(h=this[t.Collection._FETCH_SIZE_PROP]+e);var c=null;if(this.IsVirtual()){var p=this._getFirstMissingModel(e,h);p>e&&(e=p,h=e+i,this[t.Collection._FETCH_SIZE_PROP]&&this[t.Collection._FETCH_SIZE_PROP]>i&&(h=this[t.Collection._FETCH_SIZE_PROP]+e)),c={context:this,startIndex:e,fetchSize:h-e}}else c={context:this};c.error=function(e,i,n){s(t.Collection._createRejectionError(e,i,n,l,null))},c.success=function(t,e,i){u()};try{this._fetchInternal(c,n,n>-1)}catch(d){if(d instanceof t.URLError){var g=l._getLocalRange(e,i);o(g)}}},t.Collection._createRejectionError=function(e,i,n,r,o){var s=!1;o&&o.silent&&(s=o.silent),t.Model._triggerError(r,s,o,i,n,e);var a=new Error(i);return a.xhr=e,a.error=n,a.collection=r,a.status=i,a},t.Collection.prototype._getMaxLength=function(t,e){var i=this._getModelsLength();return 0===i?t+e:t+e>i?i:t+e},t.Collection.prototype.isRangeLocal=function(t,e){var i=this._getLocalRange(t,e);return 0===this._getModelsLength()?0===e:t===i.start&&(e===i.count||t+e>this._getModelsLength())},t.Collection.prototype._getModelArray=function(t,e){for(var i=[],n=this._getModels(),r=t+e,o=t;r>o;o++)i.push(n[o]);return i},t.Collection.prototype._getLocalRange=function(t,e){if(!this.IsVirtual()){if(this._getModelsLength()>0){if(t+e>this._getModelsLength()){var i=this._getModelsLength()-t;return{start:t,count:i,models:this._getModelArray(t,i)}}return{start:t,count:e,models:this._getModelArray(t,e)}}return{start:t,count:0,models:[]}}var n=this._getMaxLength(t,e);if(!this._hasTotalResults()&&t+e>n)return{start:t,count:n-t,models:this._getModelArray(t,n-t)};if(0===n)return{start:t,count:0,models:[]};var r=this._getFirstMissingModel(t,n);return r>-1?{start:t,count:r-t,models:this._getModelArray(t,r-t)}:(t>n?e=0:t+e>n&&(e=n-t),{start:t,count:e,models:this._getModelArray(t,e)})},t.Collection.prototype._getFirstMissingModel=function(t,e){for(var i=t;e>i;i++)if(void 0===this._getModel(i))return i;return-1},t.Collection.prototype.fetch=function(t){var e=this._fetchInternal(t,-1,!1);return this._addPromise(function(){return Promise.resolve(e)}),e},t.Collection.prototype._fetchInternal=function(e,i,n){function r(t,e,i){t.IsVirtual()?i||t._resetModelsToFullLength():e.add||e.useset||t.reset(null,{silent:!0})}var o,s=e||{},a=s.success,l=s.error;return s.set&&(s.useset=!!s.set),void 0===s.parse&&(s.parse=!0),o=this,s.error=function(i,n,r){t.Model._triggerError(o,!1,e,n,r,i),l&&l.call(t.Model.GetContext(e,o),i,n,r)},s.success=function(l,u,h){var c;try{c=o.parse(l,e)}catch(p){return void t.Collection._reportError(o,p,s.error,e)}o._setPagingReturnValues(l,e,c,n);var d=null;if(s.add||o.model){r(o,s,n);try{var g=!1;-1===i&&(g=!0,i=o._getOffset()),d=o._fillInCollectionWithParsedData(c,i,g,s)}catch(p){return void t.Collection._reportError(o,p,s.error,e)}}else if(!n)if(o.IsVirtual()){r(o,s,n);var g=!1;-1===i&&(g=!0,i=o._getOffset()),d=o._putDataIntoCollection(c,i,g)}else s.useset?o._setInternal(c,!1,s,!1):o.reset(c,{silent:!0});o.IsVirtual()&&d&&(o.lastFetchCount=d.length);var f=!!s.silent;o.TriggerInternal(f,t.Events.EventType.SYNC,o,l,s),a&&a.call(t.Model.GetContext(e,o),o,l,s)},this._fetchCall(s)},t.Collection.prototype._putDataIntoCollection=function(t,e,i){var n;if(t){n=t instanceof Array?t:[t];var r={};i&&this._manageLRU(n.length);for(var o=e,s=this.IsVirtual(),a=null,l=0;l<n.length;l+=1)s&&(r={at:o},a=this._atInternal(o,null,!0,!1)),r.silent=!0,this._addInternal(n[l],r,!0,!1),this._atInternal(o,null,!0,!1)!==a&&o++}return n},t.Collection.prototype._fillInCollectionWithParsedData=function(e,i,n,r){r=r||{};var o=r.parse,s=t.Collection._createModel(this);if(e){var a,l=e instanceof Array?e:[e],u={};n&&this._manageLRU(l.length);var h=this.IsVirtual();if(r.useset&&!h){for(var c=0;c<l.length;c+=1)a=s&&o?s.parse(l[c]):l[c],l[c]=a;this._setInternal(l,!1,r,!1)}else for(var p=null,d=i,c=0;c<l.length;c+=1)a=s&&o?s.parse(l[c]):l[c],h&&(u={at:d},p=this._atInternal(d,u,!0,!1)),u.silent=!0,this._addInternal(a,u,!0,!1),this._atInternal(d,null,!0,!1)!==p&&d++}return l},t.Collection._reportError=function(e,i,n,r){t.Logger.error(i.toString()),n&&n.call(t.Model.GetContext(r,e),e,i,r)},t.Collection.prototype._fetchOnly=function(e){var i,n,r=e||{},o=r.success;return void 0===r.parse&&(r.parse=!0),n=this,r.success=function(s,a,l){var u,h,c,p=null,d=[];try{c=n.parse(s,e)}catch(g){return void t.Collection._reportError(n,g,r.error,e)}if(r.add||n.model){if(h=t.Collection._createModel(n),c)for(p=c instanceof Array?c:[c],u=0;u<p.length;u+=1){if(h&&r.parse)try{i=h.parse(p[u])}catch(g){return void t.Collection._reportError(n,g,r.error,e)}else i=p[u];d.push(n._newModel(i))}}else p=c instanceof Array?c:[c];n.TriggerInternal(!1,t.Events.EventType.SYNC,n,s,r),o&&o.call(t.Model.GetContext(e,n),n,d,r)},this._fetchCall(r)},t.Collection.prototype._fetchCall=function(e){try{return t.Model._internalSync("read",this,e)}catch(i){throw t.Model._triggerError(this,!1,e,null,i,null),i}},t.Collection.prototype._resetModelsToFullLength=function(){var t=this.totalResults;return void 0!==t&&this._getModelsLength()!==t?(this._setModels(new Array(t),!0),this._resetLRU(),this._setLength(),!0):!1},t.Collection.prototype._getFetchSize=function(e){return e=e||{},e[t.Collection._FETCH_SIZE_PROP]||this[t.Collection._FETCH_SIZE_PROP]},t.Collection.prototype.IsVirtual=function(){return this._getFetchSize(null)>-1},t.Collection.prototype._getReturnProperty=function(e,i,n,r,o){var s=parseInt(t.Collection._getProp(e,i,n),10);return void 0===s||null===s||isNaN(s)?r?r:o:s},t.Collection.prototype._cleanTotalResults=function(t){return-1!==t?t:void 0},t.Collection.prototype._setPagingReturnValues=function(e,i,n,r){var o={};if(this.customPagingOptions&&(o=this.customPagingOptions.call(this,e),o||(o={})),i=i||{},this.lastFetchSize=this._getReturnProperty(o,e,"limit",i.fetchSize,this.fetchSize),this.offset=this._getReturnProperty(o,e,"offset",i.startIndex,0),this.lastFetchCount=this._getReturnProperty(o,e,"count",this.lastFetchCount,this.lastFetchCount),this.totalResults=this._cleanTotalResults(this._getReturnProperty(o,e,"totalResults",this.totalResults,this.totalResults)),this.hasMore=this._getHasMore(t.Collection._getProp(o,e,"hasMore"),this.offset,this.lastFetchSize,this.totalResults),!r){var s=this._cleanTotalResults(parseInt(t.Collection._getProp(o,e,"totalResults"),10)),a=parseInt(t.Collection._getProp(o,e,"count"),10);this.totalResults=this._adjustTotalResults(s,this.hasMore,this.offset,a,n&&Array.isArray(n)?n.length:0)}!this.IsVirtual()&&this.totalResults&&this.totalResults!==this.lastFetchCount&&this.lastFetchSize&&this.setFetchSize(this.lastFetchSize)},t.Collection.prototype._adjustTotalResults=function(t,e,i,n,r){if(!e&&isNaN(t)){var o=isNaN(n)?r:n;return o+i}return this.totalResults},t.Collection.prototype._getHasMore=function(e,i,n,r){return t.Collection._defined(e)?e:void 0===r||null===r?!0:!(i+n>r)},t.Collection._getProp=function(t,e,i){return t.hasOwnProperty(i)?t[i]:e?e[i]:void 0},t.Collection.prototype._getOffset=function(){return t.Collection._defined(this.offset)?this.offset:0},t.Collection.prototype.create=function(e,i){function n(i,n,r,o){return n.save(e instanceof t.Model?null:e,o),n}function r(t,e){return i.wait?o.IsVirtual()||s?o._addPromise(function(){return Promise.resolve(void 0)}):void 0:o.add(t,e)}var o=this;i=i||{};var s=this._getDeferred(i),a=this._newModel(e,!0,i,!1),l=i.success,u=i.context,h=i.validate;if(i.context=this,i.success=function(t,e,n){n.xhr&&(i.xhr=n.xhr),i.wait&&o.add(a,i),l&&l.call(null!=u?u:o,t,e,i)},null==a)return!1;i.forceNew=null!=a.GetId();var c=t.Model._copyOptions(i);if(a.SetCollection(this),s||this.IsVirtual())return new Promise(function(t,e){c.merge=!0,c.deferred=!0,r(a,c).then(function(){i.success=function(e,n,r){r.xhr&&(i.xhr=r.xhr),i.wait?(o.IsVirtual()&&(c.force=!0),o.add(a,c).then(function(){l&&l.call(null!=u?u:o,e,n,i),t(e)})):(l&&l.call(null!=u?u:o,e,n,i),t(e))};var e=n(o,a,h,i);e||t(e)})});c.merge=!0,r(a,c);var p=n(this,a,h,i);return p},t.Collection.prototype.pluck=function(t){var e,i=[];for(this._throwErrIfVirtual("pluck"),e=0;e<this._getLength();e+=1)i.push(this.at(e).get(t));return i},t.Collection.prototype.where=function(t,e){return this._handlePromise(this._whereInternal(t,e))},t.Collection.prototype._whereInternal=function(e,i){i=i||{};var n=this._getDeferred(i),r=this;if(this.IsVirtual())return new Promise(function(n,o){var s=function(t,e,i){n(e)},a={query:e,all:!0,success:s,error:function(e,n,s){o(t.Collection._createRejectionError(e,n,s,r,i))}};r._fetchOnly(a)});var o,s,a=[];for(o=0;o<this._getLength();o+=1)s=this.at(o),s.Contains(e)&&a.push(s);return n?new Promise(function(t,e){t(a)}):a},t.Collection.prototype.whereToCollection=function(e,i){i=i||{};var n=this._getDeferred(i),r=this;if(this.IsVirtual()||n)return r._addPromise(function(){return new Promise(function(t,n){return r._whereInternal(e,i).then(function(e){var i=r._makeNewCollection(e);t(i)},function(t){n(t)})})});var o=this._whereInternal(e,i),s=this._makeNewCollection(o);return s[t.Collection._FETCH_SIZE_PROP]=-1,s._setLength(),s},t.Collection.prototype._makeNewCollection=function(t){var e=this._cloneInternal(!1);return e._setModels(t,!1),e._resetLRU(),e._setLength(),e},t.Collection.prototype._throwErrIfVirtual=function(t){if(this.IsVirtual())throw new Error(t+" not valid on a virtual Collection")},t.Collection.prototype.map=function(t,e){var i,n=[];return this._throwErrIfVirtual("map"),this._getModels().forEach(function(r){i=t.call(e||this,r),n.push(i)}),n},t.Collection.prototype.each=function(t,e){this._throwErrIfVirtual("each"),this._getModels().forEach(t,e)},t.Collection.prototype.size=function(){return this._getLength()},t.Collection.prototype.sortBy=function(i,n){var r,o=[];return this._throwErrIfVirtual("sortBy"),this._getModels().forEach(function(t){o.push(t)}),r=this,o.sort(function(o,s){var a,l;return e.isFunction(i)?(a=i.call(n||r,o),l=i.call(n||r,s),t.Collection._compareKeys(a,l,r.sortDirection)):(a=o.get(i),l=s.get(i),t.Collection._compareKeys(a,l,r.sortDirection))}),o},t.Collection.prototype.groupBy=function(t,i){var n,r={};return this._throwErrIfVirtual("groupBy"),this._getModels().forEach(function(o){n=e.isFunction(t)?t.call(i||this,o):o.get(t),void 0===r[n]&&(r[n]=[]),r[n].push(o)},this),r},t.Collection.prototype.indexBy=function(t,i){var n,r={};return this._throwErrIfVirtual("indexBy"),this._getModels().forEach(function(o){n=e.isFunction(t)?t.call(i||this,o):o.get(t),r[n]=o},this),r},t.Collection.prototype.min=function(t,e){var i,n,r={};return this._throwErrIfVirtual("min"),0==this._getModelsLength()?null:(r=this._getModel(0),i=t.call(e||this,this._getModel(0)),this._getModels().forEach(function(o,s){s>=1&&(n=t.call(e||this,o),i>n&&(r=o,i=n))},this),r)},t.Collection.prototype.max=function(t,e){var i,n,r={};return this._throwErrIfVirtual("max"),0==this._getModelsLength()?null:(r=this._getModel(0),i=t.call(e,this._getModel(0)),this._getModels().forEach(function(o,s){s>=1&&(n=t.call(e||this,o),n>i&&(r=o,i=n))},this),r)},t.Collection.prototype.filter=function(t,e){var i=[];return this._throwErrIfVirtual("filter"),this._getModels().forEach(function(n){t.call(e||this,n)&&i.push(n)}),i},t.Collection.prototype.without=function(t){var e,i,n,r,o=[];this._throwErrIfVirtual("without");for(var s,a=0;a<this._getModels().length;a++){for(r=!0,s=this._getModel(a),e=0;e<arguments.length;e+=1)if(n=arguments[e].GetCid(),i=arguments[e].GetId(),s.Match(i,n)){r=!1;break}r&&o.push(s)}return o},t.Collection.prototype.difference=function(t){var e,i,n,r,o,s=[];this._throwErrIfVirtual("difference");for(var a,l=0;l<this._getModels().length;l++){for(o=!0,a=this._getModel(l),e=0;e<arguments.length;e+=1){for(i=0;i<arguments[e].length;i++)if(r=arguments[e][i].GetCid(),n=arguments[e][i].GetId(),a.Match(n,r)){o=!1;break}if(!o)break}o&&s.push(a)}return s},t.Collection.prototype.isEmpty=function(){return 0===this._getLength()},t.Collection.prototype.any=function(t,e){this._throwErrIfVirtual("any");for(var i,n=0;n<this._getModelsLength();n+=1)if(i=this._getModel(n),t.call(e||this,i))return!0;return!1},t.Collection.prototype.findWhere=function(t,e){var i=this._getDeferred(e),n=this;if(this.IsVirtual()||i)return this._addPromise(function(){return new Promise(function(i,r){n._whereInternal(t,e).then(function(t){t&&t.length>0&&i(t[0]),i(null)})})});var r=this._whereInternal(t,e);return r.length>0?r[0]:null},t.Collection.prototype.slice=function(t,e,i){var n,r=this._getDeferred(i),o=[];if(void 0===e){if(this.IsVirtual()&&!this._hasTotalResults())throw new Error("End must be set for virtual collections with no totalResults");e=this._getModelsLength()}if(r||this.IsVirtual()){var s=this;return this._addPromise(function(){return s.IterativeAt(t,e)})}for(n=t;e>n;n+=1)o.push(this._getModel(n));return o},t.Collection.prototype.set=function(t,e){
var i=this._getDeferred(e);return this._setInternal(t,!0,e,i||this.IsVirtual())},t.Collection._removeAfterSet=function(t,e,i,n,r){if(i)for(var o=e.length-1;o>=0;o-=1)-1==n.indexOf(o)&&t._removeInternal(e[o],o,r)},t.Collection.prototype._swapModels=function(t,e,i,n){if(this._hasComparator()||!i||!n)return{index:t,swapped:!1};var r=this._getModelsLength();if(t>=r||e>=r)return{index:t,swapped:!1};var o=this._getModel(t),s=this._getModel(e);return this._setModel(t,s),s.SetIndex(t),this._setModel(e,o),o.SetIndex(e),{index:e,swapped:e!==t}},t.Collection.prototype._setInternal=function(e,i,n,r){n=n||{};var o,s,a=void 0===n.add?!0:n.add,l=void 0===n.remove?!0:n.remove,u=void 0===n.merge?!0:n.merge,h=[],c=null;if(i&&(e=this.parse(e)),s=Array.isArray(e)?e:[e],r){var p=this;return this._addPromise(function(){return p._deferredSet(s,p._getModels(),n,l,a,u,i)})}var d=!1;for(o=0;o<s.length;o+=1)if(c=this._updateModel(this._newModel(s[o],i,n,!0),a,u,r),-1!==c){var g=this._swapModels(c,o,l,a),f=g.index;g.swapped&&(d=!0),-1===h.indexOf(f)&&h.push(f)}if(d){var _=n.add?{add:!0}:null;this.TriggerInternal(n.silent,t.Events.EventType.SORT,this,_,null)}t.Collection._removeAfterSet(this,this._getModels(),l,h,n)},t.Collection.prototype._deferredSet=function(e,i,n,r,o,s,a){var l,u=[],h=this;return new Promise(function(c,p){var d=function(t){return new Promise(function(i,r){h._updateModel(h._newModel(e[t],a,n,!0),o,s,!0).then(function(e){-1!==e&&u.push(e),i(t+1)},r)})},g=Promise.resolve(0);for(l=0;l<e.length;l+=1)g=g.then(d);g.then(function(){t.Collection._removeAfterSet(h,i,r,u,n),c(void 0)},p)})},t.Collection.prototype._updateModel=function(t,e,i,n){function r(n,r,o){var s=r?r.index:-1,a=r?r.m:null;if(a){if(i){var l={merge:i};if(o)return new Promise(function(e,i){n._addInternal(t,l,!1,!0).then(function(){e(s)})});n.add(t,l)}}else if(e){if(o)return new Promise(function(e,i){n._addInternal(t,l,!1,!0).then(function(){e(n._getLength()-1)})});n.add(t),s=n._getLength()-1}return s}if(n||this.IsVirtual()){var o=this;return new Promise(function(e,i){o._getInternal(t,{silent:!0},n).then(function(t){r(o,t,!0).then(function(t){e(t)})})})}var s=this._getInternal(t);return r(this,s,!1)},t.Collection.prototype.toJSON=function(){var t=[];return this._throwErrIfVirtual("toJSON"),this._getModels().forEach(function(e){t.push(e.toJSON())}),t},t.Collection.prototype.first=function(t,e){var i,n=this._getDeferred(e),r=this._getLength(),o=[];t?r=t:t=1;var s=this.IsVirtual()||n;if(1===t){if(s){var a=this;return this._addPromise(function(){return a._deferredAt(0,null)})}return this._getModelsLength()>0?this._getModel(0):null}if(r>this._getModelsLength()&&(this.IsVirtual()&&!this._hasTotalResults()||(r=this._getModelsLength())),s){var a=this;return this._addPromise(function(){return a.IterativeAt(0,r)})}for(i=0;r>i;i+=1)o.push(this._getModel(i));return o},t.Collection.prototype.indexOf=function(t,e){var i,n=this._getDeferred(e);if(this.IsVirtual()||n){var r=this;return this._addPromise(function(){return r._getInternal(t,null,!0).then(function(t){return t.index})})}return i=this._getInternal(t),i.index},t.Collection.prototype.contains=function(t,e){var i,n=this._getDeferred(e);if(this.IsVirtual()||n){var r=this;return this._addPromise(function(){return r._getInternal(t,null,!0).then(function(t){return t.index>-1})})}return i=this._getInternal(t),i.index>-1},t.Collection.prototype.include=t.Collection.prototype.contains,t.Collection.prototype._localIndexOf=function(t){var e=this._getLocalInternal(t);return void 0!==e?e.index:-1},t.Collection.prototype.pop=function(t){var e=this._getDeferred(t);if(this.IsVirtual()||e){var i=this;return this.at(this._getLength()-1,{deferred:e}).then(function(e){return i.remove(e,t),e})}var n=this.at(this._getLength()-1);return this.remove(n,t),n},t.Collection.prototype.push=function(t,e){var i=this._getDeferred(e);return this._manageLRU(1),this._handlePromise(this._addInternal(t,e,!1,i))},t.Collection.prototype.lastIndexOf=function(e,i){var n;for(this._throwErrIfVirtual("lastIndexOf"),void 0===i&&(i=0),n=this._getLength()-1;n>=i;n-=1)if(t.Object.__innerEquals(e,this.at(n)))return n;return-1},t.Collection.prototype._getSortAttrs=function(t){return void 0===t?[]:t.split(",")},t.Collection._getQueryString=function(i){function n(t,e,i){return t+i+e}var r,o,s,a,l=Array.isArray(i)?i:[i],u="";for(s=0;s<l.length;s++){r=l[s];for(a in r)if(r.hasOwnProperty(a))for(var h=Array.isArray(r[a])?r[a]:[r[a]],c=0;c<h.length;c++){if(t.Model.IsComplexValue(h[c])){var p=h[c].value,d=null,g=h[c].comparator;d=e.isFunction(g)?g(null,a,p):g,o=n(a,p,d)}else o=n(a,r[a],"=");u+=o+"+"}u=u.substring(0,u.length-1)+","}return","===u.substring(u.length-1)?u.substring(0,u.length-1):u},t.Collection.prototype.ModifyOptionsForCustomURL=function(e){var i={};for(var n in e)e.hasOwnProperty(n)&&(i[n]=e[n]);var r=this.comparator;if(r&&t.StringUtils.isString(r)){for(var o=this._getSortAttrs(r),s=0;s<o.length;s++)0===s?i.sort=o[s]:i.sort+=","+o[s];i.sortDir=this._getSortDirStr()}return this.IsVirtual()&&(i[t.Collection._FETCH_SIZE_PROP]=this._getFetchSize(i)),i},t.Collection.prototype.IsUrlBased=function(i){var n=this.customURL;if(e.isFunction(n))return!0;var r=this.GetCollectionFetchUrl(i);return t.Collection._defined(r)},t.Collection.prototype.GetCollectionFetchUrl=function(e){var i=t.Model.GetPropValue(this,"url");if(this.IsVirtual()){var n=e.all,r=null;if(n){var o=this.totalResults;r=o?o:this._getFetchSize(e)}else r=this._getFetchSize(e);if(i+=i&&i.indexOf("?")>-1?"&":"?",i+="limit="+r,n||(t.Collection._defined(e.startIndex)&&(i+="&offset="+e.startIndex),e.startID&&(i+="&fromID="+e.startID),e.since&&(i+="&since="+e.since),e.until&&(i+="&until="+e.until)),e.query){var s=t.Collection._getQueryString(e.query);s&&s.length>0&&(i+="&q="+s)}var a=this.comparator;if(a&&t.StringUtils.isString(a)){var l,u=this._getSortAttrs(a),h=this._getSortDirStr();for(l=0;l<u.length;l++)i+=0===l?"&orderBy="+u[l]+":"+h:","+u[l]+":"+h}i+="&totalResults=true"}return i},t.Collection.prototype._getSortDirStr=function(){return-1===this.sortDirection?"desc":"asc"},t.Collection.prototype.sync=function(t,e,i){return window.oj.sync(t,e,i)},t.Collection._FETCH_SIZE_PROP="fetchSize"}),define("ojs/ojknockout-model",["ojs/ojcore","knockout","ojs/ojmodel"],function(t,e){t.KnockoutUtils=function(){},t.KnockoutUtils.internalObjectProperty="oj._internalObj",t.KnockoutUtils.underUpdateProp="oj._underUpdate",t.KnockoutUtils.collUpdatingProp="oj.collectionUpdating",t.KnockoutUtils.subscriptionProp="oj.collectionSubscription",t.KnockoutUtils.updatingCollectionFunc="oj.collectionUpdatingFunc",t.KnockoutUtils.map=function(i,n,r){function o(e){return function(n){s[t.KnockoutUtils.underUpdateProp]||i.set(e,n)}}var s,a,l,u,h,c,p,d,g,f,_,v;if(i instanceof t.Collection){var m=new Array(i._getLength());s=r?e.observableArray(m):m,t.KnockoutUtils._storeOriginalObject(s,i);var y;if(r)for(a=0;a<i._modelIndices.length;a++)y=i._modelIndices[a],s()[y]=t.KnockoutUtils.map(i._atInternal(y,null,!0,!1),n);else for(a=0;a<i._modelIndices.length;a++)y=i._modelIndices[a],s[y]=t.KnockoutUtils.map(i._atInternal(y,null,!0,!1),n);l=function(e){var n;try{if(!s[t.KnockoutUtils.underUpdateProp]){for(s[t.KnockoutUtils.collUpdatingProp]=!0,n=0;n<e.length;n++){var r=e[n].index,o=t.KnockoutUtils._getModel(e[n].value),a=e[n].status;"added"===a?r>=i.length-1?i.add(o):i.add(o,{at:r}):"deleted"===a&&i._removeInternal(o,r)}i.comparator&&(s[t.KnockoutUtils.underUpdateProp]=!0,s.sort(function(e,n){return t.KnockoutUtils._callSort(e,n,i.comparator,i,this)}),s[t.KnockoutUtils.underUpdateProp]=!1)}}catch(l){throw l}finally{s[t.KnockoutUtils.collUpdatingProp]=!1}},r&&s.subscribe&&(s[t.KnockoutUtils.updatingCollectionFunc]=l,s[t.KnockoutUtils.subscriptionProp]=s.subscribe(l,null,"arrayChange")),u=function(e,i,n){var r;try{if(s[t.KnockoutUtils.collUpdatingProp])return;i instanceof t.Collection&&(s[t.KnockoutUtils.underUpdateProp]=!0,r=n.index,s.splice(r,1))}catch(o){throw o}finally{s[t.KnockoutUtils.underUpdateProp]=!1}},h=function(e,i,r){var o,a;try{if(s[t.KnockoutUtils.collUpdatingProp])return;if(i instanceof t.Collection&&(s[t.KnockoutUtils.underUpdateProp]=!0,o=i._localIndexOf(e),void 0!==o&&o>-1))if(a=t.KnockoutUtils.map(e,n),r.fillIn){for(var l=Array.isArray(s)?s.length:s().length,u=l;o>u;u++)s.splice(u,0,t.KnockoutUtils.map(i._atInternal(u,null,!0,!1),n));s.splice(o,1,a)}else s.splice(o,0,a)}catch(h){throw h}finally{s[t.KnockoutUtils.underUpdateProp]=!1}},_=function(i,n){try{if(s[t.KnockoutUtils.collUpdatingProp])return;i instanceof t.Collection&&(s[t.KnockoutUtils.underUpdateProp]=!0,e.isObservable(s)?(s[t.KnockoutUtils.subscriptionProp]&&s[t.KnockoutUtils.subscriptionProp].dispose(),s.removeAll(),s[t.KnockoutUtils.updatingCollectionFunc]&&s.subscribe(s[t.KnockoutUtils.updatingCollectionFunc],null,"arrayChange")):s=[])}catch(r){throw r}finally{s[t.KnockoutUtils.underUpdateProp]=!1}},v=function(e,n){try{if(s[t.KnockoutUtils.collUpdatingProp])return;e instanceof t.Collection&&(s[t.KnockoutUtils.underUpdateProp]=!0,s.sort(function(n,r){return t.KnockoutUtils._callSort(n,r,i.comparator,e,this)}))}catch(r){throw r}finally{s[t.KnockoutUtils.underUpdateProp]=!1}},i.OnInternal(t.Events.EventType.ADD,h,void 0,void 0,!0),i.OnInternal(t.Events.EventType.REMOVE,u,void 0,void 0,!0),i.OnInternal(t.Events.EventType.RESET,_,void 0,void 0,!0),i.OnInternal(t.Events.EventType.SORT,v,void 0,void 0,!0)}else{if(void 0===i)return;s={},c=i.attributes,p=null;for(p in c)c.hasOwnProperty(p)&&(d=e.observable(i.get(p)),s[p]=d,g=o(p),g._prop=p,d.subscribe&&d.subscribe(g));f=function(e,i){var n,r;try{s[t.KnockoutUtils.underUpdateProp]=!0,n=e.changedAttributes();for(r in n)n.hasOwnProperty(r)&&s[r](e.get(r))}catch(o){throw o}finally{s[t.KnockoutUtils.underUpdateProp]=!1}},i.OnInternal(t.Events.EventType.CHANGE,f,void 0,void 0,!0),t.KnockoutUtils._storeOriginalObject(s,i),n&&n(s)}return s},t.KnockoutUtils._getModel=function(e){return e instanceof t.Model?e:e.hasOwnProperty(t.KnockoutUtils.internalObjectProperty)?e[t.KnockoutUtils.internalObjectProperty]:e},t.KnockoutUtils._callSort=function(e,i,n,r,o){return t.Collection.SortFunc(t.KnockoutUtils._getModel(e),t.KnockoutUtils._getModel(i),n,r,o)},t.KnockoutUtils._storeOriginalObject=function(e,i){Object.defineProperty(e,t.KnockoutUtils.internalObjectProperty,{value:i,enumerable:!1})}}),function(t){"function"==typeof define&&define.amd?define("jqueryui-amd/core",["jquery"],t):t(jQuery)}(function(t){function e(e,n){var r,o,s,a=e.nodeName.toLowerCase();return"area"===a?(r=e.parentNode,o=r.name,e.href&&o&&"map"===r.nodeName.toLowerCase()?(s=t("img[usemap='#"+o+"']")[0],!!s&&i(s)):!1):(/^(input|select|textarea|button|object)$/.test(a)?!e.disabled:"a"===a?e.href||n:n)&&i(e)}function i(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")}).length}t.ui=t.ui||{},t.extend(t.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({scrollParent:function(e){var i=this.css("position"),n="absolute"===i,r=e?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var e=t(this);return n&&"static"===e.css("position")?!1:r.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==i&&o.length?o:t(this[0].ownerDocument||document)},uniqueId:function(){var t=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++t)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,n){return!!t.data(e,n[3])},focusable:function(i){return e(i,!isNaN(t.attr(i,"tabindex")))},tabbable:function(i){var n=t.attr(i,"tabindex"),r=isNaN(n);return(r||n>=0)&&e(i,!r)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(e,i){function n(e,i,n,o){return t.each(r,function(){i-=parseFloat(t.css(e,"padding"+this))||0,n&&(i-=parseFloat(t.css(e,"border"+this+"Width"))||0),o&&(i-=parseFloat(t.css(e,"margin"+this))||0)}),i}var r="Width"===i?["Left","Right"]:["Top","Bottom"],o=i.toLowerCase(),s={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+i]=function(e){return void 0===e?s["inner"+i].call(this):this.each(function(){t(this).css(o,n(this,e)+"px")})},t.fn["outer"+i]=function(e,r){return"number"!=typeof e?s["outer"+i].call(this,e):this.each(function(){t(this).css(o,n(this,e,!0,r)+"px")})}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=function(e){return function(i){return arguments.length?e.call(this,t.camelCase(i)):e.call(this)}}(t.fn.removeData)),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.fn.extend({focus:function(e){return function(i,n){return"number"==typeof i?this.each(function(){var e=this;setTimeout(function(){t(e).focus(),n&&n.call(e)},i)}):e.apply(this,arguments)}}(t.fn.focus),disableSelection:function(){var t="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(t+".ui-disableSelection",function(t){t.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(e){if(void 0!==e)return this.css("zIndex",e);if(this.length)for(var i,n,r=t(this[0]);r.length&&r[0]!==document;){if(i=r.css("position"),("absolute"===i||"relative"===i||"fixed"===i)&&(n=parseInt(r.css("zIndex"),10),!isNaN(n)&&0!==n))return n;r=r.parent()}return 0}}),t.ui.plugin={add:function(e,i,n){var r,o=t.ui[e].prototype;for(r in n)o.plugins[r]=o.plugins[r]||[],o.plugins[r].push([i,n[r]])},call:function(t,e,i,n){var r,o=t.plugins[e];if(o&&(n||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(r=0;r<o.length;r++)t.options[o[r][0]]&&o[r][1].apply(t.element,i)}}}),function(t){"function"==typeof define&&define.amd?define("jqueryui-amd/widget",["jquery"],t):t(jQuery)}(function(t){var e=0,i=Array.prototype.slice;return t.cleanData=function(e){return function(i){var n,r,o;for(o=0;null!=(r=i[o]);o++)try{n=t._data(r,"events"),n&&n.remove&&t(r).triggerHandler("remove")}catch(s){}e(i)}}(t.cleanData),t.widget=function(e,i,n){var r,o,s,a,l={},u=e.split(".")[0];return e=e.split(".")[1],r=u+"-"+e,n||(n=i,i=t.Widget),t.expr[":"][r.toLowerCase()]=function(e){return!!t.data(e,r)},t[u]=t[u]||{},o=t[u][e],s=t[u][e]=function(t,e){return this._createWidget?void(arguments.length&&this._createWidget(t,e)):new s(t,e)},t.extend(s,o,{version:n.version,_proto:t.extend({},n),_childConstructors:[]}),a=new i,a.options=t.widget.extend({},a.options),t.each(n,function(e,n){return t.isFunction(n)?void(l[e]=function(){var t=function(){return i.prototype[e].apply(this,arguments)},r=function(t){return i.prototype[e].apply(this,t)};return function(){var e,i=this._super,o=this._superApply;return this._super=t,this._superApply=r,e=n.apply(this,arguments),this._super=i,this._superApply=o,e}}()):void(l[e]=n)}),s.prototype=t.widget.extend(a,{widgetEventPrefix:o?a.widgetEventPrefix||e:e},l,{constructor:s,namespace:u,widgetName:e,widgetFullName:r}),o?(t.each(o._childConstructors,function(e,i){var n=i.prototype;t.widget(n.namespace+"."+n.widgetName,s,i._proto)}),delete o._childConstructors):i._childConstructors.push(s),t.widget.bridge(e,s),s},t.widget.extend=function(e){for(var n,r,o=i.call(arguments,1),s=0,a=o.length;a>s;s++)for(n in o[s])r=o[s][n],o[s].hasOwnProperty(n)&&void 0!==r&&(t.isPlainObject(r)?e[n]=t.isPlainObject(e[n])?t.widget.extend({},e[n],r):t.widget.extend({},r):e[n]=r);return e},t.widget.bridge=function(e,n){var r=n.prototype.widgetFullName||e;t.fn[e]=function(o){var s="string"==typeof o,a=i.call(arguments,1),l=this;return s?this.each(function(){var i,n=t.data(this,r);return"instance"===o?(l=n,!1):n?t.isFunction(n[o])&&"_"!==o.charAt(0)?(i=n[o].apply(n,a),i!==n&&void 0!==i?(l=i&&i.jquery?l.pushStack(i.get()):i,!1):void 0):t.error("no such method '"+o+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+o+"'")}):(a.length&&(o=t.widget.extend.apply(null,[o].concat(a))),this.each(function(){var e=t.data(this,r);e?(e.option(o||{}),e._init&&e._init()):t.data(this,r,new n(o,this))})),l}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(i,n){n=t(n||this.defaultElement||this)[0],this.element=t(n),this.uuid=e++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),n!==this&&(t.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===n&&this.destroy()}}),this.document=t(n.style?n.ownerDocument:n.document||n),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),i),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(e,i){var n,r,o,s=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(s={},n=e.split("."),e=n.shift(),n.length){for(r=s[e]=t.widget.extend({},this.options[e]),o=0;o<n.length-1;o++)r[n[o]]=r[n[o]]||{},r=r[n[o]];if(e=n.pop(),1===arguments.length)return void 0===r[e]?null:r[e];r[e]=i}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];s[e]=i}return this._setOptions(s),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!e),e&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(e,i,n){var r,o=this;"boolean"!=typeof e&&(n=i,i=e,e=!1),n?(i=r=t(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,r=this.widget()),t.each(n,function(n,s){function a(){return e||o.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof s?o[s]:s).apply(o,arguments):void 0}"string"!=typeof s&&(a.guid=s.guid=s.guid||a.guid||t.guid++);var l=n.match(/^([\w:-]*)\s*(.*)$/),u=l[1]+o.eventNamespace,h=l[2];h?r.delegate(h,u,a):i.bind(u,a)})},_off:function(e,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(i).undelegate(i),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function i(){return("string"==typeof t?n[t]:t).apply(n,arguments)}var n=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,i,n){var r,o,s=this.options[e];if(n=n||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(r in o)r in i||(i[r]=o[r]);return this.element.trigger(i,n),!(t.isFunction(s)&&s.apply(this.element[0],[i].concat(n))===!1||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(n,r,o){"string"==typeof r&&(r={effect:r});var s,a=r?r===!0||"number"==typeof r?i:r.effect||i:e;r=r||{},"number"==typeof r&&(r={duration:r}),s=!t.isEmptyObject(r),r.complete=o,r.delay&&n.delay(r.delay),s&&t.effects&&t.effects.effect[a]?n[e](r):a!==e&&n[a]?n[a](r.duration,r.easing,o):n.queue(function(i){t(this)[e](),o&&o.call(n[0]),i()})}}),t.widget}),define("ojs/ojmessaging",["ojs/ojcore","jquery"],function(t,e){t.Message=function(t,e,i){this.Init(t,e,i)},t.Message.SEVERITY_TYPE={CONFIRMATION:"confirmation",INFO:"info",WARNING:"warning",ERROR:"error",FATAL:"fatal"},t.Message.SEVERITY_LEVEL={FATAL:5,ERROR:4,WARNING:3,INFO:2,CONFIRMATION:1},t.Object.createSubclass(t.Message,t.Object,"oj.Message"),t.Message.prototype.Init=function(e,i,n){t.Message.superclass.Init.call(this),this.summary=e,this.detail=i,this.severity=n||t.Message.SEVERITY_TYPE.ERROR},t.Message.prototype.canDisplay=function(){return!0},t.Message.prototype.equals=function(e){return!(!e||t.Message.getSeverityLevel(this.severity)!==t.Message.getSeverityLevel(e.severity)||this.summary!==e.summary||this.detail!==e.detail)},t.Message.prototype.clone=function(){return new t.Message(this.summary,this.detail,this.severity)},t.Message.getSeverityLevel=function(e){var i;return e&&("string"==typeof e?(i=t.Message._LEVEL_TO_TYPE.indexOf(e,1),e=-1===i?t.Message.SEVERITY_LEVEL.ERROR:i):"number"==typeof e&&e<t.Message.SEVERITY_LEVEL.CONFIRMATION&&e>t.Message.SEVERITY_LEVEL.FATAL&&(e=t.Message.SEVERITY_LEVEL.ERROR)),e?e:t.Message.SEVERITY_LEVEL.ERROR},t.Message.getSeverityType=function(e){var i;return e&&("string"==typeof e?(i=t.Message._LEVEL_TO_TYPE.indexOf(e,1),-1===i&&(e=t.Message.SEVERITY_TYPE.ERROR)):"number"==typeof e&&(e=e<t.Message.SEVERITY_LEVEL.CONFIRMATION&&e>t.Message.SEVERITY_LEVEL.FATAL?t.Message.SEVERITY_TYPE.ERROR:t.Message._LEVEL_TO_TYPE[e])),e||t.Message.SEVERITY_TYPE.ERROR},t.Message.getMaxSeverity=function(i){var n,r=-1;return i&&i.length>0&&e.each(i,function(e,i){i&&(n=t.Message.getSeverityLevel(i.severity)),r=n>r?n:r}),r},t.Message.isValid=function(e){var i=t.Message.getMaxSeverity(e);return!(i>=t.Message.SEVERITY_LEVEL.ERROR)},t.Message._LEVEL_TO_TYPE=["none",t.Message.SEVERITY_TYPE.CONFIRMATION,t.Message.SEVERITY_TYPE.INFO,t.Message.SEVERITY_TYPE.WARNING,t.Message.SEVERITY_TYPE.ERROR,t.Message.SEVERITY_TYPE.FATAL],t.ComponentMessage=function(t,e,i,n){this.Init(t,e,i,n)},t.Object.createSubclass(t.ComponentMessage,t.Message,"oj.ComponentMessage"),t.ComponentMessage.DISPLAY={SHOWN:"shown",HIDDEN:"hidden"},t.ComponentMessage._DEFAULT_OPTIONS={display:t.ComponentMessage.DISPLAY.SHOWN,context:""},t.ComponentMessage.prototype.Init=function(i,n,r,o){t.ComponentMessage.superclass.Init.call(this,i,n,r),this._options=e.extend({},t.ComponentMessage._DEFAULT_OPTIONS,o)},t.ComponentMessage.prototype.equals=function(e){var i=t.ComponentMessage.superclass.equals.call(this,e);return i&&this._options.display===e._options.display},t.ComponentMessage.prototype.clone=function(){return new t.ComponentMessage(this.summary,this.detail,this.severity,this._options)},t.ComponentMessage.prototype.canDisplay=function(){return!(this._options&&this._options.display?this._options.display===t.ComponentMessage.DISPLAY.HIDDEN:!1)},t.ComponentMessage.prototype._forceDisplayToShown=function(){return this._options&&t.ComponentMessage.DISPLAY.HIDDEN===this._options.display?(this._options.display=t.ComponentMessage.DISPLAY.SHOWN,!0):!1},t.ComponentMessage.prototype._isMessageAddedByComponent=function(){return!(!this._options||!this._options.context)}}),define("ojs/ojcomponentcore",["ojs/ojcore","jquery","jqueryui-amd/core","jqueryui-amd/widget","ojs/ojmessaging"],function(t,e){function i(t,i){var n=function(){var t=e(this),n=t.data(d);if(null!=n)for(var r=0;r<n.length;r++){var o=t.data("oj-"+n[r]);null!=o&&i(o)}},r=e(t);r.hasClass(g)&&n.call(t),r.find("."+g).each(n)}function n(t){this.getCallback=function(){return t}}function r(t,e,i,n,r,o,s){var a=i,u=!1,h={};delete n[r],Object.defineProperty(n,r,{get:function(){if(u)return a;if(null!=t._settingNestedKey)return a;var i=o(s?s():r);return l([e,i,a],h)},set:function(e){a=e,null!=t._settingNestedKey?h[t._settingNestedKey]=!0:u=!0},enumerable:!0})}function o(e){for(var i=[];e;){var n=e.getAttribute,r=n?n.call(e,t.Components._OJ_CONTAINER_ATTR):null;null!=r&&i.push(r),e=e.parentNode}return i}function s(t,e){var i=t.data(d);i||(i=[],t.data(d,i)),i.indexOf(e)<0&&i.push(e)}function a(t,e){var i=t.data(d);if(i){var n=i.indexOf(e);n>=0&&(i.splice(n,1),0===i.length&&t.removeData(d))}}function l(t,i){for(var n=void 0,r=0;r<t.length;r++){var o=t[r];if(void 0!==o)if(e.isPlainObject(o)){var s=e.isPlainObject(n)?[n,o]:[o];n=u({},s,r==t.length-1?null:i,null)}else n=o}return n}function u(t,i,n,r){for(var o=i.length,s=0;o>s;s++)for(var a=i[s],l=Object.keys(a),h=0;h<l.length;h++){var c=l[h],p=null==n?null:null==r?c:r+"."+c;if(null==n||!n[p]){var d=a[c];if(void 0!==d)if(e.isPlainObject(d)){var g=e.isPlainObject(t[c])?[t[c],d]:[d];t[c]=u({},g,n,p)}else t[c]=d}}return t}function h(){return!0}function c(){var t,i=e("<div style='border: 1px solid;border-color:red green;position: absolute;top: -999px;background-image: url(data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACwAAAAAAQABAAACAkQBADs=);'></div>");i.appendTo("body"),t=i.css("backgroundImage"),i.css("borderTopColor")!=i.css("borderRightColor")&&(null==t||"none"!=t&&"url (invalid-url:)"!=t)||e("body").addClass("oj-hicontrast"),i.remove()}function p(){"Microsoft Internet Explorer"==navigator.appName&&e("html").addClass("oj-slow-borderradius oj-slow-cssgradients oj-slow-boxshadow")}t.Components={},t.Components.setDefaultOptions=function(i){t.Components._defaultProperties=e.widget.extend(t.Components._defaultProperties||{},i)},t.Components.getDefaultOptions=function(){return t.Components._defaultProperties||{}},t.Components.createDynamicPropertyGetter=function(t){return new n(t)},t.Components.getWidgetConstructor=function(t,i){var n=e(t),r=n.data(d);if(r&&(null==i?i=r[0]:r.indexOf(i)<0&&(i=void 0),null!=i)){var o=n[i];if("function"==typeof o)return o.bind(n)}return null},t.Components.subtreeAttached=function(e){t.DomUtils.fixResizeListeners(e),i(e,function(t){t._NotifyAttached()})},t.Components.subtreeDetached=function(t){i(t,function(t){t._NotifyDetached()})},t.Components.subtreeShown=function(e){t.DomUtils.fixResizeListeners(e),i(e,function(t){t._NotifyShown()})},t.Components.subtreeHidden=function(t){i(t,function(t){t._NotifyHidden()})},t.Components.isComponentInitialized=function(t,i){var n=t.data(d);return!!(e.isArray(n)&&n.indexOf(i)>-1&&t.is("."+g))},t.Components._OJ_CONTAINER_ATTR="data-oj-container";var d="oj-component-names",g="oj-component-initnode",f="baseComponent";e.widget("oj."+f,{options:{contextMenu:null,rootAttributes:null,optionChange:void 0,destroy:void 0},refresh:function(){this._propertyContext=null},_createWidget:function(t,e){this._originalDefaults=this.options||{},this._constructorOptions=t||{},this._super(t,e),this._AfterCreateEvent()},_SetRootAttributes:function(){var t=this.options.rootAttributes;if(t){var i=this.widget();if(null==i)return;var n=t["class"];n&&i.addClass(n);var r=t.style;if(r){var o=i.attr("style");o?i.attr("style",o+";"+r):i.attr("style",r)}t=e.extend({},t),delete t["class"],delete t.style,i.attr(t),delete t.id;var s=Object.keys(t);if(s.length)throw new Error("Unsupported values passed to rootAttributes option: "+s.toString())}},_create:function(){this._SaveAttributes(this.element),this._InitOptions(this._originalDefaults,this._constructorOptions),delete this._originalDefaults,delete this._constructorOptions,this._ComponentCreate(),this._AfterCreate(),this.element.addClass(g)},_InitOptions:function(t,e){this._setupDefaultOptions(t,e),this._initContextMenuOption(e)},_ComponentCreate:function(){s(this.element,this.widgetName)},_AfterCreate:function(){this._SetRootAttributes(),this.contextMenuEventNamespace=this.eventNamespace+"contextMenu",this._setupContextMenu(!0)},_AfterCreateEvent:e.noop,_SaveAttributes:function(t){},_SaveAllAttributes:function(t){var i=this;this._savedAttributes=[],e.each(t,function(t,n){var r={},o={element:n,attributes:r},s=n.attributes;i._savedAttributes.push(o),e.each(s,function(t,i){var o=i.name;r[o]={attr:i.value,prop:e(n).prop(o)}})})},_GetSavedAttributes:function(t){var e=this._savedAttributes;if(void 0===e)return null;t=t[0];for(var i=0,n=e.length;n>i;i++){var r=e[i];if(r.element===t)return r.attributes}return{}},_RestoreAttributes:function(){},_RestoreAllAttributes:function(){e.each(this._savedAttributes,function(t,i){var n=e(i.element),r=i.attributes;if(1===n.length){for(var o=i.element.attributes,s=[],a=0,l=o.length;l>a;a++)o[a].name in r||s.push(o[a].name);for(var a=0,l=s.length;l>a;a++)n.removeAttr(s[a]);for(var u in r)n.attr(u,r[u].attr)}})},_GetTranslationsSectionName:function(){return this.widgetFullName},_CompareOptionValues:function(t,e,i){return e==i},getTranslatedString:function(e,i){var n,r={};return arguments.length>2?r=Array.prototype.slice.call(arguments,1):2==arguments.length&&(r=arguments[1],"object"==typeof r||r instanceof Array||(r=[r])),n=this.option(v+e),null==n?e:t.Translations.applyParameters(n.toString(),r)},getNodeBySubId:function(t){return(null==t||null==t.subId)&&this.element?this.element[0]:null},getSubIdByNode:function(t){return null},destroy:function(){this._trigger("destroy"),this._super(),this._removeContextMenuBehavior(),this.element.removeClass(g),this.widget().removeClass("oj-disabled"),this._removeStateClasses(this.element),a(this.element,this.widgetName),this._RestoreAttributes(),this._initialCmDomAttr?this.element.attr("contextmenu",this._initialCmDomAttr):this.element.removeAttr("contextmenu"),this._propertyContext=null},option:function(t,i){if(0===arguments.length)return e.widget.extend({},this.options);var n=arguments[0],r=n,o=null,s={};if("string"==typeof n){r={};var a=n.split(".");if(n=a.shift(),a.length){o=a.join(".");var l;try{arguments.length>1&&(this._settingNestedKey=o),l=r[n]=e.widget.extend({},this.options[n])}finally{this._settingNestedKey=null}for(var u=0;u<a.length-1;u++)l[a[u]]=l[a[u]]||{},l=l[a[u]];if(n=a.pop(),1===arguments.length)return void 0===l[n]?null:l[n];l[n]=i}else{if(1===arguments.length)return void 0===this.options[n]?null:this.options[n];r[n]=i}s=arguments[2]||s}else s=arguments[1]||s;null!=o&&(s=e.widget.extend({},s,{subkey:o}));var h=s?s._context:null,c=h?h.internalSet:!1;return c?this._internalSetOptions(r,s):this._setOptions(r,s),this},_internalSetOptions:function(t,e){for(var i in t){var n=t[i],r=this.options[i];this.options[i]=n,this._optionChanged(i,n,r,e)}},_setOptions:function(t,e){for(var i in t)this._setOption(i,t[i],e);return this},_setOption:function(t,e,i){var n=this.options[t];if("disabled"===t)this.options[t]=e,this.widget().toggleClass("oj-disabled",!!e).attr("aria-disabled",e),e&&this._removeStateClasses(this.widget());else{try{var r=null==i?null:i.subkey;null!=r&&(this._settingNestedKey=r),this._super(t,e)}finally{this._settingNestedKey=null}"contextMenu"===t&&this._setupContextMenu(!1)}return this._optionChanged(t,e,n,i),this},_optionChanged:function(t,i,n,r){var o,s=!1,a=null,l=!1,u=null,h=null;if(r&&(s=r.changed,a=r._context,a&&(u=a.originalEvent,l=void 0===a.writeback?null!=u:a.writeback,h=a.optionMetadata,o=a.extraData)),s||!this._CompareOptionValues(t,n,i)){h=h||{},h.writeback=l?"shouldWrite":"shouldNotWrite";var c={option:t,previousValue:n,value:i,optionMetadata:h};null!=o&&(c=e.extend({},o,c)),this._trigger("optionChange",u,c);
}},_trigger:function(t,e,i){return this._trigger2(t,e,i).proceed},_trigger2:function(t,i,n){var r=this.options[t];return n=n||{},i=e.Event(i,m),i.type=(this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],this.element.trigger(i,n),{proceed:!(e.isFunction(r)&&r.apply(this.element[0],[i].concat(n))===!1||i.isDefaultPrevented()),event:i}},_initContextMenuOption:function(t){var e=this.element.attr("contextmenu");this._initialCmDomAttr=e,!e||"contextMenu"in t||this.option("contextMenu","#"+e,{_context:{internalSet:!0}})},_setupContextMenu:function(i){if(this._removeContextMenuBehavior(),this.options.contextMenu){var n=this.widget(),r=this.element;i&&!r.is(n)&&r.removeAttr("contextmenu");var o=e(this.options.contextMenu).attr("id");o&&n.attr("contextmenu",o);var s=this;this._preventKeyUpEventIfMenuOpen=function(t){121==t.which&&t.shiftKey&&s._getContextMenuNode().is(":visible")&&t.preventDefault()};var a,l,u,h=750,c=!1,p=!1,d=5,g=300,f=null,_=function(t,e,i){c=i;var r=s._getContextMenu();return c&&n.one("touchend"+s.contextMenuEventNamespace,function(t){var e=50;r.__contextMenuPressHoldJustEnded(!0),setTimeout(function(){r.__contextMenuPressHoldJustEnded(!1)},e)}),"touchstart"===f&&"contextmenu"===t.type||"contextmenu"===f&&"touchstart"===t.type?(f=null,void clearTimeout(u)):void(t.isDefaultPrevented()||t.originalEvent&&t.originalEvent.defaultPrevented||s._IsEffectivelyDisabled()||(s._NotifyContextMenuGesture(r,t,e),s._getContextMenuNode().is(":visible")&&(t.preventDefault(),document.addEventListener("keyup",s._preventKeyUpEventIfMenuOpen),"touchstart"!==t.type&&"contextmenu"!==t.type||(f=t.type,u=setTimeout(function(){f=null},g)))))};this._clickListener=function(t){c&&(t.preventDefault(),t.stopPropagation(),c=!1)},n[0].addEventListener("click",this._clickListener,!0),n.on("touchstart"+this.contextMenuEventNamespace+" mousedown"+this.contextMenuEventNamespace+" keydown"+this.contextMenuEventNamespace+" ",function(t){if("mousedown"!==t.type||!s._getContextMenu().__contextMenuPressHoldJustEnded()){if(c=!1,"touchstart"===t.type&&1===t.originalEvent.touches.length){var e=t.originalEvent.touches[0];a=e.pageX,l=e.pageY,p=!0,this._contextMenuPressHoldTimer=setTimeout(_.bind(void 0,t,"touch",!0),h)}return!0}}).on("touchmove"+this.contextMenuEventNamespace,function(t){var e=t.originalEvent.touches[0];return(Math.abs(a-e.pageX)>d||Math.abs(l-e.pageY)>d)&&(p=!1,clearTimeout(this._contextMenuPressHoldTimer)),!0}).on("touchend"+this.contextMenuEventNamespace+" touchcancel"+this.contextMenuEventNamespace,function(t){return p=!1,clearTimeout(this._contextMenuPressHoldTimer),!0}).on("keydown"+this.contextMenuEventNamespace+" contextmenu"+this.contextMenuEventNamespace,function(t){if("contextmenu"===t.type||121==t.which&&t.shiftKey){var e=p?"touch":"keydown"===t.type?"keyboard":"mouse";_(t,e,!1)}return!0}).addClass(t.DomUtils.isTouchSupported()?"oj-menu-context-menu-launcher":void 0)}},_setContextMenuIvars:function(){if(this._contextMenuNode=e(this.options.contextMenu).first(),this._contextMenu=this._contextMenuNode.data("oj-ojMenu"),!this._contextMenu)throw new Error('"contextMenu" option set to "'+this.options.contextMenu+'", which does not reference a valid JET Menu.');var t=this;this._contextMenuNode.on("ojclose"+this.contextMenuEventNamespace,function(e,i){document.removeEventListener("keyup",t._preventKeyUpEventIfMenuOpen)})},_getContextMenu:function(){return this._contextMenu||this._setContextMenuIvars(),this._contextMenu},_getContextMenuNode:function(){return this._contextMenuNode||this._setContextMenuIvars(),this._contextMenuNode},_removeContextMenuBehavior:function(){this.widget().removeAttr("contextmenu").off(this.contextMenuEventNamespace).removeClass("oj-menu-context-menu-launcher")[0].removeEventListener("click",this._clickListener,!0),this._contextMenuNode&&this._contextMenuNode.off(this.contextMenuEventNamespace),clearTimeout(this._contextMenuPressHoldTimer),this._contextMenu=void 0,this._contextMenuNode=void 0},_NotifyContextMenuGesture:function(t,e,i){this._OpenContextMenu(e,i)},_OpenContextMenu:function(t,i,n,r,o){var s={mouse:{my:"start top",at:"start bottom",of:t,collision:"flipfit"},touch:{my:"start>40 center",at:"start bottom",of:t,collision:"flipfit"},keyboard:{my:"start top",at:"start bottom",of:"launcher",collision:"flipfit"}},a={launcher:this.element,position:s[i]},l={initialFocus:"menu"};n=o?e.extend(a,n,l):e.extend(!0,a,n,l);var u=this._getContextMenu();u.__openingContextMenu=!0,u.open(t,n,r),u.__openingContextMenu=!1},_removeStateClasses:function(t){t.removeClass("oj-hover oj-focus oj-active"),t.find(".oj-hover").removeClass("oj-hover"),t.find(".oj-focus").removeClass("oj-focus"),t.find(".oj-active").removeClass("oj-active")},_hoverable:function(t){this._on(t,{mouseenter:function(t){e(t.currentTarget).hasClass("oj-disabled")||e(t.currentTarget).addClass("oj-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("oj-hover")}})},_focusable:function(t){this._on(t,{focusin:function(t){e(t.currentTarget).addClass("oj-focus")},focusout:function(t){e(t.currentTarget).removeClass("oj-focus")}})},_activeable:function(t){this._on(t,{mousedown:function(t){e(t.currentTarget).addClass("oj-active")},mouseup:function(t){e(t.currentTarget).removeClass("oj-active")}})},_UnregisterChildNode:function(t){if(t){e(t).off(this.eventNamespace);var i=this.bindings;i&&(this.bindings=e(i.not(t)))}},getResource:function(t){return this.option(v+t)},_GetReadingDirection:function(){return t.DomUtils.getReadingDirection()},_NotifyAttached:function(){this._propertyContext=null},_NotifyDetached:function(){this._propertyContext=null,this._removeStateClasses(this.widget())},_NotifyShown:function(){},_NotifyHidden:function(){},_IsEffectivelyDisabled:function(){return!(!this.options.disabled&&!this._ancestorDisabled)},__setAncestorComponentDisabled:function(t){this._ancestorDisabled=t},_getTranslationSectionLoader:function(){var i=[],n=this,r=0;this._traverseWidgetHierarchy(function(o){var s=0==r?n._GetTranslationsSectionName():o.widgetFullName;r++;var a=t.Translations.getComponentTranslations(s);null==a||e.isEmptyObject(a)||i.push(s)});var o=i.length;return o>0?function(){if(1==o)return t.Translations.getComponentTranslations(i[0]);for(var n={},r=o-1;r>=0;r--)e.widget.extend(n,t.Translations.getComponentTranslations(i[r]));return n}:null},_getDynamicPropertyContext:function(){if(!this._propertyContext){var t={};this._propertyContext=t;var e=this.element[0];t.containers=o(e),t.element=e}return this._propertyContext},_setupDefaultOptions:function(t,i){var n=this.options,o=this._getTranslationSectionLoader(),s=i[_];null==o||void 0!==s&&!e.isPlainObject(s)||r(this,void 0,i[_],n,_,o),this._loadGlobalDefaultOptions(t,i)},_loadGlobalDefaultOptions:function(i,o){var s=this.options,a={},u=[];this._traverseWidgetHierarchy(function(t){u.push(t.widgetName)});var h=t.Components.getDefaultOptions();u.push("default");for(var c=u.length-1;c>=0;c--){var p=u[c],d=h[p];void 0!==d&&(a=e.widget.extend(a,d))}if(!e.isEmptyObject(a)){var g=this,f=function(){return g._getDynamicPropertyContext()};for(var _ in a){var v=o[_];if(void 0===v||e.isPlainObject(v)){var m=a[_];if(null!=m&&m instanceof n){var y=m.getCallback();e.isFunction(y)?r(this,i[_],v,s,_,y,f):t.Logger.error("Dynamic getter for property %s is not a function",_)}else s[_]=l([i[_],m,v])}}}},_traverseWidgetHierarchy:function(t){for(var e=this.constructor.prototype;null!=e&&"oj"===e.namespace;)t(e),e=Object.getPrototypeOf(e)}}),delete e.fn[f],t.__registerWidget=function(t,i,n,r){if(e.widget(t,i,n),r){var o=t.split(".")[1];delete e.fn[o]}if("oj.oj"===t.substring(0,5)||"oj._oj"===t.substring(0,6)){var s,a=t.split("."),l=a[0],u=a[1],h=l+"-"+u,c="_"===u.substring(0,1);s=c?"_"+l+"-"+u.substring(3):l+"-"+u.substring(2),e.expr[":"][s.toLowerCase()]=function(t){return!!e.data(t,h)}}};var _="translations",v=_+".",m={preventDefault:function(){this.isDefaultPrevented=h},stopPropagation:function(){this.isPropagationStopped=h},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=h}};e(document).ready(function(){c()}),e(document).ready(function(){p()}),t.DomUtils={},t.DomUtils._HTML_START_TAG="<html>",t.DomUtils._HTML_END_TAG="</html>",t.DomUtils._LEGAL_ELEMENTS={SPAN:1,B:1,I:1,EM:1,BR:1,HR:1,LI:1,OL:1,UL:1,P:1,TT:1,BIG:1,SMALL:1,PRE:1},t.DomUtils._LEGAL_ATTRIBUTES={"class":1,style:1},t.DomUtils.isHTMLContent=function(e){return 0===e.indexOf(t.DomUtils._HTML_START_TAG)&&e.lastIndexOf(t.DomUtils._HTML_END_TAG)===e.length-7},t.DomUtils.cleanHtml=function(i){var n=e(document.createElement("span")).get(0);return n.innerHTML=i,i&&i.indexOf("<")>=0&&t.DomUtils._cleanElementHtml(n),n},t.DomUtils._cleanElementHtml=function(i){for(var n,r,o,s,a,l=i.childNodes,u=l.length-1;u>=0;){if(n=l.item(u),n&&1===n.nodeType)if(t.DomUtils._LEGAL_ELEMENTS[n.nodeName]){for(r=n.attributes,a=r.length-1;a>=0;a--)o=r[a],s=void 0!==e(n).attr(o.name),s&&(t.DomUtils._LEGAL_ATTRIBUTES[o.name]||n.removeAttribute(o.nodeName));t.DomUtils._cleanElementHtml(n)}else n&&i.removeChild(n);u--}},t.DomUtils.isAncestor=function(t,e){for(var i=e.parentNode;i;){if(i==t)return!0;i=i.parentNode}return!1},t.DomUtils.isAncestorOrSelf=function(e,i){return i==e?!0:t.DomUtils.isAncestor(e,i)},t.DomUtils.addResizeListener=function(i,n,r){var o=e(i),s=o.data(t.DomUtils._RESIZE_TRACKER_KEY);null==s&&(s=new t.DomUtils._ResizeTracker(i),o.data(t.DomUtils._RESIZE_TRACKER_KEY,s),s.start()),s.addListener(n,r)},t.DomUtils.removeResizeListener=function(i,n){var r=e(i),o=r.data(t.DomUtils._RESIZE_TRACKER_KEY);null!=o&&(o.removeListener(n),o.isEmpty()&&(o.stop(),r.removeData(t.DomUtils._RESIZE_TRACKER_KEY)))},t.DomUtils.fixResizeListeners=function(i){e(i).find(".oj-helper-detect-expansion").parent().each(function(i,n){var r=e(n).data(t.DomUtils._RESIZE_TRACKER_KEY);null!=r&&r.init(!0)})},t.DomUtils.isMetaKeyPressed=function(e){var i=t.AgentUtils.getAgentInfo();return t.AgentUtils.OS.MAC===i.os?e.metaKey:e.ctrlKey},t.DomUtils._invokeAfterPaint=(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(t){return window.setTimeout(t,0)}).bind(window),t.DomUtils._cancelInvokeAfterPaint=(window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||function(t){return window.clearTimeout(t)}).bind(window),t.DomUtils._ResizeTracker=function(i){function n(t){var e=!1;if(null!=_.offsetParent){var i=_.offsetWidth,n=_.offsetHeight;g===i&&f===n||(p=c,a(i,n),e=!0,t&&r(!0))}return e}function r(e){var n=i.offsetWidth,r=i.offsetHeight;l.has()&&(e?(null!==d&&t.DomUtils._cancelInvokeAfterPaint(d),d=t.DomUtils._invokeAfterPaint(function(){d=null,l.fire(n,r)})):l.fire(n,r));for(var o=0;o<u.length;o++)u[o].getCallback()(n,r)}function o(t){t.stopPropagation(),n(!0)||p>0&&null!=_.offsetParent&&(0==_.scrollLeft||0==_.scrollTop)&&(p--,a(g,f))}function s(){r(!1)}function a(t,e){g=t,f=e;var i=_.firstChild.style,n=1;do i.width=t+n+"px",i.height=e+n+"px",_.scrollLeft=_.scrollTop=n,n++;while((0==_.scrollTop||0==_.scrollLeft)&&5>=n);v.scrollLeft=t,v.scrollTop=e}var l=e.Callbacks(),u=[],h=[],c=2,p=0,d=null,g=null,f=null,_=null,v=null,m=null,y=null;this.addListener=function(e,i){void 0===i||0===i?l.add(e):(u.push(new t.DomUtils._collapsingListenerManager(e,i)),h.push(e))},this.removeListener=function(t){var e=h.indexOf(t);if(e>=0){h.splice(e,1);var i=u.splice(e,1);i[0].stop()}else l.remove(t)},this.isEmpty=function(){return!l.has()&&0==h.length},this.start=function(){if(y=o.bind(this),i.attachEvent)m=s.bind(this),i.attachEvent("onresize",m);else{var t=i.childNodes[0];_=document.createElement("div"),_.className="oj-helper-detect-expansion";var e=document.createElement("div");_.appendChild(e),null!=t?i.insertBefore(_,t):i.appendChild(_),_.addEventListener("scroll",y,!1),v=document.createElement("div"),v.className="oj-helper-detect-contraction";var n=document.createElement("div");n.style.width="200%",n.style.height="200%",v.appendChild(n),i.insertBefore(v,_),v.addEventListener("scroll",y,!1),this.init(!1)}},this.stop=function(){null!=d&&(t.DomUtils._cancelInvokeAfterPaint(d),d=null),null!=_?(_.removeEventListener("scroll",y),v.removeEventListener("scroll",y),i.removeChild(_),i.removeChild(v)):i.detachEvent("onresize",m)},this.init=function(t){var e=n(t);t&&!e&&null!=_.offsetParent&&a(g,f)}},t.DomUtils._RESIZE_TRACKER_KEY="_ojResizeTracker",t.DomUtils.isValidIdentifier=function(t){return/^[A-Za-z][0-9A-Z_a-z-]*$/.test(t)},t.DomUtils._collapsingListenerManager=function(t,e){var i=null,n=null,r=function(){t.apply(null,i),n=null},o=function(){i=Array.prototype.slice.call(arguments),null==n&&(n=window.setTimeout(r,e))};this.getCallback=function(){return o},this.stop=function(){null!=n&&(window.clearTimeout(n),n=null)}},t.DomUtils.isTouchSupported=function(){return"ontouchstart"in window||navigator.msMaxTouchPoints>0||navigator.maxTouchPoints>0},t.DomUtils.setInKoRemoveNode=function(e){t.DomUtils._koRemoveNode=e},t.DomUtils.unwrap=function(e,i){var n=t.DomUtils._koRemoveNode;n&&n==e.parent().get(0)||(arguments.length>1?i.replaceWith(e):e.unwrap())},t.DomUtils.isChromeEvent=function(i){function n(t){try{return!t.originalTarget.localName}catch(e){return!0}}function r(t){return o(t)}function o(i){var n=i.target,r=e(n),o=n.getBoundingClientRect(),s=t.DomUtils.getScrollBarWidth(),a="ltr"===t.DomUtils.getReadingDirection();return a&&("HTML"===n.nodeName||"visible"!==r.css("overflow-x"))&&i.clientX>o.right-s?!0:!a&&"HTML"===n.nodeName&&i.clientX>o.left-s?!0:!a&&"visible"!==r.css("overflow-x")&&i.clientX<o.left+s?!0:("HTML"===n.nodeName||"visible"!==r.css("overflow-y"))&&i.clientY>o.bottom-s}if(!("clientX"in i&&"clientY"in i))return!1;var s=t.AgentUtils.getAgentInfo();return t.AgentUtils.OS.ANDROID===s.os||t.AgentUtils.OS.IOS===s.os?!1:t.AgentUtils.ENGINE.GECKO===s.engine?n(i):t.AgentUtils.ENGINE.WEBKIT===s.engine?o(i):t.AgentUtils.BROWSER.IE===s.browser?r(i):!1},t.DomUtils.getScrollBarWidth=function(){var i=t.DomUtils._scrollBarWidth;if(e.isNumeric(i))return i;var n=e("<div />");e(document.body).append(n),n.width(50).height(50).css({overflow:"scroll",visibility:"hidden",position:"absolute"});var r=e("<div />");r.height(1),n.append(r);var o=r.width(),s=n.width();return n.remove(),i=t.DomUtils._scrollBarWidth=s-o},t.DomUtils.getReadingDirection=function(){var t=document.documentElement.getAttribute("dir");return t&&(t=t.toLowerCase()),"rtl"===t?"rtl":"ltr"},t.DomUtils.getCSSLengthAsInt=function(t){if(!isNaN(t))return t;if(t&&t.length>0&&"auto"!=t){var e=parseInt(t,10);return isNaN(e)&&(e=0),e}return 0},t.DomUtils.getCSSLengthAsFloat=function(t){if(!isNaN(t))return t;if(t&&t.length>0){var e=parseFloat(t);return isNaN(e)&&(e=0),e}return 0},t.DomUtils.isWithinViewport=function(i,n){function r(e,i){if(e.bottom-i.top<-1)return!1;var n="auto"===i.overflowY||"scroll"===i.overflowY?t.DomUtils.getScrollBarWidth():0;return i.bottom-n-e.top<1?!1:(n="auto"!==i.overflowX&&"scroll"!==i.overflowX||"rtl"!==t.DomUtils.getReadingDirection()?0:t.DomUtils.getScrollBarWidth(),e.right-(i.left+n)<-1?!1:(n="auto"!==i.overflowX&&"scroll"!==i.overflowX||"ltr"!==t.DomUtils.getReadingDirection()?0:t.DomUtils.getScrollBarWidth(),!(e.left-(i.right-n)>-1)))}function o(t){return"visible"!==t.css("overflow-x")||"visible"!==t.css("overflow-y")}function s(t){var i=t[0];if(1===i.nodeType){var n=i.getBoundingClientRect();return n.overflowX=t.css("overflow-x"),n.overflowY=t.css("overflow-y"),n}if(e.isWindow(i)){var n={width:i.innerWidth,height:i.innerHeight,top:0,bottom:i.innerHeight,left:0,right:i.innerWidth};return n}return{height:0,width:0}}if(!i)return!1;var a=s(i);if(n&&!r(a,s(e(window))))return!1;for(var l=!0,u=i.parent();l&&u&&u.length>0&&1===u[0].nodeType;){if(o(u)){var h=s(u);h.height>0&&h.width>0&&(l=r(a,h))}u=u.parent()}return l},t.DomUtils._LOGICAL_PARENT_DATA="oj-logical-parent",t.DomUtils.getLogicalParent=function(e){return e?e.data(t.DomUtils._LOGICAL_PARENT_DATA):void 0},t.DomUtils.setLogicalParent=function(e,i){e&&(null===i?e.removeData(t.DomUtils._LOGICAL_PARENT_DATA):e.data(t.DomUtils._LOGICAL_PARENT_DATA,i))},t.DomUtils.isLogicalAncestorOrSelf=function(i,n){t.Assert.assertDomElement(i),t.Assert.assertDomElement(n);for(var r=n;r;){if(r==i)return!0;var o=t.DomUtils.getLogicalParent(e(r));r=o?o[0]:r.parentNode}return!1},t.DomUtils.validateURL=function(t,e){var i=e||["http:","https:"],n=document.createElement("a");n.href=t;var r=n.protocol;if(null!=r&&(r=r.toLowerCase()),i.indexOf(r)<0)throw r+" is not a valid URL protocol"},t.DomUtils._supressNativeContextMenu=function(){e(document.body).hasClass("oj-hybrid")&&document.body.addEventListener("contextmenu",function(t){t.preventDefault()},!0)},t.DomUtils._supressNativeContextMenu(),t.ComponentMessaging=function(t){this.Init(t)},t.Object.createSubclass(t.ComponentMessaging,t.Object,"oj.ComponentMessaging"),t.ComponentMessaging._DISPLAY_TYPE={NONE:"none",NOTEWINDOW:"notewindow",PLACEHOLDER:"placeholder",INLINE:"inline"},t.ComponentMessaging._DISPLAY_TYPE_TO_CALLBACK={},t.ComponentMessaging.registerMessagingStrategy=function(e,i){e&&"function"==typeof i&&(t.ComponentMessaging._DISPLAY_TYPE_TO_CALLBACK[e]=i)},t.ComponentMessaging.prototype.Init=function(e){t.ComponentMessaging.superclass.Init.call(this),this._component=e,this._activated=!1,this._initializeMessagingStrategies()},t.ComponentMessaging.prototype.activate=function(i,n){var r=this;t.Assert.assertObject(n),this._launcher=i,this._messagingContent=t.CollectionUtils.copyInto(this._messagingContent||{},n),this._isActive()?this._reactivate():(e.each(this._strategies,function(t,e){e.activate(r)}),this._activated=!0)},t.ComponentMessaging.prototype.update=function(i){t.Assert.assertObject(i),t.Assert.assertBoolean(this._activated),this._messagingContent=t.CollectionUtils.copyInto(this._messagingContent||{},i),this._activated&&e.each(this._strategies,function(t,e){e.shouldUpdate(i)&&e.update()})},t.ComponentMessaging.prototype.deactivate=function(){e.each(this._strategies,function(t,e){e.deactivate()}),this._activated=!1,this._component=null,this._launcher=null,this._strategies={}},t.ComponentMessaging.prototype._createMessagingStrategy=function(e,i){var n=t.ComponentMessaging._DISPLAY_TYPE_TO_CALLBACK[e]||t.ComponentMessaging._DISPLAY_TYPE_TO_CALLBACK[t.ComponentMessaging._DISPLAY_TYPE.NONE];return new n(i)},t.ComponentMessaging.prototype._getComponent=function(){return this._component||null},t.ComponentMessaging.prototype._getLauncher=function(){return this._launcher||null},t.ComponentMessaging.prototype._getMessagingContent=function(){return this._messagingContent||{}},t.ComponentMessaging.prototype._isActive=function(){return this._activated},t.ComponentMessaging.prototype._getResolvedMessagingDisplayOptions=function(){var i,n,r,o,s,a,l,u={},h=!1,c=this._component.options.placeholder,p=this._component.options.displayOptions||{},d={},g=this;for(o=Object.keys(p),a=0;a<o.length;a++){if(s=o[a],i=p[s],h=!1,r=s+"",Array.isArray(i))for(l=0;l<i.length;l++)n=i[l],h||(h=g._resolveDisplayTypeForArtifact(r,n,c,d));else"string"==typeof i&&(h||(h=g._resolveDisplayTypeForArtifact(r,i,c,d)));h||(d[r]=t.ComponentMessaging._DISPLAY_TYPE.NONE)}return e.each(t.ComponentMessaging._DISPLAY_TYPE,function(t,e){u[e]=[]}),e.each(d,function(t,e){u[e].push(t)}),u},t.ComponentMessaging.prototype._resolveDisplayTypeForArtifact=function(e,i,n,r){var o=!1;switch(i){case t.ComponentMessaging._DISPLAY_TYPE.PLACEHOLDER:"converterHint"===e&&(o||n||(r[e]=i,o=!0));break;case t.ComponentMessaging._DISPLAY_TYPE.INLINE:"messages"===e&&(o||(r[e]=i,o=!0));break;default:o||(r[e]=i,o=!0)}return o},t.ComponentMessaging.prototype._initializeMessagingStrategies=function(){var e=this._getResolvedMessagingDisplayOptions(),i=e[t.ComponentMessaging._DISPLAY_TYPE.NOTEWINDOW],n=e[t.ComponentMessaging._DISPLAY_TYPE.NONE],r=e[t.ComponentMessaging._DISPLAY_TYPE.PLACEHOLDER],o=e[t.ComponentMessaging._DISPLAY_TYPE.INLINE],s={};i.length>0&&(s[t.ComponentMessaging._DISPLAY_TYPE.NOTEWINDOW]=this._createMessagingStrategy(t.ComponentMessaging._DISPLAY_TYPE.NOTEWINDOW,i)),r.length>0&&(s[t.ComponentMessaging._DISPLAY_TYPE.PLACEHOLDER]=this._createMessagingStrategy(t.ComponentMessaging._DISPLAY_TYPE.PLACEHOLDER,r)),o.length>0&&(s[t.ComponentMessaging._DISPLAY_TYPE.INLINE]=this._createMessagingStrategy(t.ComponentMessaging._DISPLAY_TYPE.INLINE,o)),s[t.ComponentMessaging._DISPLAY_TYPE.NONE]=this._createMessagingStrategy(t.ComponentMessaging._DISPLAY_TYPE.NONE,n),this._strategies=s},t.ComponentMessaging.prototype._reactivate=function(){var i,n=this._getResolvedMessagingDisplayOptions(),r=this;e.each(n,function(e,n){e+="",i=r._strategies[e],n&&n.length>0?i?i&&i.reactivate(n):(i=r._createMessagingStrategy(e,n),r._strategies[e]=i,i.activate(r)):i&&t.ComponentMessaging._DISPLAY_TYPE.NONE!==e&&(i.deactivate(),delete r._strategies[e])})},t.MessagingStrategy=function(t){this.Init(t)},t.Object.createSubclass(t.MessagingStrategy,t.Object,"oj.MessagingStrategy"),t.MessagingStrategy.prototype.Init=function(e){t.Assert.assertArray(e),t.MessagingStrategy.superclass.Init.call(this),this._displayOptions=e},t.MessagingStrategy.prototype.activate=function(t){this._componentMessaging=t},t.MessagingStrategy.prototype.deactivate=function(){},t.MessagingStrategy.prototype.reactivate=function(t){this.Init(t)},t.MessagingStrategy.prototype.shouldUpdate=function(t){return!0},t.MessagingStrategy.prototype.update=function(){},t.MessagingStrategy.prototype.GetLauncher=function(){return this._componentMessaging._getLauncher()},t.MessagingStrategy.prototype.GetComponent=function(){return this._componentMessaging._getComponent()},t.MessagingStrategy.prototype.GetMessages=function(){return this.GetValidityState().getMessages()},t.MessagingStrategy.prototype.GetMaxSeverity=function(){return this.GetValidityState().getMaxSeverity()},t.MessagingStrategy.prototype.GetConverterHint=function(){var t=[],e=this._getMessagingContent(),i=e&&e.converterHint;return i&&t.push(i),t},t.MessagingStrategy.prototype.GetValidatorHints=function(){var t=[],i=this._getMessagingContent(),n=i&&i.validatorHint||[];return e.each(n,function(e,i){t.push(i)}),t},t.MessagingStrategy.prototype.GetTitle=function(){var t=this._getMessagingContent();return t&&t.title||""},t.MessagingStrategy.prototype.GetValidityState=function(){var t=this._getMessagingContent();return t&&t.validityState||null},t.MessagingStrategy.prototype.HasMessages=function(){var t=this.GetMessages();return!!(t&&t.length>0)},t.MessagingStrategy.prototype.ShowMessages=function(){return-1!==this._displayOptions.indexOf("messages")},t.MessagingStrategy.prototype.ShowConverterHint=function(){return-1!==this._displayOptions.indexOf("converterHint")},t.MessagingStrategy.prototype.ShowValidatorHint=function(){return-1!==this._displayOptions.indexOf("validatorHint")},t.MessagingStrategy.prototype.ShowTitle=function(){return-1!==this._displayOptions.indexOf("title")},t.MessagingStrategy.prototype.IsInvalid=function(){return this.GetValidityState().isInvalid()},t.MessagingStrategy.prototype._getMessagingContent=function(){return this._componentMessaging?this._componentMessaging._getMessagingContent():{}},t.DefaultMessagingStrategy=function(t){this.Init(t)},t.ComponentMessaging.registerMessagingStrategy(t.ComponentMessaging._DISPLAY_TYPE.NONE,t.DefaultMessagingStrategy),t.DefaultMessagingStrategy._SELECTOR_STATE_INVALID="oj-invalid",t.DefaultMessagingStrategy._SELECTOR_STATE_WARNING="oj-warning",t.Object.createSubclass(t.DefaultMessagingStrategy,t.MessagingStrategy,"oj.DefaultMessagingStrategy"),t.DefaultMessagingStrategy.prototype.update=function(){t.DefaultMessagingStrategy.superclass.update.call(this);var e=this.GetLauncher(),i=this.GetMaxSeverity(),n=[],r=[],o=!1,s=this.GetComponent(),a=s.widget();e&&(this.IsInvalid()?(n.push(t.DefaultMessagingStrategy._SELECTOR_STATE_WARNING),r.push(t.DefaultMessagingStrategy._SELECTOR_STATE_INVALID),o=!0):this.HasMessages()&&i===t.Message.SEVERITY_LEVEL.WARNING?(n.push(t.DefaultMessagingStrategy._SELECTOR_STATE_INVALID),r.push(t.DefaultMessagingStrategy._SELECTOR_STATE_WARNING)):(n.push(t.DefaultMessagingStrategy._SELECTOR_STATE_INVALID),n.push(t.DefaultMessagingStrategy._SELECTOR_STATE_WARNING)),a.removeClass(n.join(" ")).addClass(r.join(" ")),e.attr({"aria-invalid":o}))},t.DefaultMessagingStrategy.prototype.deactivate=function(){var e=this.GetComponent().widget();e.removeClass(t.DefaultMessagingStrategy._SELECTOR_STATE_INVALID).removeClass(t.DefaultMessagingStrategy._SELECTOR_STATE_WARNING),this.GetLauncher().removeAttr("aria-invalid"),t.DefaultMessagingStrategy.superclass.deactivate.call(this)},t.PlaceholderMessagingStrategy=function(t){this.Init(t)},t.ComponentMessaging.registerMessagingStrategy(t.ComponentMessaging._DISPLAY_TYPE.PLACEHOLDER,t.PlaceholderMessagingStrategy),t.Object.createSubclass(t.PlaceholderMessagingStrategy,t.MessagingStrategy,"oj.PlaceholderMessagingStrategy"),t.PlaceholderMessagingStrategy.prototype.Init=function(e){t.PlaceholderMessagingStrategy.superclass.Init.call(this,e)},t.PlaceholderMessagingStrategy.prototype.activate=function(e){t.PlaceholderMessagingStrategy.superclass.activate.call(this,e),this._refreshPlaceholder()},t.PlaceholderMessagingStrategy.prototype.reactivate=function(e){t.PlaceholderMessagingStrategy.superclass.reactivate.call(this,e),this._refreshPlaceholder()},t.PlaceholderMessagingStrategy.prototype.shouldUpdate=function(t){return!(!t||void 0===t.converterHint)},t.PlaceholderMessagingStrategy.prototype.update=function(){t.PlaceholderMessagingStrategy.superclass.update.call(this),this._refreshPlaceholder()},t.PlaceholderMessagingStrategy.prototype._refreshPlaceholder=function(){var t,e,i=this.GetLauncher();if(this.ShowPlaceholderContent()&&i){e=this.GetConverterHint(),t=e.length?e[0]:"";var n={};n.internalMessagingSet=!0,this.GetComponent().option({placeholder:t},{_context:n})}},t.PlaceholderMessagingStrategy.prototype.ShowPlaceholderContent=function(){return this.ShowConverterHint()},t.ComponentValidity=function(t,e){this.Init(t,e)},t.ComponentValidity.isInvalid=function(e){var i=t.Message.getMaxSeverity(e);return i>=t.Message.SEVERITY_LEVEL.ERROR},t.Object.createSubclass(t.ComponentValidity,t.Object,"oj.ComponentValidity"),t.ComponentValidity.prototype.Init=function(e,i){t.ComponentValidity.superclass.Init.call(this),this._initialize(e,i)},t.ComponentValidity.prototype.isInvalid=function(){return this._invalid},t.ComponentValidity.prototype.hasMessages=function(){return this._messages.length>0},t.ComponentValidity.prototype.getMessages=function(){return this._messages},t.ComponentValidity.prototype.getMaxSeverity=function(){return this._maxSeverity},t.ComponentValidity.prototype.update=function(t,e){this._initialize(t,e)},t.ComponentValidity.prototype._initialize=function(e,i){this._compValid=e,this._compMessages=i,this._messages=this._getImmediateMessages(),this._maxSeverity=t.Message.getMaxSeverity(this._messages),this._invalid=t.ComponentValidity.isInvalid(this._messages)},t.ComponentValidity.prototype._getImmediateMessages=function(){for(var e,i=this._compMessages||[],n=[],r=0;r<i.length;r++)e=i[r],e instanceof t.ComponentMessage&&!e.canDisplay()||n.push(e);return n},t.FocusUtils={},t.FocusUtils._TABBABLE=":tabbable",t.FocusUtils.containsFocus=function(e){var i=document.activeElement;return e&&i?t.DomUtils.isAncestorOrSelf(e,i):!1},t.FocusUtils.focusElement=function(t){t.focus()},t.FocusUtils.focusFirstTabStop=function(e){var i=t.FocusUtils.getFirstTabStop(e);return i&&t.FocusUtils.focusElement(i),i},t.FocusUtils.getFirstTabStop=function(i){var n=e(i);if(n.is(t.FocusUtils._TABBABLE))return i;var r=n.find(t.FocusUtils._TABBABLE);return r&&r.length>0?r[0]:null},t.Test={},t.Test.ready=!1,t.Test.domNodeForLocator=function(i){var n=i;if(t.StringUtils.isString(i)){var r=i;try{n=e.parseJSON(r)}catch(o){return null}}if(n&&n.element){var s=e(n.element);if(s){var a=t.Components.getWidgetConstructor(s[0],n.component);return delete n.element,a("getNodeBySubId",n)}}return null},t.Test.getOpenPopupCount=function(){return t.ZOrderUtils.getOpenPopupCount()},t.Test.findOpenPopups=function(){return t.ZOrderUtils.findOpenPopups()},t.Test.compareStackingContexts=function(e,i){return t.ZOrderUtils.compareStackingContexts(e,i)}}),define("ojs/ojbutton",["ojs/ojcore","jquery","ojs/ojcomponentcore"],function(t,e){!function(){t.__registerWidget("oj.ojButton",e.oj.baseComponent,{defaultElement:"<button>",widgetEventPrefix:"oj",options:{chroming:"full",disabled:!1,display:"all",label:null,icons:{start:null,end:null},menu:null},_InitOptions:function(t,e){this._super(t,e),this._initButtonTypes(),"disabled"in e||this.option("disabled",!!this.element.prop("disabled"),{_context:{internalSet:!0}}),"label"in e||(this.keepDomLabel=!0,this.option("label","inputPush"===this.type?this.buttonElement.val():this.buttonElement.html(),{_context:{internalSet:!0}})),!this.options.menu||e.icons&&void 0!==e.icons.end||this.option("icons.end","oj-component-icon oj-button-menu-dropdown-icon",{_context:{writeback:!0,internalSet:!0}})},_ComponentCreate:function(){this._super(),this.element.closest("form").unbind("reset"+r).bind("reset"+r,function(){var t=e(this);setTimeout(function(){var i=t.find(":oj-button").each(function(){e(this).data("oj-ojButton")._applyCheckedStateFromDom(!1)});i.length||t.unbind("reset"+r)},1)}),this.menuEventNamespace=this.eventNamespace+"menu",this._initButtonTypes2(),this.hasTitle=!!this.rootElement.attr("title");var t=this,s=(this.options,this._isToggle),a=s?"":"oj-active",l="oj-focus";this.rootElement.addClass(o),h(this.rootElement,this.options.chroming);var u=function(){t._lastTouch=Date.now(),t.rootElement.removeClass(a),t.rootElement.removeClass("oj-hover"),t._toggleDefaultClasses()};if(this.document.bind("touchend"+this.eventNamespace+" touchcancel"+this.eventNamespace,u),this.buttonElement.bind("touchstart"+this.eventNamespace,function(){t._IsEffectivelyDisabled()||(e(this).addClass(a),t._toggleDefaultClasses())}).bind("touchend"+this.eventNamespace+" touchcancel"+this.eventNamespace,u).bind("mouseenter"+this.eventNamespace,function(){t._IsEffectivelyDisabled()||t._recentTouch()||(this===i&&t.rootElement.addClass("oj-active"),t.rootElement.addClass("oj-hover").removeClass("oj-default oj-focus-only"))}).bind("mouseleave"+this.eventNamespace,function(){t.rootElement.removeClass("oj-hover"),t._IsEffectivelyDisabled()||(t.rootElement.removeClass(a),t._toggleDefaultClasses())}).bind("click"+this.eventNamespace,function(e){t._IsEffectivelyDisabled()&&(e.preventDefault(),e.stopImmediatePropagation())}),this.element.bind("focus"+this.eventNamespace,function(){t.rootElement.addClass(l),t._toggleDefaultClasses()}).bind("blur"+this.eventNamespace,function(){t.rootElement.removeClass(l),t._toggleDefaultClasses()}),s&&(this.element.bind("change"+this.eventNamespace,function(i){t._applyCheckedStateFromDom(!0);var n=e(this).closest(":oj-buttonset").data("oj-ojButtonset"),r=n&&n._getCheckedFromDom(n.$buttons);n&&void 0!==r&&n.option("checked",r,{_context:{writeback:!0,originalEvent:i,internalSet:!0}})}),this.buttonElement.bind("mousedown"+this.eventNamespace,function(e){t._IsEffectivelyDisabled()||(n=this,t.document.one("mouseup",function(){n=null}))}).bind("mouseup"+this.eventNamespace,function(e){t._IsEffectivelyDisabled()||this===n&&t.element.focus()})),"checkbox"===this.type)this.buttonElement.bind("click"+this.eventNamespace,function(e){return t._IsEffectivelyDisabled()?!1:void 0}),this.element.bind("keyup"+this.eventNamespace,function(i){i.keyCode===e.ui.keyCode.ENTER&&(t._IsEffectivelyDisabled()||t.element.click())});else if("radio"===this.type)this.buttonElement.bind("click"+this.eventNamespace,function(){return t._IsEffectivelyDisabled()?!1:void 0}),this.element.bind("keyup"+this.eventNamespace,function(i){i.keyCode===e.ui.keyCode.ENTER&&(t.element[0].checked||t._IsEffectivelyDisabled()||(t.element[0].checked=!0,t.element.change(),t.element.click()))});else if(this.buttonElement.bind("mousedown"+this.eventNamespace,function(n){
return t._IsEffectivelyDisabled()?!1:void(1!==n.which||t._recentTouch()||(e(this).addClass("oj-active").removeClass("oj-default oj-focus-only"),i=this,t.document.one("mouseup",function(){i=null})))}).bind("mouseup"+this.eventNamespace,function(){return t._IsEffectivelyDisabled()?!1:(e(this).removeClass("oj-active"),void t._toggleDefaultClasses())}).bind("keydown"+this.eventNamespace,function(i){if(t._IsEffectivelyDisabled())return!1;var n=i.keyCode===e.ui.keyCode.SPACE,r="anchor"===t.type;r&&n&&i.preventDefault(),(n&&!r||i.keyCode===e.ui.keyCode.ENTER)&&e(this).addClass("oj-active").removeClass("oj-default oj-focus-only")}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){e(this).removeClass("oj-active"),t._toggleDefaultClasses()}),"anchor"===this.type){var c=this.buttonElement.attr("tabindex");("undefined"===c||null===c||isNaN(c))&&this.buttonElement.attr("tabindex","0")}this._updateEffectivelyDisabled(),this._handleLabelAndIconsAtCreateTime(),this._setupMenuButton(),this._toggleDefaultClasses()},_recentTouch:function(){return Date.now()-this._lastTouch<500},_NotifyContextMenuGesture:function(t,e,i){this._OpenContextMenu(e,i,{position:{of:"keyboard"===i?this.rootElement:e}})},_initButtonTypes:function(){if(this.element.is("input[type=checkbox]"))this.type="checkbox",this._isToggle=!0;else if(this.element.is("input[type=radio]"))this.type="radio",this._isToggle=!0;else if(this.element.is("input[type=button],input[type=submit],input[type=reset]"))this.type="inputPush";else if(this.element.is("button"))this.type="button";else{if(!this.element.is("a"))throw new Error("JET Button not supported on this element type");this.type="anchor"}if(this._isToggle){var t="label[for='"+this.element.attr("id")+"']";this.buttonElement=this.element.siblings().filter(t)}else this.buttonElement=this.element},_initButtonTypes2:function(){if(this._isToggle){this.buttonElement.addClass("oj-button-label"),this.element.addClass("oj-button-input oj-helper-hidden-accessible").add(this.buttonElement).wrapAll("<span></span>"),this.rootElement=this.element.parent(),this.rootElement.addClass("oj-button-toggle");var t=this.element[0].checked;t&&this.rootElement.addClass("oj-selected").removeClass("oj-default oj-focus-only")}else this.rootElement=this.element},widget:function(){return this.rootElement},_destroy:function(){this._removeMenuBehavior(),this.document.off(this.eventNamespace),this.element.removeClass("oj-helper-hidden-accessible").removeUniqueId();var e=this._isToggle;e||this.rootElement.removeClass(o+" "+s+" "+a+" "+l),this.buttonElement.html(this.buttonElement.find(".oj-button-text").html()),e?(this.buttonElement.removeClass("oj-button-label"),t.DomUtils.unwrap(this.element)):this.hasTitle||this.rootElement.removeAttr("title"),n===this.buttonElement[0]&&(n=null)},_NotifyDetached:function(){this._super(),this._toggleDefaultClasses()},__setAncestorComponentDisabled:function(t){this._super(t),this._updateEffectivelyDisabled()},_updateEffectivelyDisabled:function(){var t=this._IsEffectivelyDisabled();this.rootElement.toggleClass("oj-disabled",t),this.rootElement.toggleClass("oj-enabled",!t),"anchor"!==this.type?(this.element.prop("disabled",t),this.rootElement.removeAttr("aria-disabled")):this.rootElement.attr("aria-disabled",t),t?(this.widget().removeClass("oj-active oj-default oj-focus-only oj-hover oj-focus"),i=null,this._dismissMenu()):this._toggleDefaultClasses()},_setOption:function(t,e,i){switch(this._super(t,e,i),t){case"chroming":h(this.rootElement,e);break;case"disabled":this._updateEffectivelyDisabled();break;case"label":this._setLabelOption();break;case"display":"inputPush"!==this.type&&this._setDisplayOptionOnDom();break;case"icons":this._setIconsOption(!0);break;case"menu":this._setupMenuButton()}},refresh:function(){this._super(),this._ancestorDisabled&&!e(this).closest(":oj-buttonset").length&&this.__setAncestorComponentDisabled(!1),h(this.rootElement,this.options.chroming)},_applyCheckedStateFromDom:function(t){"radio"===this.type?(t?c(this.element[0]):this.element).each(function(){var t=e(this).data("oj-ojButton");this.checked?t.rootElement.addClass("oj-selected").removeClass("oj-default oj-focus-only"):(t.rootElement.removeClass("oj-selected"),t._toggleDefaultClasses())}):"checkbox"===this.type&&(this.element[0].checked?this.rootElement.addClass("oj-selected").removeClass("oj-default oj-focus-only"):(this.rootElement.removeClass("oj-selected"),this._toggleDefaultClasses()))},_handleLabelAndIconsAtCreateTime:function(){if("inputPush"===this.type)this._setLabelOnDomOfSpanlessButton();else{var t=this._setLabelOnDomAtCreateTime(),e=this._setIconOnDom(!0),i=this._setIconOnDom(!1);this._setDisplayOptionOnDom(t,e,i)}},_setLabelOnDomAtCreateTime:function(){var t=this.buttonElement,i=e("<span class='oj-button-text'></span>",this.document[0]);return this.keepDomLabel?i.append(t.contents()):(t.empty(),i.text(this.options.label)),t.append(i),i},_setLabelOption:function(){if("inputPush"===this.type)this._setLabelOnDomOfSpanlessButton();else{var t=this.buttonElement.find(".oj-button-text");t.text(this.options.label),this._setDisplayOptionOnDom(t)}},_setLabelOnDomOfSpanlessButton:function(){this.options.label&&this.element.val(this.options.label)},_setIconsOption:function(){if("inputPush"!==this.type){var t=this._setIconOnDom(!0),e=this._setIconOnDom(!1);this._setDisplayOptionOnDom(void 0,t,e)}},_setIconOnDom:function(t){if(t)var i=".oj-button-icon.oj-start",n="oj-button-icon oj-start",r=this.options.icons.start,o="_lastStartIcon",s="prependTo";else i=".oj-button-icon.oj-end",n="oj-button-icon oj-end",r=this.options.icons.end,o="_lastEndIcon",s="appendTo";var a=this.buttonElement.find(i);if(r){if(a.length){var l=this[o];a.removeClass(l)}else a=e("<span></span>").addClass(n)[s](this.buttonElement);a.addClass(r)}else a.remove();return this[o]=r,!!r},_setDisplayOptionOnDom:function(t,i,n){void 0===t&&(t=this.buttonElement.find(".oj-button-text")),void 0===i&&(i=!!this.options.icons.start),void 0===n&&(n=!!this.options.icons.end);var r=i&&n,o=i||n,s="icons"===this.options.display;if(o&&s){if(t.addClass("oj-helper-hidden-accessible"),!this.hasTitle){var l=t.text();this.rootElement.attr("title",e.trim(l))}}else t.removeClass("oj-helper-hidden-accessible"),this.hasTitle||this.rootElement.removeAttr("title");var u=o?s?r?"oj-button-icons-only":"oj-button-icon-only":r?"oj-button-text-icons":i?"oj-button-text-icon-start":"oj-button-text-icon-end":"oj-button-text-only";this.rootElement.removeClass(a).addClass(u)},_setupMenuButton:function(){if(this.options.menu&&this.element.is("input"))throw new Error("Menu Button functionality is not supported on input elements.");if(this._removeMenuBehavior(),this.options.menu){var t=this;this.element.attr("aria-haspopup",!0).on("keydown"+this.menuEventNamespace,function(i){if(i.which===e.ui.keyCode.DOWN)return t._showMenu(i,"firstItem"),i.preventDefault(),!0;if(i.which===e.ui.keyCode.ESCAPE){var n=t._checkMenuParent(t.rootElement);return t._dismissMenu(i),n}return!0}).on("click"+this.menuEventNamespace,function(e){var i=t._getMenu();return i.__spaceEnterDownInMenu||t._showMenu(e,"firstItem"),i.__spaceEnterDownInMenu=!1,e.preventDefault(),!0})}},_checkMenuParent:function(t){return!t.hasClass("oj-selected")},_removeMenuBehavior:function(){this.element.removeAttr("aria-haspopup").off(this.menuEventNamespace),this._dismissMenu(),this._menu&&this._menu.widget().off(this.menuEventNamespace),this._menu=void 0},_getMenu:function(){if(!this._menu){if(this._menu=e(this.options.menu).data("oj-ojMenu"),!this._menu)throw new Error('JET Button: "menu" option specified, but does not reference a valid JET Menu.');var t=this;this._menu.widget().on("ojclose"+this.menuEventNamespace,function(e,i){t._menuDismissHandler(e)})}return this._menu},_showMenu:function(t,e){if(!this._IsEffectivelyDisabled()){var i=this._getMenu(),n=i.widget();i.open(t,{launcher:this.element,initialFocus:e}),this._menuVisible=!0,n.attr("aria-label")||n.attr("aria-labelledby")||(this.element.uniqueId(),this._setAriaLabelledBy=!0,n.attr("aria-labelledby",this.element.attr("id"))),this.rootElement.addClass("oj-selected").removeClass("oj-default oj-focus-only")}},_dismissMenu:function(t){this._menuVisible&&(this._menu.__collapseAll(t,!0),this._menu.__dismiss(t))},_menuDismissHandler:function(t){this._setAriaLabelledBy&&(this._getMenu().widget().removeAttr("aria-labelledby"),this._setAriaLabelledBy=!1),this.rootElement.removeClass("oj-selected"),this._toggleDefaultClasses(),this._menuVisible=!1},_toggleDefaultClasses:function(){var t,e,i=this.rootElement.is(".oj-hover, .oj-active, .oj-selected, .oj-disabled");if(i)t=!1,e=!1;else{var n=this.rootElement.is(".oj-focus");t=!n,e=n}this.rootElement.toggleClass("oj-default",t),this.rootElement.toggleClass("oj-focus-only",e)}}),t.__registerWidget("oj.ojButtonset",e.oj.baseComponent,{_items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a",widgetEventPrefix:"oj",options:{checked:null,chroming:"full",focusManagement:"oneTabstop"},_setCheckedOnDom:function(t,i){var n,r,o=e.type(t);if("null"!==o&&"array"!==o||(r=i.filter("input[type=checkbox]").length===i.length),r&&"null"===o)throw new Error("Invalid 'checked' value set on JET Buttonset: "+t);if("string"===o||"null"===o){var s=i[0].name,a=(s||i.length<=1)&&i.filter("input[type=radio][name="+s+"]").length===i.length&&(null===t||i.filter("[value="+t+"]").length);a&&i.each(function(){this.checked=this.value===t}),n=a||null===t}else if("array"===o){var l;n=r&&t.concat().sort().every(function(t,e,n){var r=t!==l&&i.filter("[value="+t+"]").length;return l=t,r}),n&&i.each(function(){this.checked=t.indexOf(this.value)>-1})}else n=!1;if(!n)throw new Error("Invalid 'checked' value set on JET Buttonset: "+t)},_getCheckedFromDom:function(t){var e=void 0,i=null,n=null;return t.each(function(t){var r=this.tagName.toLowerCase();if("input"!==r)return e=void 0,!1;var o,s,a=this.type.toLowerCase();if("radio"===a)o=!0,s=this.name.toLowerCase();else{if("checkbox"!==a)return e=void 0,!1;o=!1,s=null}return void 0!==e&&(o!==i||s!==n||i&&!n)?(e=void 0,!1):void(void 0===e?(e=o?this.checked?this.value:null:this.checked?[this.value]:[],i=o,n=s):this.checked&&(i?e=this.value:e.push(this.value)))}),e},_CompareOptionValues:function(t,i,n){return"checked"===t?i===n?!0:"array"===e.type(i)&&"array"===e.type(n)&&!e(i).not(n).length&&!e(n).not(i).length:this._superApply(arguments)},_InitOptions:function(t,i){if(this._super(t,i),this.$buttons=this.element.find(this._items),!("checked"in i)){this.initCheckedFromDom=!0;var n=this._getCheckedFromDom(this.$buttons);"array"===e.type(n)&&(this.options.checked=[]),void 0!==n&&this.option("checked",n,{_context:{internalSet:!0}})}},_ComponentCreate:function(){this._super(),this.element.attr(t.Components._OJ_CONTAINER_ATTR,this.widgetName).addClass("oj-buttonset oj-component"),this._setRole(this.options.focusManagement),this._setup(!0)},_NotifyContextMenuGesture:function(t,e,i){var n=this.element.find(":oj-button[tabindex=0]");this._OpenContextMenu(e,i,{launcher:n,position:{of:"keyboard"===i?n.ojButton("widget"):e}})},_propagateDisabled:function(t){t=!!t,this.$buttons.each(function(){e(this).data("oj-ojButton").__setAncestorComponentDisabled(t)})},_setRole:function(t){"oneTabstop"===t?this.element.attr("role","toolbar"):this.element.removeAttr("role")},_setOption:function(t,i,n){this._superApply(arguments),"disabled"===t?this._propagateDisabled(i):"checked"===t?(this._setCheckedOnDom(i,this.$buttons),this.$buttons.each(function(){e(this).data("oj-ojButton")._applyCheckedStateFromDom(!1)})):"focusManagement"===t?this._setRole(i):"chroming"===t&&(h(this.element,i),this.$buttons.ojButton("refresh"))},refresh:function(){this._super(),this._setup(!1)},_setup:function(t){var i=this;this.isRtl="rtl"===this._GetReadingDirection(),h(this.element,this.options.chroming),t?this.initCheckedFromDom||this._setCheckedOnDom(this.options.checked,this.$buttons):this.$buttons=this.element.find(this._items),this.element.toggleClass("oj-buttonset-multi",this.$buttons.length>1),this.$buttons.filter(":oj-button").ojButton("refresh").each(function(){e(this).data("oj-ojButton")._applyCheckedStateFromDom(!1)}).end().not(":oj-button").ojButton().end().map(function(){return e(this).ojButton("widget")[0]}).removeClass("oj-buttonset-first oj-buttonset-last").filter(":first").addClass("oj-buttonset-first").end().filter(":last").addClass("oj-buttonset-last").end().end(),this._propagateDisabled(this.options.disabled),"oneTabstop"===this.options.focusManagement&&(this.$buttons.unbind("keydown"+this.eventNamespace).bind("keydown"+this.eventNamespace,function(t){i._handleKeyDown(t,e(this))}).unbind("click"+this.eventNamespace).bind("click"+this.eventNamespace,function(t){e(this).data("oj-ojButton")._IsEffectivelyDisabled()||i._setTabStop(e(this))}).unbind("focus"+this.eventNamespace).bind("focus"+this.eventNamespace,function(t){i._setTabStop(e(this))}),this.$enabledButtons=this.$buttons.filter(function(t){return!e(this).data("oj-ojButton")._IsEffectivelyDisabled()}),this._initTabindexes(t))},_initTabindexes:function(t){var i=e(this._lastTabStop);this._lastTabStop=void 0,this.$buttons.attr("tabindex","-1");var n;n=t||!i.is(this.$enabledButtons)?this.$enabledButtons.first():i,this._setTabStop(n)},_mapToTabbable:function(t){var e=this.$enabledButtons;return t.map(function(t,i){if("radio"!=i.type||i.checked||""==i.name)return i;var n=c(i,e).filter(":checked");return n.length?n[0]:i})},_setTabStop:function(t){t=this._mapToTabbable(t);var i=t[0],n=this._lastTabStop;i!==n&&(e(n).attr("tabindex","-1"),t.attr("tabindex","0"),this._lastTabStop=i)},_handleKeyDown:function(t,i){switch(t.which){case e.ui.keyCode.LEFT:case e.ui.keyCode.RIGHT:t.preventDefault();var n=this.$enabledButtons,r=n.length;if(2>r)break;var o=n.index(i),s=t.which==e.ui.keyCode.RIGHT^this.isRtl?1:-1,a=(o+s+r)%r;n.eq(a).focus();break;case e.ui.keyCode.UP:case e.ui.keyCode.DOWN:"radio"==i.attr("type")&&t.preventDefault()}},_destroy:function(){this.element.removeClass("oj-buttonset oj-component "+l).removeAttr(t.Components._OJ_CONTAINER_ATTR).removeAttr("role"),"oneTabstop"===this.options.focusManagement&&this.$buttons.attr("tabindex","0"),this.$buttons.map(function(){return e(this).ojButton("widget")[0]}).removeClass("oj-buttonset-first oj-buttonset-last").end().ojButton("destroy")}});var i,n,r=".ojButton",o="oj-button oj-component oj-enabled oj-default",s="oj-hover oj-active oj-selected",a="oj-button-icons-only oj-button-icon-only oj-button-text-icons oj-button-text-icon-start oj-button-text-icon-end oj-button-text-only",l="oj-button-full-chrome oj-button-half-chrome oj-button-outlined-chrome",u={full:"oj-button-full-chrome",half:"oj-button-half-chrome",outlined:"oj-button-outlined-chrome"},h=function(t,e){t.removeClass(l).addClass(u[e])},c=function(t,i){var n,r=t.name,o=t.form;if(r){r=r.replace(/'/g,"\\'");var s=":radio[name='"+r+"']:oj-button";n=i?i.filter(s):o?e(o).find(s):e(s,t.ownerDocument).filter(function(){return!this.form})}else n=(i?i.filter(t):e(t)).filter(":oj-button");return n},p=function(e,i,n){for(var r=0;r<n.length;++r){var o=n[r];if(i.indexOf(o)>=0)for(;;e=e.parentNode){var s=t.Components.getWidgetConstructor(e,o);if(s)return s}}return null},d={button:["ojButtonset","ojToolbar"],buttonset:["ojToolbar"]},g=function(e,i,n){var r=p(i,n,d[e]);return r?r("option","chroming"):t.ThemeUtils.getOptionDefaultMap(e).chroming};t.Components.setDefaultOptions({ojButton:{chroming:t.Components.createDynamicPropertyGetter(function(t){return g("button",t.element,t.containers)})},ojButtonset:{chroming:t.Components.createDynamicPropertyGetter(function(t){return g("buttonset",t.element,t.containers)})}})}()}),define("ojs/ojdomscroller",["ojs/ojcore","jquery"],function(t,e){t.DomScroller=function(t,i,n){n=n||{},this._data=i,this._element=t,this._fetchSize=n.fetchSize,this._fetchSize=this._fetchSize>0?this._fetchSize:25,this._maxCount=n.maxCount,this._maxCount=this._maxCount>0?this._maxCount:500,this._rowCount=0,this._successCallback=n.success,this._errorCallback=n.error,this._registerDataSourceEventListeners(),e(this._element).on("scroll.domscroller",function(t){var i=e(t.target).scrollTop(),n=e(t.target)[0].scrollHeight-e(t.target)[0].clientHeight;n>0&&this._handleScrollerScrollTop(i,n)}.bind(this))},t.DomScroller.prototype.destroy=function(){this._unregisterDataSourceEventListeners(),e(this._element).off("scroll.domscroller")},t.DomScroller.prototype.checkViewport=function(){return this._element[0].clientHeight>0&&!this._checkOverflow()?this._fetchMoreRows():Promise.resolve(null)},t.DomScroller.prototype._handleScrollerScrollTop=function(t,e){if(1>=e-t){var i=this;this._fetchMoreRows().then(function(t){null!=i._successCallback&&i._successCallback(t)},this._errorCallback)}},t.DomScroller.prototype._checkOverflow=function(){var t=this._element;return t[0].scrollHeight>t[0].clientHeight+1},t.DomScroller.prototype._fetchMoreRows=function(){if(this._fetchPromise)return this._fetchPromise;var t=this._maxCount-this._rowCount;if(t>0){var e=this._fetchSize,i=this;t<this._fetchSize&&(e=t);var n=this._fetchNext({pageSize:e});return this._fetchPromise=new Promise(function(e,r){n.then(function(n){i._fetchPromise=null,null!=n&&(i._rowCount=n.data.length+n.startIndex,t<i._fetchSize&&(n.maxCount=i._maxCount,n.maxCountLimit=!0)),e(n)})}),this._fetchPromise}return Promise.resolve({maxCount:this._maxCount,maxCountLimit:!0})},t.DomScroller.prototype._fetchNext=function(t){t=t||{};var e=t.pageSize;if(this._currentStartIndex?this._currentStartIndex=this._currentStartIndex+e:this._currentStartIndex=e,-1==this._data.totalSize()||this._data.totalSize()>this._currentStartIndex){var i=this;return new Promise(function(t,n){i._data.fetch({startIndex:i._currentStartIndex,pageSize:e}).then(function(e){t(e)},function(t){n(null)})})}return Promise.resolve()},t.DomScroller.prototype._handleDataReset=function(){this._currentStartIndex=null,this._rowCount=0},t.DomScroller.prototype._handleDataSync=function(t){this._currentStartIndex=t.startIndex,this._rowCount=t.data.length+this._currentStartIndex},t.DomScroller.prototype._registerDataSourceEventListeners=function(){var e=this._data;if(null!=e){this._unregisterDataSourceEventListeners(),this._dataSourceEventHandlers=[],this._dataSourceEventHandlers.push({eventType:t.TableDataSource.EventType.SORT,eventHandler:this._handleDataReset.bind(this)}),this._dataSourceEventHandlers.push({eventType:t.TableDataSource.EventType.REFRESH,eventHandler:this._handleDataReset.bind(this)}),this._dataSourceEventHandlers.push({eventType:t.TableDataSource.EventType.RESET,eventHandler:this._handleDataReset.bind(this)}),this._dataSourceEventHandlers.push({eventType:t.TableDataSource.EventType.SYNC,eventHandler:this._handleDataSync.bind(this)});var i,n;for(i=0;i<this._dataSourceEventHandlers.length;i++)n=e.on(this._dataSourceEventHandlers[i].eventType,this._dataSourceEventHandlers[i].eventHandler),n&&(this._dataSourceEventHandlers[i].eventHandler=n)}},t.DomScroller.prototype._unregisterDataSourceEventListeners=function(){var t=this._data;if(null!=this._dataSourceEventHandlers&&null!=t){var e;for(e=0;e<this._dataSourceEventHandlers.length;e++)t.off(this._dataSourceEventHandlers[e].eventType,this._dataSourceEventHandlers[e].eventHandler)}}}),define("ojs/ojlistview",["ojs/ojcore","jquery","ojs/ojcomponentcore","ojs/ojdomscroller"],function(t,e){t.DataSourceContentHandler=function(t,e,i){this.m_root=e,this.m_widget=t,this.m_fetching=!1,this.setDataSource(i),this.Init()},t.Object.createSubclass(t.DataSourceContentHandler,t.Object,"oj.DataSourceContentHandler"),t.DataSourceContentHandler.prototype.Init=function(){t.DataSourceContentHandler.superclass.Init.call(this)},t.DataSourceContentHandler.prototype.HandleResize=function(t,e){},t.DataSourceContentHandler.prototype.Destroy=function(){e(this.m_root).empty(),this.m_widget=null,this.m_root=null},t.DataSourceContentHandler.prototype.IsReady=function(){return!this.m_fetching},t.DataSourceContentHandler.prototype.setRootAriaProperties=function(){this.IsHierarchical()?this.m_root.setAttribute("role","tree"):this.m_root.setAttribute("role","listbox")},t.DataSourceContentHandler.prototype.RenderContent=function(){this.signalTaskStart(),this.fetchRows(!1),this.setRootAriaProperties(),this.signalTaskEnd()},t.DataSourceContentHandler.prototype.GetKey=function(t){return t.key},t.DataSourceContentHandler.prototype.FindElementByKey=function(t){var i,n,r;for(i=e(this.m_root).find("."+this.m_widget.getItemElementStyleClass()),n=0;n<i.length;n++)if(r=i[n],t==this.GetKey(r))return r;return null},t.DataSourceContentHandler.prototype.getDataSource=function(){return this.m_dataSource},t.DataSourceContentHandler.prototype.setDataSource=function(t){this.m_dataSource=t},t.DataSourceContentHandler.prototype.fetchRows=function(t){},t.DataSourceContentHandler.prototype.addItem=function(t,i,n,r,o){var s,a;return s=document.createElement("li"),e(s).uniqueId(),a=i===t.childElementCount?null:t.children[i],t.insertBefore(s,a),this._addOrReplaceItem(s,i,t,i,n,r,o)},t.DataSourceContentHandler.prototype._handleBeforeReplaceTransitionEnd=function(t){var i,n,r,o;i=t.target,e(i).empty().removeClass("oj-listview-item-add-remove-transition").off("transitionend",this.m_beforeReplaceTransitionEndListener),n=e.data(i,"ctx"),e.removeData(i,"ctx"),r=i.parentNode,o=e(r).children().index(i),this._addOrReplaceItem(i,o,r,n.index,n.data,n.metadata,n.callback)},t.DataSourceContentHandler.prototype.replaceItem=function(t,i,n,r,o){null==this.m_beforeReplaceTransitionEndListener&&(this.m_beforeReplaceTransitionEndListener=this._handleBeforeReplaceTransitionEnd.bind(this)),e.data(t,"ctx",{index:i,data:n,metadata:r,callback:o}),this.signalTaskStart(),e(t).addClass("oj-listview-item-add-remove-transition").on("transitionend",this.m_beforeReplaceTransitionEndListener).css("opacity",0)},t.DataSourceContentHandler.prototype._addOrReplaceItem=function(t,e,i,n,r,o,s){var a,l,u,h;return void 0==s&&(s=this.afterRenderItem.bind(this)),a=this.createContext(n,r,o,t),l=this.m_widget._getItemRenderer(),null!=l?(u=l.call(this,a),null!=u&&(null===u.parentNode||u.parentNode instanceof DocumentFragment?t.appendChild(u):null!=u.parentNode||u.toString&&(h=document.createElement("span"),h.appendChild(document.createTextNode(u.toString())),t.appendChild(h)))):(h=document.createElement("span"),h.appendChild(document.createTextNode(null==r?"":r.toString())),t.appendChild(h)),t=i.children[e],a.parentElement=t,s(t,a),{item:t,context:a}},t.DataSourceContentHandler.prototype.afterRenderItem=function(t,i){var n;t.key=i.key,t=e(t),t.uniqueId(),n=this.m_widget.getSingleFocusableElement(t),n.attr("role",this.IsHierarchical()?"treeitem":"option"),n!=t&&t.attr("role","presentation"),n.addClass(this.m_widget.getFocusedElementStyleClass()),this.isFocusable(i)||t.addClass("oj-skipfocus"),t.addClass(this.m_widget.getItemElementStyleClass())},t.DataSourceContentHandler.prototype.createContext=function(t,e,i,n){var r,o;r={},r.parentElement=n,r.index=t,r.data=e,r.component=this.m_widget.getWidgetConstructor(),r.datasource=this.getDataSource();for(o in i)i.hasOwnProperty(o)&&(r[o]=i[o]);return r},t.DataSourceContentHandler.prototype.isFocusable=function(t){return this.m_widget._getItemOption("focusable",t,!0)},t.DataSourceContentHandler.prototype.isSelectable=function(t){return this.m_widget._getItemOption("selectable",t,!0)},t.DataSourceContentHandler.prototype.signalTaskStart=function(){this.m_widget&&this.m_widget.signalTaskStart()},t.DataSourceContentHandler.prototype.signalTaskEnd=function(){this.m_widget&&this.m_widget.signalTaskEnd()},t.TableDataSourceContentHandler=function(e,i,n){t.TableDataSourceContentHandler.superclass.constructor.call(this,e,i,n)},t.Object.createSubclass(t.TableDataSourceContentHandler,t.DataSourceContentHandler,"oj.TableDataSourceContentHandler"),t.TableDataSourceContentHandler.prototype.Init=function(){t.TableDataSourceContentHandler.superclass.Init.call(this)},t.TableDataSourceContentHandler.prototype.IsHierarchical=function(){return!1},t.TableDataSourceContentHandler.prototype.Destroy=function(){t.TableDataSourceContentHandler.superclass.Destroy.call(this),this._removeDataSourceEventListeners(),null!=this.m_domScroller&&(this.m_domScroller.destroy(),this.m_domScroller=null,this.m_domScrollerMaxCountFunc=null),this.m_loadingIndicator=null},t.TableDataSourceContentHandler.prototype.HandleResize=function(t,e){this._isLoadMoreOnScroll()&&void 0!=this.m_height&&this.m_height!=e&&(this.m_height=e,this.checkViewport())},t.TableDataSourceContentHandler.prototype._isLoadMoreOnScroll=function(){return"loadMoreOnScroll"==this.m_widget.options.scrollPolicy},t.TableDataSourceContentHandler.prototype._getFetchSize=function(){return Math.max(0,this.m_widget.options.scrollPolicyOptions.fetchSize)},t.TableDataSourceContentHandler.prototype._getMaxCount=function(){return this.m_widget.options.scrollPolicyOptions.maxCount},t.TableDataSourceContentHandler.prototype.setDataSource=function(e){var i;this._removeDataSourceEventListeners(),null!=e&&(this._isLoadMoreOnScroll()&&(i=this,this.m_domScrollerMaxCountFunc=function(t){null!=t?(i.signalTaskStart(),i._removeLoadingIndicator(),i.IsReady()&&i.signalTaskStart(),i._handleFetchedData(t),t.maxCountLimit?i._handleScrollerMaxRowCount():i._appendLoadingIndicator(),i.signalTaskEnd(),i.signalTaskEnd()):void 0===t&&(i._removeLoadingIndicator(),i.signalTaskEnd())},this.m_domScroller=new t.DomScroller(this.m_widget.getRootElement(),e,{fetchSize:this._getFetchSize(),maxCount:this._getMaxCount(),success:this.m_domScrollerMaxCountFunc,error:this.signalTaskEnd}),this.m_domScroller._handleScrollerScrollTop=function(e,n){1>=n-e&&i.signalTaskStart(),t.DomScroller.prototype._handleScrollerScrollTop.call(this,e,n)}),this.m_handleModelSyncEventListener=this.handleModelSyncEvent.bind(this),this.m_handleModelSortEventListener=this.handleModelSortEvent.bind(this),this.m_handleModelAddEventListener=this.handleModelAddEvent.bind(this),this.m_handleModelRemoveEventListener=this.handleModelRemoveEvent.bind(this),this.m_handleModelChangeEventListener=this.handleModelChangeEvent.bind(this),this.m_handleModelResetEventListener=this.handleModelResetEvent.bind(this),t.PagingTableDataSource&&e instanceof t.PagingTableDataSource&&e.on("sync",this.m_handleModelSyncEventListener),e.on("sort",this.m_handleModelSortEventListener),e.on("add",this.m_handleModelAddEventListener),e.on("remove",this.m_handleModelRemoveEventListener),e.on("change",this.m_handleModelChangeEventListener),e.on("reset",this.m_handleModelResetEventListener)),this.m_dataSource=e},t.TableDataSourceContentHandler.prototype._appendLoadingIndicator=function(){var t,i;null==this.m_loadingIndicator&&(t=e(document.createElement("li")),t.uniqueId().attr("role","presentation").addClass(this.m_widget.getItemStyleClass()),i=e(document.createElement("div")),i.addClass("oj-listview-loading-icon"),t.append(i),e(this.m_root).append(t),this.m_loadingIndicator=t)},t.TableDataSourceContentHandler.prototype._removeLoadingIndicator=function(){null!=this.m_loadingIndicator&&this.m_loadingIndicator.remove(),this.m_loadingIndicator=null},t.TableDataSourceContentHandler.prototype.afterRenderItem=function(i,n){var r;t.TableDataSourceContentHandler.superclass.afterRenderItem.call(this,i,n),e(i).addClass(this.m_widget.getItemStyleClass()),this.m_widget._isSelectionEnabled()&&this.isSelectable(n)&&this.m_widget.getFocusItem(e(i)).attr("aria-selected",!1),this._isLoadMoreOnScroll()&&(r=Math.min(this.m_dataSource.totalSize(),this._getMaxCount()),-1===r&&(r=this._getMaxCount()),r>0&&e(i).attr("aria-setsize",r).attr("aria-posinset",n.index+1)),this.m_widget.itemRenderComplete(i,n)},t.TableDataSourceContentHandler.prototype.afterRenderItemForInsertEvent=function(t,i){var n,r,o,s;this.signalTaskStart(),this.afterRenderItem(t,i),n=e(t),r=n.outerHeight(),n.css("opacity","0"),n.css("maxHeight","0"),o=this.m_widget.getItemStyleClass(),n.children().wrapAll("<div></div>"),n.removeClass(o).addClass("oj-listview-item-add-remove-transition"),s=n.children().first(),s.addClass(o),null==this.m_addTransitionEndListener&&(this.m_addTransitionEndListener=this._handleAddTransitionEnd.bind(this)),e.data(t,"ctx",i),n.on("transitionend",this.m_addTransitionEndListener),this.signalTaskStart(),requestAnimationFrame(function(){n.css("opacity","1"),n.css("maxHeight",r+"px")}),this.signalTaskEnd()},t.TableDataSourceContentHandler.prototype._handleScrollerMaxRowCount=function(){t.Logger.error("max count reached")},t.TableDataSourceContentHandler.prototype._removeDataSourceEventListeners=function(){null!=this.m_dataSource&&(this.m_dataSource.off("sync",this.m_handleModelSyncEventListener),this.m_dataSource.off("sort",this.m_handleModelSortEventListener),this.m_dataSource.off("add",this.m_handleModelAddEventListener),this.m_dataSource.off("remove",this.m_handleModelRemoveEventListener),this.m_dataSource.off("change",this.m_handleModelChangeEventListener),this.m_dataSource.off("reset",this.m_handleModelResetEventListener))},t.TableDataSourceContentHandler.prototype.fetchRows=function(e){var i,n,r,o=!0;return this.signalTaskStart(),this.IsReady()&&(this.m_fetching=!0,t.PagingTableDataSource&&this.m_dataSource instanceof t.PagingTableDataSource&&(o=!1,this.signalTaskStart()),o||e)?(o&&this.signalTaskStart(),i={fetchType:"init",startIndex:0},this._isLoadMoreOnScroll()&&(i.pageSize=this._getFetchSize()),n=this,r=this.m_dataSource.fetch(i),r.then(function(t){null!=n.m_widget&&o&&(n._handleFetchedData(t),n._isLoadMoreOnScroll()&&null!=t&&t.keys&&t.keys.length>0&&n._appendLoadingIndicator())},function(t){n._handleFetchError(t),n.signalTaskEnd()}),void this.signalTaskEnd()):void this.signalTaskEnd()},t.TableDataSourceContentHandler.prototype._handleFetchError=function(e){t.Logger.error(e),this._isLoadMoreOnScroll()&&this._removeLoadingIndicator(),this.m_widget.renderComplete()},t.TableDataSourceContentHandler.prototype._handleFetchSuccess=function(t,e){var i,n,r;for(i=this.m_root.childElementCount,n=0;n<t.length;n++)r=t[n],this.addItem(this.m_root,i,r,this.getMetadata(i,e[n],r)),i+=1},t.TableDataSourceContentHandler.prototype.handleModelAddEvent=function(t){var e,i,n,r;if(null!=this.m_root){if(this.signalTaskStart(),e=t.data,i=t.keys,n=t.indexes,null!=e&&null!=i&&i.length>0&&e.length>0&&i.length==e.length&&null!=n&&i.length==n.length){for(r=0;r<e.length;r++)this.signalTaskStart(),this.addItem(this.m_root,n[r],e[r],this.getMetadata(n[r],i[r],e[r]),this.afterRenderItemForInsertEvent.bind(this)),this.signalTaskEnd();this.IsReady()&&this.signalTaskStart(),this.fetchEnd()}this.signalTaskEnd()}},t.TableDataSourceContentHandler.prototype._handleAddTransitionEnd=function(t){var i,n;i=t.target,n=e.data(i,"ctx"),e.removeData(i,"ctx"),e(i).removeClass("oj-listview-item-add-remove-transition").addClass(this.m_widget.getItemStyleClass()).off("transitionend",this.m_addTransitionEndListener).children().children().unwrap(),this.m_widget.itemInsertComplete(i,n),this.signalTaskEnd()},t.TableDataSourceContentHandler.prototype.handleModelRemoveEvent=function(t){var e,i,n;if(e=t.keys,null!=this.m_root&&null!=e&&0!=e.length){for(this.signalTaskStart(),i=0;i<e.length;i++)n=this.FindElementByKey(e[i]),null!=n&&(this.signalTaskStart(),this._removeItem(n),this.signalTaskEnd());this.m_widget.ClearCache(),this.signalTaskEnd()}},t.TableDataSourceContentHandler.prototype._removeItem=function(t){var i,n=this;this.signalTaskStart(),null==this.m_removeTransitionEndListener&&(this.m_removeTransitionEndListener=this._handleRemoveTransitionEnd.bind(this)),i=this.m_widget.getItemStyleClass(),t=e(t),t.children().wrapAll("<div class='"+i+"'></div>"),t.removeClass(i).css("maxHeight",t.outerHeight()+"px").addClass("oj-listview-item-add-remove-transition").on("transitionend",this.m_removeTransitionEndListener),setTimeout(function(){n.signalTaskStart(),t.css("opacity","0"),t.css("maxHeight","0px"),n.signalTaskEnd();
},10)},t.TableDataSourceContentHandler.prototype._handleRemoveTransitionEnd=function(t){var i,n;i=e(t.target),n=i.parent(),i.off("transitionend",this.m_removeTransitionEndListener),this.m_widget.itemRemoveComplete(i.get(0)),i.remove(),0==n.get(0).childElementCount&&this.m_widget.renderComplete(),this.signalTaskEnd()},t.TableDataSourceContentHandler.prototype.handleModelChangeEvent=function(t){var e,i,n,r,o;if(e=t.keys,null!=this.m_root&&null!=e&&0!=e.length){for(this.signalTaskStart(),i=t.data,n=t.indexes,r=0;r<e.length;r++)o=this.FindElementByKey(e[r]),null!=o&&(this.signalTaskStart(),this.replaceItem(o,n[r],i[r],this.getMetadata(n[r],e[r],i[r]),this.afterRenderItemForChangeEvent.bind(this)),this.signalTaskEnd());this.m_widget.ClearCache(),this.signalTaskEnd()}},t.TableDataSourceContentHandler.prototype.afterRenderItemForChangeEvent=function(t,i){var n=this;this.signalTaskStart(),e(t).css("opacity",0),this.afterRenderItem(t,i),null==this.m_afterReplaceTransitionEndListener&&(this.m_afterReplaceTransitionEndListener=this._handleAfterReplaceTransitionEnd.bind(this)),e(t).on("transitionend",this.m_afterReplaceTransitionEndListener),setTimeout(function(){e(t).addClass("oj-listview-item-add-remove-transition").css("opacity",1),n.signalTaskEnd()},10)},t.TableDataSourceContentHandler.prototype._handleAfterReplaceTransitionEnd=function(t){var i=e(t.target);i.removeClass("oj-listview-item-add-remove-transition").off("transitionend",this.m_afterReplaceTransitionEndListener),this.m_widget.restoreCurrentItem(),this.signalTaskEnd()},t.TableDataSourceContentHandler.prototype.handleModelResetEvent=function(t){null!=this.m_root&&(this.signalTaskStart(),e(this.m_root).empty(),this.m_widget.ClearCache(),this.fetchRows(!0),this.signalTaskEnd())},t.TableDataSourceContentHandler.prototype._handleFetchedData=function(t){var e,i;null!=this.m_root&&(e=t.data,i=t.keys,Array.isArray(e)&&Array.isArray(i)&&e.length==i.length&&(this._handleFetchSuccess(e,i),this.fetchEnd()))},t.TableDataSourceContentHandler.prototype.handleModelSyncEvent=function(t){null!=this.m_root&&(this.signalTaskStart(),0===t.startIndex&&e(this.m_root).empty(),this.m_widget.ClearCache(),this._handleFetchedData(t),this.signalTaskEnd())},t.TableDataSourceContentHandler.prototype.handleModelSortEvent=function(t){null!=this.m_root&&(this.signalTaskStart(),e(this.m_root).empty(),this.m_widget.ClearCache(),this.m_widget._isMultipleSelection()&&this.m_widget._clearSelection(!0),this.fetchRows(!0),this.signalTaskEnd())},t.TableDataSourceContentHandler.prototype.fetchEnd=function(){this.m_fetching=!1,this.m_widget.renderComplete(),this.checkViewport(),this.signalTaskEnd()},t.TableDataSourceContentHandler.prototype.checkViewport=function(){var t,e=this;this.signalTaskStart(),null!=this.m_domScroller&&this.m_dataSource.totalSize()>0&&this.IsReady()&&(t=this.m_domScroller.checkViewport(),null!=t&&(this.signalTaskStart(),t.then(function(t){e.m_domScrollerMaxCountFunc(t),e.signalTaskEnd()},null))),this.signalTaskEnd()},t.TableDataSourceContentHandler.prototype.getMetadata=function(t,e,i){var n=i.context;return null==n&&(n={}),null==n.index&&(n.index=t),null==n.key&&(n.key=e),n},t.TreeDataSourceContentHandler=function(e,i,n){t.TreeDataSourceContentHandler.superclass.constructor.call(this,e,i,n)},t.Object.createSubclass(t.TreeDataSourceContentHandler,t.DataSourceContentHandler,"oj.TreeDataSourceContentHandler"),t.TreeDataSourceContentHandler.prototype.Init=function(){t.TreeDataSourceContentHandler.superclass.Init.call(this)},t.TreeDataSourceContentHandler.prototype.IsHierarchical=function(){return!0},t.TreeDataSourceContentHandler.prototype.fetchRows=function(t){this.signalTaskStart(),this.fetchChildren(0,null,this.m_root,null),this.signalTaskEnd()},t.TreeDataSourceContentHandler.prototype.fetchChildren=function(t,e,i,n){var r;this.signalTaskStart(),this.m_fetching=!0,r={start:t,count:this.m_dataSource.getChildCount(e)},this.m_dataSource.fetchChildren(e,r,{success:function(t){this._handleFetchSuccess(t,e,i,n)}.bind(this),error:function(t){this._handleFetchError(t)}.bind(this)}),this.signalTaskEnd()},t.TreeDataSourceContentHandler.prototype._handleFetchSuccess=function(t,e,i,n){var r,o,s,a,l,u;for(this.signalTaskStart(),r=t.getStart(),o=t.getCount(),s=r+o,a=0;o>a;a++)l=t.getData(r+a),u=t.getMetadata(r+a),this.addItem(i,r+a,l,u);this.m_fetching=!1,null!=n&&n.call(null,i),this.m_widget.renderComplete(),this.m_initialized=!0,this.signalTaskEnd()},t.TreeDataSourceContentHandler.prototype.afterRenderItem=function(i,n){var r,o,s,a,l,u,h,c,p;this.signalTaskStart(),t.TreeDataSourceContentHandler.superclass.afterRenderItem.call(this,i,n),r=this.m_widget.getGroupStyleClass(),o=this.m_widget.getItemStyleClass(),s=this.m_widget.getGroupItemStyleClass(),a=this.m_widget.getGroupCollapseStyleClass(),u=this.m_widget.getCollapseIconStyleClass(),l=this.m_widget.getFocusedElementStyleClass(),i=e(i),0==n.leaf?(i.children().wrapAll("<div></div>"),i.hasClass(l)?i.removeClass(l).children().first().addClass(l).attr("aria-expanded","false"):i.children().first().attr("role","presentation").find("."+l).attr("aria-expanded","false"),h=i.children().first(),h.uniqueId().addClass(s),this.m_widget.isExpandable()&&(i.addClass("oj-collapsed"),c=document.createElement("a"),e(c).attr("href","#").attr("aria-labelledby",h.get(0).id).addClass("oj-component-icon oj-clickable-icon-nocontext").addClass(u),h.prepend(c)),p=document.createElement("ul"),e(p).addClass(r).addClass(a).attr("role","group"),i.append(p)):1==n.leaf&&i.addClass(o),this.m_widget._isSelectionEnabled()&&this.isSelectable(n)&&this.m_widget.getFocusItem(i).attr("aria-selected",!1),this.m_widget.itemRenderComplete(i[0],n),this.signalTaskEnd()},t.TreeDataSourceContentHandler.prototype._handleFetchError=function(e){this.signalTaskStart(),t.Logger.error(e),this.m_widget.renderComplete(),this.signalTaskEnd()},t.TreeDataSourceContentHandler.prototype.Expand=function(t,e){var i,n;this.signalTaskStart(),i=this.GetKey(t[0]),n=t.children("ul")[0],this.fetchChildren(0,i,n,e),this.signalTaskEnd()},t.TreeDataSourceContentHandler.prototype.Collapse=function(t){t.empty()},t.StaticContentHandler=function(t,e){this.m_widget=t,this.m_root=e},t.Object.createSubclass(t.StaticContentHandler,t.Object,"oj.StaticContentHandler"),t.StaticContentHandler.prototype.Init=function(){t.StaticContentHandler.superclass.Init.call(this)},t.StaticContentHandler.prototype.Destroy=function(){this.restoreContent(this.m_root,0),this.unsetRootAriaProperties()},t.StaticContentHandler.prototype.IsReady=function(){return!0},t.StaticContentHandler.prototype.HandleResize=function(t,e){},t.StaticContentHandler.prototype.RenderContent=function(){this.modifyContent(this.m_root,0),this.setRootAriaProperties(),this.m_widget.renderComplete()},t.StaticContentHandler.prototype.Expand=function(t,i){var n,r;n="."+this.m_widget.getGroupStyleClass(),r=e(t).children(n)[0],e(r).css("display","block"),i.call(null,r)},t.StaticContentHandler.prototype.Collapse=function(t){},t.StaticContentHandler.prototype.IsHierarchical=function(){return null==this.m_hier&&(this.m_hier=e(this.m_root).children("li").children("ul").length>0),this.m_hier},t.StaticContentHandler.prototype.restoreContent=function(t,i){var n,r,o,s,a,l,u,h,c,p,d;for(n=this.m_widget.getGroupStyleClass(),r=this.m_widget.getGroupCollapseStyleClass(),o=this.m_widget.getGroupExpandStyleClass(),s=this.m_widget.getGroupItemStyleClass(),a=this.m_widget.getItemStyleClass(),l=this.m_widget.getItemElementStyleClass(),u=t.children,h=0;h<u.length;h++)c=u[h],this.unsetAriaProperties(c),c=e(c),c.removeClass(l).removeClass(a).removeClass(this.m_widget.getDepthStyleClass(i)).removeClass("oj-skipfocus").removeClass("oj-focus").removeClass("oj-hover").removeClass("oj-expanded").removeClass("oj-collapsed").removeClass("oj-selected"),p=c.children("ul"),p.length>0&&(c.children("."+s).children().unwrap(),c.children(".oj-component-icon").remove(),d=e(p[0]),d.removeClass(n).removeClass(o).removeClass(r).removeAttr("role"),this.restoreContent(d[0],i+1))},t.StaticContentHandler.prototype.modifyContent=function(t,i){var n,r,o,s,a,l,u,h,c,p,d,g,f,_,v,m;for(n=this.m_widget.getItemStyleClass(),r=this.m_widget.getItemElementStyleClass(),o=this.m_widget.getGroupStyleClass(),s=this.m_widget.getGroupItemStyleClass(),a=this.m_widget.getGroupCollapseStyleClass(),l=this.m_widget.getCollapseIconStyleClass(),u=this.m_widget.getFocusedElementStyleClass(),h=t.children,c=this.m_widget.isExpandable(),p=0;p<h.length;p++)d=e(h[p]),g=this.createContext(d),this.setAriaProperties(d,g),d.uniqueId().addClass(r),i>0&&d.addClass(this.m_widget.getDepthStyleClass(i)),this.isFocusable(g)||d.addClass("oj-skipfocus"),f=d.children("ul"),f.length>0?(this.m_hier=!0,d.children(":not(ul)").wrapAll("<div></div>"),_=d.children().first(),_.addClass(s),this.hasChildren(f[0])&&(d.hasClass(u)?(d.removeClass(u),_.addClass(u).attr("aria-expanded","false")):(_.attr("role","presentation"),_.find("."+u).attr("aria-expanded","false")),c&&(d.addClass("oj-collapsed"),_.uniqueId(),v=document.createElement("a"),e(v).attr("href","#").attr("role","button").attr("aria-labelledby",_.get(0).id).addClass("oj-component-icon oj-clickable-icon-nocontext").addClass(l),_.prepend(v))),m=e(f[0]),m.addClass(o).addClass(a).attr("role","group").css("display","none"),this.modifyContent(m[0],i+1)):d.addClass(n),this.m_widget._isSelectionEnabled()&&this.isSelectable(g)&&this.m_widget.getFocusItem(d).attr("aria-selected",!1),this.m_widget.itemRenderComplete(d[0],g)},t.StaticContentHandler.prototype.setRootAriaProperties=function(){this.IsHierarchical()?this.m_root.setAttribute("role","tree"):this.m_root.setAttribute("role","listbox")},t.StaticContentHandler.prototype.unsetRootAriaProperties=function(){this.m_root.removeAttribute("role")},t.StaticContentHandler.prototype.hasChildren=function(t){return e(t).children("li").length>0},t.StaticContentHandler.prototype.createContext=function(t){var e,i;return e={},e.key=t.attr("id"),e.parentElement=t.children().first()[0],e.index=t.index(),e.data=t[0],e.component=this.m_widget.getWidgetConstructor(),this.IsHierarchical()&&(e.leaf=0==t.children("ul").length,i=t.parents("li."+this.m_widget.getItemElementStyleClass()),e.depth=i.length,0==i.length?e.parentKey=null:e.parentKey=i.first().attr("id")),e},t.StaticContentHandler.prototype.setAriaProperties=function(t,e){var i=this.m_widget.getSingleFocusableElement(t);i.attr("role",this.IsHierarchical()?"treeitem":"option"),i!=t&&t.attr("role","presentation"),i.addClass(this.m_widget.getFocusedElementStyleClass())},t.StaticContentHandler.prototype.unsetAriaProperties=function(t){var i=this.m_widget.getSingleFocusableElement(e(t));i.removeAttr("role"),i.removeAttr("aria-selected"),i.removeAttr("aria-expanded"),i.removeClass(this.m_widget.getFocusedElementStyleClass())},t.StaticContentHandler.prototype.GetKey=function(t){return e(t).attr("id")},t.StaticContentHandler.prototype.FindElementByKey=function(t){return document.getElementById(t)},t.StaticContentHandler.prototype.isFocusable=function(t){return this.m_widget._getItemOption("focusable",t,!0)},t.StaticContentHandler.prototype.isSelectable=function(t){return this.m_widget._getItemOption("selectable",t,!0)};var i={clazz:function(i,n){var r=function(){};return t.Object.createSubclass(r,i,""),r.prototype=e.extend(r.prototype,n),r}};t._ojListView=i.clazz(Object,{LEFT_KEY:37,RIGHT_KEY:39,DOWN_KEY:40,UP_KEY:38,TAB_KEY:9,ENTER_KEY:13,ESC_KEY:27,F2_KEY:113,SPACE_KEY:32,STATE_EXPANDED:0,STATE_COLLAPSED:1,STATE_NONE:2,FOCUS_MODE_LIST:0,FOCUS_MODE_ITEM:1,init:function(e){var i=this;this.readinessStack=[],this.signalTaskStart(),this.ojContext=e.ojContext,this.element=e.element,this.options=e,this.element.uniqueId().addClass(this.GetStyleClass()+" oj-component-initnode").attr("tabIndex",0),this.ojContext._on(this.element,{click:function(t){i.HandleMouseClick(t)},touchstart:function(t){i.HandleMouseDownOrTouchStart(t)},touchend:function(t){i.HandleTouchEndOrCancel(t)},touchcancel:function(t){i.HandleTouchEndOrCancel(t)},mousedown:function(t){0!==t.button||i._recentTouch()||i.HandleMouseDownOrTouchStart(t)},mouseup:function(t){i._handleMouseUpOrPanMove(t),i.m_preActive=!1},mouseout:function(t){i._handleMouseOut(t)},mouseover:function(t){i._handleMouseOver(t)},keydown:function(t){i.HandleKeyDown(t)},focus:function(t){i.HandleFocus(t)},blur:function(t){i.HandleBlur(t)},ojpanmove:function(t){i._handleMouseUpOrPanMove(t)}}),t.AgentUtils.getAgentInfo().browser===t.AgentUtils.BROWSER.FIREFOX&&this.ojContext._on(this._getListContainer(),{focus:function(t){i.element.focus()}}),this.GetFocusMode()===this.FOCUS_MODE_ITEM?this.ojContext._on(this.element,{focusin:function(t){i.HandleFocus(t)},focusout:function(t){i.HandleFocusOut(t)}}):this.ojContext._on(this.element,{focus:function(t){i.HandleFocus(t)},blur:function(t){i.HandleBlur(t)}}),this.ojContext.document.bind("touchend.ojlistview touchcancel.ojlistview",this.HandleTouchEndOrCancel.bind(this)),this._registerScrollHandler()},afterCreate:function(){var t;this._buildList(),this._initContentHandler(),t=this._getListContainer(),this._registerResizeListener(t[0]),this.signalTaskEnd()},refresh:function(){this._resetInternal(),this.signalTaskStart(),this.SetAriaProperties(),this._initContentHandler(),this._registerScrollHandler(),this.signalTaskEnd()},whenReady:function(){return this.readyPromise},destroy:function(){this.element.removeClass(this.GetStyleClass()+" oj-component-initnode"),this._unregisterResizeListener(this._getListContainer()),this._resetInternal(),t.DomUtils.unwrap(this.element,this._getListContainer()),this.ojContext.document.off(".ojlistview")},_resetInternal:function(){var t=this;this.UnsetAriaProperties(),this._cleanupTabbableElementProperties(this.element),null!=this.m_contentHandler&&(this.m_contentHandler.Destroy(),this.m_contentHandler=null),this.m_active=null,this.m_isExpandAll=null,this.readinessStack=[],this.readyPromise=new Promise(function(e,i){t.readyResolve=e}),this.ClearCache()},notifyDetached:function(){this._getListContainer().removeClass("oj-focus-ancestor"),null!=this.m_active&&e(this.m_active.elem).removeClass("oj-focus"),null!=this.m_hoverItem&&this._unhighlightElem(this.m_hoverItem,"oj-hover")},notifyShown:function(){},getNodeBySubId:function(t){var i,n,r,o;return null==t?this.element?this.element[0]:null:(i=t.subId,"oj-listview-disclosure"!==i&&"oj-listview-icon"!==i||(n=t.key,r=this.FindElementByKey(n),null==r||!r.firstElementChild||(o=r.firstElementChild.firstElementChild,null==o||!e(o).hasClass(this.getExpandIconStyleClass())&&!e(o).hasClass(this.getCollapseIconStyleClass())))?null:o)},getSubIdByNode:function(t){var i,n;return(null!=t&&e(t).hasClass(this.getExpandIconStyleClass())||e(t).hasClass(this.getCollapseIconStyleClass()))&&(i=this.FindItem(t),null!=i&&i.length>0&&(n=this.GetKey(i[0]),null!=n))?{subId:"oj-listview-disclosure",key:n}:null},getContextByNode:function(t){var e,i,n,r,o;return e=this.FindItem(t),null!=e&&e.length>0&&(i=this.GetKey(e[0]),null!=i)?(n=e.parent(),r=n.children("li").index(e),o={subId:"oj-listview-item",key:i,index:r},n.get(0)!=this.element.get(0)&&(o.parent=n.parent().get(0)),e.children().first().hasClass(this.getGroupItemStyleClass())?o.group=!0:o.group=!1,o):null},_unregisterResizeListener:function(e){e&&this._resizeHandler&&t.DomUtils.removeResizeListener(e,this._resizeHandler)},_registerResizeListener:function(e){e&&(null==this._resizeHandler&&(this._resizeHandler=this._handleResize.bind(this)),t.DomUtils.addResizeListener(e,this._resizeHandler))},_handleResize:function(t,e){t>0&&e>0&&null!=this.m_contentHandler&&this.m_contentHandler.HandleResize(t,e)},ShouldRefresh:function(t){return null!=t.data||null!=t.drillMode||null!=t.groupHeaderPosition||null!=t.item||null!=t.scrollPolicy||null!=t.scrollPolicyOptions},setOptions:function(t,i){var n,r,o,s,a;if(this.ShouldRefresh(t))return null!=t.data&&(null==t.currentItem&&this.SetOption("currentItem",null),null==t.selection&&this._clearSelection(!0)),!0;if(null!=t.currentItem?(r=this.FindElementByKey(t.currentItem),null!=r&&(r=e(r),this.SkipFocus(r)||this._activeAndFocus(r,null))):null===t.currentItem&&(this.UnhighlightActive(),this.m_active=null),null!=t.expanded&&this.m_contentHandler.IsHierarchical()&&(o=t.expanded,Array.isArray(o)&&(this.signalTaskStart(),this._collapseAll(),n=this,e.each(o,function(t,e){n.expandKey(e,!0,!0,!0)}),this.signalTaskEnd())),null!=t.selection&&this._isSelectionEnabled())for(t.selection=this._filterSelection(t.selection),s=t.selection,this._clearSelection(!1),a=0;a<s.length;a++)r=this.FindElementByKey(s[a]),null!=r&&this._applySelection(r,s[a]);return null!=t.selectionMode&&(this._clearSelection(!0),this.SetAriaProperties()),!1},Trigger:function(t,e,i){return this.ojContext._trigger(t,e,i)},SetOption:function(t,e,i){this.ojContext.option(t,e,i)},GetOption:function(t){return this.ojContext.option(t)},signalTaskStart:function(){var t=this;this.readinessStack&&(0==this.readinessStack.length&&(this.readyPromise=new Promise(function(e,i){t.readyResolve=e})),this.readinessStack.push(1))},signalTaskEnd:function(){this.readinessStack&&this.readinessStack.length>0&&(this.readinessStack.pop(),0==this.readinessStack.length&&this.readyResolve(null))},_initContentHandler:function(){var e;if(this.signalTaskStart(),e=this.GetOption("data"),null!=e){if("undefined"==typeof t.TableDataSource||"undefined"==typeof t.TreeDataSource)throw"oj.TableDataSource or oj.TreeDataSource not found. Ensure the required modules are imported";if(e instanceof t.TableDataSource)this.m_contentHandler=new t.TableDataSourceContentHandler(this,this.element[0],e);else{if(!(e instanceof t.TreeDataSource))throw"Invalid data";this.m_contentHandler=new t.TreeDataSourceContentHandler(this,this.element[0],e)}}else this.m_contentHandler=new t.StaticContentHandler(this,this.element[0]);this._showStatusText(),this.m_contentHandler.RenderContent(),this.signalTaskEnd()},UpdateActiveDescendant:function(t){this.element.attr("aria-activedescendant",t.attr("id"))},SetAriaProperties:function(){this.element.attr("aria-activedescendant",""),this._isMultipleSelection()?this.element.attr("aria-multiselectable",!0):this._isSelectionEnabled()&&this.element.attr("aria-multiselectable",!1)},UnsetAriaProperties:function(){this.element.removeAttr("aria-activedescendant").removeAttr("aria-multiselectable")},_buildList:function(t){var e,i;e=this._getListContainer(),this.SetAriaProperties(),i=this._buildStatus(),e.append(i),this.m_status=i},_buildStatus:function(){var t=e(document.createElement("div"));return t.addClass("oj-listview-status").attr({id:this._createSubId("status"),role:"status"}),t},_showStatusText:function(){var t=this.ojContext.getTranslatedString("msgFetchingData");this.m_status.text(t).show()},_hideStatusText:function(){this.m_status.hide()},getRootElement:function(){return this._getListContainer()},_getListContainer:function(){return null==this.m_container&&(this.m_container=this._createListContainer()),this.m_container},_createListContainer:function(){var t=e(document.createElement("div"));return t.addClass(this.GetContainerStyleClass()).addClass("oj-component"),this.element.parent()[0].replaceChild(t[0],this.element[0]),t.prepend(this.element),t},_getEmptyText:function(){return this.ojContext.getTranslatedString("msgNoData")},_buildEmptyText:function(){var t,e;return t=this._getEmptyText(),e=document.createElement("li"),e.id=this._createSubId("empty"),e.className="oj-listview-empty-text",e.textContent=t,e},GetState:function(t){var e=this.getFocusItem(t).attr("aria-expanded");return"true"==e?this.STATE_EXPANDED:"false"==e?this.STATE_COLLAPSED:this.STATE_NONE},SetState:function(t,e){var i=this.isExpandable();e==this.STATE_EXPANDED?(this.getFocusItem(t).attr("aria-expanded","true"),i&&t.removeClass("oj-collapsed").addClass("oj-expanded")):e==this.STATE_COLLAPSED&&(this.getFocusItem(t).attr("aria-expanded","false"),i&&t.removeClass("oj-expanded").addClass("oj-collapsed"))},_getItemOption:function(t,e,i){var n,r;return n=this.options.item,r=n[t],"function"==typeof r&&i?r.call(this,e):r},_getItemRenderer:function(){var t=this._getItemOption("renderer",null,!1);return"function"!=typeof t?null:t},itemInsertComplete:function(t,e){},itemRemoveComplete:function(t){var e;if(null!=t&&t.id&&null!=this.m_keyElemMap)for(e in this.m_keyElemMap)if(this.m_keyElemMap.hasOwnProperty(e)&&this.m_keyElemMap[e]===t.id)return void delete this.m_keyElemMap[e]},itemRenderComplete:function(t,i){var n,r,o,s,a,l,u;if(this._disableAllTabbableElements(t),this._isSelectionEnabled())if(n=this.GetOption("selection"),this.IsSelectable(t)){for(o=0;o<n.length;o++)if(n[o]==i.key&&(this._applySelection(t,n[o]),!this._isMultipleSelection())){n.length>1&&(r=e(this.FindElementByKey(i.key)),this.SetOption("selection",[i.key],{_context:{originalEvent:null,internalSet:!0,extraData:{items:r}},changed:!0}));break}}else if(s=n.indexOf(i.key),s>-1){for(a=n.slice(0),a.splice(s,1),r=new Array(a.length),o=0;o<a.length;o++)r[o]=this.FindElementByKey(a[o]);this.SetOption("selection",a,{_context:{originalEvent:null,internalSet:!0,extraData:{items:e(r)}},changed:!0})}this.m_contentHandler.IsHierarchical()&&this.GetState(e(t))==this.STATE_COLLAPSED&&(l=this.GetOption("expanded"),this._isExpandAll()?this.ExpandItem(e(t),null,!1,null,!1,!1,!1):Array.isArray(l)&&(u=this,e.each(l,function(n,r){r==i.key&&u.ExpandItem(e(t),null,!1,null,!1,!1,!1)}))),null!=this.m_active&&i.key==this.m_active.key&&null!=this.m_active.elem&&t!=this.m_active.elem.get(0)&&(this.m_active.elem=e(t))},renderComplete:function(){var t;if(this._hideStatusText(),e(document.getElementById(this._createSubId("empty"))).remove(),0==this.element[0].childElementCount)return t=this._buildEmptyText(),this.element.append(t),void this.Trigger("ready",null,{});this.m_items=null;var i=this.GetOption("currentItem");if(null==this.m_active&&null!=i){var n=this.FindElementByKey(i);null==n||this.SkipFocus(e(n))||this._activeAndFocus(e(n),null)}this._getListContainer().hasClass("oj-focus-ancestor")&&null==this.m_active&&this._initFocus(),this.Trigger("ready",null,{})},restoreCurrentItem:function(){var t=this.GetOption("currentItem");if(null!=t){var i=this.FindElementByKey(t);null==i||this.SkipFocus(e(i))||this._activeAndFocus(e(i),null)}},ClearCache:function(){this.m_items=null,this.m_groupItems=null},notifyContextMenuGesture:function(t,i,n){var r,o;return this.IsNodeEditableOrClickable(e(i.target))?!1:(r=e(i.target).closest("."+this.getItemElementStyleClass()),r.length>0&&!this.SkipFocus(e(r[0]))&&this._activeAndFocus(e(r[0]),null),o={launcher:this.element,initialFocus:"menu"},"keyboard"===n&&(o.position={my:"start top",at:"start bottom",of:this.m_active.elem}),void this.ojContext._OpenContextMenu(i,n,o))},IsElementEditableOrClickable:function(t){var e=t.prop("nodeName");return null!=e.match(/^INPUT|SELECT|OPTION|BUTTON|^A\b|TEXTAREA/)},IsNodeEditableOrClickable:function(t){for(var e;null!=t&&t[0]!=this.element[0]&&"LI"!=(e=t.prop("nodeName"));)if(3!=t[0].nodeType){var i=t.attr("tabIndex"),n=t.attr("data-oj-tabindex");if(null!=i&&i>=0&&!t.hasClass(this.getFocusedElementStyleClass()))return!0;if(this.IsElementEditableOrClickable(t)&&(-1!=i||-1!=n))return!0;t=t.parent()}else t=t.parent();return!1},_disableAllTabbableElements:function(t){var i,n;i="a, input, select, textarea, button, object, .oj-component-initnode",e(t).find(i).each(function(t){e(this).removeAttr("data-first").removeAttr("data-last"),n=parseInt(e(this).attr("tabIndex"),10),(isNaN(n)||n>=0)&&e(this).attr("tabIndex",-1).attr("data-tabmod",isNaN(n)?-1:n)})},_enableAllTabbableElements:function(t){var i,n;i=e(t).find("[data-tabmod]").each(function(t){n=parseInt(e(this).attr("data-tabmod"),10),e(this).removeAttr("data-tabmod"),-1==n?e(this).removeAttr("tabIndex"):e(this).attr("tabIndex",n)}),i.first().attr("data-first","true"),i.last().attr("data-last","true")},_cleanupTabbableElementProperties:function(t){e(t).find("[data-tabmod]").removeAttr("tabIndex").removeAttr("data-tabmod").removeAttr("data-first").removeAttr("data-last")},SkipFocus:function(t){return t.hasClass("oj-skipfocus")},HandleFocus:function(t){this._getListContainer().addClass("oj-focus-ancestor"),null==this.m_active?this._isTouchSupport()||this.m_preActive||this._initFocus(t):this.m_preActive||this.HighlightActive()},_initFocus:function(t){var i,n,r;for(i=this._getItemsCache(),n=0;n<i.length;n++)if(r=e(i[n]),!this.SkipFocus(r)){this._activeAndFocus(r,t);break}},HandleFocusOut:function(t){this.HandleBlur(t)},HandleBlur:function(t){null!=t.relatedTarget&&e.contains(this.element.get(0),t.relatedTarget)||(this._getListContainer().removeClass("oj-focus-ancestor"),this.UnhighlightActive())},_handleMouseOut:function(t){var e=this.FindItem(t.target);null!=e&&(this.m_hoverItem=null,this._unhighlightElem(e,"oj-hover"))},_handleMouseOver:function(t){if(!this._recentTouch()){var e=this.FindItem(t.target);null==e||this.SkipFocus(e)||(this.m_hoverItem=e,this._highlightElem(e,"oj-hover"))}},_recentTouch:function(){return Date.now()-this._lastTouch<500},HandleKeyDown:function(t){var e,i,n;if(this.isExpandable()&&(e=t.keyCode,e===this.LEFT_KEY||e===this.RIGHT_KEY))if(i=this.m_active.elem,e===this.LEFT_KEY){if(this.GetState(i)==this.STATE_EXPANDED)return void this.CollapseItem(i,t,!0,this.m_active.key,!0,!0)}else if(this.GetState(i)==this.STATE_COLLAPSED)return void this.ExpandItem(i,t,!0,this.m_active.key,!0,!0,!0);n=this.HandleSelectionOrActiveKeyDown(t),n===!0&&t.preventDefault()},_handleMouseUpOrPanMove:function(t){this.m_preActiveItem&&this._unhighlightElem(this.m_preActiveItem,"oj-focus")},HandleMouseDownOrTouchStart:function(t){this.m_preActive=!0;var i=this._findItem(e(t.target));null==i||0==i.length||this.SkipFocus(i)||(this._getListContainer().hasClass("oj-focus-ancestor")||this._getListContainer().addClass("oj-focus-ancestor"),this.m_preActiveItem=i,this._highlightElem(i,"oj-focus"))},HandleTouchEndOrCancel:function(t){null!=this.m_preActiveItem&&this._unhighlightElem(this.m_preActiveItem,"oj-focus"),this._lastTouch=Date.now(),this._handleMouseOut(t)},HandleMouseClick:function(t){var i,n,r,o,s;if(0===t.button)if(i=this.getCollapseIconStyleClass(),n=this.getExpandIconStyleClass(),r=this.getGroupItemStyleClass(),o=e(t.target),o.hasClass(n))this._collapse(t),t.preventDefault();else if(o.hasClass(i))this._expand(t),t.preventDefault();else{if(this._isActionableMode()&&null!=this.m_active&&(this._setActionableMode(!1),this._disableAllTabbableElements(this.m_active.elem)),s=this._findItem(o),null==s||0==s.length||this.SkipFocus(s))return;this._getListContainer().hasClass("oj-focus-ancestor")||this._getListContainer().addClass("oj-focus-ancestor"),this._isSelectionEnabled()&&this.IsSelectable(s[0])?this._isTouchSupport()?this._handleTouchSelection(s,t):this.HandleClickSelection(s,t):this._handleClickActive(s,t),this.isExpandable()&&o.closest("."+r)&&(this.GetState(s)==this.STATE_COLLAPSED?this._expand(t):this.GetState(s)==this.STATE_EXPANDED&&this._collapse(t))}},_isTouchSupport:function(){return t.DomUtils.isTouchSupported()},_ctrlEquivalent:function(e){return t.DomUtils.isMetaKeyPressed(e)},_createSubId:function(t){var e=this.element.attr("id");return[e,t].join(":")},FindItem:function(t){return e(t).closest("."+this.getItemElementStyleClass())},_isClickthroughDisabled:function(t){return t.hasClass("oj-clickthrough-disabled")||t.hasClass("oj-component-initnode")||t.hasClass("oj-component")},_findItem:function(t){for(var e=t;e.length>0;){if(this._isClickthroughDisabled(e))return null;if(e.hasClass(this.getItemElementStyleClass()))return e;e=e.parent()}return null},_getListContainerBorderWidth:function(){return null==this.m_borderWidth&&(this.m_borderWidth=parseInt(this._getListContainer().css("border-top-width"),10)+parseInt(this._getListContainer().css("border-bottom-width"),10)),this.m_borderWidth},_scrollToVisible:function(t){var i,n,r,o,s,a,l,u,h=0;return i=t.offsetTop,n=t.offsetHeight,r=this._getListContainer()[0],o=r.scrollTop,s=r.offsetHeight,null!=this.m_groupItemToPin&&(a=parseInt(this.m_groupItemToPin.style.top,10),l=e(this.m_groupItemToPin).outerHeight(),a>=i&&i+n>a?h=(n+i-a)/2:i>=a&&a+l>i&&(h=(a+l-i)/2)),i>=o&&o+s>=i+n?void(h>0&&(r.scrollTop=o-h)):(u=Math.max(0,Math.min(i-h,Math.abs(i+n-s))),u>o&&(u+=this._getListContainerBorderWidth()),void(r.scrollTop=u))},GetKey:function(t){return this.m_contentHandler.GetKey(t)},FindElementByKey:function(t){var e;return null!=this.m_keyElemMap&&(e=this.m_keyElemMap[t],null!=e)?document.getElementById(e):this.m_contentHandler.FindElementByKey(t)},IsArrowKey:function(t){return t==this.UP_KEY||t==this.DOWN_KEY},_getItemsCache:function(){var t,i,n;return null==this.m_items&&(t=this.getGroupCollapseStyleClass(),i="."+this.getItemElementStyleClass()+":visible",this.m_items=this.element.find(i).filter(function(i){return n=e(this).parent().hasClass(t),n?!e(this).parent().parent().hasClass("oj-collapsed"):!0})),this.m_items},HandleArrowKeys:function(t,i,n){var r,o,s,a,l;if(!this.m_contentHandler.IsReady())return!0;switch(r=!i||this.m_isNavigate?this.m_active.elem:this.m_selectionFrontier,o=!1,s=this._getItemsCache(),a=s.index(r),t){case this.UP_KEY:if(a--,a>=0){for(l=e(s[a]);this.SkipFocus(l);){if(a--,0>a)return!1;l=e(s[a])}i?(this._extendSelection(l,n),this.m_isNavigate=!1):(this._activeAndFocus(l,n),this.m_isNavigate=!0)}o=!0;break;case this.DOWN_KEY:if(a++,a<s.length){for(l=e(s[a]);this.SkipFocus(l);){if(a++,a==s.length)return!1;l=e(s[a])}i?(this._extendSelection(l,n),this.m_isNavigate=!1):(this._activeAndFocus(l,n),this.m_isNavigate=!0)}o=!0}return o},_isActionableMode:function(){return"actionable"==this.m_keyMode},_setActionableMode:function(t){this.m_keyMode=t?"actionable":"navigation",t||this.element[0].focus()},GetFocusMode:function(){return this.FOCUS_MODE_ITEM},getFocusItem:function(t){return t.hasClass(this.getFocusedElementStyleClass())?t:e(t.find("."+this.getFocusedElementStyleClass()).first())},_setTabIndex:function(t){this.getFocusItem(t).attr("tabIndex",0)},_resetTabIndex:function(t){var e;e=!0,"presentation"===t.attr("role")&&(e=!1),t=this.getFocusItem(t),e?t.removeAttr("tabIndex"):t.attr("tabIndex",-1)},_focusItem:function(t,e){this.GetFocusMode()===this.FOCUS_MODE_ITEM?(null!=t&&this._resetTabIndex(t),this._setTabIndex(e),this.element.attr("tabIndex")&&this.element.removeAttr("tabIndex")):this.UpdateActiveDescendant(e)},getSingleFocusableElement:function(t){var e,i;return e="a, input, select, textarea, button",i=t.children(e),1===i.length&&0===i.first().find(e).length?i.first():t},_setActive:function(t,e){var i,n,r,o,s;if(null!=t)if(i=t[0],n=this.GetKey(i),null==this.m_active||n!=this.m_active.key){if(r={key:n,item:t},null!=this.m_active&&(r.previousKey=this.m_active.key,r.previousItem=this.m_active.elem),o=!this.Trigger("beforeCurrentItem",e,r))return;s={key:n,elem:t},this.m_active=s,this._focusItem(r.previousItem,t),this.SetOption("currentItem",n,{_context:{originalEvent:e,internalSet:!0,extraData:{item:t}},changed:!0})}else n==this.m_active.key&&(s={key:n,elem:t},this.m_active=s,this._focusItem(null,t));else this.m_active=null},HighlightActive:function(t){var e,i;null!=this.m_active&&this._getListContainer().hasClass("oj-focus-ancestor")&&(t=t||!1,e=this.m_active.elem,this._highlightElem(e,"oj-focus"),this.GetFocusMode()===this.FOCUS_MODE_ITEM&&(e=this.getFocusItem(e),i=document.activeElement,!t&&e.get(0).contains(i)||e.get(0).focus()))},UnhighlightActive:function(){null!=this.m_active&&this._unhighlightElem(this.m_active.elem,"oj-focus")},_handleClickActive:function(t,e){this._activeAndFocus(t,e)},_activeAndFocus:function(t,e){this._scrollToVisible(t[0]),this.UnhighlightActive(),this._setActive(t,e),this.HighlightActive()},_isSelectionEnabled:function(){return"none"!=this.GetOption("selectionMode")},_isMultipleSelection:function(){return"multiple"==this.GetOption("selectionMode")},IsSelectable:function(t){return t=this.getFocusItem(e(t)).get(0),t.hasAttribute("aria-selected")},_filterSelection:function(t){
var e,i,n;for(e=[],i=0;i<t.length&&(n=this.FindElementByKey(t[i]),null==n||!this.IsSelectable(n)||(e.push(t[i]),this._isMultipleSelection()));i++);return e},_unhighlightSelection:function(){var t,i;null!=this.m_keyElemMap&&(t=this,e.each(this.GetOption("selection"),function(e,n){i=t.FindElementByKey(n),null!=i&&t._unhighlightElem(i,"oj-selected")}))},_highlightElem:function(t,e){this.HighlightUnhighlightElem(t,e,!0)},_unhighlightElem:function(t,e){this.HighlightUnhighlightElem(t,e,!1)},HighlightUnhighlightElem:function(t,i,n){var r;t=e(t),"oj-selected"==i&&this.getFocusItem(t).attr("aria-selected",n?"true":"false"),r=t.children("."+this.getGroupItemStyleClass()),r.length>0&&(t=e(r[0])),n?t.addClass(i):t.removeClass(i)},HandleClickSelection:function(t,e){var i,n;this._scrollToVisible(t[0]),i=this._ctrlEquivalent(e),n=e.shiftKey,this._isMultipleSelection()&&(i||n)?!i&&n?this._extendSelection(t,e):this._augmentSelectionAndFocus(t,e):this.SelectAndFocus(t,e)},_handleTouchSelection:function(t,e){this._isMultipleSelection()?this._augmentSelectionAndFocus(t,e):this.SelectAndFocus(t,e)},_clearSelection:function(t){this._unhighlightSelection(),t&&this.SetOption("selection",[],{_context:{originalEvent:null,internalSet:!0,extraData:{items:e()}},changed:!0}),this.m_selectionFrontier=null},SelectAndFocus:function(t,e){this._clearSelection(!1),this._augmentSelectionAndFocus(t,e,[])},_extendSelection:function(t,e){var i;null!=this.m_active&&(i=this.m_selectionFrontier,i!=t&&(this._unhighlightElem(t,"oj-focus"),this._extendSelectionRange(this.m_active.elem,t,e)))},_extendSelectionRange:function(t,e,i){this._clearSelection(!1),this.m_selectionFrontier=e,this._highlightRange(t,e,i),this.HighlightActive()},_highlightRange:function(t,i,n){var r,o,s,a,l,u,h,c,p,d;for(r=[],o=[],s=this._getItemsCache(),a=s.index(t),l=s.index(i),a>l?(u=l,h=a):(u=a,h=l),c=u;h>=c;c++)p=s[c],this.IsSelectable(p)&&(d=this.m_contentHandler.GetKey(p),this._applySelection(p,d),r.push(d),o.push(p));this.SetOption("selection",r,{_context:{originalEvent:n,internalSet:!0,extraData:{items:e(o)}},changed:!0})},_applySelection:function(t,i){null==this.m_keyElemMap&&(this.m_keyElemMap={}),this.m_keyElemMap[i]=e(t).attr("id"),this._highlightElem(t,"oj-selected")},_augmentSelectionAndFocus:function(t,i,n){var r,o,s,a,l;for(r=t,o=this.GetKey(t[0]),void 0==n&&(n=this.GetOption("selection").slice(0)),this.UnhighlightActive(),s=n.indexOf(o),s>-1?(this._unhighlightElem(t,"oj-selected"),n.splice(s,1)):(this.m_selectionFrontier=t,this._applySelection(t,o),n.push(o)),a=new Array(n.length),l=0;l<n.length;l++)a[l]=this.FindElementByKey(n[l]);this._setActive(r,i),this.HighlightActive(),this.SetOption("selection",n,{_context:{originalEvent:i,internalSet:!0,extraData:{items:e(a)}},changed:!0})},ToggleSelection:function(t,i,n){var r,o,s,a,l,u;if(r=this.GetOption("selection").slice(0),s=this.m_active.elem,a=this.m_active.key,l=r.indexOf(a),l>-1){if(n)return;this._unhighlightElem(s,"oj-selected"),r.splice(l,1),0==r.length&&(this.m_selectionFrontier=null)}else this.IsSelectable(s[0])&&(i||(this._clearSelection(!1),r.length=0),this.m_selectionFrontier=s,this._applySelection(s,a),r.push(a));for(o=new Array(r.length),u=0;u<r.length;u++)o[u]=this.FindElementByKey(r[u]);this.SetOption("selection",r,{_context:{originalEvent:t,internalSet:!0,extraData:{items:e(o)}},changed:!0})},HandleSelectionOrActiveKeyDown:function(t){var e,i,n,r,o,s,a=!1;return null==this.m_active?!1:(e=t.keyCode,i=this.m_active.elem,this._isActionableMode()?e==this.ESC_KEY?(this._setActionableMode(!1),this._disableAllTabbableElements(i),this.HighlightActive(!0),a=!0):e===this.TAB_KEY&&(o=i.find("[data-first]"),s=i.find("[data-last]"),t.shiftKey?o.length>0&&s.length>0&&o!=s&&t.target==o[0]&&(s[0].focus(),a=!0):o.length>0&&s.length>0&&o!=s&&t.target==s[0]&&(o[0].focus(),a=!0)):e==this.F2_KEY?(this._enableAllTabbableElements(i),o=i.find("[data-first]"),o.length>0&&(o[0].focus(),this._setActionableMode(!0))):e==this.SPACE_KEY&&this._isSelectionEnabled()?(n=this._ctrlEquivalent(t),r=t.shiftKey,r&&!n&&null!=this.m_selectionFrontier&&this._isMultipleSelection()?this._extendSelectionRange(this.m_selectionFrontier,this.m_active.elem,t):this.ToggleSelection(t,n&&!r&&this._isMultipleSelection(),!1),a=!0):e==this.ENTER_KEY&&this._isSelectionEnabled()?this.ToggleSelection(t,!1,!0):this.IsArrowKey(e)&&(n=this._ctrlEquivalent(t),r=t.shiftKey,n||(a=this.HandleArrowKeys(e,r&&this._isSelectionEnabled()&&this._isMultipleSelection(),t))),a)},isExpandable:function(){return"none"!=this.GetOption("drillMode")},_isExpandAll:function(){var t=this.GetOption("expanded");if("auto"===t){if(!this.isExpandable())return!0}else if("all"===t)return!0;return!1},expandKey:function(t,i,n,r){var o=this.FindElementByKey(t);null!=o&&this.ExpandItem(e(o),null,!1,t,i,r,n)},_expand:function(t){var e=this.FindItem(t.target);null!=e&&e.length>0&&this.ExpandItem(e,t,!0,null,!0,!0,!0)},ExpandItem:function(t,e,i,n,r,o,s){var a,l;this.GetState(t)==this.STATE_COLLAPSED&&(null==n&&(n=this.GetKey(t[0])),a={item:t,key:n},s&&(l=!this.Trigger("beforeExpand",e,a),l&&r)||(this.signalTaskStart(),this.m_contentHandler.Expand(t,function(t){this._expandSuccess(t,i,e,a,o)}.bind(this)),this.m_items=null,null!=e&&e.stopPropagation(),this.signalTaskEnd()))},_expandSuccess:function(t,i,n,r,o){var s,a,l,u;this.signalTaskStart(),this.AnimateExpand(e(t),i),s=t.parentNode,s=e(s),this.SetState(s,this.STATE_EXPANDED),a=this.getCollapseIconStyleClass(),l=this.getExpandIconStyleClass(),u=this.getGroupItemStyleClass(),s.children("."+u).find("."+a).removeClass(a).addClass(l),o&&this.Trigger("expand",n,r),this.signalTaskEnd()},_adjustAncestorsMaxHeight:function(t,i){var n;t.parentsUntil("ul.oj-component-initnode","ul."+this.getGroupStyleClass()).each(function(t){n=parseInt(e(this).css("maxHeight"),10),n>0&&e(this).css("maxHeight",n+i+"px")})},AnimateExpand:function(t,i){var n=0;i?(this.signalTaskStart(),t.children().each(function(){n+=e(this).outerHeight(!0)}),this._isTouchSupport()&&this._adjustAncestorsMaxHeight(t,n),null==this.m_expandTransitionEndListener&&(this.m_expandTransitionEndListener=this._handleExpandTransitionEnd.bind(this)),t.css("maxHeight","0px"),t.on("transitionend",this.m_expandTransitionEndListener),this.signalTaskStart(),requestAnimationFrame(function(){t.css("maxHeight",n+"px")}),this.signalTaskEnd()):(this._isTouchSupport()?(t.children().each(function(){n+=e(this).outerHeight(!0)}),t.css("maxHeight",n+"px"),this._adjustAncestorsMaxHeight(t,n)):t.css("maxHeight",""),this.AnimateExpandComplete(t))},_handleExpandTransitionEnd:function(t){var i;i=e(t.target),i.off("transitionend",this.m_expandTransitionEndListener),this._isTouchSupport()||i.css("maxHeight",""),this.AnimateExpandComplete(i),this.signalTaskEnd()},AnimateExpandComplete:function(t){t.removeClass(this.getGroupCollapseStyleClass()).addClass(this.getGroupExpandStyleClass())},collapseKey:function(t,i,n){var r=this.FindElementByKey(t);null!=r&&this.CollapseItem(e(r),null,!1,t,i,n)},_collapse:function(t){var e=this.FindItem(t.target);null!=e&&e.length>0&&this.CollapseItem(e,t,!0,null,!0,!0)},CollapseItem:function(t,e,i,n,r,o){var s,a,l,u;this.GetState(t)==this.STATE_EXPANDED&&(null==n&&(n=this.GetKey(t[0])),s={item:t,key:n},a=!this.Trigger("beforeCollapse",e,s),a&&r||(this.signalTaskStart(),this.AnimateCollapse(t,i),this.SetState(t,this.STATE_COLLAPSED),l=this.getCollapseIconStyleClass(),u=this.getExpandIconStyleClass(),t.find("."+u).first().removeClass(u).addClass(l),this.m_items=null,null!=e&&e.stopPropagation(),o&&this.Trigger("collapse",e,s),this.signalTaskEnd()))},AnimateCollapse:function(t,i){var n,r=0,o=this;n=t.children("ul").first(),i?(this.signalTaskStart(),null==this.m_collapseTransitionEndListener&&(this.m_collapseTransitionEndListener=this._handleCollapseTransitionEnd.bind(this)),n.children().each(function(){r+=e(this).outerHeight()}),n.css("transition-property","none"),n.css("maxHeight",r+"px"),n.css("transition-property",""),n.on("transitionend",this.m_collapseTransitionEndListener),setTimeout(function(){o.signalTaskStart(),n.css("maxHeight","0px"),o.signalTaskEnd()},100)):(n.css("maxHeight","0px"),this.AnimateCollapseComplete(t))},_handleCollapseTransitionEnd:function(t){var i;i=e(t.target),i.off("transitionend",this.m_collapseTransitionEndListener),this.AnimateCollapseComplete(i),this.signalTaskEnd()},AnimateCollapseComplete:function(t){t.removeClass(this.getGroupExpandStyleClass()).addClass(this.getGroupCollapseStyleClass()),null!=this.m_contentHandler&&this.m_contentHandler.Collapse(t)},_collapseAll:function(){var t,i;this.signalTaskStart(),t=this,i=this._getItemsCache(),i.each(function(){t.CollapseItem(e(this),null,!1,null,!1,!1)}),this.signalTaskEnd()},getExpanded:function(){var t,i,n,r;return t=[],i=this,n=this._getItemsCache(),n.each(function(){r=e(this),i.GetState(r)==i.STATE_EXPANDED&&t.push(i.GetKey(r[0]))}),t},getWidgetConstructor:function(){return t.Components.getWidgetConstructor(this.element)},GetContainerStyleClass:function(){return this._isTouchSupport()?"oj-listview oj-listview-container-touch":"oj-listview oj-listview-container"},GetStyleClass:function(){return"oj-listview-element"},getItemStyleClass:function(){return"oj-listview-item"},getFocusedElementStyleClass:function(){return"oj-listview-focused-element"},getItemElementStyleClass:function(){return"oj-listview-item-element"},getGroupItemStyleClass:function(){return"oj-listview-group-item"},getGroupStyleClass:function(){return"oj-listview-group"},getGroupExpandStyleClass:function(){return"oj-listview-collapsible-transition"},getGroupCollapseStyleClass:function(){return this.getGroupExpandStyleClass()},getCollapseIconStyleClass:function(){return"oj-listview-collapse-icon"},getExpandIconStyleClass:function(){return"oj-listview-expand-icon"},getDepthStyleClass:function(t){return""},_registerScrollHandler:function(){var t=this;this.ojContext._off(this._getListContainer(),"scroll"),this._isPinGroupHeader()&&this.ojContext._on(this._getListContainer(),{scroll:function(e){t._handlePinGroupHeader()}})},_isPinGroupHeader:function(){return"static"!=this.GetOption("groupHeaderPosition")},_getGroupItemsCache:function(){var t;return null==this.m_groupItems&&(t="."+this.getGroupItemStyleClass()+":visible",this.m_groupItems=this.element.find(t).filter(function(t){return!e(this).parent().hasClass("oj-collapsed")&&e(this).next().children().length>0})),this.m_groupItems},_unpinGroupItem:function(t){t.style.position="static",t.style.top="auto",t.style.width="auto"},_getNextGroupItem:function(t){var e,i;return e=this._getGroupItemsCache(),i=e.index(t),i>-1&&i<e.length-1?e[i+1]:null},_pinGroupItem:function(t,e){var i,n,r;i=t.offsetWidth,n=t.offsetHeight,r=this._getNextGroupItem(t),null!=r&&r.offsetTop<=e+n+5&&(e-=n),t.style.position="absolute",t.style.top=e+"px",t.style.width=i+"px"},_handlePinGroupHeader:function(){var t,e,i,n,r,o,s,a,l,u;if(t=this._getListContainer().get(0),e=t.scrollTop,null!=this.m_groupItemToPin&&0==e)return this._unpinGroupItem(this.m_groupItemToPin),void(this.m_groupItemToPin=null);for(n=this._getGroupItemsCache(),r=0,null!=this.m_groupItemToPin&&(r=this.m_groupItemToPin.offsetHeight),o=0;o<n.length;o++)if(s=n[o],this.m_groupItemToPin!=s&&(a=n[o].offsetTop,l=a+s.parentNode.offsetHeight,e>a&&l>e+r)){i=s;break}if(null!=i&&i!=this.m_groupItemToPin)null!=this.m_groupItemToPin&&this._unpinGroupItem(this.m_groupItemToPin),this._pinGroupItem(i,e),this.m_groupItemToPin=i;else if(null!=this.m_groupItemToPin){if(u=this._getNextGroupItem(this.m_groupItemToPin),null!=u&&u.offsetTop<=e+r)return void(this.m_groupItemToPin.style.top=u.offsetTop-r+"px");this.m_groupItemToPin.style.top=e+"px"}},_scrollToGroupHeader:function(t){var e,i;e=this._getListContainer().get(0),i=e.scrollTop,null!=this.m_groupItemToPin&&(this._unpinGroupItem(this.m_groupItemToPin),this.m_groupItemToPin=null),e.scrollTop=t.offsetTop,this._isPinGroupHeader()&&i==e.scrollTop&&this._handlePinGroupHeader(),this._setFirstFocusableItemInGroupCurrent(t)},_setFirstFocusableItemInGroupCurrent:function(t){var i,n,r=this;i=e(t).next().children(),i.each(function(){return n=e(this),r.SkipFocus(n)?void 0:(r.SetOption("currentItem",this.key),!1)})}}),t.__registerWidget("oj.ojListView",e.oj.baseComponent,{widgetEventPrefix:"oj",options:{currentItem:null,data:null,drillMode:"collapsible",expanded:"auto",groupHeaderPosition:"sticky",item:{focusable:!0,renderer:null,selectable:!0},scrollPolicy:"auto",scrollPolicyOptions:{fetchSize:25,maxCount:500},selection:[],selectionMode:"none",beforeCurrentItem:null,beforeExpand:null,beforeCollapse:null,collapse:null,expand:null,optionChange:null,ready:null},_ComponentCreate:function(){this._super(),this._setup()},_setup:function(){var i={};i.element=this.element,i.ojContext=this,i=e.extend(this.options,i),this.listview=new t._ojListView,this.listview.init(i)},_AfterCreate:function(){this._super(),this.listview.afterCreate()},_destroy:function(){this.listview.destroy(),this._super()},_NotifyContextMenuGesture:function(t,e,i){this.listview.notifyContextMenuGesture(t,e,i)},_setOptions:function(t,e){var i=this.listview.setOptions(t,e);this._super(t,e),i&&(this.listview.refresh(),this._fireIndexerModelChangeEvent())},_setOption:function(t,e){var i=!0;if("selectionMode"==t?i="none"==e||"single"==e||"multiple"==e:"drillMode"==t?i="collapsible"==e||"none"==e:"scrollPolicy"==t?i="auto"==e||"loadMoreOnScroll"==e:"groupHeaderPosition"==t&&(i="static"==e||"sticky"==e),!i)throw"Invalid value: "+e+" for key: "+t;this._super(t,e)},_NotifyDetached:function(){this.listview.notifyDetached()},_NotifyShown:function(){this.listview.notifyShown()},widget:function(){return this.listview.getRootElement()},refresh:function(){this._super(),this.listview.refresh(),this._fireIndexerModelChangeEvent()},whenReady:function(){return this.listview.whenReady()},getNodeBySubId:function(t){return this.listview.getNodeBySubId(t)},getSubIdByNode:function(t){return this.listview.getSubIdByNode(t)},getContextByNode:function(t){return this.listview.getContextByNode(t)},expand:function(t,e){this.listview.expandKey(t,e,!0,!0)},collapse:function(t,e){this.listview.collapseKey(t,e,!0)},getExpanded:function(){return this.listview.getExpanded()},getIndexerModel:function(){return null==this.indexerModel&&t.ListViewIndexerModel&&(this.indexerModel=new t.ListViewIndexerModel(this.listview)),this.indexerModel},_fireIndexerModelChangeEvent:function(){null!=this.indexerModel&&this.indexerModel.fireChangeEvent&&this.indexerModel.fireChangeEvent()}})}),define("ojs/ojdatasource-common",["ojs/ojcore","jquery"],function(t,e){t.DataSource=function(t){this.data=t,this.Init()},t.Object.createSubclass(t.DataSource,t.EventSource,"oj.DataSource"),t.DataSource.prototype.Init=function(){t.DataSource.superclass.Init.call(this)},t.TreeDataSource=function(e){t.TreeDataSource.superclass.constructor.call(this,e)},t.Object.createSubclass(t.TreeDataSource,t.DataSource,"oj.TreeDataSource"),t.TableDataSource=function(e,i){if(this.constructor==t.TableDataSource){var n=t.TableDataSource._LOGGER_MSG._ERR_TABLE_DATASOURCE_INSTANTIATED_SUMMARY,r=t.TableDataSource._LOGGER_MSG._ERR_TABLE_DATASOURCE_INSTANTIATED_DETAIL;throw new Error(n+"\n"+r)}this.data=e,this.options=i,this.isFetching=!1,this._startIndex=0,this.Init()},t.Object.createSubclass(t.TableDataSource,t.DataSource,"oj.TableDataSource"),t.TableDataSource.prototype.Init=function(){t.TableDataSource.superclass.Init.call(this)},t.TableDataSource.prototype.totalSizeConfidence=function(){return"actual"},t.TableDataSource.EventType={ADD:"add",REMOVE:"remove",RESET:"reset",REFRESH:"refresh",SORT:"sort",CHANGE:"change",REQUEST:"request",SYNC:"sync",ERROR:"error"},t.TableDataSource._LOGGER_MSG={_ERR_TABLE_DATASOURCE_INSTANTIATED_SUMMARY:"oj.TableDataSource constructor called.",_ERR_TABLE_DATASOURCE_INSTANTIATED_DETAIL:"Please do not instantiate oj.TableDataSource. Please use one of the subclasses instead such as oj.ArrayTableDataSource or oj.CollectionTableDataSource.",_ERR_DATA_INVALID_TYPE_SUMMARY:"Invalid data type.",_ERR_DATA_INVALID_TYPE_DETAIL:"Please specify the appropriate data type."},t.DataGridDataSource=function(e){t.DataGridDataSource.superclass.constructor.call(this,e)},t.Object.createSubclass(t.DataGridDataSource,t.DataSource,"oj.DataGridDataSource")}),define("ojs/ojarraytabledatasource",["ojs/ojcore","jquery","ojs/ojdatasource-common"],function(t,e){t.ArrayTableDataSource=function(e,i){if(this.data={},!(e instanceof Array)&&"function"!=typeof e&&"function"!=typeof e.subscribe){var n=t.TableDataSource._LOGGER_MSG._ERR_DATA_INVALID_TYPE_SUMMARY,r=t.TableDataSource._LOGGER_MSG._ERR_DATA_INVALID_TYPE_DETAIL;throw new Error(n+"\n"+r)}if(null!=i&&null!=i.idAttribute||t.Logger.info(t.ArrayTableDataSource._LOGGER_MSG._INFO_ARRAY_TABLE_DATASOURCE_IDATTR),t.ArrayTableDataSource.superclass.constructor.call(this,e,i),this._eventHandlers=[],this._rows={},null!=e&&void 0!==e&&(this._idAttribute=null,null!=i&&null!=i.idAttribute&&(this._idAttribute=i.idAttribute),this._data=e instanceof Array?e:e(),this._totalSize=this._data.length,!(e instanceof Array))){var o=this;e.subscribe(function(t){if(o._isDataLoaded()){var e,i=[],n=[];for(e=0;e<t.length;e++)"deleted"===t[e].status&&i.push(t[e].value);for(o.remove(i,null),i=[],n=[],e=0;e<t.length;e++)"added"===t[e].status&&(i.push(t[e].value),n.push(t[e].index));o.add(i,{at:n})}},null,"arrayChange")}(null==i||"enabled"!=i.startFetch&&null!=i.startFetch)&&null!=i||(this._startFetchEnabled=!0)},t.Object.createSubclass(t.ArrayTableDataSource,t.TableDataSource,"oj.ArrayTableDataSource"),t.ArrayTableDataSource.prototype.Init=function(){t.ArrayTableDataSource.superclass.Init.call(this)},t.ArrayTableDataSource.prototype.add=function(t,e){e=e||{},this._checkDataLoaded();var i=e.at;return this._addToRowSet(t,i,e)},t.ArrayTableDataSource.prototype.at=function(t,e){this._checkDataLoaded();var i;return i=0>t||t>=this._rows.data.length?null:{data:this._rows.data[t],index:t,key:this._getId(this._rows.data[t])},new Promise(function(t,e){t(i)})},t.ArrayTableDataSource.prototype.change=function(e,i){i=i||{},this._checkDataLoaded();var n,r,o,s,a=i.silent,l={};for(l.data=[],l.keys=[],l.indexes=[],e instanceof Array||(e=[e]),n=0;n<e.length;n++)r=e[n],null!=r&&(o=this._getId(r),s=this._getInternal(o,null),l.data.push(r),l.keys.push(o),l.indexes.push(s.index),this._rows.data[s.index]=r);return!a&&l.data.length>0&&t.TableDataSource.superclass.handleEvent.call(this,t.TableDataSource.EventType.CHANGE,l),Promise.resolve(l)},t.ArrayTableDataSource.prototype.fetch=function(t){t=t||{};var e=t.fetchType;return"init"!=e||this._startFetchEnabled?this._fetchInternal(t):Promise.resolve()},t.ArrayTableDataSource.prototype.get=function(t,e){return e=e||{},this._checkDataLoaded(),Promise.resolve(this._getInternal(t,e))},t.ArrayTableDataSource.prototype.getCapability=function(t){return"full"},t.ArrayTableDataSource.prototype.remove=function(t,e){return e=e||{},this._checkDataLoaded(),this._removeInternal(t,e)},t.ArrayTableDataSource.prototype.reset=function(e,i){i=i||{},i.previousRows=this._rows;var n=i.silent;return null!=e&&(this._data=e),this._rows={},this._totalSize=0,n||t.TableDataSource.superclass.handleEvent.call(this,t.TableDataSource.EventType.RESET,null),Promise.resolve()},t.ArrayTableDataSource.prototype.sort=function(i){if(null==i)return this.comparator=null,Promise.resolve();this._checkDataLoaded();var n=i.key,r=i.direction,o=null;"ascending"==r?o=function(t){return e.isFunction(t[n])?t[n]():t[n]}:"descending"==r&&(o=function(t,i){var r,o;return e.isFunction(t[n])?(r=t[n](),o=i[n]()):(r=t[n],o=i[n]),r===o?0:r>o?-1:1}),this.comparator=o,this.direction=r;var s=this;return new Promise(function(e,n){if(i=i||{},s._hasComparator()){var r=s.comparator;s._rows.data.sort(function(e,i){return t.ArrayTableDataSource._sortFunc(e,i,r,s)}),s._sorted=!0;var o={header:i.key,direction:i.direction};t.TableDataSource.superclass.handleEvent.call(s,t.TableDataSource.EventType.SORT,o),e(o)}})},t.ArrayTableDataSource.prototype.totalSize=function(){return this._totalSize},t.ArrayTableDataSource.prototype._addToRowSet=function(e,i,n){var r,o,s,a;n=n||{};var l=n.silent,u={};for(u.data=[],u.keys=[],u.indexes=[],e instanceof Array||(e=[e]),null==i||i instanceof Array||(i=[i]),r=0;r<e.length;r++)if(s=e[r],null!=s){if(a=this._getId(s),u.data.push(s),u.keys.push(a),1==this._sorted&&this._rows.data.length>0){var h=this;for(o=0;o<this._rows.data.length;o++){if(t.ArrayTableDataSource._sortFunc(s,this._rows.data[o],this.comparator,h)<0){this._rows.data.splice(o,0,s),u.indexes.push(o);break}if(o==this._rows.data.length-1){this._rows.data.push(s),u.indexes.push(o+1);break}}}else null==i?(this._rows.data.push(s),u.indexes.push(this._rows.data.length-1)):(this._rows.data.splice(i[r],0,s),u.indexes.push(i[r]));this._totalSize++,this._realignRowIndices()}return!l&&u.data.length>0&&t.TableDataSource.superclass.handleEvent.call(this,t.TableDataSource.EventType.ADD,u),Promise.resolve(u)},t.ArrayTableDataSource.prototype._checkDataLoaded=function(){this._isDataLoaded()||(this._rows=this._getRowArray(this._data),this._totalSize=this._data.length)},t.ArrayTableDataSource.prototype._isDataLoaded=function(){return null!=this._rows&&null!=this._rows.data},t.ArrayTableDataSource.prototype._fetchInternal=function(e){e=e||{},this._startFetch(e),this._checkDataLoaded();var i;try{i=e.pageSize>0?e.pageSize:-1,this._startIndex||(this._startIndex=0),this._startIndex=null==e.startIndex?this._startIndex:e.startIndex;var n,r=t.ArrayTableDataSource._getEndIndex(this._rows,this._startIndex,i),o=[],s=[];for(n=this._startIndex;r>=n;n++)o[n-this._startIndex]=this._rows.data[n],s[n-this._startIndex]=this._getId(this._rows.data[n])}catch(a){return this._endFetch(e,null,a),Promise.reject(a)}r<this._startIndex&&(this._startIndex=r+1),e.pageSize=i,e.startIndex=this._startIndex,e.refresh=!0;var l={data:o,keys:s,startIndex:this._startIndex};return this._endFetch(e,l,null),Promise.resolve(l)},t.ArrayTableDataSource.prototype._getInternal=function(t,i){i=i||{};var n,r,o,s,a=null;for(n=0;n<this._rows.data.length;n++)if(o=this._rows.data[n],void 0!==o)if(s=this._getId(o),e.isArray(s)&&e.isArray(t)){if(s.length==t.length){var l=!0;for(r=0;r<t.length;r++)if(s[r]!=t[r]){l=!1;break}l&&(a={data:o,key:s,index:this._rows.indexes[n]})}}else s==t&&(a={data:o,key:s,index:this._rows.indexes[n]});return a},t.ArrayTableDataSource.prototype._hasComparator=function(){var t=this.comparator;return void 0!==t&&null!==t},t.ArrayTableDataSource.prototype._realignRowIndices=function(){for(var t=0;t<this._rows.data.length;t++)this._rows.indexes[t]=t},t.ArrayTableDataSource.prototype._removeInternal=function(e,i){var n,r,o,s,a=this;i=i||{};var l=i.silent,u={};u.data=[],u.keys=[],u.indexes=[],e instanceof Array||(e=[e]);var h=[];for(n=0;n<e.length;n++)r=e[n],null!=r&&(o=this._getId(r),s=this._getInternal(o,null),null!=s&&h.push({data:s.data,key:s.key,index:s.index}));for(h.sort(function(t,e){return t.index-e.index}),n=0;n<h.length;n++)u.data.push(h[n].data),u.keys.push(h[n].key),u.indexes.push(h[n].index);for(n=u.indexes.length-1;n>=0;n--)this._rows.data.splice(u.indexes[n],1),this._rows.indexes.splice(u.indexes[n],1),this._totalSize--,this._realignRowIndices();return!l&&u.data.length>0&&t.TableDataSource.superclass.handleEvent.call(a,t.TableDataSource.EventType.REMOVE,u),Promise.resolve(u)},t.ArrayTableDataSource.prototype._setRow=function(t,e){this._rows[t]=e,e.index=t},t.ArrayTableDataSource.prototype._startFetch=function(e){e.silent||t.TableDataSource.superclass.handleEvent.call(this,t.TableDataSource.EventType.REQUEST,{startIndex:e.startIndex})},t.ArrayTableDataSource.prototype._endFetch=function(e,i,n){null!=n?t.TableDataSource.superclass.handleEvent.call(this,t.TableDataSource.EventType.ERROR,n):e.silent||t.TableDataSource.superclass.handleEvent.call(this,t.TableDataSource.EventType.SYNC,i)},t.ArrayTableDataSource.prototype._handleRowChange=function(e){e.startIndex=this._startIndex,t.TableDataSource.superclass.handleEvent.call(this,t.TableDataSource.EventType.CHANGE,e)},t.ArrayTableDataSource._compareKeys=function(t,e,i){if("descending"==i){if(e>t)return 1;if(t>e)return-1}else{if(t>e)return 1;if(e>t)return-1}return 0},t.ArrayTableDataSource._getEndIndex=function(t,e,i){var n=t.data.length-1;return i>0&&(n=e+i-1,n=n>t.data.length-1?t.data.length-1:n),n},t.ArrayTableDataSource._getKey=function(t,i){return e.isFunction(t[i])?t[i]():t[i]},t.ArrayTableDataSource.prototype._getRowArray=function(t){var e,i,n=t.length-1,r={};for(r.data=[],r.indexes=[],this._attributes=null,e=0;n>=e;e++){var o={},s=t[e];for(i in s)s.hasOwnProperty(i)&&(o[i]=s[i],0==e&&(null==this._attributes&&(this._attributes=[]),this._attributes.push(i)));r.data[e]=o,r.indexes[e]=e}return r},t.ArrayTableDataSource.prototype._getId=function(i){var n,r=this._getIdAttr(i);if(e.isArray(r)){var o;for(n=[],o=0;o<r.length;o++){if(!(r[o]in i)){var s=t.Translations.applyParameters(t.ArrayTableDataSource._LOGGER_MSG._ERR_ARRAY_TABLE_DATASOURCE_IDATTR_NOT_IN_ROW,[r[o]]);throw new Error(s)}n[o]=i[r[o]]}}else{if(!(r in i)){var s=t.Translations.applyParameters(t.ArrayTableDataSource._LOGGER_MSG._ERR_ARRAY_TABLE_DATASOURCE_IDATTR_NOT_IN_ROW,[r]);throw new Error(s)}n=i[r]}return n},t.ArrayTableDataSource.prototype._getIdAttr=function(t){if(null!=this._idAttribute)return this._idAttribute;if(null==this._attributes){this._attributes=[];var e;for(e in t)t.hasOwnProperty(e)&&this._attributes.push(e)}return this._attributes.hasOwnProperty("id")?"id":this._attributes},t.ArrayTableDataSource._sortFunc=function(i,n,r,o){var s,a,l,u;if(e.isFunction(r)){if(1===r.length){s=r.call(o,i),a=r.call(o,n);var h=t.StringUtils.isString(s)?s.split(","):[s],c=t.StringUtils.isString(a)?a.split(","):[a];for(l=0;l<h.length;l++)if(u=t.ArrayTableDataSource._compareKeys(h[l],c[l],o.direction),0!==u)return u;return 0}return r.call(o,i,n)}if(t.StringUtils.isString(r)){var p=r.split(",");for(l=0;l<p.length;l++)if(s=t.ArrayTableDataSource._getKey(i,p[l]),a=t.ArrayTableDataSource._getKey(n,p[l]),u=t.ArrayTableDataSource._compareKeys(s,a,o.direction),0!==u)return u}return 0},t.ArrayTableDataSource._LOGGER_MSG={_INFO_ARRAY_TABLE_DATASOURCE_IDATTR:"idAttribute option has not been specified. Will default to using 'id' if the field exists. If not, will use all the fields.",_ERR_ARRAY_TABLE_DATASOURCE_IDATTR_NOT_IN_ROW:"Specified idAttribute {0} not in row data. Please ensure all specified idAttribute fields are in the row data or do not specify idAttribute and all fields will be used as id."}}),define("views/acts",["knockout","ojs/ojcore","settings","ojs/ojmodel","ojs/ojknockout-model","ojs/ojbutton","ojs/ojlistview","ojs/ojarraytabledatasource"],function(t,e,i){function n(i){this.fetched=t.observable(!1),this.acts=t.observableArray(),this.sort=t.observable("votes"),this.sortedActs=t.computed(a,this),this.dataSource=new e.ArrayTableDataSource(this.sortedActs),this.handleActivated=r.bind(this),this.handleBindingsApplied=o.bind(this),this.drill=l.bind(this,i)}function r(){var t=this,i=new u;i.fetch({success:function(i,n,r){t.acts(e.KnockoutUtils.map(i)),t.dataSource.reset(t.acts()),t.fetched(!0)}}),this.sort.subscribe(s.bind(this))}function o(t){twttr&&twttr.widgets.load(t.element.querySelector(".twitter-timeline"))}function s(t){this.dataSource.reset()}function a(){var t=this.acts(),e=this.sort();return t&&e?t.sort(function(t,i){return"votes"===e?i.numberOfVotes()-t.numberOfVotes():"date"===e?t.registrationDate()>i.registrationDate()?-1:t.registrationDate()<i.registrationDate()?1:0:void 0}):t}function l(t,e,i){var n=i.value,r=n[0]();t.drillModel.drillId(r),t.drillModel.currentModule("details")}var u=e.Collection.extend({url:i.baseUrl+"/mobile/custom/artistapi/acts",parse:function(t){return t.forEach(function(t){t.registrationDate=new Date(t.registrationDate),t.nameNoWhitespace=t.name.replace(/ /g,"")}),t}});return n}),define("ojtranslations/nls/localeElements",{root:{supplemental:{weekData:{firstDay:{"001":1,AD:1,AE:6,AF:6,AG:0,AI:1,AL:1,AM:1,AN:1,AR:0,AS:0,AT:1,AU:0,AX:1,AZ:1,BA:1,BD:5,BE:1,BG:1,BH:6,BM:1,BN:1,BR:0,BS:0,BT:0,BW:0,BY:0,BZ:0,CA:0,CH:1,CL:1,CM:1,CN:0,CO:0,CR:1,CY:1,CZ:1,DE:1,DJ:6,DK:1,DM:0,DO:0,DZ:6,EC:1,EE:1,EG:6,ES:1,ET:0,FI:1,FJ:1,FO:1,FR:1,GB:1,GE:1,GF:1,GP:1,GR:1,GT:0,GU:0,HK:0,HN:0,HR:1,HU:1,ID:0,IE:0,IL:0,IN:0,IQ:6,IR:6,IS:1,IT:1,JM:0,JO:6,JP:0,KE:0,KG:1,KH:0,KR:0,KW:6,KZ:1,LA:0,LB:1,LI:1,LK:1,LT:1,LU:1,LV:1,LY:6,MA:6,MC:1,MD:1,ME:1,MH:0,MK:1,MM:0,MN:1,MO:0,MQ:1,MT:0,MV:5,MX:0,MY:1,MZ:0,NI:0,NL:1,NO:1,NP:0,NZ:0,OM:6,PA:0,PE:0,PH:0,PK:0,PL:1,PR:0,PT:1,PY:0,QA:6,RE:1,RO:1,RS:1,RU:1,SA:6,SD:6,SE:1,SG:0,SI:1,SK:1,SM:1,SV:0,SY:6,TH:0,TJ:1,TM:1,TN:0,TR:1,TT:0,TW:0,UA:1,UM:0,US:0,UY:1,UZ:1,VA:1,VE:0,VI:0,VN:1,WS:0,XK:1,YE:6,ZA:0,ZW:0},"firstDay-alt-variant":{GB:0},weekendStart:{"001":6,AE:5,AF:4,BH:5,DZ:4,EG:5,IL:5,IN:0,IQ:5,IR:4,JO:5,KW:5,LY:5,MA:5,OM:4,QA:5,SA:4,SD:5,SY:5,TN:5,YE:4},weekendEnd:{"001":0,AE:6,AF:5,BH:6,DZ:5,EG:6,IL:6,IQ:6,IR:5,JO:6,KW:6,LY:6,MA:6,OM:5,QA:6,SA:5,SD:6,SY:6,TN:6,YE:5}},prefferedHours:{"001":"H",AD:"H",AE:"h",AF:"H",AG:"h",AL:"h",AM:"H",AO:"H",AR:"H",AS:"h",AT:"H",AU:"h",AW:"H",AX:"H",AZ:"H",BA:"H",BB:"h",BD:"h",BE:"H",BF:"H",BG:"H",BH:"h",BI:"H",BJ:"H",BL:"H",BM:"h",BN:"h",BO:"H",BR:"H",BS:"h",BT:"h",BW:"h",BY:"H",BZ:"H",CA:"h",CD:"H",CF:"H",CG:"H",CH:"H",CI:"H",CL:"H",CM:"H",CN:"h",CO:"H",CR:"H",CU:"H",CV:"H",CW:"H",CY:"h",CZ:"H",DE:"H",DJ:"h",DK:"H",DM:"h",DO:"H",DZ:"h",EA:"H",EC:"H",EE:"H",EG:"h",EH:"h",ER:"h",ES:"H",ET:"h",FI:"H",FJ:"h",FM:"h",FO:"H",FR:"H",GA:"H",GB:"H",GD:"h",GE:"H",GF:"H",GG:"H",GH:"h",GI:"H",GL:"h",GM:"h",GN:"H",GP:"H",GQ:"H",GR:"h",GT:"H",GU:"h",GW:"H",GY:"h",HK:"h",HN:"H",HR:"H",HT:"H",HU:"H",IC:"H",ID:"H",IE:"H",IL:"H",IM:"H",IN:"h",IQ:"h",IR:"H",IS:"H",IT:"H",JE:"H",JM:"h",JO:"h",JP:"H",KE:"h",KG:"H",KH:"h",KI:"h",KM:"H",KN:"h",KP:"h",KR:"h",KW:"h",KY:"h",KZ:"H",LA:"H",LB:"h",LC:"h",LI:"H",LK:"H",LR:"h",LS:"h",LT:"H",LU:"H",LV:"H",LY:"h",MA:"h",MC:"H",MD:"H",ME:"H",MF:"H",MG:"H",MH:"h",MK:"H",ML:"H",MM:"H",MN:"H",MO:"h",MP:"h",MQ:"H",MR:"h",MT:"H",MU:"H",MW:"h",MX:"H",MY:"h",MZ:"H",NA:"h",NC:"H",NE:"H",NG:"h",NI:"H",NL:"H",NO:"H",NP:"H",NZ:"h",OM:"h",PA:"H",PE:"H",PF:"H",PG:"h",PH:"H",PK:"h",PL:"H",PR:"h",PS:"h",PT:"H",PW:"h",PY:"H",QA:"h",RE:"H",RO:"H",RS:"H",RU:"H",RW:"H",SA:"h",SB:"h",SC:"H",SD:"h",SE:"H",SG:"h",SI:"H",SK:"H",SL:"h",SM:"H",SN:"H",SO:"h",SR:"H",SS:"h",ST:"H",SV:"H",SX:"H",SY:"h",SZ:"h",TC:"h",TD:"h",TG:"H",TH:"H",TJ:"H",TL:"H",TN:"h",TO:"H",TR:"H",TT:"h",TW:"h",TZ:"h",UA:"H",UG:"h",UM:"h",US:"h",UY:"H",UZ:"H",VC:"h",VE:"H",VG:"h",VI:"h",VN:"H",VU:"h",WS:"h",XK:"H",YE:"h",YT:"H",ZA:"h",ZM:"h",ZW:"h"},plurals:{ar:function(t){return 0===t?"zero":1===t?"one":2===t?"two":t%100===Math.floor(t%100)&&t%100>=3&&10>=t%100?"few":t%100===Math.floor(t%100)&&t%100>=11&&99>=t%100?"many":"other"},be:function(t){return 1===t%10&&11!==t%100?"one":t%10===Math.floor(t%10)&&t%10>=2&&4>=t%10&&!(t%100>=12&&14>=t%100)?"few":0===t%10||t%10===Math.floor(t%10)&&t%10>=5&&9>=t%10||t%100===Math.floor(t%100)&&t%100>=11&&14>=t%100?"many":"other"},bg:function(t){return 1===t?"one":"other"},ca:function(t){var e=Math.floor(Math.abs(t));return t=t.toString().replace(/^[^.]*.?/,"").length,1===e&&0===t?"one":"other"},cs:function(t){var e=Math.floor(Math.abs(t));return t=t.toString().replace(/^[^.]*.?/,"").length,1===e&&0===t?"one":e===Math.floor(e)&&e>=2&&4>=e&&0===t?"few":0!==t?"many":"other"},da:function(t){var e=Math.floor(Math.abs(t)),i=parseInt(t.toString().replace(/^[^.]*.?|0+$/g,""),10);return 1===t||0!==i&&(0===e||1===e)?"one":"other"},de:function(t){var e=Math.floor(Math.abs(t));return t=t.toString().replace(/^[^.]*.?/,"").length,1===e&&0===t?"one":"other"},el:function(t){return 1===t?"one":"other"},en:function(t){var e=Math.floor(Math.abs(t));return t=t.toString().replace(/^[^.]*.?/,"").length,1===e&&0===t?"one":"other"},es:function(t){return 1===t?"one":"other"},et:function(t){var e=Math.floor(Math.abs(t));return t=t.toString().replace(/^[^.]*.?/,"").length,
1===e&&0===t?"one":"other"},fi:function(t){var e=Math.floor(Math.abs(t));return t=t.toString().replace(/^[^.]*.?/,"").length,1===e&&0===t?"one":"other"},fr:function(t){return t=Math.floor(Math.abs(t)),0===t||1===t?"one":"other"},ga:function(t){return 1===t?"one":2===t?"two":t===Math.floor(t)&&t>=3&&6>=t?"few":t===Math.floor(t)&&t>=7&&10>=t?"many":"other"},he:function(t){var e=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*.?/,"").length;return 1===e&&0===i?"one":2===e&&0===i?"two":0!==i||t>=0&&10>=t||0!==t%10?"other":"many"},hi:function(t){return 0===Math.floor(Math.abs(t))||1===t?"one":"other"},hr:function(t){var e=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*.?/,"").length;return t=parseInt(t.toString().replace(/^[^.]*.?/,""),10),0===i&&1===e%10&&(11!==e%100||1===t%10&&11!==t%100)?"one":0===i&&e%10===Math.floor(e%10)&&e%10>=2&&4>=e%10&&(!(e%100>=12&&14>=e%100)||t%10===Math.floor(t%10)&&t%10>=2&&4>=t%10&&!(t%100>=12&&14>=t%100))?"few":"other"},hu:function(t){return 1===t?"one":"other"},id:function(t){return"other"},is:function(t){var e=Math.floor(Math.abs(t));return t=parseInt(t.toString().replace(/^[^.]*.?|0+$/g,""),10),0!==t||1!==e%10||11===e%100&&0===t?"other":"one"},it:function(t){var e=Math.floor(Math.abs(t));return t=t.toString().replace(/^[^.]*.?/,"").length,1===e&&0===t?"one":"other"},ja:function(t){return"other"},ko:function(t){return"other"},lt:function(t){var e=parseInt(t.toString().replace(/^[^.]*.?/,""),10);return 1!==t%10||t%100>=11&&19>=t%100?t%10===Math.floor(t%10)&&t%10>=2&&9>=t%10&&!(t%100>=11&&19>=t%100)?"few":0!==e?"many":"other":"one"},lv:function(t){var e=t.toString().replace(/^[^.]*.?/,"").length,i=parseInt(t.toString().replace(/^[^.]*.?/,""),10);return 0===t%10||t%100===Math.floor(t%100)&&t%100>=11&&19>=t%100||2===e&&i%100===Math.floor(i%100)&&i%100>=11&&19>=i%100?"zero":1===t%10&&(11!==t%100||2===e&&1===i%10&&(11!==i%100||2!==e&&1===i%10))?"one":"other"},mk:function(t){var e=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*.?/,"").length;return t=parseInt(t.toString().replace(/^[^.]*.?/,""),10),0!==i||1!==e%10&&1!==t%10?"other":"one"},ms:function(t){return"other"},mt:function(t){return 1===t?"one":0===t||t%100===Math.floor(t%100)&&t%100>=2&&10>=t%100?"few":t%100===Math.floor(t%100)&&t%100>=11&&19>=t%100?"many":"other"},nb:function(t){return 1===t?"one":"other"},nl:function(t){var e=Math.floor(Math.abs(t));return t=t.toString().replace(/^[^.]*.?/,"").length,1===e&&0===t?"one":"other"},nn:function(t){return 1===t?"one":"other"},no:function(t){return 1===t?"one":"other"},pl:function(t){var e=Math.floor(Math.abs(t));return t=t.toString().replace(/^[^.]*.?/,"").length,1===e&&0===t?"one":0===t&&e%10===Math.floor(e%10)&&e%10>=2&&4>=e%10&&!(e%100>=12&&14>=e%100)?"few":0===t&&1!==e&&(e%10===Math.floor(e%10)&&e%10>=0&&1>=e%10||0===t&&(e%10===Math.floor(e%10)&&e%10>=5&&9>=e%10||0===t&&e%100===Math.floor(e%100)&&e%100>=12&&14>=e%100))?"many":"other"},pt:function(t){var e=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*.?/,"").length;return t=parseInt(t.toString().replace(/^[^.]*.?|0+$/g,""),10),1===e&&(0===i||0===e&&1===t)?"one":"other"},"pt-PT":function(t){var e=t.toString().replace(/^[^.]*.?/,"").length;return 1===t&&0===e?"one":"other"},ro:function(t){var e=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*.?/,"").length;return 1===e&&0===i?"one":0!==i||0===t||1!==t&&t%100===Math.floor(t%100)&&t%100>=1&&19>=t%100?"few":"other"},ru:function(t){var e=Math.floor(Math.abs(t));return t=t.toString().replace(/^[^.]*.?/,"").length,0===t&&1===e%10&&11!==e%100?"one":0===t&&e%10===Math.floor(e%10)&&e%10>=2&&4>=e%10&&!(e%100>=12&&14>=e%100)?"few":0===t&&(0===e%10||0===t&&(e%10===Math.floor(e%10)&&e%10>=5&&9>=e%10||0===t&&e%100===Math.floor(e%100)&&e%100>=11&&14>=e%100))?"many":"other"},sk:function(t){var e=Math.floor(Math.abs(t));return t=t.toString().replace(/^[^.]*.?/,"").length,1===e&&0===t?"one":e===Math.floor(e)&&e>=2&&4>=e&&0===t?"few":0!==t?"many":"other"},sl:function(t){var e=Math.floor(Math.abs(t));return t=t.toString().replace(/^[^.]*.?/,"").length,0===t&&1===e%100?"one":0===t&&2===e%100?"two":0===t&&(e%100===Math.floor(e%100)&&e%100>=3&&4>=e%100||0!==t)?"few":"other"},sq:function(t){return 1===t?"one":"other"},sr:function(t){var e=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*.?/,"").length;return t=parseInt(t.toString().replace(/^[^.]*.?/,""),10),0===i&&1===e%10&&(11!==e%100||1===t%10&&11!==t%100)?"one":0===i&&e%10===Math.floor(e%10)&&e%10>=2&&4>=e%10&&(!(e%100>=12&&14>=e%100)||t%10===Math.floor(t%10)&&t%10>=2&&4>=t%10&&!(t%100>=12&&14>=t%100))?"few":"other"},sv:function(t){var e=Math.floor(Math.abs(t));return t=t.toString().replace(/^[^.]*.?/,"").length,1===e&&0===t?"one":"other"},th:function(t){return"other"},tr:function(t){return 1===t?"one":"other"},uk:function(t){var e=Math.floor(Math.abs(t));return t=t.toString().replace(/^[^.]*.?/,"").length,0===t&&1===e%10&&11!==e%100?"one":0===t&&e%10===Math.floor(e%10)&&e%10>=2&&4>=e%10&&!(e%100>=12&&14>=e%100)?"few":0===t&&(0===e%10||0===t&&(e%10===Math.floor(e%10)&&e%10>=5&&9>=e%10||0===t&&e%100===Math.floor(e%100)&&e%100>=11&&14>=e%100))?"many":"other"},vi:function(t){return"other"},zh:function(t){return"other"}}}},ar:1,"ar-AE":1,"ar-BH":1,"ar-DZ":1,"ar-EG":1,"ar-IQ":1,"ar-JO":1,"ar-KW":1,"ar-LB":1,"ar-LY":1,"ar-MA":1,"ar-OM":1,"ar-QA":1,"ar-SA":1,"ar-SD":1,"ar-SY":1,"ar-TN":1,"ar-YE":1,be:1,"be-BY":1,bg:1,"bg-BG":1,ca:1,"ca-ES":1,cs:1,"cs-CZ":1,da:1,"da-DK":1,de:1,"de-AT":1,"de-CH":1,"de-DE":1,"de-LU":1,el:1,"el-CY":1,"el-GR":1,en:1,"en-AU":1,"en-CA":1,"en-GB":1,"en-IE":1,"en-IN":1,"en-MT":1,"en-NZ":1,"en-PH":1,"en-SG":1,"en-US":1,"en-ZA":1,es:1,"es-AR":1,"es-BO":1,"es-CL":1,"es-CO":1,"es-CR":1,"es-CU":1,"es-DO":1,"es-EC":1,"es-ES":1,"es-GT":1,"es-HN":1,"es-MX":1,"es-NI":1,"es-PA":1,"es-PE":1,"es-PR":1,"es-PY":1,"es-SV":1,"es-US":1,"es-UY":1,"es-VE":1,et:1,"et-EE":1,fi:1,"fi-FI":1,fr:1,"fr-BE":1,"fr-CA":1,"fr-CH":1,"fr-FR":1,"fr-LU":1,ga:1,"ga-IE":1,he:1,"he-IL":1,hi:1,"hi-IN":1,hr:1,"hr-HR":1,hu:1,"hu-HU":1,id:1,"id-ID":1,is:1,"is-IS":1,it:1,"it-CH":1,"it-IT":1,ja:1,"ja-JP":1,ko:1,"ko-KR":1,lt:1,"lt-LT":1,lv:1,"lv-LV":1,mk:1,"mk-MK":1,ms:1,"ms-Latn-MY":1,mt:1,"mt-MT":1,nb:1,"nb-NO":1,nl:1,"nl-BE":1,"nl-NL":1,nn:1,"nn-NO":1,no:1,"no-NO":1,pl:1,"pl-PL":1,pt:1,"pt-BR":1,"pt-PT":1,ro:1,"ro-RO":1,ru:1,"ru-RU":1,sk:1,"sk-SK":1,sl:1,"sl-SI":1,sq:1,"sq-AL":1,sr:1,"sr-Cyrl":1,"sr-Cyrl-BA":1,"sr-Cyrl-ME":1,"sr-Cyrl-RS":1,"sr-Latn":1,"sr-Latn-BA":1,"sr-Latn-ME":1,"sr-Latn-RS":1,sv:1,"sv-SE":1,th:1,"th-TH":1,tr:1,"tr-TR":1,uk:1,"uk-UA":1,vi:1,"vi-VN":1,zh:1,"zh-Hans":1,"zh-Hans-CN":1,"zh-Hans-SG":1,"zh-Hant":1,"zh-Hant-HK":1,"zh-Hant-MO":1,"zh-Hant-TW":1,__noOverlay:!0,__defaultNoOverlayLocale:"en-US"}),define("ojs/ojvalidation",["ojs/ojcore","jquery","ojL10n!ojtranslations/nls/localeElements","ojs/ojmessaging"],function(t,e,i){t.LocaleData={},t.LocaleData.setBundle=function(e){t.LocaleData._bundle=e},t.LocaleData.getFirstDayOfWeek=function(){return t.LocaleData._getWeekData("firstDay")},t.LocaleData.getWeekendStart=function(){return t.LocaleData._getWeekData("weekendStart")},t.LocaleData.getWeekendEnd=function(){return t.LocaleData._getWeekData("weekendEnd")},t.LocaleData.getDayNames=function(e){(null==e||"abbreviated"!==e&&"narrow"!==e)&&(e="wide");var i=t.LocaleData._getCalendarData().days["stand-alone"][e];return[i.sun,i.mon,i.tue,i.wed,i.thu,i.fri,i.sat]},t.LocaleData.getMonthNames=function(e){(null==e||"abbreviated"!==e&&"narrow"!==e)&&(e="wide");var i=t.LocaleData._getCalendarData().months["stand-alone"][e];return[i[1],i[2],i[3],i[4],i[5],i[6],i[7],i[8],i[9],i[10],i[11],i[12]]},t.LocaleData.isMonthPriorToYear=function(){var e=t.LocaleData._getCalendarData().dateFormats["long"].toUpperCase(),i=e.indexOf("M"),n=e.indexOf("Y");return n>i},t.LocaleData._getWeekData=function(e){var i=t.LocaleData.__getBundle(),n="001",r=t.LocaleData._getRegion()||n,o=i.supplemental.weekData[e],s=o[r];return void 0===s&&(s=o[n]),s},t.LocaleData._getCalendarData=function(){var e,i,n=t.LocaleData.__getBundle(),r=n.main;for(i in r)if(r.hasOwnProperty(i)){e=r[i];break}return e.dates.calendars.gregorian},t.LocaleData._getRegion=function(){var e=t.Config.getLocale();if(e){var i=e.toUpperCase().split(/-|_/);if(i.length>=2){var n=i[1];if(4!=n.length)return n;if(i.length>=3)return i[2]}}return null},t.LocaleData.__getBundle=function(){var e=t.LocaleData._bundle;return e?e:t.__isAmdLoaderPresent()?(t.Assert.assert(void 0!==i,"LocaleElements module must be loaded"),i):{}},t.LocaleData.__updateBundle=function(t){i=t},t.Validation={},t.Validation._converterFactories={},t.Validation._validatorFactories={},t.Validation._defaultConverterFactories={},t.Validation._defaultValidatorFactories={},t.Validation._CONTRACTS={converter:{name:"oj.ConverterFactory",type:t.ConverterFactory},validator:{name:"oj.ValidatorFactory",type:t.ValidatorFactory}},t.Validation.converterFactory=function(e,i){var n;return e&&!i?n=t.Validation._getFactory(e,t.Validation._converterFactories):e&&i&&(n=t.Validation._registerFactory(e,i,t.Validation._converterFactories,t.Validation._CONTRACTS.converter)),n},t.Validation.validatorFactory=function(e,i){var n;return e&&!i?n=t.Validation._getFactory(e,t.Validation._validatorFactories):e&&i&&(n=t.Validation._registerFactory(e,i,t.Validation._validatorFactories,t.Validation._CONTRACTS.validator)),n},t.Validation.getDefaultConverterFactory=function(e){return t.Validation._getFactory(e,t.Validation._defaultConverterFactories)},t.Validation.getDefaultValidatorFactory=function(e){return t.Validation._getFactory(e,t.Validation._defaultValidatorFactories)},t.Validation.__registerDefaultConverterFactory=function(e,i){var n=t.Validation._CONTRACTS.converter;t.Validation._registerFactory(e,i,t.Validation._defaultConverterFactories,n),t.Validation._registerFactory(e,i,t.Validation._converterFactories,n)},t.Validation.__registerDefaultValidatorFactory=function(e,i){var n=t.Validation._CONTRACTS.validator;t.Validation._registerFactory(e,i,t.Validation._defaultValidatorFactories,n),t.Validation._registerFactory(e,i,t.Validation._validatorFactories,n)},t.Validation._doImplementsCheck=function(e,i,n){if(i&&!t.Validation._quacksLike(e,i))throw new Error("Factory instance does not implement the methods expected by the factory of type "+n)},t.Validation._getFactory=function(e,i){t.Assert.assertString(e);var n=null;if(e){e=e.toLowerCase();var r=i[e]||{};n=r.instance||null}return n},t.Validation._quacksLike=function(e,i){var n,r=!0;t.Assert.assertObject(e),t.Assert.assertObject(i);for(n in i)if(i.hasOwnProperty(n)&&"function"==typeof i[n]&&!e[n]&&"function"!=typeof e[n]){r=!1;break}return r},t.Validation._registerFactory=function(e,i,n,r){if(t.Assert.assertString(e),t.Assert.assertObject(i),e){var o={};o.instance=i,t.Validation._doImplementsCheck(i,r.type,r.name),n[e.toLowerCase()]=o}},t.ConverterFactory={CONVERTER_TYPE_NUMBER:"number",CONVERTER_TYPE_DATETIME:"datetime",createConverter:function(t){}},t.ValidatorFactory={VALIDATOR_TYPE_REQUIRED:"required",VALIDATOR_TYPE_REGEXP:"regexp",VALIDATOR_TYPE_NUMBERRANGE:"numberRange",VALIDATOR_TYPE_LENGTH:"length",VALIDATOR_TYPE_DATETIMERANGE:"dateTimeRange",VALIDATOR_TYPE_DATERESTRICTION:"dateRestriction",createValidator:function(t){}},t.Converter=function(t){this.Init(t)},t.Object.createSubclass(t.Converter,t.Object,"oj.Converter"),t.Converter.prototype.Init=function(e){t.Converter.superclass.Init.call(this),this._options=e},t.Converter.prototype.getHint=function(){return t.Assert.failedInAbstractFunction(),null},t.Converter.prototype.getOptions=function(){return this._options||{}},t.Converter.prototype.parse=function(e){return t.Assert.failedInAbstractFunction(),null},t.Converter.prototype.format=function(e){return t.Assert.failedInAbstractFunction(),null},t.Converter.prototype.resolvedOptions=function(){var t={};return e.extend(t,this._options),t},t.ConverterError=function(e,i){var n=new t.Message(e,i,t.Message.SEVERITY_LEVEL.ERROR);this.Init(n)},t.ConverterError.prototype=new Error,t.ConverterError.prototype.Init=function(t){var e=t.detail,i=t.summary;this._message=t,this.name="Converter Error",this.message=e||i},t.ConverterError.prototype.getMessage=function(){return this._message},t.NumberConverter=function(){this.Init()},t.Object.createSubclass(t.NumberConverter,t.Converter,"oj.NumberConverter"),t.NumberConverter.prototype.Init=function(e){t.NumberConverter.superclass.Init.call(this,e)},t.NumberConverter.prototype.format=function(e){return t.NumberConverter.superclass.format.call(this,e)},t.NumberConverter.prototype.parse=function(e){return t.NumberConverter.superclass.parse.call(this,e)},t.DateTimeConverter=function(t){this.Init(t)},t.Object.createSubclass(t.DateTimeConverter,t.Converter,"oj.DateTimeConverter"),t.DateTimeConverter.prototype.Init=function(e){t.DateTimeConverter.superclass.Init.call(this,e)},t.DateTimeConverter.prototype.format=function(e){return t.DateTimeConverter.superclass.format.call(this,e)},t.DateTimeConverter.prototype.isHourInDaySet=function(){t.Assert.failedInAbstractFunction()},t.DateTimeConverter.prototype.isHourInAMPMSet=function(){t.Assert.failedInAbstractFunction()},t.DateTimeConverter.prototype.isMinuteSet=function(){t.Assert.failedInAbstractFunction()},t.DateTimeConverter.prototype.isSecondSet=function(){t.Assert.failedInAbstractFunction()},t.DateTimeConverter.prototype.isMilliSecondSet=function(){t.Assert.failedInAbstractFunction()},t.DateTimeConverter.prototype.isYearSet=function(){t.Assert.failedInAbstractFunction()},t.DateTimeConverter.prototype.isMonthSet=function(){t.Assert.failedInAbstractFunction()},t.DateTimeConverter.prototype.isDaySet=function(){t.Assert.failedInAbstractFunction()},t.DateTimeConverter.prototype.isDayNameSet=function(){t.Assert.failedInAbstractFunction()},t.DateTimeConverter.prototype.calculateWeek=function(){t.Assert.failedInAbstractFunction()},t.DateTimeConverter.prototype.parse=function(e){return t.DateTimeConverter.superclass.parse.call(this,e)},t.Validator=function(){this.Init()},t.Object.createSubclass(t.Validator,t.Object,"oj.Validator"),t.Validator.prototype.Init=function(){t.Validator.superclass.Init.call(this)},t.Validator.prototype.validate=function(e){t.Assert.failedInAbstractFunction()},t.Validator.prototype.getHint=function(){t.Assert.failedInAbstractFunction()},t.ValidatorError=function(e,i){var n=new t.Message(e,i,t.Message.SEVERITY_LEVEL.ERROR);this.Init(n)},t.ValidatorError.prototype=new Error,t.ValidatorError.prototype.Init=function(t){var e=t.detail,i=t.summary;this._message=t,this.name="Validator Error",this.message=e||i},t.ValidatorError.prototype.getMessage=function(){return this._message},t.RequiredValidator=function(t){this.Init(t)},t.Object.createSubclass(t.RequiredValidator,t.Validator,"oj.RequiredValidator"),t.RequiredValidator._BUNDLE_KEY_DETAIL="oj-validator.required.detail",t.RequiredValidator._BUNDLE_KEY_SUMMARY="oj-validator.required.summary",t.RequiredValidator.prototype.Init=function(e){t.RequiredValidator.superclass.Init.call(this),this._options=e},t.RequiredValidator.prototype.validate=function(e){var i,n,r,o,s={},a="";if("number"==typeof e&&0===e||e&&0!==e.length)return!0;throw this._options&&(r=this._options.messageDetail||this._options.message||null,o=this._options.messageSummary||null,a=this._options.label||""),s={label:a},n=o?t.Translations.applyParameters(o,s):t.Translations.getTranslatedString(this._getSummaryKey(),s),i=r?t.Translations.applyParameters(r,s):t.Translations.getTranslatedString(this._getDetailKey(),s),new t.ValidatorError(n,i)},t.RequiredValidator.prototype.getHint=function(){var e="";return this._options&&this._options.hint&&(e=t.Translations.getTranslatedString(this._options.hint)),e},t.RequiredValidator.prototype._getSummaryKey=function(){return t.RequiredValidator._BUNDLE_KEY_SUMMARY},t.RequiredValidator.prototype._getDetailKey=function(){return t.RequiredValidator._BUNDLE_KEY_DETAIL},t.DateRestrictionValidator=function(t){this.Init(t)},t.Object.createSubclass(t.DateRestrictionValidator,t.Validator,"oj.DateRestrictionValidator"),t.DateRestrictionValidator.prototype.Init=function(e){t.DateRestrictionValidator.superclass.Init.call(this),this._dayFormatter=e.dayFormatter,this._converter=t.IntlConverterUtils.getConverterInstance(e.converter),e&&(this._messageSummary=e.messageSummary||null,this._messageDetail=e.messageDetail||null)},t.DateRestrictionValidator.prototype._inDisabled=function(t){var e=this._dayFormatter;if(e){var i=t.getFullYear(),n=t.getMonth()+1,r=t.getDate(),o=e({fullYear:i,month:n,date:r});return o&&o.disabled}return!1},t.DateRestrictionValidator.prototype.validate=function(e){var i="",n="",r=t.Translations,o=this._messageSummary,s=this._messageDetail,a=e?this._converter.format(e):e,l=e?t.IntlConverterUtils.isoToLocalDate(e):null;if(null===e)return e;if(this._inDisabled(l))throw i=o?r.applyParameters(o,{value:a}):r.getTranslatedString("oj-validator.restriction.date.messageSummary",{value:a}),n=s?r.applyParameters(s,{value:a}):r.getTranslatedString("oj-validator.restriction.date.messageDetail",{value:a}),new t.ValidatorError(i,n);return e},t.DateRestrictionValidator.prototype.getHint=function(){return null},t.DateTimeRangeValidator=function(t){this.Init(t)},t.Object.createSubclass(t.DateTimeRangeValidator,t.Validator,"oj.DateTimeRangeValidator"),t.DateTimeRangeValidator.prototype.Init=function(e){t.DateTimeRangeValidator.superclass.Init.call(this),this._converter=t.IntlConverterUtils.getConverterInstance(e.converter),this._min=e.min||null,this._max=e.max||null,e&&(this._hint=e.hint||{},this._customMessageSummary=e.messageSummary||{},this._customMessageDetail=e.messageDetail||{})},t.DateTimeRangeValidator.prototype.validate=function(e){var i,n,r,o,s=this._customMessageSummary,a=this._customMessageDetail,l=a.rangeOverflow,u=a.rangeUnderflow,h=s.rangeOverflow,c=s.rangeUnderflow,p=t.IntlConverterUtils,d=this._min,g=this._max,f="",_="",v=t.Translations,m=null;if(null===e)return e;if(i=this._converter.format(e),n=p.isoToLocalDate(e),d&&(r=this._converter?this._converter.format(d):d,d=p.isoToLocalDate(p._minMaxIsoString(d,e))),g&&(o=this._converter?this._converter.format(g):g,g=p.isoToLocalDate(p._minMaxIsoString(g,e))),null!==d&&null!==g){if(n>=d&&g>=n||d>g)return e}else if(null!==d){if(n>=d)return e}else if(null===g||g>=n)return e;throw null!==g&&n>g?(m={value:i,max:o},f=h?h:v.getTranslatedString("oj-validator.range.datetime.messageSummary.rangeOverflow"),_=l?v.applyParameters(l,m):v.getTranslatedString("oj-validator.range.datetime.messageDetail.rangeOverflow",m)):null!==d&&d>n&&(m={value:i,min:r},f=c?c:v.getTranslatedString("oj-validator.range.datetime.messageSummary.rangeUnderflow"),_=u?v.applyParameters(u,m):v.getTranslatedString("oj-validator.range.datetime.messageDetail.rangeUnderflow",m)),new t.ValidatorError(f,_)},t.DateTimeRangeValidator.prototype.getHint=function(){var e=null,i=this._hint,n=i.inRange,r=i.min,o=i.max,s=this._min,a=this._max,l=s&&this._converter?this._converter.format(s):s,u=a&&this._converter?this._converter.format(a):a,h=null,c=t.Translations;return null!==s&&null!==a?(h={min:l,max:u},e=n?c.applyParameters(n,h):c.getTranslatedString("oj-validator.range.datetime.hint.inRange",h)):null!==s?(h={min:l},e=r?c.applyParameters(r,h):c.getTranslatedString("oj-validator.range.datetime.hint.min",h)):null!==a&&(h={max:u},e=o?c.applyParameters(o,h):c.getTranslatedString("oj-validator.range.datetime.hint.max",h)),e},t.NumberConverterFactory=function(){function e(e){return new t.IntlNumberConverter(e)}return{createConverter:function(t){return e(t)}}}(),t.Validation.__registerDefaultConverterFactory(t.ConverterFactory.CONVERTER_TYPE_NUMBER,t.NumberConverterFactory),t.DateTimeConverterFactory=function(){function e(e){return new t.IntlDateTimeConverter(e)}return{createConverter:function(t){return e(t)}}}(),t.Validation.__registerDefaultConverterFactory(t.ConverterFactory.CONVERTER_TYPE_DATETIME,t.DateTimeConverterFactory),t.RequiredValidatorFactory=function(){function e(e){return new t.RequiredValidator(e)}return{createValidator:function(t){return e(t)}}}(),t.Validation.__registerDefaultValidatorFactory(t.ValidatorFactory.VALIDATOR_TYPE_REQUIRED,t.RequiredValidatorFactory),t.RegExpValidatorFactory=function(){function e(e){return new t.RegExpValidator(e)}return{createValidator:function(t){return e(t)}}}(),t.Validation.__registerDefaultValidatorFactory(t.ValidatorFactory.VALIDATOR_TYPE_REGEXP,t.RegExpValidatorFactory),t.DateTimeRangeValidatorFactory=function(){function e(e){return new t.DateTimeRangeValidator(e)}return{createValidator:function(t){return e(t)}}}(),t.Validation.__registerDefaultValidatorFactory(t.ValidatorFactory.VALIDATOR_TYPE_DATETIMERANGE,t.DateTimeRangeValidatorFactory),t.DateRestrictionValidatorFactory=function(){function e(e){return new t.DateRestrictionValidator(e)}return{createValidator:function(t){return e(t)}}}(),t.Validation.__registerDefaultValidatorFactory(t.ValidatorFactory.VALIDATOR_TYPE_DATERESTRICTION,t.DateRestrictionValidatorFactory),t.NumberRangeValidatorFactory=function(){function e(e){return new t.NumberRangeValidator(e)}return{createValidator:function(t){return e(t)}}}(),t.Validation.__registerDefaultValidatorFactory(t.ValidatorFactory.VALIDATOR_TYPE_NUMBERRANGE,t.NumberRangeValidatorFactory),t.LengthValidatorFactory=function(){function e(e){return new t.LengthValidator(e)}return{createValidator:function(t){return e(t)}}}(),t.Validation.__registerDefaultValidatorFactory(t.ValidatorFactory.VALIDATOR_TYPE_LENGTH,t.LengthValidatorFactory);var n={};n.numeringSystems={latn:"0123456789",arab:"",thai:""},n.BCP47RE=/^(?:(en-GB-oed|i-(?:ami|bnn|default|enochian|hak|klingon|lux|mingo|navajo|pwn|tao|tay|tsu)|sgn-(?:BE-FR|BE-NL|CH-DE))|(art-lojban|cel-gaulish|no-(?:bok|nyn)|zh-(?:guoyu|hakka|min|min-nan|xiang)))$|^(x(?:-[0-9a-z]{1,8})+)$|^(?:((?:[a-z]{2,3}(?:(?:-[a-z]{3}){1,3})?)|[a-z]{4}|[a-z]{5,8})(?:-([a-z]{4}))?(?:-([a-z]{2}|[0-9]{3}))?((?:-(?:[a-z0-9]{5,8}|[0-9][a-z0-9]{3}))*)?((?:-[0-9a-wy-z](?:-[a-z0-9]{2,8}){1,})*)?(-x(?:-[0-9a-z]{1,8})+)?)$/i,n.regexTrim=/^\s+|\s+$|\u200f|\u200e/g,n.regexTrimNumber=/\s+|\u200f|\u200e/g,n.zeros=["0","00","000"],n._ISO_DATE_REGEXP=/^\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{1,3})?)?(Z|[+-]\d{2}:\d{2})?)?$|^T\d{2}:\d{2}(?::\d{2}(?:\.\d{1,3})?)?(Z|[+-]\d{2}:\d{2})?$/,n._getTimeZone=function(t){if(!t||"string"!=typeof t)return null;var e=n._ISO_DATE_REGEXP.exec(t);return null===e&&n._throwInvalidISOString(t),void 0!==e[1]?e[1]:null},n.dateToLocalIso=function(t){return n.padZeros(t.getFullYear(),4)+"-"+n.padZeros(t.getMonth()+1,2)+"-"+n.padZeros(t.getDate(),2)+"T"+n.padZeros(t.getHours(),2)+":"+n.padZeros(t.getMinutes(),2)+":"+n.padZeros(t.getSeconds(),2)+"."+n.padZeros(t.getMilliseconds(),3)},n.isoToLocalDate=function(t){return t&&"string"==typeof t?(null!==n._getTimeZone(t)&&n._throwTimeZoneNotSupported(),this._isoToLocalDateIgnoreTimezone(t)):null},n._isoToLocalDateIgnoreTimezone=function(t){var e,i=t.split("T"),n=t.indexOf("T"),r=new Date,o=[r.getFullYear(),r.getMonth(),r.getDate(),0,0,0,0];if(""!==i[0]){var s=i[0].split("-");for(e=0;e<s.length;e++)o[e]=parseInt(s[e],10),1===e&&o[e]--}if(-1!==n){var a=i[1].split("."),l=a[0].split(":");for(e=0;e<l.length;e++)o[3+e]=parseInt(l[e],10);2===a.length&&a[1]&&(o[6]=parseInt(a[1],10))}return new Date(o[0],o[1],o[2],o[3],o[4],o[5],o[6])},n._throwTimeZoneNotSupported=function(){var t,e,i;throw t="time zone is not supported",e=new Error(t),i={errorCode:"timeZoneNotSupported"},e.errorInfo=i,e},n._throwInvalidISOString=function(t){var e,i,n;throw e="The string "+t+" is not a valid ISO 8601 string.",i=new Error(e),n={errorCode:"invalidISOString",parameterMap:{isoStr:t}},i.errorInfo=n,i},n.trim=function(t){return(t+"").replace(n.regexTrim,"")},n.trimNumber=function(t){var e=(t+"").replace(n.regexTrimNumber,"");return e},n.startsWith=function(t,e){return 0===t.indexOf(e)},n.toUpper=function(t){return t.split("").join(" ").toUpperCase()},n.padZeros=function(t,e){var i,r=t+"";return e>1&&r.length<e?(i=n.zeros[e-2]+r,i.substr(i.length-e,e)):i=r},n.getNumberingSystemKey=function(t,e){if(void 0===e)return"latn";var i=n.getLanguageExtension(e,"nu")||"",r="symbols-numberSystem-"+i;return void 0===t.numbers[r]&&(i="latn"),i},n.parseBCP47=function(t){var e=n.BCP47RE.exec(t);if(!e)return null;var i=e[4];i=i?i.split("-"):null;var r=null;i&&(r=i.shift());var o=e[7];o=o?o.split("-"):null,o&&o.shift();var s=e[9];s=s?s.split("-"):null,s&&(s.shift(),s.shift());var a=e[3];return a=a?a.split("-"):null,a&&a.shift(),{language:{language:r,extlang:i||[]},script:e[5]||null,region:e[6]||null,variant:o||null,extension:n.parseExtension(e[8]),privateuse:s||a||[],grandfathered:{irregular:e[1]||null,regular:e[2]||null}}},n.parseExtension=function(t){if(!t)return[];for(var e,i,n=[],r=!1,o=!1,s="",a=!1,l=0,u=t.length;u>l;l++)i=t[l],"-"!==i||r?!r||o?"-"!==i?s+=i:a?1===s.length?(a=!1,o=!1,n.push(e),e={singleton:null,extension:[]}):(e.extension.push(s),s=""):(s="",a=!0):(o=!0,e.singleton=i):(r=!0,e={singleton:null,extension:[]});return e.extension.push(s),n.push(e),n},n.getLanguageExtension=function(t,e){t=t||"en-US";var i=n.parseBCP47(t);if(null===i||void 0===i)return null;var r,o=i.extension;for(var s in o)if("u"===o[s].singleton){for(var a in o[s].extension)if(o[s].extension[a]===e){a++,r=o[s].extension[a];break}break}return r},n.haveSamePropertiesLength=function(t){var e=0;for(var i in t)e++;return e},n.getLocaleElementsMainNode=function(t){var e,i=t.main;for(var n in i){e=n;break}return i[e]},n.getLocaleElementsMainNodeKey=function(t){var e,i=t.main;for(var n in i){e=n;break}return e},n.getGetOption=function(t,e){if(void 0===t)throw new Error("Internal "+e+" error. Default options missing.");var i=function(i,n,r,o){if(void 0!==t[i]){var s=t[i];switch(n){case"boolean":s=Boolean(s);break;case"string":s=String(s);break;case"number":s=Number(s);break;default:throw new Error("Internal error. Wrong value type.")}if(void 0!==r&&-1===r.indexOf(s)){for(var a=[],l=0;l<r.length;l++)a.push(r[l]);var u="The value '"+t[i]+"' is out of range for '"+e+"' options property '"+i+"'. Valid values: "+a,h=new RangeError(u),c={errorCode:"optionOutOfRange",parameterMap:{propertyName:i,propertyValue:t[i],propertyValueValid:a,caller:e}};throw h.errorInfo=c,h}return s}return o};return i},t.IntlDateTimeConverter=function(t){this.Init(t)},t.Object.createSubclass(t.IntlDateTimeConverter,t.DateTimeConverter,"oj.IntlDateTimeConverter"),t.IntlDateTimeConverter._DEFAULT_DATE=new Date(1998,10,29,15,45,31),t.IntlDateTimeConverter.prototype.Init=function(e){t.IntlDateTimeConverter.superclass.Init.call(this,e)},t.IntlDateTimeConverter.prototype._getWrapped=function(){return this._wrapped||(this._wrapped=o.getInstance()),this._wrapped},t.IntlDateTimeConverter.prototype.format=function(e){var i,n=t.LocaleData.__getBundle(),r=t.Config.getLocale(),o=this.resolvedOptions();if(null==e||"string"==typeof e&&0===t.StringUtils.trim(""+e).length)return t.IntlConverterUtils.__getNullFormattedValue();try{return this._getWrapped().format(e,n,o,r)}catch(s){throw i=this._processConverterError(s,e)}},t.IntlDateTimeConverter.prototype.formatRelative=function(e,i){var n,r=t.LocaleData.__getBundle(),o=t.Config.getLocale();try{return this._getWrapped().formatRelative(e,r,i,o)}catch(s){throw n=this._processConverterError(s,e)}},t.IntlDateTimeConverter.prototype.getHint=function(){var t=this.resolvedOptions(),e=t.patternFromOptions||this.getOptions().pattern;return e?e.toLowerCase():""},t.IntlDateTimeConverter.prototype._getHintValue=function(){var e="";try{e=this.format(t.IntlConverterUtils.dateToLocalIso(t.IntlDateTimeConverter._DEFAULT_DATE))}catch(i){i instanceof t.ConverterError&&(e="")}finally{return e}},t.IntlDateTimeConverter.prototype.getOptions=function(){return t.IntlDateTimeConverter.superclass.getOptions.call(this)},t.IntlDateTimeConverter.prototype.resolvedOptions=function(){var e,i,n=t.Config.getLocale(),r=this.getOptions();if(n!==this._locale||!this._resolvedOptions){e=t.LocaleData.__getBundle();try{if(!e)return t.Logger.error("locale bundle for the current locale %s is unavailable",n),{};this._resolvedOptions=this._getWrapped().resolvedOptions(e,r,n),this._locale=n}catch(o){throw i=this._processConverterError(o)}}return this._resolvedOptions},t.IntlDateTimeConverter.prototype.isHourInDaySet=function(){var t=this.resolvedOptions(),e=t.hour,i=t.hour12;return!(!e||i)},t.IntlDateTimeConverter.prototype.isHourInAMPMSet=function(){var t=this.resolvedOptions(),e=t.hour,i=t.hour12;return!(!e||!i)},t.IntlDateTimeConverter.prototype.isMinuteSet=function(){return this._isOptionSet("minute")},t.IntlDateTimeConverter.prototype.isSecondSet=function(){return this._isOptionSet("second")},t.IntlDateTimeConverter.prototype.isMilliSecondSet=function(){return this._isOptionSet("millisecond")},t.IntlDateTimeConverter.prototype.isYearSet=function(){return this._isOptionSet("year")},t.IntlDateTimeConverter.prototype.isMonthSet=function(){return this._isOptionSet("month")},t.IntlDateTimeConverter.prototype.isDaySet=function(){return this._isOptionSet("day")},t.IntlDateTimeConverter.prototype.isDayNameSet=function(){return this._isOptionSet("weekday")},t.IntlDateTimeConverter.prototype.calculateWeek=function(e){return this._getWrapped().calculateWeek(e,t.LocaleData.__getBundle(),t.Config.getLocale())},t.IntlDateTimeConverter.prototype.parse=function(e){var i,n;if(null==e||""===e)return null;var r,o=t.LocaleData.__getBundle(),s=t.Config.getLocale(),a=this.resolvedOptions();try{return i=this._getWrapped().parse(e,o,a,s),n=i.value,n&&i.warning&&t.Logger.warn("The value "+e+" was leniently parsed to represent a date "+n.toString?n.toString():n),n}catch(l){throw r=this._processConverterError(l,e)}},t.IntlDateTimeConverter.prototype._processConverterError=function(e,i){var n,r,o,s,a,l,u,h=e.errorInfo;return h&&(o=h.errorCode,s=h.parameterMap,t.Assert.assertObject(s),l=s.propertyName,e instanceof TypeError?"optionTypesMismatch"!==o&&"optionTypeInvalid"!==o||(a=t.IntlConverterUtils.__getConverterOptionError(o,s)):e instanceof RangeError?"optionOutOfRange"===o?a=t.IntlConverterUtils.__getConverterOptionError(o,s):"datetimeOutOfRange"===o&&(n=t.Translations.getTranslatedString("oj-converter.datetime.datetimeOutOfRange.summary",{propertyName:l,value:s.value}),r=t.Translations.getTranslatedString("oj-converter.datetime.datetimeOutOfRange.detail",{minValue:s.minValue,maxValue:s.maxValue}),a=new t.ConverterError(n,r)):e instanceof SyntaxError?"optionValueInvalid"===o&&(a=t.IntlConverterUtils.__getConverterOptionError(o,s)):e instanceof Error&&("dateFormatMismatch"===o?u="oj-converter.datetime.dateFormatMismatch.summary":"timeFormatMismatch"===o?u="oj-converter.datetime.timeFormatMismatch.summary":"datetimeFormatMismatch"===o?u="oj-converter.datetime.datetimeFormatMismatch.summary":"dateToWeekdayMismatch"===o&&(n=t.Translations.getTranslatedString("oj-converter.datetime.dateToWeekdayMismatch.summary",{date:s.date,weekday:s.weekday}),r=t.Translations.getTranslatedString("oj-converter.datetime.dateToWeekdayMismatch.detail"),a=new t.ConverterError(n,r)),u&&(n=t.Translations.getTranslatedString(u,{value:i||s.value,format:s.format}),r=t.Translations.getTranslatedString("oj-converter.hint.detail",{exampleValue:this._getHintValue()}),a=new t.ConverterError(n,r)))),a||(n=e.message,r=e.message,a=new t.ConverterError(n,r)),a},t.IntlDateTimeConverter.prototype._isOptionSet=function(t){var e=this.resolvedOptions(),i=!!e[t];return i},t.NumberRangeValidator=function(t){this.Init(t)},t.Object.createSubclass(t.NumberRangeValidator,t.Validator,"oj.NumberRangeValidator"),t.NumberRangeValidator.prototype.Init=function(e){t.NumberRangeValidator.superclass.Init.call(this),e&&(this._min=e.min,this._max=e.max,this._converter=t.IntlConverterUtils.getConverterInstance(e.converter),this._hint=e.hint||{},this._customMessageSummary=e.messageSummary||{},this._customMessageDetail=e.messageDetail||{})},t.NumberRangeValidator.prototype.validate=function(e){
var i=e?e.toString():e,n=parseFloat(i),r=this._customMessageSummary,o=this._customMessageDetail,s=o.rangeOverflow,a=o.rangeUnderflow,l=r.rangeOverflow,u=r.rangeUnderflow,h=void 0!==this._min?parseFloat(this._min):null,c=void 0!==this._max?parseFloat(this._max):null,p=h&&this._converter?this._converter.format(h):h,d=c&&this._converter?this._converter.format(c):c,g="",f="",_=null,v=t.Translations;if(null===e)return e;if(null!==h&&null!==c){if(n>=h&&c>=n||h>c)return i}else if(null!==h){if(n>=h)return i}else if(null===c||c>=n)return i;throw null!==c&&n>c?(_={value:e,max:d},g=l?l:v.getTranslatedString("oj-validator.range.number.messageSummary.rangeOverflow"),f=s?v.applyParameters(s,_):v.getTranslatedString("oj-validator.range.number.messageDetail.rangeOverflow",_)):null!==h&&h>n&&(_={value:e,min:p},g=u?u:v.getTranslatedString("oj-validator.range.number.messageSummary.rangeUnderflow"),f=a?v.applyParameters(a,_):v.getTranslatedString("oj-validator.range.number.messageDetail.rangeUnderflow",_)),new t.ValidatorError(g,f)},t.NumberRangeValidator.prototype.getHint=function(){var e=null,i=this._hint,n=i.inRange,r=i.min,o=i.max,s=t.Translations,a=void 0!==this._min?parseFloat(this._min):null,l=void 0!==this._max?parseFloat(this._max):null,u=a&&this._converter?this._converter.format(a):a,h=l&&this._converter?this._converter.format(l):l;return null!==a&&null!==l?e=n?s.applyParameters(n,{min:u,max:h}):s.getTranslatedString("oj-validator.range.number.hint.inRange",{min:u,max:h}):null!==a?e=r?s.applyParameters(r,{min:u}):s.getTranslatedString("oj-validator.range.number.hint.min",{min:u}):null!==l&&(e=o?s.applyParameters(o,{max:h}):s.getTranslatedString("oj-validator.range.number.hint.max",{max:h})),e},t.IntlNumberConverter=function(t){this.Init(t)},t.Object.createSubclass(t.IntlNumberConverter,t.NumberConverter,"oj.IntlNumberConverter"),t.IntlNumberConverter.prototype.Init=function(e){t.IntlNumberConverter.superclass.Init.call(this,e)},t.IntlNumberConverter.prototype._getWrapped=function(){return this._wrapped||(this._wrapped=r.getInstance()),this._wrapped},t.IntlNumberConverter.prototype.format=function(e){if(null==e||"string"==typeof e&&0===t.StringUtils.trim(""+e).length||"number"==typeof e&&isNaN(e))return t.IntlConverterUtils.__getNullFormattedValue();var i,n=t.LocaleData.__getBundle(),r=t.Config.getLocale(),o=this.resolvedOptions();try{return this._getWrapped().format(e,n,o,r)}catch(s){throw i=this._processConverterError(s,e)}},t.IntlNumberConverter.prototype.getHint=function(){return null},t.IntlNumberConverter.prototype.getOptions=function(){return t.IntlNumberConverter.superclass.getOptions.call(this)},t.IntlNumberConverter.prototype.parse=function(e){var i,n=t.LocaleData.__getBundle(),r=t.Config.getLocale(),o=this.resolvedOptions();if(null==e||""===e)return null;try{return this._getWrapped().parse(t.StringUtils.trim(e),n,o,r)}catch(s){throw i=this._processConverterError(s,e)}},t.IntlNumberConverter.prototype.resolvedOptions=function(){var e,i,n=t.Config.getLocale();if(n!==this._locale||!this._resolvedOptions){e=t.LocaleData.__getBundle();try{if(!e)return t.Logger.error("locale bundle for the current locale %s is unavailable",n),{};this._resolvedOptions=this._getWrapped().resolvedOptions(e,this.getOptions(),n),this._locale=n}catch(r){throw i=this._processConverterError(r)}}return this._resolvedOptions},t.IntlNumberConverter.prototype._processConverterError=function(e,i){var n,r,o,s,a,l,u,h=e.errorInfo;return h&&(o=h.errorCode,s=h.parameterMap,t.Assert.assertObject(s),l=s.propertyName,e instanceof TypeError?"optionTypesMismatch"!==o&&"optionTypeInvalid"!==o||(a=t.IntlConverterUtils.__getConverterOptionError(o,s)):e instanceof RangeError?"optionOutOfRange"===o&&(a=t.IntlConverterUtils.__getConverterOptionError(o,s)):e instanceof SyntaxError?"optionValueInvalid"===o&&(a=t.IntlConverterUtils.__getConverterOptionError(o,s)):e instanceof Error&&("decimalFormatMismatch"===o?u="oj-converter.number.decimalFormatMismatch.summary":"currencyFormatMismatch"===o?u="oj-converter.number.currencyFormatMismatch.summary":"percentFormatMismatch"===o?u="oj-converter.number.percentFormatMismatch.summary":"unsupportedParseFormat"===o&&(n=t.Translations.getTranslatedString("oj-converter.number.decimalFormatUnsupportedParse.summary"),r=t.Translations.getTranslatedString("oj-converter.number.decimalFormatUnsupportedParse.detail"),a=new t.ConverterError(n,r)),u&&(n=t.Translations.getTranslatedString(u,{value:i||s.value,format:s.format}),r=t.Translations.getTranslatedString("oj-converter.hint.detail",{exampleValue:this._getHintValue()}),a=new t.ConverterError(n,r)))),a||(n=e.message,r=e.message,a=new t.ConverterError(n,r)),a},t.IntlNumberConverter.prototype._getHintValue=function(){var e="";try{e=this.format(12345.98765)}catch(i){i instanceof t.ConverterError&&(e="")}finally{return e}};var r;r=function(){function t(){return{format:function(t,e,n,r){(arguments.length<=2||void 0===n)&&(n={useGrouping:!0,style:"decimal"}),u(n,"OraNumberConverter.format");var o={};return l(e,o,n,r),i(t,n,e,o,r)},parse:function(t,e,i,r){if("number"==typeof t)return t;if("[object Number]"===Object.prototype.toString.call(t))return Number(t);(arguments.length<=2||void 0===i)&&(i={useGrouping:!0,style:"decimal"});var h=t;u(i,"OraNumberConverter.parse");var c=n.getLocaleElementsMainNode(e),p={},g=n.getLanguageExtension(r,"nu");if(void 0===n.numeringSystems[g]&&(g="latn"),"latn"!==g){var f,_=[];for(f=0;f<t.length;f++){var v=n.numeringSystems[g].indexOf(t[f]);-1!==v?_.push(v):_.push(t[f])}t=_.join("")}l(e,p,i,r);var m=c.numbers[p.numberingSystem].decimal,y=c.numbers[p.numberingSystem].group,S=NaN,E=t.replace(/ /g,"");if(b.test(E))return S=parseFloat(t);var T=o(t,i,p,c),A=T[0],D=T[1];if(A=A||"+",T[2])return S=parseFloat(A+D),d(S,i,p,h);D=D.replace(/ /g,"");var I,x,O=p.exponential,M=D.indexOf(O.toLowerCase());0>M&&(M=D.indexOf(n.toUpper(O))),0>M?(x=D,I=null):(x=D.substr(0,M),I=D.substr(M+O.length));var R,w,P=m,L=x.indexOf(P);0>L?(R=x,w=null):(R=x.substr(0,L),w=x.substr(L+P.length));var N=y;R=R.split(N).join("");var k=N.replace(/\u00A0/g," ");N!==k&&(R=R.split(k).join(""));var H=A+R;if(null!==w&&(H+="."+w),null!==I){var F=a(I,c,p);H+="e"+(F[0]||"+")+F[1]}return C.test(H)?S=parseFloat(H):(H=s(t,p,c),S=parseFloat(H[0]+H[1])),d(S,i,p,h)},resolvedOptions:function(t,e,i){(arguments.length<3||void 0===i)&&(i=n.getLocaleElementsMainNodeKey(t)),(arguments.length<2||void 0===e)&&(e={useGrouping:!0,style:"decimal"});var r={};u(e,"OraNumberConverter.resolvedOptions"),l(t,r,e,i),r.numberingSystemKey=n.getLanguageExtension(i,"nu"),void 0===n.numeringSystems[r.numberingSystemKey]&&(r.numberingSystemKey="latn");var o={locale:i,style:void 0===e.style?"decimal":e.style,useGrouping:void 0===e.useGrouping?!0:e.useGrouping,minimumIntegerDigits:r.minimumIntegerDigits,minimumFractionDigits:r.minimumFractionDigits,maximumFractionDigits:r.maximumFractionDigits,numberingSystem:r.numberingSystemKey};return"decimal"===e.style&&void 0!==e.decimalFormat&&(o.decimalFormat=e.decimalFormat),"currency"===e.style&&(o.currency=e.currency,o.currencyDisplay=void 0===e.currencyDisplay?"symbol":e.currencyDisplay),void 0!==e.pattern&&(o.pattern=e.pattern),o}}}var e,i,r,o,s,a,l,u,h,c,p,d,g,f,_,v,m,y,S,E,T,b=/^[+\-]?infinity$/i,C=/^[+\-]?\d*\.?\d*(e[+\-]?\d+)?$/,A=/([^+-.0-9]*)([+\-]?\d*\.?\d*(E[+\-]?\d+)?).*$/,D=/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,I=/(^0\.0*)([^0].*$)/,x={trillion:[1e14,1e13,1e12],billion:[1e11,1e10,1e9],million:[1e8,1e7,1e6],thousand:[1e5,1e4,1e3]},O={trillion:1e12,billion:1e9,million:1e6,thousand:1e3};e=function(t,e,i){var n;for(n=t.length;e>n;n+=1)t=i?"0"+t:t+"0";return t},c=function(t,e,i,n){var r=t+" is out of range.  Enter a value between "+e+" and "+i+" for "+n,o=new RangeError(r),s={errorCode:"numberOptionOutOfRange",parameterMap:{value:t,minValue:e,maxValue:i,propertyName:n}};throw o.errorInfo=s,o},p=function(t,e,i,n,r){var o=t[e];return void 0!==o?(o=Number(o),(isNaN(o)||i>o||o>n)&&c(o,i,n,e),Math.floor(o)):r},l=function(t,e,i,o){var s,a=n.getLocaleElementsMainNode(t),l=n.getNumberingSystemKey(a,o);if(e.numberingSystemKey=l,e.numberingSystem="symbols-numberSystem-"+l,void 0!==i.pattern&&i.pattern.length>0)s=i.pattern;else{var u;switch(i.style){case"decimal":u="decimalFormats-numberSystem-";break;case"currency":u="currencyFormats-numberSystem-";break;case"percent":u="percentFormats-numberSystem-";break;default:u="decimalFormats-numberSystem-"}u+=e.numberingSystemKey,s=a.numbers[u].standard;var h=i.decimalFormat;void 0!==h&&(e.shortDecimalFormat=a.numbers[u][h].decimalFormat)}var c=n.getLocaleElementsMainNodeKey(t),d=n.parseBCP47(c),g=d.language.language;e.plurals=t.supplemental.plurals,e.lang=g,e.pat=s,e.minusSign=a.numbers[e.numberingSystem].minusSign,e.decimalSeparator=a.numbers[e.numberingSystem].decimal,e.exponential=a.numbers[e.numberingSystem].exponential,e.groupingSeparator=a.numbers[e.numberingSystem].group,e.currencyDisplay=i.currencyDisplay,void 0!==i.currency&&(e.currencyCode=i.currency.toUpperCase()),e.style=i.style,r(i,s,a,e),void 0===i.pattern&&(e.minimumIntegerDigits=p(i,"minimumIntegerDigits",1,21,e.minimumIntegerDigits),void 0!==i.maximumFractionDigits&&(e.maximumFractionDigits=p(i,"maximumFractionDigits",0,20,e.maximumFractionDigits),e.maximumFractionDigits<e.minimumFractionDigits&&(e.minimumFractionDigits=e.maximumFractionDigits)),void 0!==i.minimumFractionDigits&&(e.minimumFractionDigits=p(i,"minimumFractionDigits",0,20,e.minimumFractionDigits)),e.maximumFractionDigits<e.minimumFractionDigits&&(e.maximumFractionDigits=e.minimumFractionDigits))},h=function(t){var e=new TypeError('The property "currency" is required whenthe property "'+t+'" is "currency". An accepted value is a three-letter ISO 4217 currency code.'),i={errorCode:"optionTypesMismatch",parameterMap:{propertyName:t,propertyValue:"currency",requiredPropertyName:"currency",requiredPropertyValueValid:"a three-letter ISO 4217 currency code"}};throw e.errorInfo=i,e},g=function(){var t,e,i="unsupportedParseFormat",n="long and short decimalFormats are not supported for parsing";throw t=new Error(n),e={errorCode:i,parameterMap:{value:"decimal"}},t.errorInfo=e,t},u=function(t,e){var i=n.getGetOption(t,e),r=i("style","string",["currency","decimal","percent","perMill"],"decimal");"decimal"===r&&(r=i("decimalFormat","string",["standard","short","long"]),"OraNumberConverter.parse"===e&&void 0!==r&&"standard"!==r&&g());var o=i("currency","string");"currency"===r&&void 0===o&&h("style")},v=function(t,e,i){function n(t){var e=0,i=0,n=0,r="";if("0"!==t[0]){for(;"0"!==t[e]&&e<t.length;)e++;r=t.substr(0,e),n=e}for(e=n;e<t.length&&"0"===t[e];e++)i++;return[r,i]}function r(t){var e,i,n;for(e in x)for(n=x[e].length,i=0;n>i;i++)if(x[e][i]<=t)return[e,x[e][i]];return[t,null]}var o=r(t),s="";if(null!==o[1]){var a=i.lang,l=i.plurals[a](Math.floor(t/O[o[0]])),u=""+o[1]+"-count-"+l;u=i.shortDecimalFormat[u],void 0===u&&(l="other",u=""+o[1]+"-count-"+l,u=i.shortDecimalFormat[u]);var h=n(u),c=h[1];if(s=h[0],c<u.length){var p=1*Math.pow(10,c);p=o[1]/p*10,t/=p}}var d="";return void 0!==u&&(d=u.substr(c+h[0].length)),d=s+f(t,e,i)+d},_=function(t,i){var n=t+"",r=0,o=n.split(/e/i),s=o[0];I.lastIndex=0;var a=I.exec(s);null!==a?(r=a[1].length-1,s=a[2]):s=s.replace(".","");var l=o.length>1?parseInt(o[1],10):0,u=parseInt(s,10),h=i.minimumIntegerDigits+i.maximumFractionDigits;if(s.length>h){h-=s.length;var c=Math.pow(10,h);u=Math.round(u*c)}var p=i.minimumIntegerDigits+i.minimumFractionDigits;u+="",u=e(u,p,!1),l-=-1!==n.indexOf(".")?i.minimumIntegerDigits-n.indexOf(".")+r:p-s.length-i.minimumFractionDigits;var d=Math.abs(l);d=e(d+"",i.minExponentDigits,!0),0>l&&(d=i.minusSign+d);var g=u.slice(0,i.minimumIntegerDigits),f=u.slice(i.minimumIntegerDigits);return g+=f.length>0?i.decimalSeparator+u.slice(i.minimumIntegerDigits)+i.exponential+d:i.exponential+d},f=function(t,i,n){var r=n.groupingSize,o=t+"",s=o.split(/e/i),a=s.length>1?parseInt(s[1],10):0;o=s[0],s=o.split(".");var l=s.length>1?s[1]:"";if(s.length>1&&l.length>a){var u=Math.min(n.maximumFractionDigits,l.length-a),h=Math.pow(10,u),c=Math.round(t*h)/h;isFinite(c)||(c=t),t=c}o=t+"",s=o.split(/e/i),a=s.length>1?parseInt(s[1],10):0,o=s[0],s=o.split("."),o=s[0],l=s.length>1?s[1]:"",a>0?(l=e(l,a,!1),o+=l.slice(0,a),l=l.substr(a)):0>a&&(a=-a,o=e(o,a+1,!0),l=o.slice(-a,o.length)+l,o=o.slice(0,-a)),l=u>0?n.decimalSeparator+(l.length>u?l.slice(0,u):e(l,u,!1)):n.minimumFractionDigits>0?n.decimalSeparator:"";var p=n.decimalSeparator.length+n.minimumFractionDigits;l=e(l,p,!1);var d=n.groupingSeparator,g="";i.useGrouping===!1&&void 0===i.pattern&&(d=""),o=e(o,n.minimumIntegerDigits,!0);var f=o.length-1;l=l.length>1?l:"";for(var _;f>=0;){if(0===r||r>f)return _=o.slice(0,f+1)+(g.length?d+g+l:l);g=o.slice(f-r+1,f+1)+(g.length?d+g:""),f-=r}return _=o.slice(0,f+1)+d+g+l},i=function(t,e,i,r,o){var s=n.getLocaleElementsMainNode(i);if(!isFinite(t))return t===1/0?s.numbers[r.numberingSystem].infinity:t===-(1/0)?s.numbers[r.numberingSystem].infinity:s.numbers[r.numberingSystem].nan;var a=Math.abs(t);r.isPercent===!0||"percent"===e.style?a*=100:r.isPerMill===!0&&(a*=1e3),a="decimal"===e.style&&void 0!==e.decimalFormat&&"standard"!==e.decimalFormat?v(a,e,r):r.useExponentialNotation===!0?_(a,r):f(a,e,r);var l="";l+=0>t?r.negativePrefix+a+r.negativeSuffix:r.positivePrefix+a+r.positiveSuffix;var u=n.getLanguageExtension(o,"nu");if(void 0===n.numeringSystems[u]&&(u="latn"),"latn"!==u){var h,c=[];for(h=0;h<l.length;h++)l[h]>="0"&&l[h]<="9"?c.push(n.numeringSystems[u][l[h]]):c.push(l[h]);return c.join("")}return l},o=function(t,e,i,r){var o,a=n.trimNumber(t),l="",u=!1,h=r.numbers[i.numberingSystem].plusSign,c=new RegExp("^"+h.replace(D,"\\$1"));a=a.replace(c,"");var p=n.trimNumber(i.positivePrefix),d=n.trimNumber(i.positiveSuffix),g=n.trimNumber(i.negativePrefix),f=n.trimNumber(i.negativeSuffix),_=new RegExp("^"+(p||"").replace(D,"\\$1")),v=new RegExp((d||"").replace(D,"\\$1")+"$"),m=new RegExp("^"+(g||"").replace(D,"\\$1")),y=new RegExp((f||"").replace(D,"\\$1")+"$");if(m.test(a)===!0&&y.test(a)===!0)a=a.replace(m,""),a=a.replace(y,""),l="-",u=!0;else if(_.test(a)===!0&&v.test(a)===!0)a=a.replace(_,""),a=a.replace(v,""),l="+",u=!0;else if("currency"===e.style){var S,E,T,b,C,A=i.currencyCode,I=A;void 0!==r.numbers.currencies[A]&&(I=r.numbers.currencies[A].symbol),void 0===i.currencyDisplay||"symbol"===i.currencyDisplay?C=I:"code"===i.currencyDisplay&&(C=A),void 0!==C&&(S=(p||"").replace(C,""),E=(d||"").replace(C,""),T=(g||"").replace(C,""),b=(f||"").replace(C,""),_=new RegExp(("^"+S).replace(D,"\\$1")),v=new RegExp(E.replace(D,"\\$1")+"$"),m=new RegExp(("^"+T).replace(D,"\\$1")),y=new RegExp(b.replace(D,"\\$1")+"$"),m.test(a)===!0&&y.test(a)===!0?(a=a.replace(m,""),a=a.replace(y,""),l="-",u=!0):_.test(a)===!0&&v.test(a)===!0&&(a=a.replace(_,""),a=a.replace(v,""),l="+",u=!0))}return u?o=[l,a]:(o=s(a,i,r),o[2]=!0),o},s=function(t,e,i){var r=i.numbers[e.numberingSystem].group,o=i.numbers[e.numberingSystem].decimal,s=i.numbers[e.numberingSystem].minusSign,a="+",l="-",u="",h="",c=n.toUpper(i.numbers[e.numberingSystem].exponential);t=n.toUpper(t),t=t.split(c).join("E");var p=r;t=t.split(p).join("");var d=p.replace(/\u00A0/g," ");p!==d&&(t=t.split(d).join("")),t=t.split(o).join("."),"."===t.charAt(0)&&(t=t.substr(1),h="."),t=t.replace(s,l);var g=A.exec(t),f=h+g[2];return n.startsWith(f,l)?(f=f.substr(l.length),u="-"):n.startsWith(t,a)&&(f=f.substr(a.length),u="+"),[u,f]},a=function(t,e,i){var r,o=e.numbers[i.numberingSystem].minusSign,s=e.numbers[i.numberingSystem].plusSign;return t=n.trimNumber(t),o=n.trimNumber(o),s=n.trimNumber(s),n.startsWith(t,o)?r=["-",t.substr(o.length)]:n.startsWith(t,n.trimNumber(s))&&(r=["+",t.substr(s.length)]),r||["",t]};var M,R,w,P,L="0",N=",",k=".",H="%",F="",B="#",U=";",G="E",j="-",V="'",Y="",W=2147483647,K=2147483647;return T=function(t){var e,i,n,r="#,##0.###";throw e='Unexpected character(s) encountered in the pattern "'+t+' An example of a valid pattern is "'+r+'".',i=new SyntaxError(e),n={errorCode:"optionValueInvalid",parameterMap:{propertyName:"pattern",propertyValue:t,propertyValueHint:r}},i.errorInfo=n,i},y=function(t,e,i){var n=t.substr(e,i.length),r=new RegExp(i,"i");return null!==r.exec(n)},E=function(t,e){var i={};null!==M&&(e.positivePrefix=S(M,t,e,i)),null!==R&&(e.positiveSuffix=S(R,t,e,i)),null!==w&&(e.negativePrefix=S(w,t,e,i)),null!==P&&(e.negativeSuffix=S(P,t,e,i)),void 0!==i.name&&(e.positiveSuffix=""+i.name,e.positivePrefix="","ar"===e.lang?(e.negativeSuffix=t.numbers[e.numberingSystem].minusSign+""+i.name,e.negativePrefix=""):(e.negativeSuffix=""+i.name,e.negativePrefix=t.numbers[e.numberingSystem].minusSign))},S=function(t,e,i,n){for(var r="",o=0;o<t.length;){var s=t.charAt(o++);if(s!==V){switch(s){case Y:var a=i.currencyCode,l=a,u=a;void 0!==e.numbers.currencies[a]&&(l=e.numbers.currencies[a].displayName,u=e.numbers.currencies[a].symbol),void 0===i.currencyDisplay||"symbol"===i.currencyDisplay?s=u:"code"===i.currencyDisplay?s=a:(s=l,n.name=s);break;case H:s=e.numbers[i.numberingSystem].percentSign;break;case F:s=e.numbers[i.numberingSystem].perMille;break;case j:s=e.numbers[i.numberingSystem].minusSign}r=r.concat(s)}}return r},r=function(t,e,i,n){for(var r=!1,o=!1,s=0,a=0,l=!0,u=1;u>=0&&a<e.length;--u){var c,p=!1,d="",g="",f=-1,_=1,v=0,m=0,S=0,b=-1,C=0;l=!0;for(var A=a;A<e.length;++A){var D=e.charAt(A);switch(C){case 0:case 2:if(p){if(D===V){A+1<e.length&&e.charAt(A+1)===V?(++A,l?d=d.concat("''"):g=g.concat("''")):p=!1;continue}}else{if(D===B||D===L||D===N||D===k){C=1,--A;continue}if(D===Y){void 0===t.currency&&h("pattern"),t.style="currency";var I=A+1<e.length&&e.charAt(A+1)===Y;I&&++A,l?d=d.concat(I?"'":"'"):g=g.concat(I?"'":"'");continue}if(D===V){if(D===V){A+1<e.length&&e.charAt(A+1)===V?(++A,l?d=d.concat("''"):g=g.concat("''")):p=!0;continue}}else{if(D===U){0!==C&&0!==u||T(e),a=A+1,A=e.length;continue}if(D===H){t.style="percent",1!==_&&T(e),n.isPercent=!0,_=100,l?d=d.concat("'%"):g=g.concat("'%");continue}if(D===F){1!==_&&T(e),t.style="perMill",n.isPerMill=!0,_=1e3,l?d=d.concat("'"):g=g.concat("'");continue}if(D===j){l?d=d.concat("'-"):g=g.concat("'-");continue}}}l?d=d.concat(D):g=g.concat(D);break;case 1:if(1!==u){0===--s&&(C=2,l=!1);continue}if(++s,D===B)m>0?++S:++v,b>=0&&0>f&&++b;else if(D===L)S>0&&T(e),++m,b>=0&&0>f&&++b;else if(D===N)b=0;else{if(D!==k){if(y(e,A,G)){for(o&&T(e),o=!0,c=0,A+=G.length;A<e.length&&e.charAt(A)===L;)++c,++s,++A;(1>v+m||1>c)&&T(e),C=2,l=!1,--A;continue}C=2,l=!1,--A,--s;continue}f>=0&&T(e),f=v+m+S}}}if(0===m&&v>0&&f>=0){var x=f;0===x&&++x,S=v-x,v=x-1,m=1}if((0>f&&S>0||f>=0&&(v>f||f>v+m)||0===b||p)&&T(e),1===u){M=d,R=g,w=M,P=R;var O=v+m+S,z=f>=0?f:O;n.minimumIntegerDigits=z-v,n.maximumIntegerDigits=o?v+n.minimumIntegerDigits:W,n.maximumFractionDigits=f>=0?O-f:0,n.minimumFractionDigits=f>=0?v+m-f:0,n.groupingSize=b>0?b:0}else w=d,P=g,r=!0}0===e.length&&(M=R="",n.minimumIntegerDigits=0,n.maximumIntegerDigits=W,n.minimumFractionDigits=0,n.maximumFractionDigits=K),n.useExponentialNotation=o,n.minExponentDigits=c,(!r||0===w.localeCompare(M)&&0===P.localeCompare(R))&&("currency"===t.style&&"ar"===n.lang?(P=R+"'-",w=M):(P=R,w="'-"+M)),E(i,n)},d=function(t,e,i,n){if(isNaN(t)){var r,o,s,a;switch(r="Unparsable number "+n+" The expected number pattern is "+i.pat,e.style){case"decimal":a="decimalFormatMismatch";break;case"currency":a="currencyFormatMismatch";break;case"percent":a="percentFormatMismatch"}throw o=new Error(r),s={errorCode:a,parameterMap:{value:n,format:i.pat}},o.errorInfo=s,o}return i.isPercent===!0||"percent"===e.style?t/=100:i.isPerMill===!0&&(t/=1e3),t},{getInstance:function(){return m||(m=t()),m}}}(),t.RegExpValidator=function(t){this.Init(t)},t.Object.createSubclass(t.RegExpValidator,t.Validator,"oj.RegExpValidator"),t.RegExpValidator._BUNDLE_KEY_DETAIL="oj-validator.regExp.detail",t.RegExpValidator._BUNDLE_KEY_SUMMARY="oj-validator.regExp.summary",t.RegExpValidator.prototype.Init=function(e){t.RegExpValidator.superclass.Init.call(this),this._options=e},t.RegExpValidator.prototype.validate=function(e){var i,n,r,o,s=this._options&&this._options.pattern||"";if(null===e||void 0===e||""===e)return!0;e=e?e.toString():e;var a,l,u,h="^("+s+")$",c=!1;if(u=e.match(h),null===u||u[0]!==e)throw this._options&&(n=this._options.messageSummary||null,r=this._options.messageDetail||null,i=this._options&&this._options.label||""),o={label:i,pattern:s,value:e},l=n?t.Translations.applyParameters(n,o):t.Translations.getTranslatedString(this._getSummaryKey(),o),a=r?t.Translations.applyParameters(r,o):t.Translations.getTranslatedString(this._getDetailKey(),o),new t.ValidatorError(l,a);return c=!0},t.RegExpValidator.prototype.getHint=function(){var e=null,i={};return this._options&&this._options.hint&&(i={pattern:this._options.pattern},e=t.Translations.applyParameters(this._options.hint,i)),e},t.RegExpValidator.prototype._getSummaryKey=function(){return t.RegExpValidator._BUNDLE_KEY_SUMMARY},t.RegExpValidator.prototype._getDetailKey=function(){return t.RegExpValidator._BUNDLE_KEY_DETAIL},t.IntlConverterUtils={},t.IntlConverterUtils.isoToLocalDate=function(t){return n.isoToLocalDate(t)},t.IntlConverterUtils.dateToLocalIso=function(t){return n.dateToLocalIso(t)},t.IntlConverterUtils._isoToLocalDateIgnoreTimezone=function(t){return n._isoToLocalDateIgnoreTimezone(t)},t.IntlConverterUtils._getTimeZone=function(t){return n._getTimeZone(t)},t.IntlConverterUtils.getConverterInstance=function(e){var i,n="",r={},o=null;return e&&("object"==typeof e&&(e instanceof t.Converter||e.parse&&"function"==typeof e.parse||e.format&&"function"==typeof e.format?o=e:(n=e.type,r=e.options||{})),o||(n=n||e,n&&"string"==typeof n&&(i=t.Validation.converterFactory(n),o=i.createConverter(r)))),o},t.IntlConverterUtils._minMaxIsoString=function(t,e){if(t){e=e||this.dateToLocalIso(new Date);var i=e.indexOf("T");0===t.indexOf("T")&&i>0&&(t=e.substring(0,i)+t)}return t},t.IntlConverterUtils.__getConverterOptionError=function(e,i){t.Assert.assertObject(i);var n,r,o="",s="",a=i.propertyName;return"optionTypesMismatch"===e?(n=i.requiredPropertyName,r=i.requiredPropertyValueValid,o=t.Translations.getTranslatedString("oj-converter.optionTypesMismatch.summary",{propertyName:a,propertyValue:i.propertyValue,requiredPropertyName:n}),s=t.IntlConverterUtils._getOptionValueDetailMessage(n,r)):"optionTypeInvalid"===e?(a=i.propertyName,r=i.propertyValueValid,o=t.Translations.getTranslatedString("oj-converter.optionTypeInvalid.summary",{propertyName:a}),s=t.IntlConverterUtils._getOptionValueDetailMessage(a,r)):"optionOutOfRange"===e?(o=t.Translations.getTranslatedString("oj-converter.optionOutOfRange.summary",{propertyName:a,propertyValue:i.propertyValue}),r=i.propertyValueValid,s=t.IntlConverterUtils._getOptionValueDetailMessage(a,r)):"optionValueInvalid"===e&&(o=t.Translations.getTranslatedString("oj-converter.optionValueInvalid.summary",{propertyName:a,propertyValue:i.propertyValue}),r=i.propertyValueHint,s=t.IntlConverterUtils._getOptionValueDetailMessage(a,r)),new t.ConverterError(o,s)},t.IntlConverterUtils._getOptionValueDetailMessage=function(e,i){var n;return i?("string"==typeof i?n="oj-converter.optionHint.detail":(n="oj-converter.optionHint.detail-plural",i=i.join(t.Translations.getTranslatedString("oj-converter.plural-separator"))),t.Translations.getTranslatedString(n,{propertyName:e,propertyValueValid:i})):""},t.IntlConverterUtils.__getNullFormattedValue=function(){return""};var o;o=function(){function t(){return{format:function(t,e,i,r){var o;if("number"==typeof t)o=new Date(t);else{if("string"!=typeof t)return null;if(""===n.trim(t))return null;o=n.isoToLocalDate(t)}(arguments.length<=2||void 0===i)&&(i={year:"numeric",month:"numeric",day:"numeric"});var a=s(o,e,i),l=n.getLanguageExtension(r,"nu");if(void 0===n.numeringSystems[l]&&(l="latn"),"latn"!==l){var u,h=[];for(u=0;u<a.length;u++)a[u]>="0"&&a[u]<="9"?h.push(n.numeringSystems[l][a[u]]):h.push(a[u]);return h.join("")}return a},formatRelative:function(t,e,i){return l(t,e,i)},parse:function(t,e,i,n){return a(t,e,i,n)},resolvedOptions:function(t,e,r){(arguments.length<3||void 0===r)&&(r=n.getLocaleElementsMainNodeKey(t)),(arguments.length<2||void 0===e)&&(e={year:"numeric",month:"numeric",day:"numeric"});var s,a=!1,l=n.getLanguageExtension(r,"nu");if(void 0===n.numeringSystems[l]&&(l="latn"),void 0!==e&&void 0!==e.pattern)return s=h(r,l,e.pattern),s.pattern=e.pattern,s;if(void 0!==e){s={locale:r,numberingSystem:l,calendar:"gregorian"};var u=0;for(u in e)u++;if(0==u)return s.year="numeric",s.month="numeric",s.day="numeric",s;var c=n.getGetOption(e,"OraDateTimeConverter.resolvedOptions"),g=c("year","string",["2-digit","numeric"]);if(void 0!==g&&(s.year=g,a=!0),g=c("era","string",["narrow","short","long"]),void 0!==g&&(s.era=g,a=!0),g=c("month","string",["2-digit","numeric","narrow","short","long"]),void 0!==g&&(s.month=g,a=!0),g=c("day","string",["2-digit","numeric"]),void 0!==g&&(s.day=g,a=!0),g=c("weekday","string",["narrow","short","long"]),void 0!==g&&(s.weekday=g,a=!0),g=c("hour","string",["2-digit","numeric"]),void 0!==g&&(s.hour=g,a=!0,g=c("hour12","boolean",[!0,!1]),void 0===g&&(g=d(t)),s.hour12=g),g=c("minute","string",["2-digit","numeric"]),void 0!==g&&(s.minute=g,a=!0),g=c("second","string",["2-digit","numeric"]),void 0!==g&&(s.second=g,a=!0),s["two-digit-year-start"]=p(e),!a){var _=f(e,t,o.resolvedOptions),v=c("formatType","string",["date","time","datetime"],"date"),m=c("dateFormat","string",["short","medium","long","full"],"short"),y=c("timeFormat","string",["short","medium","long","full"],"short");return s.formatType=v,"datetime"!==v&&"date"!==v||(s.dateFormat=m),"datetime"!==v&&"time"!==v||(s.timeFormat=y),s.patternFromOptions=_,s}return s.patternFromOptions=i(e,t,"OraDateTimeConverter.resolvedOptions"),s}var S={year:"numeric",month:"numeric",day:"numeric"},E=i(S,t,"OraDateTimeConverter.resolvedOptions");return{calendar:"gregorian",locale:r,numberingSystem:l,year:"numeric",month:"numeric",day:"numeric",patternFromOptions:E}},calculateWeek:function(t){var e,i=n.isoToLocalDate(t),r=new Date(i.getTime());return r.setDate(r.getDate()+4-(r.getDay()||7)),e=r.getTime(),r.setMonth(0),r.setDate(1),Math.floor(Math.round((e-r)/864e5)/7)+1}}}var e,i,r,s,a,l,u,h,c,p,d,g,f,_,v,m,y,S,E,T,b,C,A,D,I,x,O,M,R,w,P,L,N,k,H,F,B,U,G,j,V,Y,W,K,z,X,q,Z,$,J,Q,tt,et,it,nt={},rt=/(\d{1,4})\D+?(\d{1,4})/g,ot=/(\d{1,4})\D+?(\d{1,4})\D+?(\d{1,4})/g,st=/^[M][^M]|[^M]M[^M]/g,at=/^[L][^L]|[^L]L[^L]/g,lt=/^[d][^d]|[^d]d[^d]/g,ut=/(?:^|[^h])h[^h]|[^H]H[^H]|[^k]k[^k]|[^K]K[^K]/,ht=/(\d{1,2})(?:\D+?(\d{1,2}))?(?:\D+?(\d{1,2}))?(?:\D+?(\d{1,3}))?/g,ct=/h|H|K|k/g,pt=/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,dt=/ccccc|cccc|ccc|cc|c|EEEEE|EEEE|EEE|EE|E|dd|d|MMMMM|MMMM|MMM|MM|M|LLLLL|LLLL|LLL|LL|L|yyyy|yy|y|hh|h|HH|H|KK|K|kk|k|mm|m|ss|s|aa|a|SSS|SS|S|zzzz|zzz|zz|z|GGGGG|GGGG|GGG|GG|G/g,gt=/\s?(?:\(|\[)??z{1,4}(?:\)|\])?/g,ft={0:"sun",1:"mon",2:"tue",3:"wed",4:"thu",5:"fri",6:"sat"},_t="(\\D+|\\d\\d?\\D|\\d\\d?|\\D+\\d\\d?)",vt="(\\D+|\\D+\\d\\d?)",mt="(\\D*)",yt="(\\d\\d?)",St="(\\d{1,3})",Et="(\\d{1,4})",Tt="([+-]?\\d{1,4})",bt="(\\/)",Ct={MMM:{token:"months",style:"format",mLen:"abbreviated",matchIndex:0,key:"month",value:"short",regExp:_t},MMMM:{token:"months",style:"format",mLen:"wide",matchIndex:0,key:"month",value:"long",regExp:_t},MMMMM:{token:"months",style:"format",mLen:"narrow",matchIndex:0,key:"month",value:"narrow",regExp:_t},LLL:{token:"months",style:"stand-alone",mLen:"abbreviated",matchIndex:1,key:"month",value:"short",regExp:_t},LLLL:{token:"months",style:"stand-alone",mLen:"wide",matchIndex:1,key:"month",value:"long",regExp:_t},LLLLL:{token:"months",style:"stand-alone",mLen:"narrow",matchIndex:1,key:"month",value:"narrow",regExp:_t},E:{token:"days",style:"format",dLen:"abbreviated",matchIndex:0,key:"weekday",value:"short",regExp:vt},EE:{token:"days",style:"format",dLen:"abbreviated",matchIndex:0,key:"weekday",value:"short",regExp:vt},EEE:{token:"days",style:"format",dLen:"abbreviated",matchIndex:0,key:"weekday",value:"short",regExp:vt},EEEE:{token:"days",style:"format",dLen:"wide",matchIndex:0,key:"weekday",value:"long",regExp:vt},EEEEE:{token:"days",style:"format",dLen:"narrow",matchIndex:0,key:"weekday",value:"narrow",regExp:vt},c:{token:"days",style:"stand-alone",dLen:"abbreviated",matchIndex:1,key:"weekday",value:"short",regExp:vt},cc:{token:"days",style:"stand-alone",dLen:"abbreviated",matchIndex:1,key:"weekday",value:"short",regExp:vt},ccc:{token:"days",style:"stand-alone",dLen:"abbreviated",matchIndex:1,key:"weekday",value:"short",regExp:vt},cccc:{token:"days",style:"stand-alone",dLen:"wide",matchIndex:1,key:"weekday",value:"long",regExp:vt},ccccc:{token:"days",style:"stand-alone",dLen:"narrow",matchIndex:1,key:"weekday",value:"narrow",regExp:vt},h:{token:"time",timePart:"hour",start1:0,end1:11,start2:1,end2:12,key:"hour",value:"numeric",regExp:yt},hh:{token:"time",timePart:"hour",start1:0,end1:11,start2:1,end2:12,key:"hour",value:"2-digit",regExp:yt},K:{token:"time",timePart:"hour",start1:0,end1:11,start2:0,end2:11,key:"hour",value:"numeric",regExp:yt},KK:{token:"time",timePart:"hour",start1:0,end1:11,start2:0,end2:11,key:"hour",value:"2-digit",regExp:yt},H:{token:"time",timePart:"hour",start1:0,end1:23,start2:0,end2:23,key:"hour",value:"numeric",regExp:yt},HH:{token:"time",timePart:"hour",start1:0,end1:23,start2:0,end2:23,key:"hour",value:"2-digit",regExp:yt},k:{token:"time",timePart:"hour",start1:0,end1:23,start2:1,end2:24,key:"hour",value:"numeric",regExp:yt},kk:{token:"time",timePart:"hour",start1:0,end1:23,start2:1,end2:24,key:"hour",value:"2-digit",regExp:yt},m:{token:"time",timePart:"minute",start1:0,end1:59,start2:0,end2:59,key:"minute",value:"numeric",regExp:yt},mm:{token:"time",timePart:"minute",start1:0,end1:59,start2:0,end2:59,key:"minute",value:"2-digit",regExp:yt},s:{token:"time",timePart:"second",start1:0,end1:59,start2:0,end2:59,key:"second",value:"numeric",regExp:yt},ss:{token:"time",timePart:"second",start1:0,end1:59,start2:0,end2:59,key:"second",value:"2-digit",regExp:yt},S:{token:"time",timePart:"millisec",start1:0,end1:999,start2:0,end2:999,key:"millisecond",value:"numeric",regExp:St},SS:{token:"time",timePart:"millisec",start1:0,end1:999,start2:0,end2:999,key:"millisecond",value:"numeric",regExp:St},SSS:{token:"time",timePart:"millisec",start1:0,end1:999,start2:0,end2:999,key:"millisecond",value:"numeric",regExp:St},d:{token:"dayOfMonth",key:"day",value:"numeric",getPartIdx:2,regExp:yt},dd:{token:"dayOfMonth",key:"day",value:"2-digit",getPartIdx:2,regExp:yt},M:{token:"monthIndex",key:"month",value:"numeric",getPartIdx:1,regExp:yt},MM:{token:"monthIndex",key:"month",value:"2-digit",getPartIdx:1,regExp:yt},L:{token:"monthIndex",key:"month",value:"numeric",getPartIdx:1,regExp:yt},LL:{token:"monthIndex",key:"month",value:"2-digit",getPartIdx:1,regExp:yt},y:{token:"year",key:"year",value:"numeric",regExp:Et},yy:{token:"year",key:"year",value:"2-digit",regExp:yt},yyyy:{token:"year",key:"year",value:"numeric",regExp:Et},a:{token:"ampm",key:"hour12",value:!0,regExp:mt},z:{token:"tz",key:"timeZoneName",value:"short",regExp:Tt},zz:{token:"tz",key:"timeZoneName",value:"short",regExp:Tt},zzz:{token:"tz",key:"timeZoneName",value:"short",regExp:Tt},zzzz:{token:"tz",key:"timeZoneName",value:"long",regExp:Tt},G:{token:"era",key:"era",value:"short",regExp:vt},GG:{token:"era",key:"era",value:"short",regExp:vt},GGG:{token:"era",key:"era",value:"short",regExp:vt},GGGG:{token:"era",key:"era",value:"long",regExp:vt},GGGGG:{token:"era",key:"era",value:"narrow",regExp:vt},"/":{token:"slash",regExp:bt}};return p=function(t){var e=t["two-digit-year-start"];return(void 0===e||isNaN(e))&&(e=1950),e=parseInt(e,10)},d=function(t){var e=n.getLocaleElementsMainNodeKey(t),i=n.parseBCP47(e),r=i.region||"001",o=t.supplemental.prefferedHours,s=o[r];return"h"===s},_=function(t){return t%400==0?!0:t%100==0?!1:t%4==0},v=function(t,e){switch(e){case 0:case 2:case 4:case 6:case 7:case 9:case 11:return 31;case 1:return _(t)?29:28;default:
return 30}},f=function(t,e,i){var r,o,s,a=n.getLocaleElementsMainNode(e),l=n.getGetOption(t,i),u=l("formatType","string",["date","time","datetime"],"date"),h=l("dateFormat","string",["short","medium","long","full"],"short"),c=l("timeFormat","string",["short","medium","long","full"],"short"),p=a.dates.calendars.gregorian,d=p.dateFormats,g=p.timeFormats;switch(h){case"full":r=d.full;break;case"long":r=d["long"];break;case"medium":r=d.medium;break;case"short":r=d["short"]}switch(c){case"full":o=g.full;break;case"long":o=g["long"];break;case"medium":o=g.medium;break;case"short":o=g["short"]}return void 0===r||"datetime"!==u&&"date"!==u||(s=r),void 0===o||"datetime"!==u&&"time"!==u||(o=o.replace(gt,""),s=s?s+" "+o:o),s},e=function(t,e){for(var i=0,n=!1,r=0,o=t.length;o>r;r++){var s=t.charAt(r);switch(s){case"'":n?e.push("'"):i++,n=!1;break;case"\\":n&&e.push("\\"),n=!n;break;default:e.push(s),n=!1}}return i},u=function(t,e,i){var n,r,o,s,a=void 0!==e.year||void 0!==e.month||void 0!==e.weekday||void 0!==e.day,l=void 0!==e.hour||void 0!==e.minute||void 0!==e.second;throw s=a&&l?"MM/dd/yy hh:mm:ss a":a?"MM/dd/yy":"hh:mm:ss a",n="Unexpected character(s) "+i+' encountered in the pattern "'+t+' An example of a valid pattern is "'+s+'".',r=new SyntaxError(n),o={errorCode:"optionValueInvalid",parameterMap:{propertyName:"pattern",propertyValue:t,"propertyValueHint ":s}},r.errorInfo=o,r},T=function(t,e,i,r){var o,s,a=n.getLocaleElementsMainNode(e),l=a.dates.calendars.gregorian.dateTimeFormats.availableFormats,u=["weekday","era","year","month","day","hour","minute","second","timeZoneName"],h={"2-digit":0,numeric:1,narrow:2,"short":3,"long":4},c=120,p=20,d=8,g=6,f=6,_=3,v=-(1/0),m=void 0;for(var y in l){s=!1;var S={};S.pattern=l[y];for(var E=0;null!==(o=dt.exec(y));){var T=o[0];("h"!==T&&"hh"!==T||r)&&("H"!==T&&"HH"!==T||!r)?void 0!==Ct[T]&&(S[Ct[T].key]=Ct[T].value):s=!0}if(!s){for(var b in u){var C=t[u[b]],A=S[u[b]];if(void 0===C&&void 0!==A)E-=p;else if(void 0!==C&&void 0===A)E-=c;else if(void 0!==C&&void 0!==A){var D=h[C],I=h[A],x=Math.max(Math.min(I-D,2),-2);2===x?E-=g:1===x?E-=_:-1===x?E-=f:-2===x&&(E-=d)}}E>v&&(v=E,m=S)}}return void 0!==m?m.pattern:null},y=function(t,e,i){var r="",o="",s={},a={},l=n.getGetOption(t,i),u=l("era","string",["narrow","short","long"]);r+=b(s,"era",u,{narrow:"GGGGG","short":"GGG","long":"GGGG"}),u=l("year","string",["2-digit","numeric"]),r+=b(s,"year",u,{"2-digit":"yy",numeric:"y"}),u=l("month","string",["2-digit","numeric","narrow","short","long"]),r+=b(s,"month",u,{"2-digit":"MM",numeric:"M",narrow:"MMMMM","short":"MMM","long":"MMMM"}),u=l("weekday","string",["narrow","short","long"]),r+=b(s,"weekday",u,{narrow:"EEEEE","short":"E","long":"EEEE"}),u=l("day","string",["2-digit","numeric"]),r+=b(s,"day",u,{"2-digit":"dd",numeric:"d"});var h=l("hour12","boolean",[!0,!1]);return void 0===h&&(h=d(e)),u=l("hour","string",["2-digit","numeric"]),o+=h===!0?b(a,"hour",u,{"2-digit":"hh",numeric:"h"}):b(a,"hour",u,{"2-digit":"HH",numeric:"H"}),u=l("minute","string",["2-digit","numeric"]),o+=b(a,"minute",u,{"2-digit":"mm",numeric:"m"}),u=l("second","string",["2-digit","numeric"]),o+=b(a,"second",u,{"2-digit":"ss",numeric:"s"}),[r,o,s,a]},b=function(t,e,i,n){return void 0!==i?(t[e]=i,n[i]):""},S=function(t,e,i){var r,o=t,s=n.getGetOption(e,i),a=s("year","string",["2-digit","numeric"]),l={"2-digit":"yy",numeric:"yyyy"};if(void 0!==a&&(o=o.replace(/y{1,4}/,l[a])),a=s("month","string",["2-digit","numeric","narrow","short","long"]),void 0!==a){l={"2-digit":"MM",numeric:"M",narrow:"MMMMM","short":"MMM","long":"MMMM"};var u={"2-digit":"LL",numeric:"L",narrow:"LLLLL","short":"LLL","long":"LLLL"};void 0!==l[a]&&l[a].length>2?(o=o.replace(/M{3,5}/,l[a]),o=o.replace(/L{3,5}/,u[a])):"2-digit"===a&&(st.lastIndex=0,r=st.test(t),r&&(o=o.replace("M","MM")),r=at.test(t),r&&(o=o.replace("L","LL")))}if(a=s("weekday","string",["narrow","short","long"]),void 0!==a){var h={narrow:"EEEEE","short":"EEE","long":"EEEE"},c={narrow:"ccccc","short":"ccc","long":"cccc"};o=o.replace(/E{1,5}/,h[a]),o=o.replace(/c{1,5}/,c[a])}return a=s("day","string",["2-digit","numeric"]),void 0!==a&&"2-digit"===a&&(lt.lastIndex=0,r=lt.test(t),r&&(o=o.replace("d","dd"))),o},E=function(t,e,i){var r=t,o=n.getGetOption(e,i),s=o("hour","string",["2-digit","numeric"]);if("2-digit"===s){ut.lastIndex=0;var a=ut.exec(t);if(null!==a){var l=a[0].length-2,u=a[0][l]+a[0][l];r=t.replace(a[0][l],u)}}return r},$=function(t,e,i){var n,r=0;for(n in e)r++;if(r>1)return null;var o;for(n=t.length;n>0;n--)if(o=i[t.substr(0,n)],void 0!==o)return o;return t},i=function(t,e,i){var r,o=n.getLocaleElementsMainNode(e),s=n.getLocaleElementsMainNodeKey(e),a=n.getGetOption(t,i),l=a("formatMatcher","string",["basic","munger"],"munger"),u=0;for(u in t)u++;0==u&&(t={year:"numeric",month:"numeric",day:"numeric"});var h=y(t,e,i);if(void 0!==nt[s]){var c=nt[s].dates.calendars.gregorian.dateTimeFormats[h[0]+h[1]];if(void 0!==c)return c}if(""===h[0]&&""===h[1])return f(t,e,i);var p=o.dates.calendars.gregorian.dateTimeFormats.availableFormats,g=p[h[0]],_=a("hour12","boolean",[!0,!1]);void 0===_&&(_=d(e)),void 0===g&&""!==h[0]&&(g=$(h[0],h[2],p),null===g&&(g=T(h[2],e,!0,_)),null!==g?"basic"!==l&&(g=S(g,t,i)):g=h[0]);var v=p[h[1]];return void 0===v&&""!==h[1]&&(v=$(h[1],h[3],p),null===v&&(v=T(h[3],e,!0,_)),null!==v?"basic"!==l&&(v=E(v,t,i)):v=h[1]),r=g||"",void 0!==v&&(""!==r?r+=" "+v:r=v),void 0===nt[s]&&(nt[s]={},nt[s].dates={},nt[s].dates.calendars={},nt[s].dates.calendars.gregorian={},nt[s].dates.calendars.gregorian.dateTimeFormats={}),nt[s].dates.calendars.gregorian.dateTimeFormats[h[0]+h[1]]=r,r},s=function(t,r,o){function s(t,e){switch(e){case 0:return t.getFullYear();case 1:return t.getMonth()+1;case 2:return t.getDate();case 3:return ft[t.getDay()]}}function a(t,e,i,r){var o=s(e,i);t.push(r>1?n.padZeros(o,r):o)}function l(t,e,i,r,o){var s;switch(r.timePart){case"hour":s=11===r.end1?e.getHours()%12:e.getHours(),"h"===o||"hh"===o?0===s&&(s=12):"k"!==o&&"kk"!==o||0===s&&(s=24);break;case"minute":s=e.getMinutes();break;case"second":s=e.getSeconds();break;case"millisec":s=e.getMilliseconds()}t.push(i>1?n.padZeros(s,i):s)}var h,c=n.getLocaleElementsMainNode(r),p=o.pattern||i(o,r,"OraDateTimeConverter.format");h=[];for(var d,g=0,f=c.dates.calendars.gregorian;;){var _=dt.lastIndex,v=dt.exec(p),m=p.slice(_,v?v.index:p.length);if(g+=e(m,h),!v)break;if(g%2)h.push(v[0]);else{var y=v[0],S=y.length,E=Ct[y];switch(E.token){case"days":d=f[E.token][E.style][E.dLen],h.push(d[s(t,3)]);break;case"months":d=f[E.token][E.style][E.mLen],h.push(d[s(t,1)]);break;case"dayOfMonth":case"monthIndex":h.push(a(h,t,E.getPartIdx,S));break;case"year":d=t.getFullYear(),2==S&&(d%=100),h.push(n.padZeros(d,S));break;case"time":l(h,t,S,E,y);break;case"ampm":d=t.getHours()<12?f.dayPeriods.format.wide.am:f.dayPeriods.format.wide.pm,h.push(d);break;case"tz":break;case"era":d=f.eras.eraAbbr,h.push(d[1]);break;case"slash":h.push("/");break;default:u(p,o,y)}}}return h.join("")},D=function(t,e){return t.getFullYear()==e.getFullYear()},I=function(t,e){return e.getFullYear()-t.getFullYear()==1},x=function(t,e){return I(e,t)},O=function(t,e){return D(t,e)&&t.getMonth()===e.getMonth()},M=function(t,e){return D(t,e)?e.getMonth()-t.getMonth()==1:I(t,e)?11==t.getMonth()&&0==e.getMonth():!1},R=function(t,e){return M(e,t)},C=function(t,e){var i=t.getDate(),n=e.getDate();return M(t,e)&&(n+=v(t.getFullYear,t.getMonth())),n-i},A=function(t,e){var i=n.getLocaleElementsMainNodeKey(t),r=n.parseBCP47(i),o=r.region||"001",s=t.supplemental.weekData.firstDay,a=s[o],l=e-a;return 0>l&&(l+=7),l},w=function(t,e,i){if(e>i){var n=e;e=i,i=n}if(!O(e,i)&&!M(e,i))return!1;var r=C(e,i)+A(t,e.getDay());return r>=0&&6>=r},P=function(t,e,i){if(!O(e,i)&&!M(e,i))return!1;var n=C(e,i)+A(t,e.getDay());return n>=7&&13>=n},L=function(t,e,i){return P(t,i,e)},N=function(t,e){return D(t,e)&&O(t,e)&&t.getDate()===e.getDate()},k=function(t,e){return O(t,e)||M(t,e)?1===C(t,e):!1},H=function(t,e){return k(e,t)},l=function(t,e,i){if("number"==typeof t)t=new Date(t);else{if("string"!=typeof t)return null;if(""===n.trim(t))return null;t=n.isoToLocalDate(t)}var r=n.getLocaleElementsMainNode(e),o=r.dates.fields,s=n.getGetOption(i,"OraDateTimeConverter.formatRelative"),a=(s("formatUsing","string",["displayName"]),s("dateField","string",["day","week","month","year"])),l=new Date;switch(a){case"day":if(N(l,t))return o.day["relative-type-0"];if(k(l,t))return o.day["relative-type-1"];if(H(l,t))return o.day["relative-type--1"];break;case"week":if(w(e,l,t))return o.week["relative-type-0"];if(P(e,l,t))return o.week["relative-type-1"];if(L(e,l,t))return o.week["relative-type--1"];break;case"month":if(O(l,t))return o.month["relative-type-0"];if(M(l,t))return o.month["relative-type-1"];if(R(l,t))return o.month["relative-type--1"];break;case"year":if(D(l,t))return o.year["relative-type-0"];if(I(l,t))return o.year["relative-type-1"];if(x(l,t))return o.year["relative-type--1"]}return null},J=function(t,e){var i,n,r;throw i="The weekday "+t+" does not match the date "+e,n=new Error(i),r={errorCode:"dateToWeekdayMismatch",parameterMap:{weekday:t,date:e}},n.errorInfo=r,n},Z=function(t,e,i){var n,r,o,s;throw 2===i?(n='The value "'+t+'" does not match the expected date-time format "'+e+'"',s="datetimeFormatMismatch"):0===i?(n='The value "'+t+'" does not match the expected date format "'+e+'"',s="dateFormatMismatch"):(n='The value "'+t+'" does not match the expected time format "'+e+'"',s="timeFormatMismatch"),r=new Error(n),o={errorCode:s,parameterMap:{value:t,format:e}},r.errorInfo=o,r},F=function(t,e){if(100>e){var i=t%100;e+=100*Math.floor(t/100)+(i>e?100:0)}return e},X=function(t,e){var i={sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6};for(var r in t)if(n.trim(n.toUpper(t[r]))==n.trim(e))return i[r];return-1},q=function(t,e){for(var i in t)if(n.trim(n.toUpper(t[i]))===n.trim(e))return i-1;return-1},Y=function(t,e,i){var r,o,s=n.getLocaleElementsMainNode(t),a=s.dates.calendars.gregorian.days.format,l=s.dates.calendars.gregorian.days["stand-alone"];switch(i){case 0:o=[a.abbreviated,a.wide];break;case 1:o=[l.abbreviated,l.wide]}return e=n.toUpper(e),r=X(o[0],e),-1===r&&(r=X(o[1],e)),r},W=function(t,e,i){var r,o=-1,s=n.getLocaleElementsMainNode(t),a=s.dates.calendars.gregorian.months.format,l=s.dates.calendars.gregorian.months["stand-alone"];switch(i){case 0:r=[a.wide,a.abbreviated];break;case 1:r=[l.wide,l.abbreviated];break;case 2:r=[a.wide,a.abbreviated,l.wide,l.abbreviated];break;default:return-1}e=n.toUpper(e);for(var u in r)if(o=q(r[u],e),-1!==o)return o;return o},K=function(t,i){for(var n,r={},o=t.replace(pt,"\\\\$1"),s=["^"],a=[],l=0,h=0;null!==(n=dt.exec(o));){var c=o.slice(l,n.index);if(l=dt.lastIndex,h+=e(c,s),h%2)s.push(n[0]);else{var p,d=n[0];void 0!==Ct[d]?p=Ct[d].regExp:u(t,i,d),p&&s.push(p),a.push(n[0])}}e(o.slice(l),s),s.push("$");var g=s.join("").replace(/\s+/g,"\\s+"),f={regExp:g,groups:a};return r[t]=f},z=function(t,e,i,n,r,o,s){if(i>e||e>n){var a=r+" is out of range.  Enter a value between "+o+" and "+s+" for "+t,l=new RangeError(a),u={errorCode:"datetimeOutOfRange",parameterMap:{value:r,minValue:o,maxValue:s,propertyName:t}};throw l.errorInfo=u,l}},B=function(t,e){for(var i in t)for(var n in t[i])if(n===e)return parseInt(i,10);return 0},V=function(t,e,i,r,o){var s=n.getLocaleElementsMainNode(r),a=s.dates.calendars.gregorian.dayPeriods.format.wide.pm;ht.lastIndex=0;var l,u=0,h=0,c=0,p=0,d=ht.exec(e);switch(null===d&&Z(e,i,o),void 0!==d[1]&&(u=parseInt(d[1],10)),void 0!==d[2]&&(h=parseInt(d[2],10)),void 0!==d[3]&&(c=parseInt(d[3],10)),void 0!==d[4]&&(p=parseInt(d[4],10)),ct.lastIndex=0,d=ct.exec(i),d[0]){case"h":12===u&&(u=0),z("hour",u,0,11,u,1,12),l=n.toUpper(e).indexOf(n.toUpper(a)),-1!==l&&12>u&&(u+=12);break;case"K":z("hour",u,0,11,u,0,11),l=n.toUpper(e).indexOf(n.toUpper(a)),-1!==l&&12>u&&(u+=12);break;case"H":z("hour",u,0,23,u,0,23);break;case"k":24===u&&(u=0),z("hour",u,0,23,u,1,24)}z("minute",h,0,59,h,0,59),z("second",c,0,59,c,0,59),z("millisec",p,0,999,p,0,999),t.setHours(u,h,c,p)},it=function(t,e){var i,r,o,s=n.getLocaleElementsMainNode(e),a=s.dates.calendars.gregorian.days.format,l=s.dates.calendars.gregorian.days["stand-alone"],u=[a.wide,a.abbreviated,l.wide,l.abbreviated],h=!1;for(r in u){for(o in u[r]){i=u[r][o];var c=new RegExp(i+"\\b","i");if(c.test(t)){h=!0;break}}if(h)break;i=null}return i},G=function(t,e,i,n,r){ot.lastIndex=0;var o=ot.exec(t);if(null===o){var s=r?2:0;Z(t,e,s)}var a=[{y:e.indexOf("y")},{M:e.indexOf("M")},{d:e.indexOf("d")}];a.sort(function(t,e){for(var i in t)break;for(var n in e)break;return t[i]-e[n]});var l,u,h,c,d,g,f=!1,_=!1;for(g=1;3>=g;g++){var m=o[g];(m.length>2||m>31)&&(l=m,f=!0,c=g-1)}for(f||(c=B(a,"y"),l=o[B(a,"y")+1]),g=0;3>g;g++)if(g!==c&&o[g+1]>12){h=o[g+1],_=!0,d=g;break}if(_){for(g=0;3>g;g++)if(g!==d&&g!==c){u=o[g+1];break}void 0===u&&(u=o[B(a,"M")+1])}else c===B(a,"d")?(h=o[B(a,"y")+1],u=o[B(a,"M")+1]):c===B(a,"M")?(h=o[B(a,"d")+1],u=o[B(a,"y")+1]):(h=o[B(a,"d")+1],u=o[B(a,"M")+1]);u-=1;var y=v(l,u);z("month",u,0,11,u+1,1,12),z("day",h,1,y,h,1,y);var S=p(i);l=F(S,parseInt(l,10)),z("year",l,0,9999,l,0,9999);var E=new Date(l,u,h),T=it(t,n);if(null!=T){var b=Y(n,T,0);E.getDay()!==b&&J(T,E.getDate())}var C={value:E,warning:"lenient parsing was used"};if(r){var A=t.substr(ot.lastIndex);0===A.length?C.value.setHours(0,0,0,0):V(C.value,A,e,n,2)}return C},j=function(t,e,i,r,o){var s=t;t=n.toUpper(t);var a,l,u,h,c=n.getLocaleElementsMainNode(r),d=c.dates.calendars.gregorian.months.format,g=c.dates.calendars.gregorian.months["stand-alone"],f=[d.wide,d.abbreviated,g.wide,g.abbreviated],_=!1;for(l in f){a=[];for(u in f[l])h=n.toUpper(f[l][u]),a.push({idx:u,name:h});a.sort(function(t,e){return e.idx-t.idx});for(u in a)if(h=a[u].name,-1!=t.indexOf(h)){_=!0,t=t.replace(h,"");break}if(_)break}if(!_)return G(s,e,i,r,o);var m=W(r,h,2);z("month",m,0,11,m,1,12);var y=it(s,r),S=new RegExp(y+"\\W","i");null!==y&&(t=t.replace(S,"")),rt.lastIndex=0;var E=rt.exec(t);if(null===E){var T=o?2:0;Z(s,e,T)}var b=[{y:e.indexOf("y")},{d:e.indexOf("d")}];b.sort(function(t,e){for(var i in t)break;for(var n in e)break;return t[i]-e[n]});var C,A,D,I=!1;for(l=1;2>=l;l++){var x=E[l];(x.length>2||x>31)&&(C=x,I=!0,D=l-1)}I||(D=B(b,"y"),C=E[B(b,"y")+1]),A=D===B(b,"d")?E[B(b,"y")+1]:E[B(b,"d")+1];var O=p(i);C=F(O,parseInt(C,10)),z("year",C,0,9999,C,0,9999);var M=new Date(C,m,A);if(null!=y){var R=Y(r,y,0);M.getDay()!==R&&J(y,M.getDate())}var w=v(C,m);z("day",A,1,w,A,1,w);var P={value:M,warning:"lenient parsing was used"};if(o){var L=t.substr(rt.lastIndex);0===L.length?P.value.setHours(0,0,0,0):V(P.value,L,e,r,2)}return P},U=function(t,e,i,n){var r=c(i,"OraDateTimeConverter.parse");switch(r){case 0:return j(t,e,i,n,!1);case 1:var o=new Date;V(o,t,e,n,1);var s={value:o,warning:"lenient parsing was used"};return s;case 2:return j(t,e,i,n,!0)}return null},et=function(t,e,i,r,o,s,a,l,u,h,c){var p,d,g,f=n.getLocaleElementsMainNode(t),_=f.dates.calendars.gregorian[e][o];return p="months"===e?W(t,i,s):Y(t,i,s),d=_[r][u],g=_[r][h],z(c,p,a,l,i,d,g),p},tt=function(t,e,i,n,r){e[i.timePart]=t,"h"===r||"hh"===r?12===t&&(e[i.timePart]=0):"k"===r||"kk"===r?24===t&&(e[i.timePart]=0):"S"===r&&(e[i.timePart]=t*Math.pow(10,3-n)),z(i.timePart,e[i.timePart],i.start1,i.end1,t,i.start2,i.end2)},r=function(t,e,i,r){var o=n.getLocaleElementsMainNode(r);t=n.trim(t);var s=o.dates.calendars.gregorian,a=s.eras.eraAbbr[1],l=n.trimNumber(a);t=t.replace(a,l);var u=K(e,i),h=new RegExp(u.regExp).exec(t);if(null===h)return U(t,e,i,r);for(var c,d,g,f=u.groups,_=null,m=null,y=null,S=null,E=null,T=!1,b={hour:0,minute:0,second:0,millisec:0},C=o.dates.calendars.gregorian.dayPeriods.format.wide.pm,A=p(i),D=0,I=f.length;I>D;D++){var x=h[D+1];if(x){var O=f[D],M=O.length,R=parseInt(x,10),w=Ct[O];switch(w.token){case"months":m=et(r,w.token,x,w.mLen,w.style,w.matchIndex,0,11,"1","12","month name");break;case"days":g=x,S=et(r,w.token,x,w.dLen,w.style,w.matchIndex,0,6,"sun","sat","weekday");break;case"time":tt(R,b,w,M,O);break;case"dayOfMonth":if(y=R,y>31)return U(t,e,i,r);break;case"monthIndex":if(m=R-1,m>11)return U(t,e,i,r);break;case"year":_=F(A,R),z("year",_,0,9999,_,0,9999);break;case"ampm":T=n.toUpper(x)===n.toUpper(C);break;case"tz":c=R/100<<0,z("TZ Offset",c,-12,13,R,-12,13),d=Math.abs(R%100),z("TZ Offset",d,0,59,d,0,59),E=60*c+(n.startsWith(x,"-")?-d:d)}}}var P,L=new Date;P=L.getFullYear(),null===_&&(_=P),null===m&&null===y?(m=L.getMonth(),y=L.getDate()):null===y&&(y=1);var N=v(_,m);if(z("day",y,1,N,y,1,N),L.setFullYear(_,m,y),null!==S&&L.getDay()!==S&&J(g,L.getDate()),T&&b.hour<12&&(b.hour+=12),L.setHours(b.hour,b.minute,b.second,b.millisec),null!==E){var k=L.getMinutes()-(E+L.getTimezoneOffset());L.setHours(L.getHours()+(k/60<<0),k%60)}var H={value:L};return H},h=function(t,i,n){for(var r,o=n.replace(pt,"\\\\$1"),s=["^"],a=0,l=0,h={locale:t,numberingSystem:i,calendar:"gregorian"};null!==(r=dt.exec(o));){var c=o.slice(l,r.index);if(l=dt.lastIndex,a+=e(c,s),!(a%2)){var p=r[0];"/"!==p&&"zzzz"!==p&&"zzz"!==p&&"zz"!==p&&"z"!==p&&(void 0!==Ct[p]?(h[Ct[p].key]=Ct[p].value,"kk"===p||"HH"===p||"H"===p||"k"===p?h.hour12=!1:"KK"!==p&&"hh"!==p&&"h"!==p&&"K"!==p||(h.hour12=!0)):u(n,h,p))}}return h},g=function(t){var e=h("","",t),i=void 0!==e.year||void 0!==e.month||void 0!==e.weekday||void 0!==e.day,n=void 0!==e.hour||void 0!==e.minute||void 0!==e.second;return i&&n?2:n?1:0},c=function(t,e){if(void 0!==t.pattern)return g(t.pattern);var i=n.getGetOption(t,e),r=void 0!==i("hour","string",["2-digit","numeric"])||void 0!==i("minute","string",["2-digit","numeric"])||void 0!==i("second","string",["2-digit","numeric"]),o=void 0!==i("year","string",["2-digit","numeric"])||void 0!==i("month","string",["2-digit","numeric","narrow","short","long"])||void 0!==i("day","string",["2-digit","numeric"])||void 0!==i("weekday","string",["narrow","short","long"]);if(o&&r)return 2;if(r)return 1;if(o)return 0;var s=i("formatType","string",["date","time","datetime"],"date");return"datetime"===s?2:"time"===s?1:0},Q=function(t,e){var i,r;switch(t){case 0:r=n.padZeros(e.getFullYear(),4)+"-"+n.padZeros(e.getMonth()+1,2)+"-"+n.padZeros(e.getDate(),2);break;case 1:r="T"+n.padZeros(e.getHours(),2)+":"+n.padZeros(e.getMinutes(),2)+":"+n.padZeros(e.getSeconds(),2),i=e.getMilliseconds(),i>0&&(r+="."+i);break;default:r=n.padZeros(e.getFullYear(),4)+"-"+n.padZeros(e.getMonth()+1,2)+"-"+n.padZeros(e.getDate(),2)+"T"+n.padZeros(e.getHours(),2)+":"+n.padZeros(e.getMinutes(),2)+":"+n.padZeros(e.getSeconds(),2),i=e.getMilliseconds(),i>0&&(r+="."+i)}return r},a=function(t,e,o,s){var a=n.getLanguageExtension(s,"nu");if(void 0===n.numeringSystems[a]&&(a="latn"),"latn"!==a){var l,u=[];for(l=0;l<t.length;l++){var h=n.numeringSystems[a].indexOf(t[l]);-1!=h?u.push(h):u.push(t[l])}t=u.join("")}(arguments.length<=2||void 0===o)&&(o={year:"numeric",month:"numeric",day:"numeric"});var p=c(o,"OraDateTimeConverter.parse"),d=o.pattern||i(o,e,"OraDateTimeConverter.parse"),g={},f=n._ISO_DATE_REGEXP.test(t);if(f===!0){var _=n.isoToLocalDate(t);return g.value=Q(p,_),g}var v=r(t,d,o,e),m=v.value;return g.warning=v.warning,g.value=Q(p,m),g},{getInstance:function(){return m||(m=t()),m}}}(),t.LengthValidator=function(t){this.Init(t)},t.Object.createSubclass(t.LengthValidator,t.Validator,"oj.LengthValidator"),t.LengthValidator.prototype.Init=function(e){t.LengthValidator.superclass.Init.call(this),this._min=e.min,this._max=e.max,e&&(this._hint=e.hint||{},this._customMessageSummary=e.messageSummary||{},this._customMessageDetail=e.messageDetail||{})},t.LengthValidator.prototype.getHint=function(){var e,i=null,n=this._hint,r=n.inRange,o=n.min,s=n.max,a=n.exact,l=t.Translations,u=void 0!==this._min?parseInt(this._min,10):null,h=void 0!==this._max?parseInt(this._max,10):null;return null!==u&&null!==h?u!==h?(e={min:u,max:h},i=r?l.applyParameters(r,e):l.getTranslatedString("oj-validator.length.hint.inRange",e)):(e={length:u},i=a?l.applyParameters(a,e):l.getTranslatedString("oj-validator.length.hint.exact",e)):null!==u?(e={min:u},i=o?l.applyParameters(o,e):l.getTranslatedString("oj-validator.length.hint.min",e)):null!==h&&(e={max:h},i=s?l.applyParameters(s,e):l.getTranslatedString("oj-validator.length.hint.max",e)),i},t.LengthValidator.prototype.validate=function(e){var i,n="",r="",o=""+e,s=o.length,a=this._customMessageDetail,l=this._customMessageSummary,u=a.tooShort,h=a.tooLong,c=l.tooShort,p=l.tooLong,d=t.Translations,g=void 0!==this._min?parseInt(this._min,10):null,f=void 0!==this._max?parseInt(this._max,10):null;if((null===g||s>=this._min)&&(null===f||s<=this._max))return o;throw s<this._min?(i={value:e,min:g},n=c?d.applyParameters(c,i):d.getTranslatedString("oj-validator.length.messageSummary.tooShort"),r=u?d.applyParameters(u,i):d.getTranslatedString("oj-validator.length.messageDetail.tooShort",i)):(i={value:e,max:f},n=p?d.applyParameters(p,i):d.getTranslatedString("oj-validator.length.messageSummary.tooLong"),r=h?d.applyParameters(h,i):d.getTranslatedString("oj-validator.length.messageDetail.tooLong",i)),new t.ValidatorError(n,r)}}),define("ojs/internal-deps/dvt/DvtToolkit",[],function(){var t=window,e=function(){};e.owner=t,t.DvtObj=e;var e=this?this.DvtObj:null;e||(e=window?window.DvtObj:null),e||(e=function(){},"undefined"!=typeof window&&(e[e._OWNER_KEY]=window)),e._GET_FUNCTION_NAME_REGEXP=/function\s+([\S^]+)\s*\(/,e._OWNER_KEY="owner",e.prototype={},e.prototype.constructor=e,e.createSubclass=function(t,i,n){if(void 0!==t&&null!==t&&(e[e._OWNER_KEY]&&(e[e._OWNER_KEY][n]=t),void 0===i&&(i=Object),t!=i)){var r=e._tempSubclassConstructor;r.prototype=i.prototype,t.prototype=new r,t.prototype.constructor=t,t.superclass=i.prototype,n&&(t._typeName=n)}},e._tempSubclassConstructor=function(){},e.getTypeName=function(t){var i=t._typeName;if(null==i){var n=t.toString(),r=e._GET_FUNCTION_NAME_REGEXP.exec(n);i=r[1],t._typeName=i}return i},e.prototype.getTypeName=function(){return e.getTypeName(this.constructor)},e.prototype.clone=function(){return null},e.prototype.mergeProps=function(t){},e.createCallback=function(t,e){return function(){return e.apply(t,arguments)}},e.defineConstant=function(t){return t};var i=new Object;e.createSubclass(i,e,"DvtArrayUtils"),i.NONE=0,i.ADD=1,i.SUB=2,i.DIV=3,i.MULT=4,i.MOD=5,i.argsToArray=function(t){if(t){var e=new Array(t.length);if(t.length>0)for(var i=0;i<t.length;i++)e[i]=t[i];return e}return t},i.isArray=function(t){return"undefined"!=typeof t&&"[object Array]"===Object.prototype.toString.apply(t)},i.toFloat=function(t,e,n){if(!i.isArray(t))return t;e||(n=i.NONE),n=null===n||isNaN(n)?i.NONE:n,n!==i.NONE&&("number"!=typeof e&&(e=parseFloat(e)),isNaN(e)&&(n=i.NONE));var r,o=t.length;if(n===i.NONE)for(r=0;o>r;r++)t[r]=parseFloat(t[r]);else for(r=0;o>r;r++){var s=parseFloat(t[r]);switch(n){case i.MULT:s*=e;break;case i.ADD:s+=e;break;case i.SUB:s-=e;break;case i.DIV:s/=e;break;case i.MOD:s%=e}t[r]=s}return t},i.copy=function(t){var e;if(t){e=[];for(var i=t.length,n=0;i>n;n++)e.push(t[n])}return e},i.getIndex=function(t,e){if(t){if(t.indexOf)return t.indexOf(e);for(var i=0;i<t.length;i++)if(t[i]===e)return i}return-1},i.getLastIndex=function(t,e){if(t.lastIndexOf)return t.lastIndexOf(e);for(var i=t.length-1;i>=0;i--)if(t[i]===e)return i;return-1},i.equals=function(t,e){if(!t&&e)return!1;if(t&&!e)return!1;if(t||e){if(t.length!=e.length)return!1;for(var i=0;i<=t.length;i++)if(t[i]!==e[i])return!1;return!0}return!0},i.hasAnyMapItem=function(t,e){if(!t||!e)return!1;for(var i=0;i<e.length;i++)if(t[e[i]])return!0;return!1},i.hasAllMapItems=function(t,e){if(!t||!e)return!1;for(var i=0;i<e.length;i++)if(!t[e[i]])return!1;return!0},i.hasAnyItem=function(t,e){return i.hasAnyMapItem(i.createBooleanMap(t),e)},i.hasAllItems=function(t,e){return i.hasAllMapItems(i.createBooleanMap(t),e)},i.createBooleanMap=function(t){if(!t)return null;for(var e={},i=0;i<t.length;i++)e[t[i]]=!0;return e},i.reduce=function(t,e){if(t.reduce)return t.reduce(e);for(var i=t.length,n=t[0],r=1;i>r;r++)n=e(n,t[r],r,t);return n},i.map=function(t,e){if(t.map)return t.map(e);for(var i=t.length,n=[],r=0;i>r;r++)n[r]=e(t[r],r,t);return n},i.forEach=function(t,e){if(t.map)t.forEach(e);else for(var i=t.length,n=0;i>n;n++)e(t[n],n,t)};var n={};e.createSubclass(n,e,"DvtStringUtils"),n._hasTrim=null!="hello".trim,n._hasEndsWith=null!="hello".endsWith,n.trim=function(t){return n._hasTrim?t.trim():t.replace(/^\s+|\s+$/g,"")},n.endsWith=function(t,e){return n._hasEndsWith?t.endsWith(e):t.match(e+"$")==e},n.processAriaLabel=function(t){var e=t;return e=e.replace(/(<|&#60;)/g,"&lt;"),e=e.replace(/(>|&#62;)/g,"&gt;"),e=e.replace(/&lt;b&gt;/g,""),e=e.replace(/&lt;\/b&gt;/g,""),e=e.replace(/&lt;i&gt;/g,""),e=e.replace(/&lt;\/i&gt;/g,""),e=e.replace(/\n/g,"; "),e=e.replace(/&#92;n/g,"; "),e=e.replace(/&lt;br&gt;/g,"; "),e=e.replace(/&lt;br\/&gt;/g,"; ")};var r=function(t,e,i){var n=e?e+"_svg":null;this._root=Gi.createSvgDocument(n),t.appendChild(this._root),this._parentDiv=t,this._referenceDiv=i,this._implFactory=new Wi(this),this._defs=this._implFactory.newDefs(),Gi.appendChildElem(this._root,this._defs),this._keyboardFocusArray=[],this._keyboardFocusIndex=0,this.Init(this._implFactory,this._root,e),Gi.appendChildElem(this._root,this._stage.getElem())};e.createSubclass(r,e,"DvtContext"),r._DATATIP_POPUP_STYLE_CLASS="OraDVTDatatipPopup",r._TOOLTIP_POPUP_STYLE_CLASS="OraDVTTooltipPopup",r._DEFAULT_FONT_FAMILY="'Helvetica Neue', Helvetica, Arial, sans-serif",r._DEFAULT_FONT_FAMILIES={"'Helvetica Neue', Helvetica, Arial, sans-serif":!0,'"Helvetica Neue", Helvetica, Arial, sans-serif':!0,'"Helvetica Neue",Helvetica,Arial,sans-serif':!0},r._DEFAULT_FONT_SIZE="12px",r._id=0,r.prototype.Init=function(t,e,i){this._implFactory=t;var n=(i?i:"_dvt"+r._id)+"_stage";this._stage=new ee(this,e,n),r._id++,Gi.setAttrNullNS(this._stage.getElem(),"font-family",this.getDefaultFontFamily()),Gi.setAttrNullNS(this._stage.getElem(),"font-size",this.getDefaultFontSize()),this._tooltipManagers=new Object,this._customTooltipManagers=new Object,this._scheduler=null,this._globalDefsMap={}},r.prototype.getDefaultFontFamily=function(){return r._DEFAULT_FONT_FAMILY},r.prototype.isDefaultFontFamily=function(t){return 1==r._DEFAULT_FONT_FAMILIES[t]},r.prototype.getDefaultFontSize=function(){return r._DEFAULT_FONT_SIZE},r.prototype.getImplFactory=function(){return this._implFactory},r.prototype.getStage=function(){return this._stage},r.prototype.isReadyToRender=function(){for(var t=this._parentDiv;t&&t!=document;){if(t.style&&"none"==t.style.display)return!1;t=t.parentNode}return t==document},r.prototype.getSvgDocument=function(){return this._root},r.prototype.setReadingDirection=function(t){this._readingDirection=t},r.prototype.getReadingDirection=function(){return this._readingDirection},r.prototype.increaseGlobalDefReference=function(t){null!=t&&(this._globalDefsMap[t]?this._globalDefsMap[t]=this._globalDefsMap[t]++:this._globalDefsMap[t]=1)},r.prototype.decreaseGlobalDefReference=function(t){if(null!=t){var e=this._globalDefsMap[t];e&&(1==e?delete this._globalDefsMap[t]:this._globalDefsMap[t]=e--),this._globalDefsMap[t]||this.removeDefsById(t)}},r.prototype.getTooltipManager=function(t){t||(t="_dvtTooltip");var e=this.getStage().getId();t+=e;var i=this._tooltipManagers[t];return i||(this._tooltipManagers[t]=this._implFactory.newTooltipManager(t)),this._tooltipManagers[t]},r.prototype.hideTooltips=function(){for(var t in this._tooltipManagers)this._tooltipManagers[t].hideTooltip()},r.prototype.getScheduler=function(){return this._scheduler||(this._scheduler=new a(this)),this._scheduler},r.prototype.getDocumentUtils=function(){return this._implFactory.getDocumentUtils()},r.prototype.pageToStageCoords=function(t,e){var i=this.getStageAbsolutePosition(),n=t-i.x,r=e-i.y;return new dt(n,r)},r.prototype.stageToPageCoords=function(t,e){var i=this.getStageAbsolutePosition(),n=t+i.x,r=e+i.y;return new dt(n,r)},r.prototype.getStageAbsolutePosition=function(){if(this._stageAbsolutePosition)return this._stageAbsolutePosition;var t=this._referenceDiv;if(!t){var e=this.getStage().getImpl().getSVGRoot();t=e.parentNode?e.parentNode:e}var i=qe.getElementPosition(t);return this._stageAbsolutePosition=new dt(parseInt(i.x),parseInt(i.y)),this._stageAbsolutePosition},r.prototype.clearStageAbsolutePosition=function(){this._stageAbsolutePosition=null},r.prototype.isOffscreen=function(){var t=this.getStage().getImpl().getSVGRoot(),e=t.getBoundingClientRect();return e.bottom<0||e.right<0||e.top>(window.innerHeight||document.documentElement.clientHeight)||e.left>(window.innerWidth||document.documentElement.clientWidth)},r.prototype.getCustomTooltipManager=function(t){t||(t="_dvtCustomTooltip");var e=this.getStage().getId();t+=e;var i=this._customTooltipManagers[t];return i||(this._customTooltipManagers[t]=new ui(this,t)),this._customTooltipManagers[t]},r.prototype.appendDefs=function(t){Gi.appendChildElem(this._defs,t)},r.prototype.getDefs=function(){return this._defs},r.prototype.getImplFactory=function(){return this._implFactory},r.prototype.removeDefs=function(t){this._defs.removeChild(t)},r.prototype.removeDefsById=function(t){for(var e=this._defs.childNodes,i=e.length,n=0;i>n;n++){var r=e[n];if(r.id===t)return void this._defs.removeChild(r)}},r.prototype.getRootAttribute=function(t){return Gi.getAttrNullNS(this._root,t)},r.resetUniqueSeeds=function(){qe.isEnvironmentBrowser()||("undefined"!=typeof DvtAfComponent&&(DvtAfComponent._uniqueSeed=0),zi._counter=0,q._uniqueSeed=0,Jt._uniqueSeed=0,Z._uniqueSeed=0,qe._bInitialized=!1)},r.resetCaches=function(){qe.isEnvironmentBrowser()||("undefined"!=typeof DvtAfComponent&&DvtAfStyleUtils.resetStyles(),ve._cache=null,$t._cachedTextDimensions={},qt._cache={},"undefined"!=typeof DvtLedGaugeRenderer&&(DvtLedGaugeRenderer._cache=null))},r.prototype.setActiveElement=function(t){if(qe.isEnvironmentBrowser()){this._activeElement&&(Gi.removeAttrNullNS(this._activeElement.getElem(),"id"),this._activeElement=null);var e=t.getElem(),i=Gi.getAttrNullNS(e,"id");i||(i=t.getId(),i?Gi.setAttrNullNS(e,"id",i):(i=li._getActiveElementId(),Gi.setAttrNullNS(e,"id",i),this._activeElement=t)),t.applyAriaProperties(),"application"==this._role&&this._parentDiv.setAttribute("aria-activedescendant",i)}},r.prototype.setAriaLabel=function(t){this._parentDiv.getAttribute("aria-label")||(t?this._parentDiv.setAttribute("aria-label",n.processAriaLabel(t)):this._parentDiv.removeAttribute("aria-label"))},r.prototype.setAriaRole=function(t){t?this._parentDiv.setAttribute("role",t):this._parentDiv.removeAttribute("role"),this._role=t},r.prototype.setTooltipAttachedCallback=function(t){this._tooltipAttachedCallback=t},r.prototype.getTooltipAttachedCallback=function(){return this._tooltipAttachedCallback},r.prototype.setTooltipStyleClass=function(t){this._tooltipStyleClass=t},r.prototype.getTooltipStyleClass=function(){return this._tooltipStyleClass?this._tooltipStyleClass:r._TOOLTIP_POPUP_STYLE_CLASS},r.prototype.setDatatipStyleClass=function(t){this._datatipStyleClass=t},r.prototype.getDatatipStyleClass=function(){return this._datatipStyleClass?this._datatipStyleClass:r._DATATIP_POPUP_STYLE_CLASS},r.prototype.setKeyboardFocusArray=function(t){if(this._keyboardFocusArray=t,this._keyboardFocusIndex=0,t.length>0){var e=this._root.parentNode;e._currentObj=this._keyboardFocusArray[this._keyboardFocusIndex]}},r.prototype.getCurrentKeyboardFocus=function(){return this._keyboardFocusArray.length<=this._keyboardFocusIndex?null:this._keyboardFocusArray[this._keyboardFocusIndex]},r.prototype.setCurrentKeyboardFocus=function(t){var e=i.getIndex(this._keyboardFocusArray,t);if(-1==e)return!1;var n=this._keyboardFocusArray[e];this._keyboardFocusIndex=e;var r=this._root.parentNode;return r._currentObj=n,!0},r.prototype.nextKeyboardFocus=function(){var t=this._keyboardFocusArray[this._keyboardFocusIndex+1];if(t){this._keyboardFocusIndex++;var e=this._root.parentNode;return e._currentObj=t,t}return null},r.prototype.previousKeyboardFocus=function(){
var t=this._keyboardFocusArray[this._keyboardFocusIndex-1];if(t){this._keyboardFocusIndex--;var e=this._root.parentNode;return e._currentObj=t,t}return null},r.prototype.getNumberConverter=function(t){var e=this.getLocaleHelpers();return e.numberConverterFactory?e.numberConverterFactory.createConverter(t):null},r.prototype.getLocaleHelpers=function(){return this._localeHelpers?this._localeHelpers:{}},r.prototype.setLocaleHelpers=function(t){this._localeHelpers=t},r.requestAnimationFrame=function(t){return window.requestAnimationFrame?window.requestAnimationFrame(t):window.setTimeout(t,1e3/30)},r.cancelAnimationFrame=function(t){window.cancelAnimationFrame?window.cancelAnimationFrame(t):clearTimeout(t)};var o=function(){this._Init()};e.createSubclass(o,e,"DvtLockable"),o.prototype._Init=function(){this._bLocked=!1},o.prototype.isLocked=function(){return this._bLocked},o.prototype.__lock=function(){this._bLocked=!0};var s=function(t,e,i,n,r){this.Init(t,e,i,n,r)};e.createSubclass(s,e,"DvtScheduled"),s._STATE_INITIALIZE=0,s._STATE_BEGIN=1,s._STATE_RUN=2,s.CalcProgress=function(t,e,i){var n=i-e;if(0==n)return.5;var r=(t-e)/n;return r>1&&(r=1),r},s.prototype.Init=function(t,e,i,n,r){this._context=t,this._scheduler=e,this.setDuration(i),this.setDelay(n),this.setEasing(r),this._bRunning=!1,this._startTime=null,this._progress=0,this._state=s._STATE_INITIALIZE,this._onInit=null,this._onInitObj=null,this._onStart=null,this._onStartObj=null,this._onEnd=null,this._onEndObj=null,this._onStep=null,this._onStepObj=null},s.prototype.getDuration=function(){return this._duration},s.prototype.setDuration=function(t){this._duration=t?t:.5},s.prototype.getDelay=function(){return this._delay},s.prototype.setDelay=function(t){this._delay=t?t:0},s.prototype.getEasing=function(){return this._easing},s.prototype.setEasing=function(t){this._easing=t?t:f.cubicInOut},s.prototype.setOnInit=function(t,e){this._onInit=t,e?this._onInitObj=e:this._onInitObj=null},s.prototype.getOnInit=function(){return[this._onInit,this._onInitObj]},s.prototype.setOnStart=function(t,e){this._onStart=t,e?this._onStartObj=e:this._onStartObj=null},s.prototype.getOnStart=function(){return[this._onStart,this._onStartObj]},s.prototype.setOnEnd=function(t,e){this._onEnd=t,e?this._onEndObj=e:this._onEndObj=null},s.prototype.getOnEnd=function(){return[this._onEnd,this._onEndObj]},s.prototype.setOnStep=function(t,e){this._onStep=t,e?this._onSepObj=e:this._onStepObj=null},s.prototype.getOnStep=function(){return[this._onStep,this._onStepObj]},s.prototype.isRunning=function(){return this._bRunning},s.prototype.play=function(t){t?this._play():r.requestAnimationFrame(e.createCallback(this,this._play))},s.prototype._play=function(){this._bRunning||(this._bRunning=!0,this.ProcessPlay(),this._scheduler.addScheduled(this)),this._context.isOffscreen()&&this.stop(!0)},s.prototype.stop=function(t){this._scheduler.removeScheduled(this),t&&this.ProcessStep(1),this.ProcessEnd()},s.prototype.pause=function(){this._bRunning=!1},s.prototype.reset=function(){this._state=s._STATE_INITIALIZE},s.prototype.processTime=function(t){if(this._bRunning){var e=t-this._startTime;if(0>e)return!1;var i=1e3*this.GetTotalDuration(),n=1;0!=i&&(n=e/i),n>1&&(n=1),this.ProcessStep(n);var r=n>=1;return r&&this.ProcessEnd(),r}},s.prototype.GetTotalDuration=function(){return this._delay+this._duration},s.prototype.ProcessPlay=function(){if(this._state==s._STATE_INITIALIZE&&this.ProcessInitialize(),this._state==s._STATE_BEGIN)this._startTime=(new Date).getTime(),this.ProcessStart();else{var t=1e3*this._progress*this.GetTotalDuration();this._startTime=(new Date).getTime()-t}this._state=s._STATE_RUN},s.prototype.ProcessInitialize=function(){this._onInit&&this._onInit.call(this._onInitObj),this.Initialize(),this._state=s._STATE_BEGIN},s.prototype.ProcessStart=function(){this._bRunning=!0,this._progress=0,this.Start(),this._onStart&&this._onStart.call(this._onStartObj)},s.prototype.ProcessStep=function(t){this._progress=t;var e=t;this._delay>0&&(e=s.CalcProgress(t,this._delay/this.GetTotalDuration(),1)),e>=0&&(this._easing&&(e=this._easing(e)),this.Step(e),this._onStep&&this._onStep.call(this._onStepObj,e))},s.prototype.ProcessEnd=function(){this._bRunning&&(this._bRunning=!1,this._progress=1,this.End(),this._state=s._STATE_BEGIN,this._onEnd&&this._onEnd.call(this._onEndObj))},s.prototype.Initialize=function(){},s.prototype.Start=function(){},s.prototype.Step=function(t){},s.prototype.End=function(){};var a=function(t){this.Init(t)};e.createSubclass(a,e,"DvtScheduler"),a.prototype.Init=function(t){this._scheduledItems=new Array,this._bRunning=!1},a.prototype.HandleTimer=function(){for(var t=(new Date).getTime(),i=0;i<this._scheduledItems.length;i++){var n=this._scheduledItems[i];n.processTime(t)&&this.removeScheduled(n)}this._scheduledItems.length<1?this.pause():this._animationRequestId=r.requestAnimationFrame(e.createCallback(this,this.HandleTimer)),a._frameCount++},a.prototype.addScheduled=function(t){var e=i.getIndex(this._scheduledItems,t);0>e&&this._scheduledItems.push(t),this.play()},a.prototype.removeScheduled=function(t){var e=i.getIndex(this._scheduledItems,t);e>=0&&this._scheduledItems.splice(e,1)},a.prototype.play=function(){if(!this._bRunning){for(var t=0;t<this._scheduledItems.length;t++){var i=this._scheduledItems[t];i.isRunning()||i.play()}this._bRunning=!0,this._animationRequestId=r.requestAnimationFrame(e.createCallback(this,this.HandleTimer))}},a.prototype.pause=function(){if(this._bRunning){this._bRunning=!1,this._animationRequestId&&r.cancelAnimationFrame(this._animationRequestId);for(var t=0;t<this._scheduledItems.length;t++){var e=this._scheduledItems[t];e.isRunning()&&e.pause()}}};var l=function(t,e,i,n){this.Init(t,e,i,n)};e.createSubclass(l,s,"DvtAnimator"),l.TYPE_NUMBER="typeNumber",l.TYPE_MATRIX="typeMatrix",l.TYPE_NUMBER_ARRAY="typeNumberArray",l.TYPE_COLOR="typeColor",l.TYPE_COLOR_ARRAY="typeColorArray",l.TYPE_GROW_POLYLINE="typeGrowPolyline",l.TYPE_RECTANGLE="typeRectangle",l.TYPE_POINT="typePoint",l.TYPE_PATH="typePath",l.TYPE_GROW_PATH="typeGrowPath",l.TYPE_FILL="typeFill",l.TYPE_STROKE="typeStroke",l.TYPE_POLYLINE="typePolyline",l._KEY_PREFIX="dvtAnimPropMap_",l.prototype.Init=function(t,e,i,n){l.superclass.Init.call(this,t,t.getScheduler(),e,i,n),this._context=t,this._props={}},l.prototype.addProp=function(t,e,i,n,r){var o=this.GetPropItem(e,i);if(o)o.destVal=r;else{var o=new u(t,e,i,n,r),s=l.GetKey(e);this._props[s]||(this._props[s]={}),this._props[s][l.GetKey(i)]=o}},l.prototype.removeProp=function(t,e){var i=this.GetPropItem(t,e);if(i){var n=i.destVal;return delete this._props[l.GetKey(t)][l.GetKey(e)],n}return null},l.prototype.getDestVal=function(t,e,i){var n=this.GetPropItem(t,e);return n?n.destVal:i?e.call(t):null},l.prototype.GetPropItem=function(t,e){var i=l.GetKey(t);return this._props[i]?this._props[i][l.GetKey(e)]:null},l.GetKey=function(t){return t._dvtAnimPropMapKey||(t._dvtAnimPropMapKey=l._KEY_PREFIX+Math.random()),t._dvtAnimPropMapKey},l.prototype.Initialize=function(){for(var t in this._props)for(var e in this._props[t]){var i=this._props[t][e];i.startVal=i.getter.call(i.obj)}},l.prototype.Step=function(t){for(var e in this._props)for(var i in this._props[e]){var n=this._props[e][i],r=n.type,o=n.obj,s=n.setter,a=n.destVal,l=n.startVal,u=_.interpolate(this._context,r,l,a,t);s.call(o,u)}};var u=function(t,e,i,n,r){this.type=t,this.obj=e,this.getter=i,this.setter=n,this.destVal=r,this.startVal=null};e.createSubclass(u,e,"DvtAnimatorPropItem");var h=function(t){this.Init(t)};e.createSubclass(h,e,"DvtPlayable"),h.appendOnEnd=function(t,e,i){if(t&&e){var n=t.getOnEnd();if(n&&n[0]){var r=function(){n[0].call(n[1]),e.call(i)};t.setOnEnd(r)}else t.setOnEnd(e,i)}},h.prependOnEnd=function(t,e,i){if(t&&e){var n=t.getOnEnd();if(n&&n[0]){var r=function(){e.call(i),n[0].call(n[1])};t.setOnEnd(r)}else t.setOnEnd(e,i)}},h.appendOnStart=function(t,e,i){if(t&&e&&t.getOnStart&&t.setOnStart){var n=t.getOnStart();if(n&&n[0]){var r=function(){n[0].call(n[1]),e.call(i)};t.setOnStart(r)}else t.setOnStart(e,i)}},h.prependOnStart=function(t,e,i){if(t&&e&&t.getOnStart&&t.setOnStart){var n=t.getOnStart();if(n&&n[0]){var r=function(){e.call(i),n[0].call(n[1])};t.setOnStart(r)}else t.setOnStart(e,i)}},h.appendOnInit=function(t,e,i){if(t&&e&&t.getOnInit&&t.setOnInit){var n=t.getOnInit();if(n&&n[0]){var r=function(){n[0].call(n[1]),e.call(i)};t.setOnInit(r)}else t.setOnInit(e,i)}},h.prependOnInit=function(t,e,i){if(t&&e&&t.getOnInit&&t.setOnInit){var n=t.getOnInit();if(n&&n[0]){var r=function(){e.call(i),n[0].call(n[1])};t.setOnInit(r)}else t.setOnInit(e,i)}},h.prototype.Init=function(t){this.Context=t,this._onEnd=null,this._onEndObj=null},h.prototype.setOnEnd=function(t,e){this._onEnd=t,e?this._onEndObj=e:this._onEndObj=null,this.OnEndUpdated()},h.prototype.getOnEnd=function(){return[this._onEnd,this._onEndObj]},h.prototype.OnEndUpdated=function(){},h.prototype.getDuration=function(){return 0},h.prototype.initialize=function(){},h.prototype.play=function(t){},h.prototype.stop=function(t){},h.prototype.pause=function(){};var c=function(t){var e;arguments&&arguments.length>1&&arguments[1]instanceof Array?e=arguments[1]:(e=i.argsToArray(arguments),e.splice(0,1)),this.Init(t,e)};e.createSubclass(c,h,"DvtParallelPlayable"),c.prototype.Init=function(t,e){c.superclass.Init.call(this,t),this._runningCounter=0,this._arPlayables=e?e:[],this._bStarted=!1},c.prototype.getPlayables=function(){return this._arPlayables},c.prototype.getDuration=function(){for(var t=0,e=0;e<this._arPlayables.length;e++){var i=this._arPlayables[e];i instanceof h&&(t=Math.max(t,i.getDuration()))}return t},c.prototype.initialize=function(){for(var t=0;t<this._arPlayables.length;t++)this._arPlayables[t]instanceof h&&this._arPlayables[t].initialize()},c.prototype.play=function(t){this._arPlayables.length>0?t?this._play():(this.initialize(),r.requestAnimationFrame(e.createCallback(this,this._play))):r.requestAnimationFrame(e.createCallback(this,this.DoEnd))},c.prototype._play=function(){for(var t,e=0;e<this._arPlayables.length;e++)t=this._arPlayables[e],t instanceof h&&(this._bStarted||(this._runningCounter++,h.appendOnEnd(t,this.OnPlayableEnd,this)),t.play(!0));this._bStarted=!0},c.prototype.stop=function(t){for(var e,i=0;i<this._arPlayables.length;i++)e=this._arPlayables[i],e instanceof h&&e.stop(t)},c.prototype.pause=function(){for(var t=0;t<this._arPlayables.length;t++){var e=this._arPlayables[t];e instanceof h&&e.pause()}},c.prototype.OnPlayableEnd=function(){this._runningCounter--,this._runningCounter<1&&this.DoEnd()},c.prototype.DoEnd=function(){this._onEnd&&this._onEnd.call(this._onEndObj)};var p=function(t){var e;arguments&&arguments.length>1&&arguments[1]instanceof Array?e=arguments[1]:(e=i.argsToArray(arguments),e.splice(0,1)),this.Init(t,e)};e.createSubclass(p,h,"DvtSequentialPlayable"),p.prototype.Init=function(t,e){p.superclass.Init.call(this,t),this._arPlayables=e?e:[],this._currIndex=-1,this._bStarted=!1},p.prototype.getPlayables=function(){return this._arPlayables},p.prototype.getDuration=function(){for(var t=0,e=0;e<this._arPlayables.length;e++){var i=this._arPlayables[e];i instanceof h&&(t+=i.getDuration())}return t},p.prototype.initialize=function(){this._arPlayables.length>0&&this._arPlayables[0]instanceof h&&this._arPlayables[0].initialize()},p.prototype.play=function(t){this._arPlayables&&this._arPlayables.length>0?t?this._play():(this.initialize(),r.requestAnimationFrame(e.createCallback(this,this._play))):r.requestAnimationFrame(e.createCallback(this,this.DoEnd))},p.prototype._play=function(){if(this._bStarted){var t=this._arPlayables[this._currIndex];return void(t instanceof h&&t.play(!0))}var e;this._arPlayables[0]instanceof h&&(e=this._arPlayables[0]);var i;this._arPlayables[this._arPlayables.length-1]instanceof h&&(i=this._arPlayables[this._arPlayables.length-1]);for(var n,r=0;r<this._arPlayables.length-1;r++)n=this._arPlayables[r],n instanceof h&&h.appendOnEnd(n,this.DoSequenceStep,this);i&&h.appendOnEnd(i,this.DoEnd,this),this._bStarted=!0,this._currIndex=0,e&&e.play(!0)},p.prototype.DoSequenceStep=function(){var t=this._arPlayables[++this._currIndex];t instanceof h?t.play(!0):this.DoSequenceStep()},p.prototype.stop=function(t){if(this._arPlayables)for(var e,i=this._currIndex;i<this._arPlayables.length;i++)e=this._arPlayables[i],e&&e instanceof h&&e.stop(t)},p.prototype.pause=function(){if(this._arPlayables){var t=this._arPlayables[this._currIndex];t instanceof h&&t.pause()}},p.prototype.DoEnd=function(){this._onEnd&&this._onEnd.call(this._onEndObj)};var d=function(){};e.createSubclass(d,e,"DvtBlackBoxAnimationHandler"),d.ALPHA_FADE="alphaFade",d.CONVEYOR_FROM_RIGHT="conveyorFromRight",d.CONVEYOR_FROM_LEFT="conveyorFromLeft",d.CUBE_TO_RIGHT="cubeToRight",d.CUBE_TO_LEFT="cubeToLeft",d.FLIP_RIGHT="flipRight",d.FLIP_LEFT="flipLeft",d.TRANSITION_TO_RIGHT="transitionToRight",d.TRANSITION_TO_LEFT="transitionToLeft",d.SLIDE_TO_RIGHT="slideToRight",d.SLIDE_TO_LEFT="slideToLeft",d.ZOOM="zoom",d.isSupported=function(t){return t==d.ALPHA_FADE||t==d.CONVEYOR_FROM_RIGHT||t==d.CONVEYOR_FROM_LEFT||t==d.CUBE_TO_RIGHT||t==d.CUBE_TO_LEFT||t==d.FLIP_RIGHT||t==d.FLIP_LEFT||t==d.TRANSITION_TO_RIGHT||t==d.TRANSITION_TO_LEFT||t==d.SLIDE_TO_RIGHT||t==d.SLIDE_TO_LEFT||t==d.ZOOM},d.getInAnimation=function(t,e,i,n,r){return e==d.ALPHA_FADE?new D(t,i,r):e==d.CONVEYOR_FROM_RIGHT?new S(t,i,m.DIR_E,r):e==d.CONVEYOR_FROM_LEFT?new S(t,i,m.DIR_W,r):e==d.CUBE_TO_RIGHT?new C(t,i,m.AXIS_Y,m.ROT_DIR_CLOCKWISE,r):e==d.CUBE_TO_LEFT?new C(t,i,m.AXIS_Y,m.ROT_DIR_COUNTERCLOCKWISE,r):e==d.FLIP_RIGHT?new T(t,i,m.AXIS_Y,m.ROT_DIR_CLOCKWISE,r):e==d.FLIP_LEFT?new T(t,i,m.AXIS_Y,m.ROT_DIR_COUNTERCLOCKWISE,r):e==d.TRANSITION_TO_RIGHT?new L(t,i,n,m.DIR_NW,.5,r):e==d.TRANSITION_TO_LEFT?new L(t,i,n,m.DIR_NE,.5,r):e==d.SLIDE_TO_RIGHT?(d._offsetObjects(i,-n.w,0),new O(t,i,new dt(n.w,0),r)):e==d.SLIDE_TO_LEFT?(d._offsetObjects(i,n.w,0),new O(t,i,new dt(-n.w,0),r)):e==d.ZOOM?new L(t,i,n,m.DIR_C,.5,r):null},d.getCombinedAnimation=function(t,e,i,n,r,o){return e==d.ALPHA_FADE?new G(t,i,n,o):e==d.CONVEYOR_FROM_RIGHT?new B(t,i,n,m.DIR_W,m.DIR_E,o):e==d.CONVEYOR_FROM_LEFT?new B(t,i,n,m.DIR_E,m.DIR_W,o):e==d.CUBE_TO_RIGHT?new U(t,i,n,m.AXIS_Y,m.ROT_DIR_CLOCKWISE,o):e==d.CUBE_TO_LEFT?new U(t,i,n,m.AXIS_Y,m.ROT_DIR_COUNTERCLOCKWISE,o):e==d.FLIP_RIGHT?new j(t,i,n,m.AXIS_Y,m.ROT_DIR_CLOCKWISE,o):e==d.FLIP_LEFT?new j(t,i,n,m.AXIS_Y,m.ROT_DIR_COUNTERCLOCKWISE,o):e==d.TRANSITION_TO_RIGHT?new Y(t,i,n,r,m.DIR_SE,m.DIR_NW,.5,o):e==d.TRANSITION_TO_LEFT?new Y(t,i,n,r,m.DIR_SW,m.DIR_NE,.5,o):e==d.SLIDE_TO_RIGHT?(d._offsetObjects(n,-r.w,0),new V(t,i,n,new dt(r.w,0),new dt(r.w,0),o)):e==d.SLIDE_TO_LEFT?(d._offsetObjects(n,r.w,0),new V(t,i,n,new dt(-r.w,0),new dt(-r.w,0),o)):e==d.ZOOM?new Y(t,i,n,r,m.DIR_C,m.DIR_C,.5,o):null},d._offsetObjects=function(t,e,i){if(t.length)for(var n=0;n<t.length;n++)d._offsetObjects(t[n],e,i);else t&&t.setTranslate(t.getTranslateX()+e,t.getTranslateY()+i)};var g=function(t,e){this.Init(t,e)};e.createSubclass(g,e,"DvtDataAnimationHandler"),g._OVERLAP_RATIO=.4,g.prototype.Init=function(t,e){this._context=t,this._deleteContainer=e,this._playables=[]},g.prototype.getCtx=function(){return this._context},g.prototype.constructAnimation=function(t,e){if(e&&!this._context.isOffscreen()){if(e=e.slice(0),t)for(var i=0;i<t.length;i++){var n=t[i];if(n){for(var r=n.getId(),o=!1,s=0;s<e.length;s++){var a=e[s];if(a){var l=a.getId();if(r===l||r&&r.equals&&r.equals(l)){a.animateUpdate(this,n),e.splice(s,1),o=!0;break}}}o||n.animateDelete(this,this._deleteContainer)}}for(var u=0;u<e.length;u++)e[u]&&e[u].animateInsert(this)}},g.prototype.add=function(t,e){if(t){for(e||(e=0);this._playables.length<=e;)this._playables.push(new Array);this._playables[e].push(t)}},g.prototype.getAnimation=function(t){for(var e=[],i=0;i<this._playables.length;i++)if(this._playables[i].length>0){var n=new c(this._context,this._playables[i]);e.push(n)}if(t){for(var r=[],o=0,s=0;s<e.length;s++){if(o>0){var a=new y(this._context,null,o);r.push(new p(this._context,[a,e[s]]))}else r.push(e[s]);o+=(1-g._OVERLAP_RATIO)*e[s].getDuration()}return new c(this._context,r)}return new p(this._context,e)},g.prototype.getNumPlayables=function(){return this._playables.length};var f=function(){this.Init()};e.createSubclass(f,e,"DvtEasing"),f.linear=function(t){return t},f.quadraticIn=function(t){return f.PolyIn(t,2)},f.quadraticOut=function(t){return f.PolyOut(t,2)},f.quadraticInOut=function(t){return f.PolyInOut(t,2)},f.cubicIn=function(t){return f.PolyIn(t,3)},f.cubicOut=function(t){return f.PolyOut(t,3)},f.cubicInOut=function(t){return f.PolyInOut(t,3)},f.backOut=function(t,e){return e||(e=1.70158),t=1-t,1-t*t*((e+1)*t-e)},f.backIn=function(t,e){return e||(e=1.70158),t*t*((e+1)*t-e)},f.elasticIn=function(t,e,i){if(0>=t||t>=1)return t;i||(i=.45);var n;return!e||1>e?(e=1,n=i/4):n=i/(2*Math.PI)*Math.asin(1/e),-(e*Math.pow(2,10*(t-=1))*Math.sin((t-n)*(2*Math.PI)/i))},f.elasticOut=function(t,e,i){return 1-f.elasticIn(1-t,e,i)},f.PolyIn=function(t,e){return 0>t?0:t>1?1:Math.pow(t,e)},f.PolyOut=function(t,e){return 0>t?0:t>1?1:1-Math.pow(1-t,e)},f.PolyInOut=function(t,e){return 0>t?0:t>1?1:.5>t?.5*Math.pow(2*t,e):.5*(2-Math.pow(2*(1-t),e))},f.prototype.Init=function(){};var _=function(){this.Init()};e.createSubclass(_,e,"DvtInterpolator"),_.addInterpolator=function(t,e){_._map[t]=e},_.removeInterpolator=function(t){delete _._map[t]},_.interpolate=function(t,e,i,n,r){var o=_._getInterpolator(e);return o?o(t,i,n,r):n},_._getInterpolator=function(t){return _._map[t]},_.InterpolateNumber=function(t,e,i,n){return yt.interpolateNumber(e,i,n)},_.InterpolateNumberArray=function(t,e,i,n){for(var r=e.length,o=i.length,s=[],a=0;a<Math.max(r,o);a++){var l,u;l=r>a?e[a]:e[r-1],u=o>a?i[a]:i[o-1],s.push(_.InterpolateNumber(t,l,u,n))}return s},_.InterpolateMatrix=function(t,e,i,n){var r=_.InterpolateNumber(t,e.getA(),i.getA(),n),o=_.InterpolateNumber(t,e.getB(),i.getB(),n),s=_.InterpolateNumber(t,e.getC(),i.getC(),n),a=_.InterpolateNumber(t,e.getD(),i.getD(),n),l=_.InterpolateNumber(t,e.getTx(),i.getTx(),n),u=_.InterpolateNumber(t,e.getTy(),i.getTy(),n);return new pt(r,o,s,a,l,u)},_.InterpolateColor=function(t,e,i,n){return X.interpolateColor(e,i,n)},_.InterpolateColorArray=function(t,e,i,n){for(var r=e.length,o=i.length,s=[],a=0;a<Math.max(r,o);a++){var l,u;l=r>a?e[a]:e[r-1],u=o>a?i[a]:i[o-1],s.push(_.InterpolateColor(t,l,u,n))}return s},_.InterpolateGrowPolyline=function(t,e,i,n){if(0===n)return[i[0],i[1]];if(1===n)return i;for(var r,o=i.length,s=[i[0],i[1]],a=_.CalcPolylineLength(i),l=n*a,u=0,h=2;o-1>h;h+=2){var c=i[h-2],p=i[h-1],d=i[h],g=i[h+1];if(r=_.CalcPolylineLength([c,p,d,g]),u+r>l){var f=(l-u)/r,v=d-c,m=g-p;s.push(c+f*v),s.push(p+f*m);break}u+=r,s.push(d),s.push(g)}return s},_.InterpolateGrowPath=function(t,e,i,n){if(0===n)return[i[0],i[1]];if(1===n)return i;for(var r,o,s,a,l,u,h,c,p,d=i.length,g=[],f=_.CalcPathLength(i),v=n*f,m=0,y=0;d>y;y++){var S,E=i[y];switch(E){case"M":o=i[++y],s=i[++y],c=o,p=s,S=[c,p,c,p];break;case"L":o=i[++y],s=i[++y],S=[c,p,o,s];break;case"Q":a=i[++y],l=i[++y],o=i[++y],s=i[++y],S=[c,p,o,s];break;case"C":a=i[++y],l=i[++y],u=i[++y],h=i[++y],o=i[++y],s=i[++y],S=[c,p,o,s]}if(r=_.CalcPolylineLength(S),m+r>v){var T=(v-m)/r;switch(g.push(E),E){case"Q":g.push(c+T*(a-c),p+T*(l-p));break;case"C":g.push(c+T*(a-c),p+T*(l-p),c+T*(u-c),p+T*(h-p))}g.push(c+T*(o-c),p+T*(s-p));break}switch(m+=r,g.push(E),E){case"Q":g.push(a,l);break;case"C":g.push(a,l,u,h)}g.push(o),g.push(s),c=o,p=s}return g},_.CalcPolylineLength=function(t){for(var e,i,n,r,o=0,s=0;s<t.length;s+=2){if(n=t[s],r=t[s+1],s>0)if(n===e)o+=Math.abs(r-i);else if(r===i)o+=Math.abs(n-e);else{var a=Math.abs(n-e),l=Math.abs(r-i);o+=Math.sqrt(a*a+l*l)}e=n,i=r}return o},_.CalcPathLength=function(t){for(var e,i,n,r,o,s=0,a=0;a<t.length;){switch(o=t[a]){case"M":n=t[a+1],r=t[a+2],e=n,i=r,a+=3;continue;case"L":n=t[a+1],r=t[a+2],a+=3;break;case"Q":n=t[a+3],r=t[a+4],a+=5;break;case"C":n=t[a+5],r=t[a+6],a+=7}if(a>0)if(n===e)s+=Math.abs(r-i);else if(r===i)s+=Math.abs(n-e);else{var l=Math.abs(n-e),u=Math.abs(r-i);s+=Math.sqrt(l*l+u*u)}e=n,i=r}return s},_.InterpolateRectangle=function(t,e,i,n){var r=_.InterpolateNumber(t,e.x,i.x,n),o=_.InterpolateNumber(t,e.y,i.y,n),s=_.InterpolateNumber(t,e.w,i.w,n),a=_.InterpolateNumber(t,e.h,i.h,n);return new gt(r,o,s,a)},_.InterpolatePoint=function(t,e,i,n){var r=_.InterpolateNumber(t,e.x,i.x,n),o=_.InterpolateNumber(t,e.y,i.y,n);return new dt(r,o)},_.InterpolatePath=function(t,e,i,n){var r=e.length,o=i.length;if(r!=o)return i;for(var s=[],a=0,l=0;r>a&&o>l;){var u=e[a],h=i[l],c=!isNaN(u),p=!isNaN(h);c||p?c&&p&&s.push(_.InterpolateNumber(t,u,h,n)):u===h&&s.push(u),a++,l++}return s},_.InterpolateFill=function(t,e,i,n){if(e instanceof J&&i instanceof J){var r=_.InterpolateColor(t,e.getColor(),i.getColor(),n),o=_.InterpolateNumber(t,e.getAlpha(),i.getAlpha(),n);return new J(r,o)}return i},_.InterpolateStroke=function(t,e,i,n){if(e instanceof it&&i instanceof it){var r=_.InterpolateColor(t,e.getColor(),i.getColor(),n),o=_.InterpolateNumber(t,e.getAlpha(),i.getAlpha(),n),s=_.InterpolateNumber(t,e.getWidth(),i.getWidth(),n),a=i.clone();return a.setColor(r),a.setAlpha(o),a.setWidth(s),a}return i},_.InterpolatePolyline=function(t,e,i,n){for(var r=e.length,o=i.length,s=[],a=0;a<Math.max(r,o);a++){var l=2;a%2==1&&(l=1);var u,h;u=r>a?e[a]:e[r-l],h=o>a?i[a]:i[o-l],s.push(_.InterpolateNumber(t,u,h,n))}if(r>o)for(var c=s.length,p=s[c-2],d=s[c-1],a=c-4;a>=0;a-=2){var g=s[a],f=s[a+1];if(g!=p||f!=d)break;s.splice(a,2)}return s},_.prototype.Init=function(){},_._map={},_._map[l.TYPE_NUMBER]=_.InterpolateNumber,_._map[l.TYPE_MATRIX]=_.InterpolateMatrix,_._map[l.TYPE_NUMBER_ARRAY]=_.InterpolateNumberArray,_._map[l.TYPE_COLOR]=_.InterpolateColor,_._map[l.TYPE_COLOR_ARRAY]=_.InterpolateColorArray,_._map[l.TYPE_GROW_POLYLINE]=_.InterpolateGrowPolyline,_._map[l.TYPE_RECTANGLE]=_.InterpolateRectangle,_._map[l.TYPE_POINT]=_.InterpolatePoint,_._map[l.TYPE_PATH]=_.InterpolatePath,_._map[l.TYPE_GROW_PATH]=_.InterpolateGrowPath,_._map[l.TYPE_FILL]=_.InterpolateFill,_._map[l.TYPE_STROKE]=_.InterpolateStroke,_._map[l.TYPE_POLYLINE]=_.InterpolatePolyline;var v=function(t,e,i,n,r){this.Init(t,e,i,n,r)};e.createSubclass(v,e,"DvtTimer"),v.prototype.Init=function(t,e,i,n,r){this._interval=e,this._callback=i,this._callbackObj=n,this._repeatCount=r,this._bRunning=!1,this._numIterations=0},v.prototype.start=function(){this._bRunning||(this._bRunning=!0,this.StartTimer())},v.prototype.stop=function(){this._bRunning&&(this._bRunning=!1,this.StopTimer())},v.prototype.reset=function(){this._bRunning&&this.stop(),this._numIterations=0},v.prototype.isRunning=function(){return this._bRunning},v.prototype.HandleTimer=function(){this._callback&&(this._callback.call(this._callbackObj),this._repeatCount&&(this._numIterations++,this._numIterations>=this._repeatCount&&this.stop()))},v.prototype.setInterval=function(t){var e=t;0>e&&(e=0);var i=this._bRunning;i&&this.stop(),this._interval=e,i&&this.start()},v.prototype.getInterval=function(){return this._interval},v.prototype.StartTimer=function(){var t=this,e=this.HandleTimer;this._timerId=window.setInterval(function(){e.call(t)},this.getInterval())},v.prototype.StopTimer=function(){this._timerId&&(window.clearInterval(this._timerId),this._timerId=null)};var m=function(t,e,i,n){this.Init(t,e,i,n)};e.createSubclass(m,h,"DvtBaseAnimation"),m.EASING_LINEAR=1,m.EASING_CUBIC_IN_OUT=2,m.EASING_CUBIC_IN=3,m.EASING_CUBIC_OUT=4,m.EASING_QUADRATIC_IN_OUT=5,m.EASING_QUADRATIC_IN=6,m.EASING_QUADRATIC_OUT=7,m.EASING_BOUNCE_IN=8,m.EASING_BOUNCE_OUT=9,m.EASING_ELASTIC_IN=10,m.EASING_ELASTIC_OUT=11,m.DIR_C=1,m.DIR_N=2,m.DIR_NE=3,m.DIR_E=4,m.DIR_SE=5,m.DIR_S=6,m.DIR_SW=7,m.DIR_W=8,m.DIR_NW=9,m.AXIS_X=1,m.AXIS_Y=2,m.ROT_DIR_CLOCKWISE=1,m.ROT_DIR_COUNTERCLOCKWISE=2,m.GetEasingFunction=function(t){switch(t){case m.EASING_LINEAR:return f.linear;case m.EASING_CUBIC_IN:return f.cubicIn;case m.EASING_CUBIC_OUT:return f.cubicOut;case m.EASING_QUADRATIC_IN_OUT:return f.quadraticInOut;case m.EASING_QUADRATIC_IN:return f.quadraticIn;case m.EASING_QUADRATIC_OUT:return f.quadraticOut;case m.EASING_BOUNCE_IN:return f.backIn;case m.EASING_BOUNCE_OUT:return f.backOut;case m.EASING_ELASTIC_IN:return f.elasticIn;case m.EASING_ELASTIC_OUT:return f.elasticOut;case m.EASING_CUBIC_IN_OUT:default:return f.cubicInOut}},m.GetCompassPoint=function(t,e){switch(e){case m.DIR_N:return new dt(t.x+.5*t.w,t.y);case m.DIR_NE:return new dt(t.x+t.w,t.y);case m.DIR_E:return new dt(t.x+t.w,t.y+.5*t.h);case m.DIR_SE:return new dt(t.x+t.w,t.y+t.h);case m.DIR_S:return new dt(t.x+.5*t.w,t.y+t.h);case m.DIR_SW:return new dt(t.x,t.y+t.h);case m.DIR_W:return new dt(t.x,t.y+.5*t.h);case m.DIR_NW:return new dt(t.x,t.y);case m.DIR_C:default:return new dt(t.x+.5*t.w,t.y+.5*t.h)}},m.GetAlignCompassPoint=function(t,e,i){var n=m.GetCompassPoint(e,i);switch(i){case m.DIR_N:return new dt(n.x-.5*t.w,n.y);case m.DIR_NE:return new dt(n.x-t.w,n.y);case m.DIR_E:return new dt(n.x-t.w,n.y-.5*t.h);case m.DIR_SE:return new dt(n.x-t.w,n.y-t.h);case m.DIR_S:return new dt(n.x-.5*t.w,n.y-t.h);case m.DIR_SW:return new dt(n.x,n.y-t.h);case m.DIR_W:return new dt(n.x,n.y-.5*t.h);case m.DIR_NW:return new dt(n.x,n.y);case m.DIR_C:default:return new dt(n.x-.5*t.w,n.y-.5*t.h)}},m.prototype.Init=function(t,e,i,n){m.superclass.Init.call(this,t),this._context=t,e instanceof Array?this._arObjects=e:this._arObjects=[e],this._duration=i?i:.5,this._delay=n?n:0,this._easing=m.EASING_CUBIC_IN_OUT,this._bInitialized=!1,this._bSaveAndRestoreOriginalMatrices=!1,this._origMatrixArray=null,this._bHideObjectsOnEnd=!1,this.CreateAnimator(t)},m.prototype.GetContext=function(){return this._context},m.prototype.isRunning=function(){return this._animator?this._animator.isRunning():!1},m.prototype.initialize=function(){this._bInitialized||(this._initializeEndStates(this._arObjects),this._initializeStartStates(this._arObjects),this.InitializePlay(),this._bInitialized=!0)},m.prototype.play=function(t){this.initialize(),this._animator&&this._animator.play(t)},m.prototype.stop=function(t){this._animator&&this._animator.stop(t)},m.prototype.pause=function(){this._animator&&this._animator.pause()},m.prototype.getDuration=function(){return this._duration},m.prototype.setDuration=function(t){this._duration=t?t:0,this._animator&&this._animator.setDuration(this._duration)},m.prototype.getDelay=function(){return this._delay},m.prototype.setDelay=function(t){this._delay=t?t:0,this._animator&&this._animator.setDelay(this._delay)},m.prototype.getEasing=function(){return this._easing},m.prototype.setEasing=function(t){this._easing=t,this._animator&&this._animator.setEasing(m.GetEasingFunction(this._easing))},m.prototype.CreateAnimator=function(t){this._animator=new l(t,this._duration,this._delay,m.GetEasingFunction(this._easing)),this._animator.setOnEnd(this.OnAnimEnd,this)},m.prototype.OnAnimEnd=function(){this._bHideObjectsOnEnd&&this.HideObjects(),this._bSaveAndRestoreOriginalMatrices&&this.RestoreOriginalMatrices(),this._onEnd&&this._onEnd.call(this._onEndObj)},m.prototype.InitializePlay=function(){},m.prototype._initializeStartStates=function(t){if(t)for(var e,i=0;i<t.length;i++)e=t[i],e&&(this._bSaveAndRestoreOriginalMatrices&&(this._origMatrixArray||(this._origMatrixArray=[]),this._origMatrixArray.push(e.getMatrix())),this.InitStartState(e))},m.prototype._initializeEndStates=function(t){if(t)for(var e,i=0;i<t.length;i++)e=t[i],e&&this.InitEndState(e)},m.prototype.InitStartState=function(t){},m.prototype.InitEndState=function(t){},m.prototype.ShowObjects=function(){this.SetObjectsVisible(!0)},m.prototype.HideObjects=function(){this.SetObjectsVisible(!1)},m.prototype.SetObjectsVisible=function(t){if(this._arObjects)for(var e,i=this._arObjects.length-1;i>=0;i--)e=this._arObjects[i],e&&e.setVisible(t)},m.prototype.RestoreOriginalMatrices=function(){if(this._arObjects)for(var t,e=this._arObjects.length-1;e>=0;e--)t=this._arObjects[e],t&&this._origMatrixArray&&t.setMatrix(this._origMatrixArray.pop())};var y=function(t,e,i,n){this.Init(t,e,i,n)};e.createSubclass(y,m,"DvtCustomAnimation"),y.prototype.getAnimator=function(){return this._animator};var S=function(t,e,i,n,r){this.Init(t,e,i,n,r)};e.createSubclass(S,m,"DvtAnimConveyorIn"),S.prototype.Init=function(t,e,i,n,r){S.superclass.Init.call(this,t,e,n,r),this._direction=i,this._SCALE=.2,this._SKEW_ANGLE=Math.PI/12,this._bSaveAndRestoreOriginalMatrices=!0},S.prototype.CreateAnimator=function(t){S.superclass.CreateAnimator.call(this,t),this.setEasing(m.EASING_CUBIC_IN),this._animator.setDuration(this.getDuration()/2),this._animator.setOnEnd(this.PlayEndAnim,this),this._endAnim=new l(t,this.getDuration()/2,0,m.GetEasingFunction(m.EASING_CUBIC_OUT)),this._endAnim.setOnEnd(this.OnAnimEnd,this)},S.prototype.InitializePlay=function(){S.superclass.InitializePlay.call(this),this.ShowObjects()},S.prototype.InitStartState=function(t){S.superclass.InitStartState.call(this,t),t.setVisible(!1);var e=this._SCALE,i=1-e,n=t.getDimensions(),r=(n.w*i,n.h*i,this.GetConcatenatedRotationMatrix(t,n)),o=new pt;this._direction===m.DIR_W||this._direction===m.DIR_E?this._direction===m.DIR_W?o.translate(n.w,0):o.translate(-n.w,0):this._direction===m.DIR_N?o.translate(0,n.h):o.translate(0,-n.h),o.concat(r),t.setMatrix(o),t.setAlpha(0)},S.prototype.InitEndState=function(t){S.superclass.InitEndState.call(this,t);var e=t.getDimensions(),i=this.GetConcatenatedRotationMatrix(t,e);this._animator.addProp(l.TYPE_MATRIX,t,t.getMatrix,t.setMatrix,i),this._animator.addProp(l.TYPE_NUMBER,t,t.getAlpha,t.setAlpha,1);var n=t.getMatrix();this._endAnim.addProp(l.TYPE_MATRIX,t,t.getMatrix,t.setMatrix,n)},S.prototype.PlayEndAnim=function(){this._endAnim.play(!0)},S.prototype.GetConcatenatedRotationMatrix=function(t,e){var i=this._SCALE,n=1-i,r=e.w*n,o=e.h*n,s=this._SKEW_ANGLE;this._direction!==m.DIR_W&&this._direction!==m.DIR_S||(s=-s);var a=Math.tan(s),l=t.getMatrix(),u=new pt;return this._direction===m.DIR_W||this._direction===m.DIR_E?(u.skew(0,s),u.scale(i,1),this._direction===m.DIR_W?u.translate(0,0):u.translate(r,-e.w*a)):(u.skew(s,0),u.scale(1,i),this._direction===m.DIR_N?u.translate(0,0):u.translate(-e.h*a,o)),u.concat(l),u};var E=function(t,e,i,n,r){this.Init(t,e,i,n,r)};e.createSubclass(E,m,"DvtAnimConveyorOut"),E.prototype.Init=function(t,e,i,n,r){E.superclass.Init.call(this,t,e,n,r),this._direction=i,this._bSaveAndRestoreOriginalMatrices=!0,this._bHideObjectsOnEnd=!0},E.prototype.CreateAnimator=function(t){E.superclass.CreateAnimator.call(this,t),this.setEasing(m.EASING_CUBIC_IN),this._animator.setDuration(this.getDuration()/2),this._animator.setOnEnd(this.PlayEndAnim,this),this._endAnim=new l(t,this.getDuration()/2,0,m.GetEasingFunction(m.EASING_CUBIC_OUT)),this._endAnim.setOnEnd(this.OnAnimEnd,this)},E.prototype.InitEndState=function(t){E.superclass.InitEndState.call(this,t);var e=.2,i=1-e,n=t.getDimensions(),r=n.w*i,o=n.h*i,s=Math.PI/12;this._direction!==m.DIR_W&&this._direction!==m.DIR_S||(s=-s);var a=Math.tan(s),u=t.getMatrix(),h=new pt;this._direction===m.DIR_W||this._direction===m.DIR_E?(h.skew(0,s),h.scale(e,1),this._direction===m.DIR_W?h.translate(0,0):h.translate(r,-n.w*a)):(h.skew(s,0),h.scale(1,e),this._direction===m.DIR_N?h.translate(0,0):h.translate(-n.h*a,o)),h.concat(u),this._animator.addProp(l.TYPE_MATRIX,t,t.getMatrix,t.setMatrix,h);var c=new pt;this._direction===m.DIR_W||this._direction===m.DIR_E?this._direction===m.DIR_W?c.translate(n.w,0):c.translate(-n.w,0):this._direction===m.DIR_N?c.translate(0,n.h):c.translate(0,-n.h),c.concat(h),this._endAnim.addProp(l.TYPE_MATRIX,t,t.getMatrix,t.setMatrix,c),this._endAnim.addProp(l.TYPE_NUMBER,t,t.getAlpha,t.setAlpha,0)},E.prototype.PlayEndAnim=function(){this._endAnim.play(!0)};var T=function(t,e,i,n,r,o){this.Init(t,e,i,n,r,o)};e.createSubclass(T,m,"DvtAnimFlipIn"),T.prototype.Init=function(t,e,i,n,r,o){T.superclass.Init.call(this,t,e,r,o),this._axis=i,
this._rotationDir=n,this._bSaveAndRestoreOriginalMatrices=!0,this._cubeEffect=!1},T.prototype.InitStartState=function(t){T.superclass.InitStartState.call(this,t),t.setVisible(!1);var e=t.getDimensions(),i=e.w/2,n=e.h/2,r=Math.PI/6;this._rotationDir===m.ROT_DIR_COUNTERCLOCKWISE&&(r=-r);var o=Math.tan(r),s=t.getMatrix(),a=new pt;this._axis===m.AXIS_Y?(a.skew(0,r),a.scale(0,1),this._cubeEffect?this._rotationDir===m.ROT_DIR_COUNTERCLOCKWISE?a.translate(e.w,0):a.translate(0,-e.w*o):a.translate(i,-i*o)):(a.skew(r,0),a.scale(1,0),this._cubeEffect?this._rotationDir===m.ROT_DIR_COUNTERCLOCKWISE?a.translate(-e.h*o,0):a.translate(0,e.h):a.translate(-n*o,n)),a.concat(s),t.setMatrix(a),this._cubeEffect&&t.setAlpha(0)},T.prototype.InitEndState=function(t){T.superclass.InitEndState.call(this,t);var e=t.getMatrix();this._animator.addProp(l.TYPE_MATRIX,t,t.getMatrix,t.setMatrix,e),this._cubeEffect&&this._animator.addProp(l.TYPE_NUMBER,t,t.getAlpha,t.setAlpha,1)},T.prototype.InitializePlay=function(){T.superclass.InitializePlay.call(this),this.ShowObjects()};var b=function(t,e,i,n,r,o){this.Init(t,e,i,n,r,o)};e.createSubclass(b,m,"DvtAnimFlipOut"),b.prototype.Init=function(t,e,i,n,r,o){b.superclass.Init.call(this,t,e,r,o),this._axis=i,this._rotationDir=n,this._bSaveAndRestoreOriginalMatrices=!0,this._bHideObjectsOnEnd=!0,this._cubeEffect=!1},b.prototype.InitEndState=function(t){b.superclass.InitEndState.call(this,t);var e=t.getDimensions(),i=e.w/2,n=e.h/2,r=Math.PI/6;this._rotationDir===m.ROT_DIR_CLOCKWISE&&(r=-r);var o=Math.tan(r),s=t.getMatrix(),a=new pt;this._axis===m.AXIS_Y?(a.skew(0,r),a.scale(0,1),this._cubeEffect?this._rotationDir===m.ROT_DIR_CLOCKWISE?a.translate(e.w,0):a.translate(0,-e.w*o):a.translate(i,-i*o)):(a.skew(r,0),a.scale(1,0),this._cubeEffect?this._rotationDir===m.ROT_DIR_CLOCKWISE?a.translate(-e.h*o,0):a.translate(0,e.h):a.translate(-n*o,n)),a.concat(s),this._animator.addProp(l.TYPE_MATRIX,t,t.getMatrix,t.setMatrix,a),this._cubeEffect&&this._animator.addProp(l.TYPE_NUMBER,t,t.getAlpha,t.setAlpha,0)};var C=function(t,e,i,n,r,o){this.Init(t,e,i,n,r,o)};e.createSubclass(C,T,"DvtAnimCubeIn"),C.prototype.Init=function(t,e,i,n,r,o){C.superclass.Init.call(this,t,e,i,n,r,o),this._cubeEffect=!0};var A=function(t,e,i,n,r,o){this.Init(t,e,i,n,r,o)};e.createSubclass(A,b,"DvtAnimCubeOut"),A.prototype.Init=function(t,e,i,n,r,o){A.superclass.Init.call(this,t,e,i,n,r,o),this._cubeEffect=!0};var D=function(t,e,i,n){this.Init(t,e,i,n)};e.createSubclass(D,m,"DvtAnimFadeIn"),D.prototype.Init=function(t,e,i,n){D.superclass.Init.call(this,t,e,i,n)},D.prototype.InitStartState=function(t){t.setAlpha(0)},D.prototype.InitEndState=function(t){this._animator.addProp(l.TYPE_NUMBER,t,t.getAlpha,t.setAlpha,1)};var I=function(t,e,i,n){this.Init(t,e,i,n)};e.createSubclass(I,m,"DvtAnimFadeOut"),I.prototype.Init=function(t,e,i,n){I.superclass.Init.call(this,t,e,i,n)},I.prototype.InitEndState=function(t){this._animator.addProp(l.TYPE_NUMBER,t,t.getAlpha,t.setAlpha,0)};var x=function(t,e,i,n,r){this.Init(t,e,i,n,r)};e.createSubclass(x,m,"DvtAnimMatrixTransformBy"),x.prototype.Init=function(t,e,i,n,r){this._transformMatrix=i,x.superclass.Init.call(this,t,e,n,r)},x.prototype.InitEndState=function(t){var e=t.getMatrix();e&&(e=e.clone(),e.concat(this._transformMatrix),this._animator.addProp(l.TYPE_MATRIX,t,t.getMatrix,t.setMatrix,e))};var O=function(t,e,i,n,r){this.Init(t,e,i,n,r)};e.createSubclass(O,m,"DvtAnimMoveBy"),O.prototype.Init=function(t,e,i,n,r){i instanceof Array?this._arOffsets=i:i instanceof dt?this._arOffsets=[i]:this._arOffsets=[new dt(0,0)],this._currIndex=0,O.superclass.Init.call(this,t,e,n,r)},O.prototype.InitEndState=function(t){var e;e=this._currIndex<this._arOffsets.length?this._arOffsets[this._currIndex]:this._arOffsets[this._arOffsets.length-1],this._animator.addProp(l.TYPE_NUMBER,t,t.getTranslateX,t.setTranslateX,t.getTranslateX()+e.x),this._animator.addProp(l.TYPE_NUMBER,t,t.getTranslateY,t.setTranslateY,t.getTranslateY()+e.y),this._currIndex++};var M=function(t,e,i,n,r){this.Init(t,e,i,n,r)};e.createSubclass(M,m,"DvtAnimMoveTo"),M.prototype.Init=function(t,e,i,n,r){i instanceof Array?this._arPoints=i:i instanceof dt?this._arPoints=[i]:this._arPoints=[new dt(0,0)],this._currIndex=0,M.superclass.Init.call(this,t,e,n,r)},M.prototype.InitEndState=function(t){var e;e=this._currIndex<this._arPoints.length?this._arPoints[this._currIndex]:this._arPoints[this._arPoints.length-1],this._animator.addProp(l.TYPE_NUMBER,t,t.getTranslateX,t.setTranslateX,e.x),this._animator.addProp(l.TYPE_NUMBER,t,t.getTranslateY,t.setTranslateY,e.y),this._currIndex++};var R=function(t,e,i,n,r){this.Init(t,e,i,n,r)};e.createSubclass(R,m,"DvtAnimRotateBy"),R.prototype.Init=function(t,e,i,n,r){i instanceof Array?this._arAngles=i:"number"==typeof i?this._arAngles=[i]:this._arAngles=[0],this._currIndex=0,R.superclass.Init.call(this,t,e,n,r)},R.prototype.InitEndState=function(t){var e;e=this._currIndex<this._arAngles.length?this._arAngles[this._currIndex]:this._arAngles[this._arAngles.length-1],this._animator.addProp(l.TYPE_NUMBER,t,t.getRotation,t.setRotation,t.getRotation()+e),this._currIndex++};var w=function(t,e,i,n,r){this.Init(t,e,i,n,r)};e.createSubclass(w,m,"DvtAnimRotateTo"),w.prototype.Init=function(t,e,i,n,r){i instanceof Array?this._arAngles=i:"number"==typeof i?this._arAngles=[i]:this._arAngles=[0],this._currIndex=0,w.superclass.Init.call(this,t,e,n,r)},w.prototype.InitEndState=function(t){var e;e=this._currIndex<this._arAngles.length?this._arAngles[this._currIndex]:this._arAngles[this._arAngles.length-1],this._animator.addProp(l.TYPE_NUMBER,t,t.getRotation,t.setRotation,e),this._currIndex++};var P=function(t,e,i,n,r){this.Init(t,e,i,n,r)};e.createSubclass(P,m,"DvtAnimScaleBy"),P.prototype.Init=function(t,e,i,n,r){i instanceof Array?this._arScales=i:i instanceof dt?this._arScales=[i]:this._arScales=[new dt(1,1)],this._currIndex=0,P.superclass.Init.call(this,t,e,n,r)},P.prototype.InitEndState=function(t){var e;e=this._currIndex<this._arScales.length?this._arScales[this._currIndex]:this._arScales[this._arScales.length-1],this._animator.addProp(l.TYPE_NUMBER,t,t.getScaleX,t.setScaleX,t.getScaleX()*e.x),this._animator.addProp(l.TYPE_NUMBER,t,t.getScaleY,t.setScaleY,t.getScaleY()*e.y),this._currIndex++};var L=function(t,e,i,n,r,o,s){this.Init(t,e,i,n,r,o,s)};e.createSubclass(L,D,"DvtAnimScaleFadeIn"),L.prototype.Init=function(t,e,i,n,r,o,s){this._boundsRect=i,this._direction=n?n:m.DIR_NW,this._minScale=r?r:.5,L.superclass.Init.call(this,t,e,o,s),this._bSaveAndRestoreOriginalMatrices=!0},L.prototype.InitStartState=function(t){L.superclass.InitStartState.call(this,t);var e=this._minScale*t.getScaleX(),i=this._minScale*t.getScaleY(),n=t.getDimensions(),r=new gt(0,0,e*n.w,i*n.h),o=m.GetAlignCompassPoint(r,this._boundsRect,this._direction);t.setTranslate(o.x,o.y),t.setScale(e,i)},L.prototype.InitEndState=function(t){L.superclass.InitEndState.call(this,t);var e=t.getMatrix();this._animator.addProp(l.TYPE_MATRIX,t,t.getMatrix,t.setMatrix,e)};var N=function(t,e,i,n,r,o,s){this.Init(t,e,i,n,r,o,s)};e.createSubclass(N,I,"DvtAnimScaleFadeOut"),N.prototype.Init=function(t,e,i,n,r,o,s){this._boundsRect=i,this._direction=n?n:m.DIR_NE,this._minScale=r?r:.5,N.superclass.Init.call(this,t,e,o,s),this._bSaveAndRestoreOriginalMatrices=!0},N.prototype.InitEndState=function(t){N.superclass.InitEndState.call(this,t);var e=this._minScale*t.getScaleX(),i=this._minScale*t.getScaleY(),n=t.getDimensions(),r=new gt(0,0,e*n.w,i*n.h),o=m.GetAlignCompassPoint(r,this._boundsRect,this._direction);this._animator.addProp(l.TYPE_NUMBER,t,t.getScaleX,t.setScaleX,e),this._animator.addProp(l.TYPE_NUMBER,t,t.getScaleY,t.setScaleY,i),this._animator.addProp(l.TYPE_NUMBER,t,t.getTranslateX,t.setTranslateX,o.x),this._animator.addProp(l.TYPE_NUMBER,t,t.getTranslateY,t.setTranslateY,o.y)};var k=function(t,e,i,n,r){this.Init(t,e,i,n,r)};e.createSubclass(k,m,"DvtAnimScaleTo"),k.prototype.Init=function(t,e,i,n,r){i instanceof Array?this._arScales=i:i instanceof dt?this._arScales=[i]:this._arScales=[new dt(1,1)],this._currIndex=0,k.superclass.Init.call(this,t,e,n,r)},k.prototype.InitEndState=function(t){var e;e=this._currIndex<this._arScales.length?this._arScales[this._currIndex]:this._arScales[this._arScales.length-1],this._animator.addProp(l.TYPE_NUMBER,t,t.getScaleX,t.setScaleX,e.x),this._animator.addProp(l.TYPE_NUMBER,t,t.getScaleY,t.setScaleY,e.y),this._currIndex++};var H=function(t,e,i,n,r){this.Init(t,e,i,n,r)};e.createSubclass(H,m,"DvtAnimPopIn"),H.BackOut=function(t){return f.backOut(t,2.5)},H.prototype.Init=function(t,e,i,n,r){this._bCenter=i,this._bCenter&&(this._tempContainers=[],this._currIndex=0),H.superclass.Init.call(this,t,e,n,r)},H.prototype.setEasing=function(t){},H.prototype.CreateAnimator=function(t){H.superclass.CreateAnimator.call(this,t),this._animator.setEasing(H.BackOut),this._bCenter&&h.appendOnEnd(this._animator,this.RemoveTempContainers,this)},H.prototype.InitStartState=function(t){if(this._bCenter){var e=this._tempContainers[this._currIndex],i=t.getDimensions();e._dvtAnimPopInOrigTx=t.getTranslateX(),e._dvtAnimPopInOrigTy=t.getTranslateY();var n=i.x+.5*i.w,r=i.y+.5*i.h;e.setTranslate(e._dvtAnimPopInOrigTx+n,e._dvtAnimPopInOrigTy+r),t.setTranslate(-n,-r);var o=t.getParent().getChildIndex(t);e._dvtAnimPopInChildIndex=o,t.getParent().addChildAt(e,o),e.addChild(t),e.setScale(.01,.01),this._currIndex++}else t.setScale(.01,.01);t.setVisible(!0)},H.prototype.InitEndState=function(t){if(this._bCenter){var e=new te(this._context);this._tempContainers.push(e),this._animator.addProp(l.TYPE_NUMBER,e,e.getScaleX,e.setScaleX,1),this._animator.addProp(l.TYPE_NUMBER,e,e.getScaleY,e.setScaleY,1)}else this._animator.addProp(l.TYPE_NUMBER,t,t.getScaleX,t.setScaleX,1),this._animator.addProp(l.TYPE_NUMBER,t,t.getScaleY,t.setScaleY,1)},H.prototype.RemoveTempContainers=function(){if(this._tempContainers){for(var t=0;t<this._tempContainers.length;t++){var e=this._tempContainers[t];if(this._tempContainers[t]=null,e.getNumChildren()>0){var i=e.getChildAt(0);i&&(i.setTranslate(e._dvtAnimPopInOrigTx,e._dvtAnimPopInOrigTy),e.getParent().addChildAt(i,e._dvtAnimPopInChildIndex))}e.getParent().removeChild(e)}this._tempContainers=null}};var F=function(t,e,i,n,r){this.Init(t,e,i,n,r)};e.createSubclass(F,m,"DvtAnimPopOut"),F.BackIn=function(t){return f.backIn(t,2.5)},F.prototype.Init=function(t,e,i,n,r){this._bCenter=i,this._bCenter&&(this._tempContainers=[],this._currIndex=0),F.superclass.Init.call(this,t,e,n,r),this._bSaveAndRestoreOriginalMatrices=!this._bCenter,this._bHideObjectsOnEnd=!0},F.prototype.setEasing=function(t){},F.prototype.CreateAnimator=function(t){F.superclass.CreateAnimator.call(this,t),this._animator.setEasing(F.BackIn),this._bCenter&&h.appendOnEnd(this._animator,this.RemoveTempContainers,this)},F.prototype.InitStartState=function(t){if(this._bCenter){var e=this._tempContainers[this._currIndex],i=t.getDimensions();e._dvtAnimPopInOrigTx=t.getTranslateX(),e._dvtAnimPopInOrigTy=t.getTranslateY();var n=i.x+.5*i.w,r=i.y+.5*i.h;e.setTranslate(e._dvtAnimPopInOrigTx+n,e._dvtAnimPopInOrigTy+r),t.setTranslate(-n,-r);var o=t.getParent().getChildIndex(t);e._dvtAnimPopInChildIndex=o,t.getParent().addChildAt(e,o),e.addChild(t),this._currIndex++}},F.prototype.InitEndState=function(t){if(this._bCenter){var e=new te(this._context);this._tempContainers.push(e),this._animator.addProp(l.TYPE_NUMBER,e,e.getScaleX,e.setScaleX,.01),this._animator.addProp(l.TYPE_NUMBER,e,e.getScaleY,e.setScaleY,.01)}else this._animator.addProp(l.TYPE_NUMBER,t,t.getScaleX,t.setScaleX,.01),this._animator.addProp(l.TYPE_NUMBER,t,t.getScaleY,t.setScaleY,.01)},F.prototype.RemoveTempContainers=function(){if(this._tempContainers){for(var t=0;t<this._tempContainers.length;t++){var e=this._tempContainers[t];if(this._tempContainers[t]=null,e.getNumChildren()>0){var i=e.getChildAt(0);i&&(i.setTranslate(e._dvtAnimPopInOrigTx,e._dvtAnimPopInOrigTy),e.getParent().addChildAt(i,e._dvtAnimPopInChildIndex))}e.getParent().removeChild(e)}this._tempContainers=null}};var B=function(t,e,i,n,r,o,s){this.Init(t,e,i,n,r,o,s)};e.createSubclass(B,c,"DvtCombinedAnimConveyor"),B.prototype.Init=function(t,e,i,n,r,o,s){o||(o=.5),s||(s=0);var a=new E(t,e,n,o,s),l=new S(t,i,r,o,o/3+s);B.superclass.Init.call(this,t,[a,l])};var U=function(t,e,i,n,r,o,s){this.Init(t,e,i,n,r,o,s)};e.createSubclass(U,c,"DvtCombinedAnimCube"),U.prototype.Init=function(t,e,i,n,r,o,s){o||(o=.5),s||(s=0);var a=new A(t,e,n,r,o,s),l=new C(t,i,n,r,o,s);U.superclass.Init.call(this,t,[a,l])};var G=function(t,e,i,n,r){this.Init(t,e,i,n,r)};e.createSubclass(G,c,"DvtCombinedAnimFade"),G.prototype.Init=function(t,e,i,n,r){n||(n=.5),r||(r=0);var o=new I(t,e,n,r),s=new D(t,i,n,.5*o.getDuration()+r);G.superclass.Init.call(this,t,[o,s])};var j=function(t,e,i,n,r,o,s){this.Init(t,e,i,n,r,o,s)};e.createSubclass(j,p,"DvtCombinedAnimFlip"),j.prototype.Init=function(t,e,i,n,r,o,s){o||(o=.5),s||(s=0);var a=new b(t,e,n,r,o,s);a.setEasing(m.EASING_CUBIC_IN);var l=new T(t,i,n,r,o,s);l.setEasing(m.EASING_CUBIC_OUT),l.HideObjects(),j.superclass.Init.call(this,t,[a,l])};var V=function(t,e,i,n,r,o,s){this.Init(t,e,i,n,r,o,s)};e.createSubclass(V,c,"DvtCombinedAnimMoveBy"),V.prototype.Init=function(t,e,i,n,r,o,s){o||(o=.5),s||(s=0);var a=new O(t,e,n,o,s),l=new O(t,i,r,o,s);V.superclass.Init.call(this,t,[a,l])};var Y=function(t,e,i,n,r,o,s,a,l){this.Init(t,e,i,n,r,o,s,a,l)};e.createSubclass(Y,c,"DvtCombinedAnimScaleFade"),Y.prototype.Init=function(t,e,i,n,r,o,s,a,l){r||(r=m.DIR_NE),o||(o=m.DIR_NW),s||(s=.5),a||(a=.5),l||(l=0);var u=new N(t,e,n,r,s,a,l),h=new L(t,i,n,o,s,a,.3*u.getDuration()+l);Y.superclass.Init.call(this,t,[u,h])};var W=function(t,e,i,n,r,o){this.Init(t,e,i,n,r,o)};e.createSubclass(W,c,"DvtCombinedAnimPopIn"),W.prototype.Init=function(t,e,i,n,r,o){var s,a=[];s=e instanceof Array?e:[e],o=null===o||isNaN(o)?0:o;for(var l=0;l<s.length;l++){var u=s[l],h=o+Math.random()*(r-n),c=new H(t,u,i,n,h);a.push(c)}W.superclass.Init.call(this,t,a)};var K=function(t,e,i,n,r,o){this.Init(t,e,i,n,r,o)};e.createSubclass(K,c,"DvtCombinedAnimPopOut"),K.prototype.Init=function(t,e,i,n,r,o){var s,a=[];s=e instanceof Array?e:[e],o=null===o||isNaN(o)?0:o;for(var l=0;l<s.length;l++){var u=s[l],h=o+Math.random()*(r-n),c=new F(t,u,i,n,h);a.push(c)}K.superclass.Init.call(this,t,a)};var z=function(){this._Init()};e.createSubclass(z,o,"DvtBaseDrawEffect"),z.prototype._Init=function(){z.superclass._Init.call(this)},z.prototype.getId=function(){return this._id},z.prototype.setId=function(t){this._id=t},z.prototype.mergeProps=function(t){t.setId(this._id)};var X={};e.createSubclass(X,e,"DvtColorUtils"),X._RED=0,X._GREEN=1,X._BLUE=2,X._ALPHA=3,X._RGBA="rgba(",X._RGB="rgb(",X._POUND="#",X._FACTOR=.15,X._names,X.getColorFromName=function(t){if(!X._names){var e=[];e.aliceblue="#f0f8ff",e.antiquewhite="#faEbd7",e.aqua="#00ffff",e.aquamarine="#7fffd4",e.azure="#f0ffff",e.beige="#f5f5dc",e.bisque="#ffE4c4",e.black="#000000",e.blanchedalmond="#ffEbcd",e.blue="#0000ff",e.blueviolet="#8a2bE2",e.brown="#a52a2a",e.burlywood="#dEb887",e.cadetblue="#5f9Ea0",e.chartreuse="#7fff00",e.chocolate="#d2691E",e.coral="#ff7f50",e.cornflowerblue="#6495Ed",e.cornsilk="#fff8dc",e.crimson="#dc143c",e.cyan="#00ffff",e.darkblue="#00008b",e.darkcyan="#008b8b",e.darkgoldenrod="#b8860b",e.darkgray="#a9a9a9",e.darkgreen="#006400",e.darkkhaki="#bdb76b",e.darkmagenta="#8b008b",e.darkolivegreen="#556b2f",e.darkorange="#ff8c00",e.darkorchid="#9932cc",e.darkred="#8b0000",e.darksalmon="#E9967a",e.darkseagreen="#8fbc8f",e.darkslateblue="#483d8b",e.darkslategray="#2f4f4f",e.darkturquoise="#00cEd1",e.darkviolet="#9400d3",e.deeppink="#ff1493",e.deepskyblue="#00bfff",e.dimgray="#696969",e.dodgerblue="#1E90ff",e.firebrick="#b22222",e.floralwhite="#fffaf0",e.forestgreen="#228b22",e.fuchsia="#ff00ff",e.gainsboro="#dcdcdc",e.ghostwhite="#f8f8ff",e.gold="#ffd700",e.goldenrod="#daa520",e.gray="#808080",e.green="#008000",e.greenyellow="#adff2f",e.honeydew="#f0fff0",e.hotpink="#ff69b4",e["indianred "]="#cd5c5c",e["indigo "]="#4b0082",e.ivory="#fffff0",e.khaki="#f0E68c",e.lavender="#E6E6fa",e.lavenderblush="#fff0f5",e.lawngreen="#7cfc00",e.lemonchiffon="#fffacd",e.lightblue="#add8E6",e.lightcoral="#f08080",e.lightcyan="#E0ffff",e.lightgoldenrodyellow="#fafad2",e.lightgray="#d3d3d3",e.lightgreen="#90EE90",e.lightpink="#ffb6c1",e.lightsalmon="#ffa07a",e.lightseagreen="#20b2aa",e.lightskyblue="#87cEfa",e.lightslategray="#778899",e.lightsteelblue="#b0c4dE",e.lightyellow="#ffffE0",e.lime="#00ff00",e.limegreen="#32cd32",e.linen="#faf0E6",e.magenta="#ff00ff",e.maroon="#800000",e.mediumaquamarine="#66cdaa",e.mediumblue="#0000cd",e.mediumorchid="#ba55d3",e.mediumpurple="#9370db",e.mediumseagreen="#3cb371",e.mediumslateblue="#7b68EE",e.mediumspringgreen="#00fa9a",e.mediumturquoise="#48d1cc",e.mediumvioletred="#c71585",e.midnightblue="#191970",e.mintcream="#f5fffa",e.mistyrose="#ffE4E1",e.moccasin="#ffE4b5",e.navajowhite="#ffdEad",e.navy="#000080",e.oldlace="#fdf5E6",e.olive="#808000",e.olivedrab="#6b8E23",e.orange="#ffa500",e.orangered="#ff4500",e.orchid="#da70d6",e.palegoldenrod="#EEE8aa",e.palegreen="#98fb98",e.paleturquoise="#afEEEE",e.palevioletred="#db7093",e.papayawhip="#ffEfd5",e.peachpuff="#ffdab9",e.peru="#cd853f",e.pink="#ffc0cb",e.plum="#dda0dd",e.powderblue="#b0E0E6",e.purple="#800080",e.rebeccapurple="#663399",e.red="#ff0000",e.rosybrown="#bc8f8f",e.royalblue="#4169E1",e.saddlebrown="#8b4513",e.salmon="#fa8072",e.sandybrown="#f4a460",e.seagreen="#2E8b57",e.seashell="#fff5EE",e.sienna="#a0522d",e.silver="#c0c0c0",e.skyblue="#87cEEb",e.slateblue="#6a5acd",e.slategray="#708090",e.snow="#fffafa",e.springgreen="#00ff7f",e.steelblue="#4682b4",e.tan="#d2b48c",e.teal="#008080",e.thistle="#d8bfd8",e.tomato="#ff6347",e.turquoise="#40E0d0",e.violet="#EE82EE",e.wheat="#f5dEb3",e.white="#ffffff",e.whitesmoke="#f5f5f5",e.yellow="#ffff00",e.yellowgreen="#9acd32",e.transparent="rgba(255,255,255,0)",X._names=e}return X._names[t]},X.isColor=function(t,e){if(!e)return t.charAt(0)===X._POUND||0===t.indexOf(X._RGBA)||0===t.indexOf(X._RGB);var i=!1;if(t=n.trim(t),t=t.toLowerCase(),t.charAt(0)===X._POUND){if(7===t.length){var r=new RegExp(/^#[0-9a-f]{6}$/i);i=r.test(t)}}else{var o,s=0===t.indexOf(X._RGBA);if(s||(o=0===t.indexOf(X._RGB)),s||o){var a=t.indexOf(")");if(a>=0){for(var l=t.substring(s?5:4,a).split(","),u=l.length,h=!0,c=0;u>c;c++){var p=l[c];if(0>p||p>255||c>3&&(0>p||p>1)){h=!1;break}}h&&(i=s?4===u:3===u)}}}return i},X.getAlpha=function(t){return X._getChannel(t,X._ALPHA)},X.setAlpha=function(t,e){return X._setChannel(t,X._ALPHA,e)},X.getRed=function(t){return X._getChannel(t,X._RED)},X.setRed=function(t,e){return X._setChannel(t,X._RED,e)},X.getBlue=function(t){return X._getChannel(t,X._BLUE)},X.setBlue=function(t,e){return X._setChannel(t,X._BLUE,e)},X.getGreen=function(t){return X._getChannel(t,X._GREEN)},X.setGreen=function(t,e){return X._setChannel(t,X._GREEN,e)},X._getChannel=function(t,e){var i=t,n=null,r=X.getColorFromName(i);if(r&&(i=r),e===X._ALPHA){if("#"===i.charAt(0))return i.length>7?parseInt(i.substring(1,3),16)/255:1;if("none"===i)return 0}var o=i.indexOf("(");if(0>o)a=[],i.length>7?(a[0]=parseInt(i.substr(3,2),16),a[1]=parseInt(i.substr(5,2),16),a[2]=parseInt(i.substr(7,2),16),a[3]=parseInt(i.substr(1,2),16)/255):(a[0]=parseInt(i.substr(1,2),16),a[1]=parseInt(i.substr(3,2),16),a[2]=parseInt(i.substr(5,2),16),a[3]=1),n=a[e];else{var s=i.indexOf(")"),a=i.substring(o+1,s).split(",");3===a.length&&e===X._ALPHA?n=1:(n=a[e],n=parseFloat(n))}return n},X.getDarker=function(t,e){var i=X._getChannel(t,X._RED),n=X._getChannel(t,X._GREEN),r=X._getChannel(t,X._BLUE),o=X._getChannel(t,X._ALPHA);return e||(e=X._FACTOR),i=Math.max(parseInt(i*e),0),n=Math.max(parseInt(n*e),0),r=Math.max(parseInt(r*e),0),X.makeRGBA(i,n,r,o)},X.getGrey=function(t){var e=X._getChannel(t,X._RED),i=X._getChannel(t,X._BLUE),n=X._getChannel(t,X._GREEN),r=Math.round(.3*e+.59*i+.11*n);return this.setRGB(t,r,r,r)},X.invert=function(t){var e,i=255-X._getChannel(t,X._RED),n=255-X._getChannel(t,X._BLUE),r=255-X._getChannel(t,X._GREEN);return e="#"===t.charAt(0)?X.makePound(i,n,r):t.substr(0,4)===X._RGB?X.makeRGB(i,n,r):X.makeRGBA(i,n,r,X._getChannel(t,X._ALPHA))},X.isRGBA=function(t){return t.substr(0,5)===X._RGBA},X.makeRGB=function(t,e,i){return i=null===i||isNaN(i)?0:i,e=null===e||isNaN(e)?0:e,t=null===t||isNaN(t)?0:t,X._RGB+t+","+e+","+i+")"},X.makeRGBA=function(t,e,i,n){return i=null===i||isNaN(i)?0:Math.round(i),e=null===e||isNaN(e)?0:Math.round(e),t=null===t||isNaN(t)?0:Math.round(t),n=null===n||isNaN(n)?1:n,X._RGBA+t+","+e+","+i+","+n+")"},X.makePound=function(t,e,i){var n=Math.round(t),r=Math.round(e),o=Math.round(i),s=n.toString(16),a=r.toString(16),l=o.toString(16);return"#"+(1===s.length?"0":"")+s+(1===a.length?"0":"")+a+(1===l.length?"0":"")+l},X.getPound=function(t){var e;if("#"===t.charAt(0)){var i=t.length;if(7>=i)return t;e=X._POUND,e+=t.substring(3,5)+t.substring(5,7)+t.substring(7,9)}else{var n=X.getRed(t),r=X.getGreen(t),o=X.getBlue(t);e=X.makePound(n,r,o)}return e},X.getRGB=function(t){var e,i=X.getColorFromName(t);if(i&&(t=i),"#"===t.charAt(0)){e=X._RGB;var n=t.length;if(n>7)e+=parseInt(t.substring(3,5),16)+","+parseInt(t.substring(5,7),16)+","+parseInt(t.substring(7,9),16);else if(7===n)e+=parseInt(t.substring(1,3),16)+","+parseInt(t.substring(3,5),16)+","+parseInt(t.substr(5),16);else if(4===n){var r=t.substring(1,2);r+=r;var o=t.substring(2,3);o+=o;var s=t.substring(3);s+=s,e+=parseInt(r,16)+","+parseInt(o,16)+","+parseInt(s,16)}else 5===n?e+=parseInt(t.substring(1,3),16)+","+parseInt(t.substring(3,5),16)+",0,1":3===n&&(e+=parseInt(t.substring(1,3),16)+",0,0,1");e+=")"}else if(t.substr(0,5)===X._RGBA){var a=t.lastIndexOf(",");e=X._RGB,e+=t.substring(5,a),e+=")"}else e=t;return e},X.getRGBA=function(t){var e,i=X.getColorFromName(t);if(i&&(t=i),"#"===t.charAt(0)){e=X._RGBA;var n=t.length;if(n>7)e+=parseInt(t.substring(3,5),16)+","+parseInt(t.substring(5,7),16)+","+parseInt(t.substring(7,9),16)+","+parseInt(t.substring(1,3),16)/255;else if(7===n)e+=parseInt(t.substring(1,3),16)+","+parseInt(t.substring(3,5),16)+","+parseInt(t.substr(5),16)+",1";else if(5===n)e+=parseInt(t.substring(1,3),16)+","+parseInt(t.substring(3,5),16)+",0,1";else if(4===n){var r=t.substring(1,2);r+=r;var o=t.substring(2,3);o+=o;var s=t.substring(3);s+=s,e+=parseInt(r,16)+","+parseInt(o,16)+","+parseInt(s,16)+",1"}else 3===n&&(e+=parseInt(t.substring(1,3),16)+",0,0,1");e+=")"}else t.substr(0,4)===X._RGB?(e=X._RGBA,e+=t.substring(4,t.length-1)+",1)"):e=t;return e},X._setChannel=function(t,e,i){if(void 0===e||void 0===i||e<X._RED||e>X._ALPHA)return t;var n=X.getColorFromName(t);n&&(t=n);var r,o,s,a="#"===t.charAt(0);if(a)r=[],r.push(parseInt(t.substr(1,2),16)),r.push(parseInt(t.substr(3,2),16)),r.push(parseInt(t.substr(5,2),16)),e===X._ALPHA&&(r.push(i),a=!1,o=!0);else{var o=t.substr(0,5)===X._RGBA,l=t.indexOf("("),u=t.indexOf(")"),r=t.substring(l+1,u).split(",");o||e!==X._ALPHA||(r.push(i),o=!0)}return r[e]=i,s=a?X.makePound(r[0],r[1],r[2]):o?X.makeRGBA(r[0],r[1],r[2],r[3]):X.makeRGB(r[0],r[1],r[2])},X.setRGB=function(t,e,i,n){if(n=null===n||isNaN(n)?0:n,i=null===i||isNaN(i)?0:i,e=null===e||isNaN(e)?0:e,"#"===t.charAt(0))return X.makePound(e,i,n);var r=t.substr(0,5)===X._RGBA,o=(r?X._RGBA:X._RGB)+e+","+i+","+n;if(r){var s=t.lastIndexOf(5,","),a=t.indexOf(")");o+=","+t.substring(s+1,a)}return o+=")"},X.getBrighter=function(t,e){var i=X._getChannel(t,X._RED),n=X._getChannel(t,X._GREEN),r=X._getChannel(t,X._BLUE),o=X._getChannel(t,X._ALPHA);e||(e=X._FACTOR);var s=parseInt(1/(1-e));if(0===i&&0===n&&0===r){var a=parseInt(255*e);return X.makeRGBA(a,a,a,o)}return i>0&&s>i&&(i=s),n>0&&s>n&&(n=s),r>0&&s>r&&(r=s),i=Math.min(parseInt(i/e),255),n=Math.min(parseInt(n/e),255),r=Math.min(parseInt(r/e),255),X.makeRGBA(i,n,r,o)},X.rgb2hsl=function(t,e,i){t/=255,e/=255,i/=255;var n,r,o=Math.max(t,e,i),s=Math.min(t,e,i),a=o+s,l=a/2;if(o==s)n=0,r=0;else{var u=o-s;r=l>.5?u/(2-a):u/a,o==t?n=(e-i)/u+(i>e?6:0):o==e?n=(i-t)/u+2:o==i&&(n=(t-e)/u+4),n/=6}return{h:360*n,s:r,l:l}},X.hsl2rgb=function(t,e,i){t/=360;var n,r,o;if(0==e)n=r=o=i;else{var s=.5>i?i*(1+e):i+e-i*e,a=2*i-s;n=X._hue2rgb(a,s,t+1/3),r=X._hue2rgb(a,s,t),o=X._hue2rgb(a,s,t-1/3)}return{r:255*n,g:255*r,b:255*o}},X._hue2rgb=function(t,e,i){return 0>i?i+=1:i>1&&(i-=1),1/6>i?t+6*(e-t)*i:.5>i?e:2/3>i?t+(e-t)*(2/3-i)*6:t},X.hsv2rgb=function(t,e,i){var n,r,o,s,a,l,u,h;return t%=360,0==i?{r:0,g:0,v:0}:(e/=100,i/=100,t/=60,s=Math.floor(t),a=t-s,l=i*(1-e),u=i*(1-e*a),h=i*(1-e*(1-a)),0==s?(n=i,r=h,o=l):1==s?(n=u,r=i,o=l):2==s?(n=l,r=i,o=h):3==s?(n=l,r=u,o=i):4==s?(n=h,r=l,o=i):5==s&&(n=i,r=l,o=u),n=Math.floor(255*n),r=Math.floor(255*r),o=Math.floor(255*o),{r:n,g:r,b:o})},X.rgb2hsv=function(t,e,i){var n,r,o,s,a,l;return t/=255,e/=255,i/=255,n=Math.min(t,e,i),r=Math.max(t,e,i),n==r?{h:void 0,s:0,v:100*r}:(o=t==n?e-i:e==n?i-t:t-e,s=t==n?3:e==n?5:1,a=Math.floor(60*(s-o/(r-n)))%360,l=Math.floor((r-n)/r*100),r=Math.floor(100*r),{h:a,s:l,v:r})},X.getPastel=function(t,e){var i=X._getChannel(t,X._ALPHA),n=X._getChannel(t,X._RED),r=X._getChannel(t,X._GREEN),o=X._getChannel(t,X._BLUE),s=Math.min(n+parseInt((255-n)*e),255),a=Math.min(r+parseInt((255-r)*e),255),l=Math.min(o+parseInt((255-o)*e),255);return X.makeRGBA(s,a,l,i)},X.adjustHSL=function(t,e,i,n){X._hslCache||(X._hslCache=new $e(100));var r=t+":"+e+":"+i+":"+n,o=X._hslCache.get(r);if(null!=o)return o;var s=X._getChannel(t,X._RED),a=X._getChannel(t,X._GREEN),l=X._getChannel(t,X._BLUE),u=X._getChannel(t,X._ALPHA),h=X.rgb2hsl(s,a,l),c=Math.min(Math.max(0,h.h+e),360),p=Math.min(Math.max(0,h.s+i),1),d=Math.min(Math.max(0,h.l+n),1),g=X.hsl2rgb(c,p,d);return o=1==u?X.makePound(g.r,g.g,g.b):X.makeRGBA(g.r,g.g,g.b,u),X._hslCache.put(r,o),o},X.interpolateColor=function(t,e,i){var n=X.getRed(t),r=X.getGreen(t),o=X.getBlue(t),s=X.getAlpha(t),a=X.getRed(e),l=X.getGreen(e),u=X.getBlue(e),h=X.getAlpha(e),c=Math.round(yt.interpolateNumber(n,a,i)),p=Math.round(yt.interpolateNumber(r,l,i)),d=Math.round(yt.interpolateNumber(o,u,i)),g=yt.interpolateNumber(s,h,i);return X.makeRGBA(c,p,d,g)},X.inferColor=function(t,e,i){if(t==e)return i;if(i==t)return e;var n,r=X.getRed(t),o=X.getRed(e);r==o?n=X.getRed(i):(0==r&&(r=1),n=o/r*X.getRed(i));var s;r=X.getGreen(t),o=X.getGreen(e),r==o?s=X.getGreen(i):(0==r&&(r=1),s=o/r*X.getGreen(i));var a;return r=X.getBlue(t),o=X.getBlue(e),r==o?a=X.getBlue(i):(0==r&&(r=1),a=o/r*X.getBlue(i)),X.makePound(n,s,a)},X.getContrastingTextColor=function(t){var e=X.getRed(t),i=X.getGreen(t),n=X.getBlue(t),r=(299*e+587*i+114*n)/1e3;return r>=128?"#000000":"#FFFFFF"},X.fixColorForPlatform=function(t,e){if(!t)return null;"#"==t.charAt(0)&&t.length>8&&(t=X.getRGBA(t));var i={};return qe.isEnvironmentBatik()&&-1!==t.indexOf("rgba")?(i.color=X.getRGB(t),null!=e?i.alpha=X.getAlpha(t)*e:i.alpha=X.getAlpha(t)):(i.color=t,null!=e&&(i.alpha=e)),i};var q=function(t){this._id=(t?t+"$":"")+"cp"+q._uniqueSeed++,this._regions=[]};e.createSubclass(q,e,"DvtClipPath"),q._uniqueSeed=0,q.NONE=0,q.RECT=1,q.PATH=2,q.POLYGON=3,q.ELLIPSE=4,q.CIRCLE=5,q.prototype._addRegion=function(t){t&&this._regions.push(t)},q.prototype.getId=function(){return this._id},q.prototype.getRegions=function(t){return this._regions},q.prototype.addRect=function(t,e,i,n,r,o){var s={};s.type=q.RECT,s.x=t,s.y=e,s.w=i,s.h=n,s.rx=r,s.ry=o,this._addRegion(s)},q.prototype.addCircle=function(t,e,i){var n={};n.type=q.CIRCLE,n.cx=t,n.cy=e,n.r=i,this._addRegion(n)},q.prototype.addEllipse=function(t,e,i,n){var r={};r.type=q.ELLIPSE,r.cx=t,r.cy=e,r.rx=i,r.ry=n,this._addRegion(r)},q.prototype.addPolygon=function(t){var e={};e.type=q.POLYGON,e.points=t,this._addRegion(e)},q.prototype.addPath=function(t){var e={};e.type=q.PATH,e.d=t,this._addRegion(e)};var Z=function(t,e){this._id="mask"+Z._uniqueSeed++,this._gradient=t,this._bounds=e};e.createSubclass(Z,e,"DvtMask"),Z._uniqueSeed=0,Z.prototype.getId=function(){return this._id},Z.prototype.getGradient=function(){return this._gradient},Z.prototype.getBounds=function(){return this._bounds};var $=function(){this._Init()};e.createSubclass($,o,"DvtFill"),$.NONE=0,$.COLOR=1,$.GRADIENT=2,$.PATTERN=3,$.IMAGE=4,$.prototype._Init=function(){$.superclass._Init.call(this)},$.prototype.getId=function(){return this._id},$.prototype.setId=function(t){this._id=t},$.prototype.equals=function(t){return!0};var J=function(t,e){this._Init(t,e)};e.createSubclass(J,$,"DvtSolidFill"),J.prototype.clone=function(){var t=new J;return this.mergeProps(t),t},J.prototype._Init=function(t,e){J.superclass._Init.call(this),this._fc=t,this._fa=null!=e?e:1},J.prototype.getColor=function(){return this._fc},J.prototype.setColor=function(t){this.isLocked()||(this._fc=t)},J.prototype.getAlpha=function(){return this._fa},J.prototype.setAlpha=function(t){this.isLocked()||(this._fa=t)},J.prototype.mergeProps=function(t){J.superclass.mergeProps.call(this,t),t._fc=this._fc,t._fa=this._fa},J.invisibleFill=function(){return J._INVISIBLE_FILL||(J._INVISIBLE_FILL=new J("rgba(0,0,0,0)")),J._INVISIBLE_FILL},J.prototype.equals=function(t){return t instanceof J&&t._fc==this._fc&&t._fa==this._fa?J.superclass.equals.call(this,t):!1};var Q=function(t,e){this._Init(t,e)};e.createSubclass(Q,o,"DvtStroke"),Q.SOLID=0,Q.DASHED=1,Q.DOTTED=2,Q.DASHED_DOTTED=3,Q.SQUARE="square",Q.ROUND="round",Q.BEVEL="bevel",Q.MITER="miter",Q.BUTT="butt",Q.convertTypeString=function(t){return"solid"==t?Q.SOLID:"dashed"==t?Q.DASHED:"dotted"==t?Q.DOTTED:Q.SOLID},Q.prototype._Init=function(t){this._sw=null===t||isNaN(t)?1:t,Q.superclass._Init.call(this),this._bFixedWidth=!1},Q.prototype.getId=function(){return this._id},Q.prototype.setId=function(t){this._id=t},Q.prototype.mergeProps=function(t){t._sw=this._sw,t._st=this._st,t._sd=this._sd,t._sdo=this._sdo,t._sj=this._sj,t._se=this._se,t._sm=this._sm,t._bFixedWidth=this._bFixedWidth,Q.superclass.mergeProps.call(this,t)},Q.prototype.setStyle=function(t,e,i,n,r){this.isLocked()||(t&&!e&&(e=Q.getDefaultDash(t,this._sw)),this._st=t,this._sd=e,i&&(this._sj=i),n&&(this._se=n),r&&(this._sm=r))},Q.prototype.getDash=function(){return this._sd},Q.prototype.getDashOffset=function(){return this._sdo},Q.prototype.getLineJoin=function(){return this._sj},Q.prototype.setLineJoin=function(t){this.isLocked()||(this._sj=t)},Q.prototype.getLineEnd=function(){return this._se},Q.prototype.setLineEnd=function(t){this.isLocked()||(this._se=t)},Q.prototype.getMiterLimit=function(){return this._sm},Q.prototype.setMiterLimit=function(t){this.isLocked()||(this._sm=t)},Q.prototype.getType=function(){return this._st},Q.prototype.setType=function(t,e,i){this.isLocked()||(t===Q.SOLID?(e=null,i=null):e||(e=Q.getDefaultDash(t,this._sw)),this._st=t,this._sd=e,this._sdo=i)},Q.prototype.getWidth=function(){return this._sw},Q.prototype.setWidth=function(t){this.isLocked()||(this._sw=t)},Q.prototype.setFixedWidth=function(t){this._bFixedWidth=t},Q.prototype.isFixedWidth=function(){return this._bFixedWidth},Q.getDefaultDash=function(t,e){e=Math.ceil(e);var i=Math.max(6,2*e),n=Math.max(2,e),r=Math.floor((i+n)/2);return t==Q.DASHED?""+i:t==Q.DOTTED?""+n:t==Q.DASHED_DOTTED?""+i+","+r+","+n+","+r:null};var tt=function(t,e,i,n,r,o){this._Init(t,e,i,n,r,o)};e.createSubclass(tt,Q,"DvtGradientStroke"),tt.prototype.getAlpha=function(){return 1},tt.prototype.getAlphas=function(){return this._arAlphas},tt.prototype.getBounds=function(){return this._arBounds},tt.prototype.getColors=function(){return this._arColors},tt.prototype.getStops=function(){return this._arStops},tt.prototype._Init=function(t,e,i,n,r,o){tt.superclass._Init.call(this,r,o),this._arColors=t,this._arBounds=n;var s=0;t&&(s=t.length-1),e||(e=tt.createDefaultAlphas(s)),this._arAlphas=e,i||(i=tt.createDefaultStops(s)),this._arStops=i},tt.createDefaultAlphas=function(t){if(0>t)return null;for(var e=[],i=0;t>i;i++)e.push(1);return e},tt.createDefaultStops=function(t){var e=[],i=1/t,n=0;do e.push(n),n+=i;while(--t>0);return e.push(1),e},tt.prototype.mergeProps=function(t){
t._arColors=this._arColors,t._arStops=this._arStops,t._arAlphas=this._arAlphas,t._arBounds=this._arBounds,tt.superclass.mergeProps.call(this,t)};var et=function(t,e,i,n,r,o,s){this._Init(t,e,i,n,r,o,s)};e.createSubclass(et,tt,"DvtLinearGradientStroke"),et.prototype.clone=function(){var t=new et;return this.mergeProps(t),t},et.prototype._Init=function(t,e,i,n,r,o,s){et.superclass._Init.call(this,e,i,n,r,o,s),this._angle=null===t||isNaN(t)?0:t},et.prototype.getAngle=function(){return this._angle},et.prototype.mergeProps=function(t){et.superclass.mergeProps.call(this,t),t._angle=this._angle},et.prototype.setAngle=function(t){this.isLocked()||0!==t&&(Math.abs(t)>360&&(t%=360),this._angle=t)};var it=function(t,e,i){this._Init(t,e,i)};e.createSubclass(it,Q,"DvtSolidStroke"),it.prototype.clone=function(){var t=new it;return this.mergeProps(t),t},it.prototype._Init=function(t,e,i){this._sc=t,this._sa=null!=e?e:1,this._st=Q.SOLID,it.superclass._Init.call(this,i)},it.prototype.getAlpha=function(){return this._sa},it.prototype.setAlpha=function(t){this.bLocked||(this._sa=t)},it.prototype.getColor=function(){return this._sc},it.prototype.setColor=function(t){this.bLocked||(this._sc=t)},it.prototype.mergeProps=function(t){it.superclass.mergeProps.call(this,t),t._sc=this._sc,t._sa=this._sa};var nt=function(t,e,i,n,r,o,s,a,l,u){this._Init(t,e,i,n,r,o,s,a,l,u)};e.createSubclass(nt,z,"DvtShadow"),nt._uniqueId=1,nt.prototype._Init=function(t,e,i,n,r,o,s,a,l,u){nt.superclass._Init.call(this),this.__type="shadow",this._rgba=t?t:"rgba(48,48,48,0.35)",this._distance=null===e||isNaN(e)?4:e,this._strength=null===o||isNaN(o)?1:o,this._blurX=null===i||isNaN(i)?4:i,this._blurY=null===n||isNaN(n)?4:n,this._angle=null===r||isNaN(r)?45:r,this._quality=null===s||isNaN(s)?1:s,this._bInner=!!a,this._bKnockout=!1,this._bHide=!1,this._Id="ds"+nt._uniqueId++},nt.prototype.clone=function(){var t=new nt;return this.mergeProps(t),t},nt.prototype.mergeProps=function(t){nt.superclass.mergeProps.call(this,t),t._rgba=this._rgba,t._distance=this._distance,t._strength=this._strength,t._blurX=this._blurX,t._blurY=this._blurY,t._angle=this._angle,t._quality=this._quality,t._bInner=this._bInner,t._bKnockout=this._bKnockout,t._bHide=this._bHide,t._Id=this._Id};var rt=function(t,e,i,n){this._Init(t,e,i,n)};e.createSubclass(rt,$,"DvtGradientFill"),rt.prototype.getAlphas=function(){return this._arAlphas},rt.prototype.getBounds=function(){return this._arBounds},rt.prototype.getColors=function(){return this._arColors},rt.prototype.getStops=function(){return this._arStops},rt.prototype._Init=function(t,e,i,n){if(rt.superclass._Init.call(this),this._arColors=t,this._arBounds=n,!e&&(e=[],t))for(var r=0;r<t.length;r++)e.push(1);this._arAlphas=e;var o=t?t.length-1:0;if(!i){i=[];var s=o>0?1/o:0,a=0;do i.push(a),a+=s;while(--o>0);i.push(1)}this._arStops=i},rt.prototype.mergeProps=function(t){t._arColors=this._arColors,t._arStops=this._arStops,t._arAlphas=this._arAlphas,t._arBounds=this._arBounds,rt.superclass.mergeProps.call(this,t)},rt.prototype.equals=function(t){return t instanceof rt&&i.equals(this._arColors,t._arColors)&&i.equals(this._arStops,t._arStops)&&i.equals(this._arAlphas,t._arAlphas)&&i.equals(this._arBounds,t._arBounds)?rt.superclass.equals.call(this,t):!1};var ot=function(t,e,i,n,r){this._Init(t,e,i,n,r)};e.createSubclass(ot,rt,"DvtLinearGradientFill"),ot.prototype.clone=function(){var t=new ot;return this.mergeProps(t),t},ot.prototype._Init=function(t,e,i,n,r){ot.superclass._Init.call(this,e,i,n,r),this._angle=null===t||isNaN(t)?0:t},ot.prototype.getAngle=function(){return this._angle},ot.prototype.clone=function(){var t=new ot;return this.mergeProps(t),t},ot.prototype.mergeProps=function(t){ot.superclass.mergeProps.call(this,t),t._angle=this._angle},ot.prototype.setAngle=function(t){this.isLocked()||0!==t&&(Math.abs(t)>360&&(t%=360),this._angle=t)},ot.prototype.equals=function(t){return t instanceof ot&&t._angle==this._angle?ot.superclass.equals.call(this,t):!1};var st=function(t,e,i){this._Init(t,e,i)};e.createSubclass(st,$,"DvtImageFill"),st.prototype.getBound=function(){return this._bound},st.prototype.getSrc=function(){return this._src},st.prototype.getRepeat=function(){return this._repeat},st.prototype._Init=function(t,e,i){st.superclass._Init.call(this),this._src=t,this._bound=e,this._repeat=i},st.prototype.clone=function(){var t=new st;return this.mergeProps(t),t},st.prototype.mergeProps=function(t){t._src=this._src,t._bound=this._bound,t._repeat=this._repeat,st.superclass.mergeProps.call(this)},st.prototype.equals=function(t){if(t instanceof st&&t._src==this._src&&t._repeat==this._repeat){if(this._bound&&t._bound&&this._bound.x==t.bound.x&&this._bound.y==t.bound.y&&this._bound.w==t.bound.w&&this._bound.h==t.bound.h)return st.superclass.equals.call(this,t);if(!this._bound&&!t._bound)return st.superclass.equals.call(this,t)}return!1};var at=function(t,e,i){this.Init(t,e,i)};e.createSubclass(at,$,"DvtPatternFill"),at.SM_DIAG_UP_LT="sDUL",at.LG_DIAG_UP_LT="lDUL",at.SM_DIAG_UP_RT="sDUR",at.LG_DIAG_UP_RT="lDUR",at.SM_CROSSHATCH="sC",at.LG_CROSSHATCH="lC",at.SM_CHECK="sCh",at.LG_CHECK="lCh",at.SM_TRIANGLE_CHECK="sTCh",at.LG_TRIANGLE_CHECK="lTCh",at.SM_DIAMOND_CHECK="sDCh",at.LG_DIAMOND_CHECK="lDCh",at.prototype.Init=function(t,e,i){at.superclass._Init.call(this),this._pattern=t?at._convertPatternValue(t):at.SM_DIAG_UP_LT,this._fillColor=e?e:"#000000",this._backgroundColor=i?i:"#ffffff"},at.prototype.getPattern=function(){return this._pattern},at.prototype.getColor=function(){return this._fillColor},at.prototype.getBackgroundColor=function(){return this._backgroundColor},at.prototype.clone=function(){var t=new at;return this.mergeProps(t),t},at.prototype.mergeProps=function(t){t._pattern=this._pattern,t._fillColor=this._fillColor,t._backgroundColor=this._backgroundColor,at.superclass.mergeProps.call(this)},at.prototype.equals=function(t){return t instanceof at&&t._pattern==this._pattern&&t._fillColor==this._fillColor&&t._backgroundColor==this._backgroundColor?at.superclass.equals.call(this,t):!1},at.prototype.getMatrix=function(){return this._matrix?this._matrix:new pt},at.prototype.setMatrix=function(t){this._matrix=t,this._matrix&&!this._matrix.isLocked()&&this._matrix.__lock()},at._convertPatternValue=function(t){return"smallDiagonalLeft"==t?at.SM_DIAG_UP_LT:"largeDiagonalLeft"==t?at.LG_DIAG_UP_LT:"smallDiagonalRight"==t?at.SM_DIAG_UP_RT:"largeDiagonalRight"==t?at.LG_DIAG_UP_RT:"smallCrosshatch"==t?at.SM_CROSSHATCH:"largeCrosshatch"==t?at.LG_CROSSHATCH:"smallChecker"==t?at.SM_CHECK:"largeChecker"==t?at.LG_CHECK:"smallTriangle"==t?at.SM_TRIANGLE_CHECK:"largeTriangle"==t?at.LG_TRIANGLE_CHECK:"smallDiamond"==t?at.SM_DIAMOND_CHECK:"largeDiamond"==t?at.LG_DIAMOND_CHECK:t};var lt=function(t,e,i,n,r,o,s){this._Init(t,e,i,n,r,o,s)};e.createSubclass(lt,rt,"DvtRadialGradientFill"),lt.prototype.clone=function(){var t=new lt;return this.mergeProps(t),t},lt.prototype.getRadius=function(){return this._r},lt.prototype.getCx=function(){return this._cx},lt.prototype.getCy=function(){return this._cy},lt.prototype._Init=function(t,e,i,n,r,o,s){lt.superclass._Init.call(this,t,e,i,s),this._cx=n,this._cy=r,this._r=o},lt.prototype.clone=function(){var t=new lt;return this.mergeProps(t),t},lt.prototype.mergeProps=function(t){lt.superclass.mergeProps.call(this,t),t._cx=this._cx,t._cy=this._cy,t._r=this._r},lt.prototype.equals=function(t){return t instanceof lt&&t._cx==this._cx&&t._cy==this._cy&&t._r==this._r?lt.superclass.equals.call(this,t):!1};var ut={};e.createSubclass(ut,e,"DvtSelectionEffectUtils"),ut.getHoverBorderColor=function(t){return X.adjustHSL(t,0,0,.15)},ut.applyDrawEffect=function(t,e){var i=t.getNumDrawEffects();if(0==i)t.addDrawEffect(e);else{var n=t.getDrawEffectIndex(e);n>-1?(t.removeDrawEffectAt(n),t.addDrawEffectAt(e,n)):t.addDrawEffect(e)}},ut.createSelectingStroke=function(t){var e=new it(ut.getHoverBorderColor(t),1,2);return e.setMiterLimit(1),e},ut.getSelectingCursor=function(){return"pointer"};var ht=function(t,e,i,n,r,o){this.Init(t,e,i,n,r,o)};e.createSubclass(ht,e,"DvtKeyboardFocusEffect"),ht.FOCUS_BORDER_RADIUS=1,ht.FOCUS_STROKE_WIDTH=1,ht.FOCUS_STROKE_ALPHA=1,ht.FOCUS_STROKE_TYPE=Q.DOTTED,ht.prototype.Init=function(t,e,i,n,r,o){this._container=e,this._focusEffect=new _e(t,i.x,i.y,i.w,i.h,r);var s=this.CreateStroke();this._focusEffect.setStroke(s),this._focusEffect.setRx(ht.FOCUS_BORDER_RADIUS),this._focusEffect.setRy(ht.FOCUS_BORDER_RADIUS),n&&this._focusEffect.setMatrix(n),this._focusEffect.setFill(null),this._appendLast=o},ht.prototype.CreateStroke=function(){var t=qe.getFocusColor(),e=ht.FOCUS_STROKE_WIDTH,i=ht.FOCUS_STROKE_ALPHA,n=ht.FOCUS_STROKE_TYPE;qe.isPlatformWebkit()&&(e=2,n=Q.SOLID);var r=new it(t,i,e);return r.setType(n,e,e),r},ht.prototype.getEffect=function(){return this._focusEffect},ht.prototype.setEffect=function(t){this._focusEffect=t},ht.prototype.show=function(){this._focusEffect instanceof ie&&(this._appendLast?this._container.addChild(this._focusEffect):this._container.addChildAt(this._focusEffect,0))},ht.prototype.hide=function(){this._focusEffect instanceof ie&&this._container.removeChild(this._focusEffect)};var ct=function(t,e){this.Init(t,e)};e.createSubclass(ct,e,"DvtDimension"),ct.prototype.Init=function(t,e){this.w=null===t||isNaN(t)?0:t,this.h=null===e||isNaN(e)?0:e},ct.prototype.getWidth=function(){return this.w},ct.prototype.getHeight=function(){return this.h};var pt=function(t,e,i,n,r,o){this.Init(t,e,i,n,r,o)};e.createSubclass(pt,o,"DvtMatrix"),pt._DECOMP_TX=0,pt._DECOMP_TY=1,pt._DECOMP_R=2,pt._DECOMP_SKEWX=3,pt._DECOMP_SX=4,pt._DECOMP_SY=5,pt.prototype.Init=function(t,e,i,n,r,o){this._a=null==t?1:t,this._b=null==e?0:e,this._c=null==i?0:i,this._d=null==n?1:n,this._tx=null==r?0:r,this._ty=null==o?0:o,this._u=0,this._v=0,this._w=1,pt.superclass._Init.call(this)},pt.prototype.Identity=function(){this._a=1,this._b=0,this._c=0,this._d=1,this._tx=0,this._ty=0},pt.prototype.getA=function(){return this._a},pt.prototype.getB=function(){return this._b},pt.prototype.getC=function(){return this._c},pt.prototype.getD=function(){return this._d},pt.prototype.getTx=function(){return this._tx},pt.prototype.getTy=function(){return this._ty},pt.prototype.clone=function(){return new pt(this._a,this._b,this._c,this._d,this._tx,this._ty)},pt.prototype.concat=function(t){if(!this.isLocked()){var e=this._a*t._a+this._c*t._b+this._u*t._tx,i=this._b*t._a+this._d*t._b+this._v*t._tx,n=this._tx*t._a+this._ty*t._b+this._w*t._tx,r=this._a*t._c+this._c*t._d+this._u*t._ty,o=this._b*t._c+this._d*t._d+this._v*t._ty,s=this._tx*t._c+this._ty*t._d+this._w*t._ty;this._a=e,this._b=i,this._c=r,this._d=o,this._tx=n,this._ty=s}},pt.prototype.translate=function(t,e){if(!this.isLocked()){var i=new pt;i._tx=t,i._ty=e,this.concat(i)}},pt.prototype.scale=function(t,e,i,n){if(!this.isLocked()){(i||n)&&this.translate(-i,-n);var r=new pt;r._a=t,r._d=e,this.concat(r),(i||n)&&this.translate(i,n)}},pt.prototype.rotate=function(t){if(!this.isLocked()){var e=new pt;e._a=Math.cos(t),e._d=e._a,e._c=Math.sin(t),e._b=-e._c,this.concat(e)}},pt.prototype.skew=function(t,e){if(!this.isLocked()){var i=new pt;i._b=Math.tan(t),i._c=Math.tan(e),this.concat(i)}},pt.prototype.Determinant=function(){var t=this._a*(this._d*this._w-this._ty*this._v)-this._b*(this._c*this._w-this._ty*this._u)+this._tx*(this._c*this._v-this._d*this._u);return t},pt.prototype.invert=function(){if(!this.isLocked()){var t=this.Determinant(),e=this._d*this._w-this._ty*this._v,i=this._tx*this._v-this._b*this._w,n=this._b*this._ty-this._tx*this._d,r=this._ty*this._u-this._c*this._w,o=this._a*this._w-this._tx*this._u,s=this._tx*this._c-this._a*this._ty;this._a=e/t,this._b=i/t,this._tx=n/t,this._c=r/t,this._d=o/t,this._ty=s/t}},pt.prototype._decompose=function(){var t=this._a,e=this._b,i=this._c,n=this._d,r=this._tx,o=this._ty;if(t*n-e*i===0)return null;var s=Math.sqrt(t*t+i*i);t/=s,i/=s;var a=t*e+i*n;e-=t*a,n-=i*a;var l=Math.sqrt(e*e+n*n);e/=l,n/=l,a/=l;var u=t*n-e*i;-1===u&&(a=-a,l=-l);var h=Math.atan2(i,t),c=Math.atan(a);return[r,o,h,c,s,l]},pt.prototype._recompose=function(t){if(!this.isLocked()){this.Identity();var e=t[0],i=t[1],n=t[2],r=t[3],o=t[4],s=t[5];this.scale(o,s),this.skew(r,0),this.rotate(n),this.translate(e,i)}},pt.prototype.equals=function(t){return!this&&t?!1:this&&!t?!1:this||t?this._a==t._a&&this._b==t._b&&this._c==t._c&&this._d==t._d&&this._tx==t._tx&&this._ty==t._ty:!0},pt.prototype.transformPoint=function(t){var e=this._a*t.x+this._b*t.y+1*this._tx,i=this._c*t.x+this._d*t.y+1*this._ty;return new dt(e,i)},pt.prototype.isIdentity=function(){return 1==this._a&&0==this._b&&0==this._c&&1==this._d&&0==this._tx&&0==this._ty};var dt=function(t,e){this.Init(t,e)};e.createSubclass(dt,e,"DvtPoint"),dt.prototype.Init=function(t,e){this.x=null===t||isNaN(t)?0:t,this.y=null===e||isNaN(e)?0:e},dt.prototype.equals=function(t){return t instanceof dt&&this.x===t.x&&this.y===t.y};var gt=function(t,e,i,n){this.x=null===t||isNaN(t)?0:t,this.y=null===e||isNaN(e)?0:e,this.w=null===i||isNaN(i)?0:i,this.h=null===n||isNaN(n)?0:n};e.createSubclass(gt,e,"DvtRectangle"),gt.create=function(t){return new gt(t[0],t[1],t[2],t[3])},gt.prototype.containsPoint=function(t,e){return t>=this.x&&t<=this.x+this.w&&e>=this.y&&e<=this.y+this.h},gt.prototype.getCenter=function(){return new dt(this.x+this.w/2,this.y+this.h/2)},gt.prototype.getUnion=function(t){var e=new gt;if(t&&0!==t.w&&0!==t.h)if(0!==this.w&&0!==this.h){var i=this.x+this.w,n=this.y+this.h,r=t.x+t.w,o=t.y+t.h,s=Math.min(this.x,t.x),a=Math.min(this.y,t.y);e.w=r>i?r-s:i-s,e.h=n>o?n-a:o-a,e.x=s,e.y=a}else e.x=t.x,e.y=t.y,e.w=t.w,e.h=t.h;else e.x=this.x,e.y=this.y,e.w=this.w,e.h=this.h;return e},gt.prototype.grow=function(t,e){var i=this.x,n=this.y,r=this.x+this.w,o=this.y+this.h;i>t&&(i=t),t>r&&(r=t),n>e&&(n=e),e>o&&(o=e),this.x=i,this.y=n,this.w=r-i,this.h=o-n},gt.prototype.intersects=function(t){if(t&&0!==t.w&&0!==t.h&&0!==this.w&&0!==this.h){var e=this.x+this.w,i=this.y+this.h,n=t.x+t.w,r=t.y+t.h;return!(t.x>e||n<this.x||t.y>i||r<this.y)}return!1},gt.prototype.clone=function(){return new gt(this.x,this.y,this.w,this.h)},gt.prototype.equals=function(t){return t instanceof gt&&this.x==t.x&&this.y==t.y&&this.w==t.w&&this.h==t.h},gt.prototype.toString=function(){return this.x+", "+this.y+", "+this.w+", "+this.h};var ft={};e.createSubclass(ft,e,"DvtGeomUtils"),ft.getCenterPoint=function(t){return new dt(t.x+t.w/2,t.y+t.h/2)},ft.intersects=function(t,e){return!(t.x>e.x+e.w||t.x+t.w<e.x||t.y>e.y+e.h||t.y+t.h<e.y)},ft.getPaddedRectangle=function(t,e){return ft.getSpecificPaddedRectangle(t,e,e,e,e)},ft.getSpecificPaddedRectangle=function(t,e,i,n,r){return new gt(t.x-n,t.y-e,t.w+n+r,t.h+e+i)},ft.GetOffsetValues=function(t,e,i){var n=0,r=t.y,o=t.y+t.h;i>r?n+=i-r:o>e.h-i&&(n+=e.h-i-o);var s=t.x,a=t.x+t.w,l=0;return i>s?l+=i-s:a>e.w-i&&(l+=e.w-i-a),{offsetX:l,offsetY:n}};var _t={};e.createSubclass(_t,e,"DvtLineUtils"),_t.intersect2Lines=function(t,e,i,n,r){var o=t.x,s=t.y,a=n.x,l=n.y,u=e.x-o,h=i.x-a;if(0===u&&0===h)return null;var c=(e.y-s)/u,p=(i.y-l)/h;if(c===p)return null;if(r||(r=new dt),0===u)return r.x=o,r.y=p*(o-a)+l,r;if(0===h)return r.x=a,r.y=c*(a-o)+s,r;var d=(-p*a+l+c*o-s)/(c-p),g=c*(d-o)+s;return r.x=d,r.y=g,r},_t.lineLen=function(t,e,i,n){var r=i-t,o=n-e;return Math.sqrt(r*r+o*o)},_t.midPt=function(t,e,i,n,r){return r||(r=new dt),r.x=(t+i)/2,r.y=(e+n)/2,r};var vt={};e.createSubclass(vt,e,"DvtVectorUtils"),vt.createVector=function(t,e){var i={};return i.x=t,i.y=e,i},vt.addVectors=function(t,e){return vt.createVector(t.x+e.x,t.y+e.y)},vt.subtractVectors=function(t,e){return vt.createVector(t.x-e.x,t.y-e.y)},vt.scaleVector=function(t,e){return vt.createVector(t.x*e,t.y*e)},vt.getMagnitude=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)};var mt=function(){};e.createSubclass(mt,e,"DvtLayoutUtils"),mt.position=function(t,e,i,n,r,o){i&&(o=n*r>0?o:0,"start"==e?e=qe.isRightToLeft(i.getCtx())?"right":"left":"end"==e&&(e=qe.isRightToLeft(i.getCtx())?"left":"right"),"top"==e?(i.setTranslate(t.x+t.w/2-n/2,t.y),t.y+=r+o,t.h-=r+o):"bottom"==e?(i.setTranslate(t.x+t.w/2-n/2,t.y+t.h-r),t.h-=r+o):"left"==e?(i.setTranslate(t.x,t.y+t.h/2-r/2),t.x+=n+o,t.w-=n+o):"right"==e&&(i.setTranslate(t.x+t.w-n,t.y+t.h/2-r/2),t.w-=n+o))},mt.align=function(t,e,i,n){if(i){var r=e;"start"==r?r=qe.isRightToLeft(i.getCtx())?"right":"left":"end"==r&&(r=qe.isRightToLeft(i.getCtx())?"left":"right"),"left"==r?i.setX(t.x):"center"==r?i.setX(t.x+t.w/2-n/2):"right"==r&&i.setX(t.x+t.w-n)}};var yt=new Object;e.createSubclass(yt,e,"DvtMath"),yt.RADS_PER_DEGREE=Math.PI/180,yt.DEGREES_PER_RAD=180/Math.PI,yt.TWO_PI=2*Math.PI,yt.HALF_PI=Math.PI/2,yt.QUARTER_PI=Math.PI/4,yt.TOLERANCE=.1,yt.cantorPairing=function(t,e){return 0>t||0>e?-1:(t+e)*(t+e+1)/2+t},yt.degreesToRads=function(t){return t*yt.RADS_PER_DEGREE},yt.radsToDegrees=function(t){return t*yt.DEGREES_PER_RAD},yt.interpolateNumber=function(t,e,i){return t+i*(e-t)},yt.log10=function(t){return Math.log(t)/Math.LN10};var St=function(){this.Init()};e.createSubclass(St,e,"DvtMap2D"),St.prototype.Init=function(){this._map={}},St.prototype.get=function(t,e){return this._getInnerMap(t)[e]},St.prototype.put=function(t,e,i){var n=this._getInnerMap(t),r=n[e];return n[e]=i,r},St.prototype._getInnerMap=function(t){var e=this._map[t];return e||(e={},this._map[t]=e),e};var Et=function(t,e){this.Init(t,e)};e.createSubclass(Et,St,"DvtPixelMap"),Et.prototype.Init=function(t,e){Et.superclass.Init.call(this),this._innerMap=e,this._innerMap&&(this._innerMap._outerMap=this,this._innerMap._bOuterMap=!0),this._scale=t||1,this._capacity=this._scale*this._scale,this._bInnerMap=null!=this._innerMap,this._bOuterMap=!1},Et.prototype.isObscured=function(t,e,i,n){for(var r=this._adjustForScale(t),o=this._adjustForScale(e),s=this._adjustForScale(i),a=this._adjustForScale(n),l=r;s>=l;l++)for(var u=o;a>=u;u++){var h=this.get(l,u);if(h!==!0){if(!this._bInnerMap)return!1;var c=Math.max(t,l*this._scale),p=Math.max(e,u*this._scale),d=Math.min(i,(l+1)*this._scale-1),g=Math.min(n,(u+1)*this._scale-1);if(!this._innerMap.isObscured(c,p,d,g))return!1}}return!0},Et.prototype.obscure=function(t,e,i,n,r){for(var o=this._adjustForScale(t),s=this._adjustForScale(e),a=this._adjustForScale(i),l=this._adjustForScale(n),u=o;a>=u;u++)for(var h=s;l>=h;h++){var c=this.get(u,h);if(c!==!0)if(this._bInnerMap){var p=Math.max(t,u*this._scale),d=Math.max(e,h*this._scale),g=Math.min(i,(u+1)*this._scale-1),f=Math.min(n,(h+1)*this._scale-1);this._innerMap.obscure(p,d,g,f,r)}else this._increment(u,h,r)}},Et.prototype._increment=function(t,e,i){var n=this._adjustForScale(t),r=this._adjustForScale(e),o=this.get(n,r);o=null!=o?o+i:i,o>=this._capacity&&(o=!0),this.put(n,r,o),o===!0&&this._bOuterMap&&this._outerMap._increment(t,e,this._capacity)},Et.prototype._adjustForScale=function(t){return Math.floor(t/this._scale)};var Tt=function(){this.Init()};Tt.REGEXP=new RegExp("#\\{([^\\}]*)\\}","g"),e.createSubclass(Tt,e,"DvtPropMap"),Tt.prototype.Init=function(){this._props={}},Tt.prototype.getProperty=function(t){return this._props[t]},Tt.prototype.setProperty=function(t,e){this._props[t]=e},Tt.prototype.getStringProp=function(t,e){var i=this._props[t];return i?i:e},Tt.prototype.getBooleanProp=function(t,e){var i=this._props[t],n=e;return"boolean"==typeof i?n=i:0===i?n=!1:1===i?n=!0:"string"==typeof i&&(n="true"===i.toLowerCase()||"yes"===i.toLowerCase()||"on"===i.toLowerCase()),n},Tt.prototype.getIntegerProp=function(t,e){var i,n=this._props[t];return n&&(i=parseInt(n)),i?i:e},Tt.prototype.getFloatProp=function(t,e){var i,n=this._props[t];return n&&(i=parseFloat(n)),i?i:e},Tt.prototype.getId=function(){return this.getProperty("id")},Tt.prototype.setId=function(t){this.setProperty("id",t)},Tt.prototype.setProperties=function(t){for(var e=0;e<t.length;e++){var i=t[e];i.name&&void 0!==i.value&&this.setProperty(i.name,i.value)}},Tt.prototype.stamp=function(t){var e=new this.constructor,i={};for(var n in this._props)this._props[n]&&this._props[n].replace?i[n]=this._props[n].replace(Tt.REGEXP,function(e,i){return t&&void 0!==t[i]?t[i]:e}):i[n]=this._props[n];return e._props=i,e},Tt.toELContext=function(t){for(var e,i=t.getAttributes(),n={},r=0;r<i.length;r++)e=i[r],n[e.name]=e.value;return n};var bt={};e.createSubclass(bt,e,"DvtImageLoader"),bt.loadImage=function(t,e,i){var n=t.getImplFactory().getImageLoader();return n.loadImage(e,i)};var Ct=new Object;e.createSubclass(Ct,e,"DvtJSONUtils"),Ct.clone=function(t,e){if(null==t)return null;var i=null;if(t instanceof Array){i=[];for(var n=0;n<t.length;n++)Ct._isDeepClonable(t[n])?i[n]=Ct.clone(t[n],e):i[n]=t[n]}else if(t instanceof Ae)i=t.clone();else if(t instanceof Date)i=t.getTime();else if(t instanceof Object){i={};for(var r in t)if(!e||e(r)){var o=t[r];Ct._isDeepClonable(o)&&"_widgetConstructor"!=r?i[r]=Ct.clone(o,e):i[r]=o}}return i},Ct.merge=function(t,e){var i=Ct.clone(t),n=Ct.clone(e);return null==i?n:null==n?i:(Ct._copy(i,n),n)},Ct._copy=function(t,e){for(var i in t){var n=t[i];n&&n instanceof Array||"_widgetConstructor"==i?e[i]=n:e[i]&&e[i]instanceof Ae?n instanceof Ae?e[i].merge(n):e[i].merge(new Ae(n)):Ct._isDeepClonable(n)&&e[i]?Ct._copy(n,e[i]):e[i]=n}},Ct._isDeepClonable=function(t){return"undefined"==typeof t?!1:!(!(t instanceof Object)||t instanceof Boolean||t instanceof String||t instanceof Number||t instanceof Function||t.then)};var At=function(){};e.createSubclass(At,e,"DvtBaseEvent"),At.prototype.Init=function(t){this.type=t.type,this.target=At.FindDisplayable(t.target),this._isPropagationStopped=!1,this._event=t},At.prototype.getNativeEvent=function(){return this._event},At.prototype.preventDefault=function(){this._event.cancelable&&this._event.preventDefault()},At.prototype.stopPropagation=function(){this._event.stopPropagation&&this._event.stopPropagation(),this._event.cancelBubble=!0,this._event.cancel=!0,this._event.returnValue=!1,this._isPropagationStopped=!0},At.prototype.isPropagationStopped=function(){return this._isPropagationStopped},At.prototype.getType=function(){return this.type},At.FindDisplayable=function(t){for(;t;){if(t._obj&&t._obj.getObj&&t._obj.getObj())return t._obj.getObj();t=t.parentNode}return null};var Dt=function(){};e.createSubclass(Dt,e,"DvtBaseComponentEvent"),Dt.CLIENT_ROW_KEY="clientRowKey",Dt.prototype.Init=function(t){this._type=t},Dt.prototype.getType=function(){return this._type},Dt.prototype.getParamKeys=function(){return this._paramKeys},Dt.prototype._getParamValues=function(){return this._paramValues},Dt.prototype.addParam=function(t,e){this._paramKeys||(this._paramKeys=[],this._paramValues=[]),this._paramKeys.push(t),this._paramValues.push(e)},Dt.prototype.getParamValue=function(t){if(!t||!this._paramKeys||!this._paramValues)return null;for(var e=-1,i=0;i<this._paramKeys.length;i++)if(this._paramKeys[i]==t){e=i;break}return-1!=e?this._paramValues[e]:null};var It=function(t){this.Init(t)};e.createSubclass(It,At,"DvtFocusEvent"),It.FOCUS=e.defineConstant("focus"),It.FOCUSIN=e.defineConstant("focusin"),It.FOCUSOUT=e.defineConstant("focusout"),It.BLUR=e.defineConstant("blur"),It.prototype.Init=function(t){It.superclass.Init.call(this,t),this.bubbles=t.bubbles,this.cancelable=t.cancelable,this.view=t.view,null!=t.relatedTarget&&(this.relatedTarget=At.FindDisplayable(t.relatedTarget))};var xt=function(t){this.Init(t)};e.createSubclass(xt,At,"DvtKeyboardEvent"),xt.KEYDOWN=e.defineConstant("keydown"),xt.KEYUP=e.defineConstant("keyup"),xt.KEYPRESS=e.defineConstant("keypress"),xt.TAB=9,xt.ENTER=13,xt.SHIFT=16,xt.CONTROL=17,xt.HOME=36,xt.END=35,xt.ESCAPE=27,xt.SPACE=32,xt.PAGE_UP=33,xt.PAGE_DOWN=34,xt.UP_ARROW=38,xt.DOWN_ARROW=40,xt.DELETE=46,xt.LEFT_ARROW=37,xt.RIGHT_ARROW=39,xt.OPEN_BRACKET=219,xt.CLOSE_BRACKET=221,xt.BACK_SLASH=220,xt.FORWARD_SLASH=191,xt.ZERO=48,xt.NUMPAD_ZERO=96,xt.ONE=49,xt.NUMPAD_ONE=97,xt.TWO=50,xt.NUMPAD_TWO=98,xt.THREE=51,xt.NUMPAD_THREE=99,xt.FOUR=52,xt.NUMPAD_FOUR=100,xt.FIVE=53,xt.NUMPAD_FIVE=101,xt.SIX=54,xt.NUMPAD_PLUS=107,xt.NUMPAD_MINUS=109,xt.WEBKIT_PLUS=187,xt.WEBKIT_MINUS=189,xt.GECKO_PLUS=61,xt.GECKO_MINUS=173,xt.WEBKIT_SEMICOLON=186,xt.GECKO_SEMICOLON=59,xt.A=65,xt.F=70,xt.L=76,xt.M=77,xt.N=78,xt.PERIOD=190,xt.NUMPAD_PERIOD=110,xt.SINGLE_QUOTE=222,xt.STAR=56,xt.NUMPAD_STAR=144,xt.OPEN_ANGLED_BRACKET=188,xt.CLOSE_ANGLED_BRACKET=190,xt.GRAVE_ACCENT=192,xt.prototype.Init=function(t){xt.superclass.Init.call(this,t),this.bubbles=t.bubbles,this.cancelable=t.cancelable,this.view=t.view,this.charCode=t.charCode,this.keyCode=t.keyCode,this.location=t.location,this.ctrlKey=t.ctrlKey||t.metaKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.repeat=t.repeat,this.locale=t.locale},xt.isPlus=function(t){var e=t.keyCode;return e==xt.NUMPAD_PLUS?!0:qe.isPlatformGecko()?!(e!=xt.GECKO_PLUS||!t.shiftKey):!(e!=xt.WEBKIT_PLUS||!t.shiftKey)},xt.isEquals=function(t){var e=t.keyCode;return qe.isPlatformGecko()?e==xt.GECKO_PLUS&&!t.shiftKey:e==xt.WEBKIT_PLUS&&!t.shiftKey},xt.isMinus=function(t){var e=t.keyCode;return e==xt.NUMPAD_MINUS?!0:qe.isPlatformGecko()?e==xt.GECKO_MINUS&&!t.shiftKey:e==xt.WEBKIT_MINUS&&!t.shiftKey},xt.isUnderscore=function(t){var e=t.keyCode;return qe.isPlatformGecko()?!(e!=xt.GECKO_MINUS||!t.shiftKey):!(e!=xt.WEBKIT_MINUS||!t.shiftKey)},xt.isSemicolon=function(t){var e=t.keyCode;return qe.isPlatformGecko()?e==xt.GECKO_SEMICOLON:e==xt.WEBKIT_SEMICOLON};var Ot=function(t){this.Init(t)};e.createSubclass(Ot,At,"DvtMouseEvent"),Ot.CLICK=e.defineConstant("click"),Ot.DBLCLICK=e.defineConstant("dblclick"),Ot.MOUSEOVER=e.defineConstant("mouseover"),Ot.MOUSEOUT=e.defineConstant("mouseout"),Ot.MOUSEDOWN=e.defineConstant("mousedown"),Ot.MOUSEUP=e.defineConstant("mouseup"),Ot.MOUSEMOVE=e.defineConstant("mousemove"),Ot.MOUSEWHEEL=e.defineConstant("wheel"),Ot.RIGHT_CLICK_BUTTON=2,Ot.prototype.Init=function(t){Ot.superclass.Init.call(this,t),null!=t.relatedTarget&&(this.relatedTarget=At.FindDisplayable(t.relatedTarget)),this.button=t.button,this.ctrlKey=t.ctrlKey||t.metaKey,this.shiftKey=t.shiftKey,this.pageX=t.pageX,this.pageY=t.pageY,this._isEventModifiedForIE=!1,null!=t.wheelDeltaY?this.wheelDelta=t.wheelDeltaY/40:null!=t.deltaY?(this.deltaMode=t.deltaMode,this.deltaY=t.deltaY,t.deltaMode==t.DOM_DELTA_LINE?this.wheelDelta=-t.deltaY:t.deltaMode==t.DOM_DELTA_PIXEL&&(this.wheelDelta=-t.deltaY/15)):null!=t.wheelDelta?this.wheelDelta=t.wheelDelta/40:this.wheelDelta=t.detail},Ot.prototype.modifyEventForIE=function(t,e){this._isEventModifiedForIE||(this.type=t,this.relatedTarget=this.target,this.target=At.FindDisplayable(e),this._isEventModifiedForIE=!0)};var Mt=function(t){this.Init(t)};e.createSubclass(Mt,At,"DvtTouchEvent"),Mt.TOUCHSTART=e.defineConstant("touchstart"),Mt.TOUCHMOVE=e.defineConstant("touchmove"),Mt.TOUCHEND=e.defineConstant("touchend"),Mt.TOUCHCANCEL=e.defineConstant("touchcancel"),Mt.prototype.Init=function(t){Mt.superclass.Init.call(this,t),t.type==Mt.TOUCHCANCEL&&(this.type=Mt.TOUCHEND),this.touches=Mt.createTouchArray(t.touches),this.targetTouches=Mt.createTouchArray(t.targetTouches),this.changedTouches=Mt.createTouchArray(t.changedTouches),this._touchManager=null},Mt.prototype.blockTouchHold=function(){this.getNativeEvent()._touchHoldBlocked=!0},Mt.prototype.isInitialTouch=function(){return this.touches.length-this.changedTouches.length==0},Mt.prototype.isTouchHoldBlocked=function(){return!!this.getNativeEvent()._touchHoldBlocked},Mt.createTouchArray=function(t){for(var e=new Array,i=0;i<t.length;i++){var n=t[i],r=new Rt(n);e.push(r)}return e},Mt.prototype.stopPropagation=function(){Mt.superclass.stopPropagation.call(this),this._touchManager&&this._touchManager.postEventBubble(this)},Mt.prototype.setTouchManager=function(t){this._touchManager=t};var Rt=function(t){this.Init(t)};e.createSubclass(Rt,e,"DvtTouch"),Rt.prototype.Init=function(t){this.clientX=t.clientX,this.clientY=t.clientY,this.screenX=t.screenX,this.screenY=t.screenY,this.pageX=t.pageX,this.pageY=t.pageY,this.target=t.target,this.identifier=null==t.identifier||isNaN(t.identifier)?1:t.identifier};var wt=function(t,e){this.Init(t,e)};e.createSubclass(wt,e,"DvtTouchManager"),wt.TOUCH_MODE="mode",wt.TOUCH_MODE_DEFAULT="defaultMode",wt.TOUCH_MODE_LONG_PRESS="longPressMode",wt.PREV_HOVER_OBJ="prevHoverObj",wt.HOVER_TOUCH_KEY="hoverTouch",wt.prototype.Init=function(t,e){this._context=e,this._id=t,this._touchCount=0,this._touchHoldTimer=new v(this._context,200,this._handleTouchHoldStartTimer,this),this._blockTouchHold=!1,this._touchMap=new Object,this._savedTouchInfo=new Array,this._addTouchHoldMoveEventListener(this._onTouchHoldHover,this),this._doubleTapTimer=new v(this._context,600,this._handleDoubleTapTimer,this,1),this._dvtTouchEvent=null},wt.prototype.blockTouchHold=function(){this._stopTouchHoldTimer(),this._blockTouchHold=!0},wt.prototype.unblockTouchHold=function(){this._blockTouchHold=!1},wt.prototype._addTouchHoldMoveEventListener=function(t,e){this.addTouchEventListener(kt.TOUCH_HOLD_START_TYPE,t,e),this.addTouchEventListener(kt.TOUCH_HOLD_MOVE_TYPE,t,e),this.addTouchEventListener(kt.TOUCH_HOLD_END_TYPE,t,e)},wt.prototype._onTouchHoldHover=function(t){var e=t.getType(),i=t.touch,n=t.getNativeEvent(),r=this._touchMap[i.identifier],o=t.target;if(e==kt.TOUCH_HOLD_END_TYPE){var s=new kt(kt.TOUCH_HOVER_END_TYPE,i,o,null,n);s._isCancelEvent=this._isCancelEvent,null!=o&&this.FireListener(new kt(kt.TOUCH_HOVER_OUT_TYPE,i,o,null,n)),r[wt.PREV_HOVER_OBJ]=null,this.FireListener(s)}else e==kt.TOUCH_HOLD_START_TYPE?(r[wt.PREV_HOVER_OBJ]=null,null!=o&&this.FireListener(new kt(kt.TOUCH_HOVER_OVER_TYPE,i,o,null,n)),r[wt.PREV_HOVER_OBJ]=o,this.FireListener(new kt(kt.TOUCH_HOVER_START_TYPE,i,o,null,n))):e==kt.TOUCH_HOLD_MOVE_TYPE&&(this._fireHoverOverOutEvents(o,r[wt.PREV_HOVER_OBJ],i,n),r[wt.PREV_HOVER_OBJ]=o,this.FireListener(new kt(kt.TOUCH_HOVER_MOVE_TYPE,i,o,null,n)))},wt.prototype._getObjFromTouch=function(t){var e=null;if(t){var i=this._context.getDocumentUtils();i&&(e=i.elementFromTouch(t))}return e},wt.prototype._fireHoverOverOutEvents=function(t,e,i,n){e!=t&&(null!=e&&this.FireListener(new kt(kt.TOUCH_HOVER_OUT_TYPE,i,e,t,n)),null!=t&&this.FireListener(new kt(kt.TOUCH_HOVER_OVER_TYPE,i,t,e,n)))},wt.prototype.addTouchEventListener=function(t,e,i){var n=this._getListeners(t,!0);n.push(e),n.push(i)},wt.prototype.removeTouchEventListener=function(t,e,i){var n=this._getListeners(t,!1);if(n)for(var r=0;r<n.length;r+=2)if(n[r]===e&&n[r+1]===i){n.splice(r,2);break}},wt.prototype._getListeners=function(t,e){if(!this._listenerObj){if(!e)return null;this._listenerObj={}}var i=t,n=this._listenerObj[i];return!n&&e&&(n=[],this._listenerObj[i]=n),n},wt.prototype.FireListener=function(t){var e=this._getListeners(t.getType(),!1);if(e)for(var i=0;i<e.length;i+=2){var n=e[i+1];e[i].call(n,t)}},wt.prototype.startTouchHold=function(t){var e=this._startSingleFingerTouchId;if(null!=e&&!isNaN(e)){var i=this._touchMap[e];if(i){for(var n=i.startTarget,r=i.startTouch,o=t.getNativeEvent(),s=this._findMatches("touchId",e),a=0;a<s.length;a++){var l=s[a],u=l.touchObj,h=l.touchId;if(u!=wt.HOVER_TOUCH_KEY){var c=this.getTouchInfo(h),p=c.startTouch;this.performAssociatedTouchEnd(p,u,null)}}i[wt.TOUCH_MODE]=wt.TOUCH_MODE_LONG_PRESS,this.saveProcessedTouch(e,wt.HOVER_TOUCH_KEY,null,wt.HOVER_TOUCH_KEY,wt.HOVER_TOUCH_KEY,this.HoverMoveInternal,this.HoverEndInternal,this);var d=new kt(kt.TOUCH_HOLD_START_TYPE,r,n,null,o);this.FireListener(d)}}},wt.prototype.fireLogicalEvents=function(t){var e=t.type,i=t.getNativeEvent();if(e==Mt.TOUCHSTART?(t.isTouchHoldBlocked()||this.processAssociatedTouchAttempt(t,wt.HOVER_TOUCH_KEY,this.HoverStartInternal,this),this._doubleTapAttemptStarted&&t.preventDefault()):e==Mt.TOUCHMOVE?this.processAssociatedTouchMove(t,wt.HOVER_TOUCH_KEY):e==Mt.TOUCHEND&&this.processAssociatedTouchEnd(t,wt.HOVER_TOUCH_KEY),e==Mt.TOUCHEND)for(var n=this._getStoredTouches(t.changedTouches),r=0;r<n.length;r++){var o=n[r],s=o.identifier,a=this.getTouchInfo(s),l=a.currentObj;if(a[wt.TOUCH_MODE]!=wt.TOUCH_MODE_LONG_PRESS&&a.fireClick){var u=new kt(kt.TOUCH_CLICK_TYPE,o,l,null,i);
if(u.touchEvent=t,this.FireListener(u),this._doubleTapAttemptStarted){var h=this._doubleTapAttemptObj;if(this.resetDoubleTap(),l==h){var c=new kt(kt.TOUCH_DOUBLE_CLICK_TYPE,o,l,null,i);c.touchEvent=t,this.FireListener(c)}}else this.resetDoubleTap(),this._doubleTapTimer.start(),this._doubleTapAttemptStarted=!0,this._doubleTapAttemptObj=l}}},wt.prototype.getTouchInfo=function(t){return this._touchMap[t]},wt.prototype.HoverStartInternal=function(t,e){if(!this._blockTouchHold){var i=e.identifier;this._startSingleFingerTouchId=i,this._stopTouchHoldTimer(),this._startTouchHoldTimer(t)}},wt.prototype.HoverMoveInternal=function(t,e){var i=e.identifier,n=this.getTouchInfo(i),r=n.currentObj,o=new kt(kt.TOUCH_HOLD_MOVE_TYPE,e,r,null,t.getNativeEvent());this.FireListener(o),t.preventDefault()},wt.prototype.HoverEndInternal=function(t,e){var i=e.identifier,n=this.getTouchInfo(i),r=n.currentObj,o=new kt(kt.TOUCH_HOLD_END_TYPE,e,r,null,t.getNativeEvent());this.FireListener(o),t&&t.preventDefault()},wt.prototype.resetTouchHold=function(){this._startSingleFingerTouchId=null,this._stopTouchHoldTimer()},wt.prototype.preEventBubble=function(t){t.setTouchManager&&t.setTouchManager(this);var e=t.type;e==Mt.TOUCHSTART?this.processTouchStart(t):e==Mt.TOUCHMOVE?this.processTouchMove(t):e==Mt.TOUCHEND&&this.processTouchEnd(t)},wt.prototype.postEventBubble=function(t){var e=t.type;if(e==Mt.TOUCHSTART);else if(e==Mt.TOUCHMOVE);else if(e==Mt.TOUCHEND)for(var i=this._getStoredTouches(t.changedTouches),n=0;n<i.length;n++){var r=i[n],o=r.identifier;delete this._touchMap[o],this._startSingleFingerTouchId==o&&(this._startSingleFingerTouchId=null);for(var s=this._findMatches("touchId",o),a=0;a<s.length;a++){var l=s[a];this.removeTooltipInfo(l.touchId,l.touchObj)}}},wt.prototype.saveProcessedTouch=function(t,e,i,n,r,o,s,a){if(null!=t&&!isNaN(t)){var l=wt.createSavedTouchInfo(t,e,i,n,r,o,s,a);return this._savedTouchInfo.push(l),!0}return!1},wt.prototype.saveProcessedTouchDefault=function(t,e,i,n,r,o){var s=null;o.immediateTouchMoved&&(s=o.immediateTouchMoved);var a=null;o.immediateTouchEnded&&(a=o.immediateTouchEnded),this.saveProcessedTouch(t,e,i,n,r,s,a,o)},wt.prototype.processAssociatedTouch=function(t,e,i,n){var r=t.type;r==Mt.TOUCHSTART?this.processAssociatedTouchAttempt(t,e,i,n):r==Mt.TOUCHMOVE?this.processAssociatedTouchMove(t,e):r==Mt.TOUCHEND&&this.processAssociatedTouchEnd(t,e)},wt.prototype.processAssociatedTouchDefault=function(t,e){this.processAssociatedTouch(t,e,e.immediateTouchAttempted,e)},wt.prototype.cancelTouchHold=function(){for(var t=wt.HOVER_TOUCH_KEY,e=this.getTouchIdsForObj(t),i=0;i<e.length;i++){var n=e[i],r=this.getTouchInfo(n),o=r.startTouch;o&&(this._isCancelEvent=!0,this.performAssociatedTouchEnd(o,t,null),this._isCancelEvent=!1,delete this._touchMap[n])}},wt.prototype.performAssociatedTouchEnd=function(t,e,i){var n=t.identifier,r=this.getSavedTouchInfo(n,e);if(r){var o=r.listenerObj,s=r.endListener;this.removeTooltipInfo(n,e),s&&s.call(o,i,t,r)}},wt.prototype.processAssociatedTouchAttempt=function(t,e,i,n){for(var r=t.changedTouches,o=0;o<r.length;o++){var s=r[o];s&&i&&i.call(n,t,s)}},wt.prototype.processAssociatedTouchMove=function(t,e){for(var i=this.getTouchIdsForObj(e),n=0;n<i.length;n++){var r=i[n];if(null!=r&&!isNaN(r)){var o=wt.getTouchById(r,this._getStoredTouches(t.changedTouches));if(o){var s=this.getSavedTouchInfo(o.identifier,e);if(s){var a=s.listenerObj,l=s.moveListener;l&&l.call(a,t,o)}}}}},wt.prototype.processAssociatedTouchEnd=function(t,e){for(var i=this.getTouchIdsForObj(e),n=0;n<i.length;n++){var r=i[n],o=wt.getTouchById(r,this._getStoredTouches(t.changedTouches));o&&this.performAssociatedTouchEnd(o,e,t)}},wt.prototype._findMatch=function(t,e){for(var i=-1,n=0;n<this._savedTouchInfo.length;n++){var r=this._savedTouchInfo[n];r[t]==e&&(i=n)}return i},wt.prototype._findMatches=function(t,e){for(var i=new Array,n=0;n<this._savedTouchInfo.length;n++){var r=this._savedTouchInfo[n];r[t]==e&&i.push(r)}return i},wt.prototype.getSavedTouchInfo=function(t,e){for(var i=this._findMatches("touchId",t),n=0;n<i.length;n++){var r=i[n];if(r.touchObj==e)return r}return null},wt.prototype.containsTouchId=function(t){var e=this._findMatches("touchId",t);return e.length>0},wt.prototype.getTouchIdsForObj=function(t){for(var e=new Array,i=this._findMatches("touchObj",t),n=0;n<i.length;n++){var r=i[n],o=r.touchId;e.push(o)}return e},wt.prototype.removeTooltipInfo=function(t,e){for(var i=this._findMatches("touchId",t),n=new Array,r=0;r<i.length;r++){var o=i[r];o.touchObj==e&&n.push(o)}for(var r=0;r<n.length;r++){for(var s=n[r],a=-1,l=0;l<this._savedTouchInfo.length;l++){var o=this._savedTouchInfo[l];o==s&&(a=l)}-1!=a&&(this._savedTouchInfo.splice(a,1),0==this._savedTouchInfo.length&&this._context.getTooltipManager().hideTooltip())}},wt.prototype.setTooltipEnabled=function(t,e){for(var i=this._savedTouchInfo,n=0;n<i.length;n++){var r=i[n],o=r.touchId;o==t&&(r.allowTooltips=e)}},wt.prototype.getTooltipInfo=function(){for(var t=new Object,e=new Array,i=null,n=null,r=!1,o=this._findMatches("allowTooltips",!0),s=0;s<o.length;s++){var a=o[s],l=a.touchId;n?a.grouping!=n&&(r=!0):n=a.grouping;var u,h=this._touchMap[l];h&&(u=h.currentObj),a.tooltipObjOverride&&(u=a.tooltipObjOverride),e.push(l),i=u}return r&&(e=new Array),t.touchIds=e,t.tooltipTarget=i,t},wt.prototype.containsGrouping=function(t){var e=this._findMatches("grouping",t);return e.length>0},wt.prototype.processTouchStart=function(t){var e=t.changedTouches,i=t.touches;this._touchCount=i.length;for(var n=0;n<e.length;n++){var r=e[n],o=r.screenX,s=r.screenY,a=r.identifier,l=this._getObjFromTouch(r),u={x:o,y:s,prevX:o,prevY:s,pageX:r.pageX,pageY:r.pageY,prevPageX:r.pageX,prevPageY:r.pageY,dx:0,dy:0,fireClick:!0,startTarget:l,currentObj:l,touchMoved:!1,touchtype:null,startTouch:r};u[wt.TOUCH_MODE]=wt.TOUCH_MODE_DEFAULT,u.origx=o,u.origy=s,this._touchMap[a]=u}return!this._isHovering()&&this._isTouchHoldAllowed()||t.blockTouchHold(),!0},wt.prototype._isTouchHoldAllowed=function(){var t=!1,e=0;for(var i in this._touchMap){var n=this.getTouchInfo(i);n.touchMoved&&(t=!0),e++}return e>1&&!t?(this.resetTouchHold(),!1):!0},wt.prototype._isHovering=function(){for(var t in this._touchMap){var e=this.getTouchInfo(t);if(e[wt.TOUCH_MODE]==wt.TOUCH_MODE_LONG_PRESS)return!0}return!1},wt.prototype._getStoredTouches=function(t){for(var e=new Array,i=0;i<t.length;i++){var n=t[i],r=n.identifier,o=this.getTouchInfo(r);o&&e.push(n)}return e},wt.prototype.processTouchMove=function(t){for(var e=this._getStoredTouches(t.changedTouches),i=this._getStoredTouches(t.touches),n=0;n<e.length;n++){var r=e[n],o=this._getObjFromTouch(r),s=r.identifier,a=this.getTouchInfo(s);if(a.currentObj=o,a.touchMoved=!0,a[wt.TOUCH_MODE]!=wt.TOUCH_MODE_LONG_PRESS){var l=Math.abs(a.pageX-r.pageX),u=Math.abs(a.pageY-r.pageY);this._startSingleFingerTouchId==s&&(l>0||u>0)&&this.resetTouchHold(),a.touchMoved=l>3||u>3}a.fireClick&&(a[wt.TOUCH_MODE]==wt.TOUCH_MODE_LONG_PRESS||a.currentObj!=a.startTarget&&(a.fireClick=!1))}for(var n=0;n<i.length;n++){var r=i[n],h=r.identifier,a=this.getTouchInfo(h),c=r.screenX,p=r.screenY,d=c-a.x,g=p-a.y;a.prevX=a.x,a.prevY=a.y,a.dx=d,a.dy=g,a.x=c,a.y=p,a.prevPageX=a.pageX,a.prevPageY=a.pageY,a.pageX=r.pageX,a.pageY=r.pageY}return!0},wt.prototype.processTouchEnd=function(t){var e=t.changedTouches;this._touchCount=t.touches.length;for(var i=0;i<e.length;i++){var n=e[i],r=this._getObjFromTouch(n),o=n.identifier,s=this.getTouchInfo(o);if(s&&s.fireClick)if(s[wt.TOUCH_MODE]==wt.TOUCH_MODE_LONG_PRESS)this._startSingleFingerTouchId=null;else{var a=r==s.startTarget,l=s.touchMoved,u=a&&!l;s.fireClick=u}}return this._context.clearStageAbsolutePosition(),!0},wt.getTouchById=function(t,e){if(null!=t&&!isNaN(t))for(var i=0;i<e.length;i++){var n=e[i];if(n.identifier==t)return n}return null},wt.createSavedTouchInfo=function(t,e,i,n,r,o,s,a){var l={touchId:t,tooltipObjOverride:i,grouping:n,type:r,touchObj:e,allowTooltips:!0};return l.moveListener=o,l.endListener=s,l.listenerObj=a,l},wt.prototype._handleTouchHoldStartTimer=function(){var t=this._dvtTouchEvent;this._stopTouchHoldTimer(),this.startTouchHold(t)},wt.prototype._startTouchHoldTimer=function(t){this._dvtTouchEvent=t,this._touchHoldTimer&&this._touchHoldTimer.start()},wt.prototype._stopTouchHoldTimer=function(){this._dvtTouchEvent=null,this._touchHoldTimer&&this._touchHoldTimer.stop()},wt.prototype._handleDoubleTapTimer=function(){this.resetDoubleTap()},wt.prototype.resetDoubleTap=function(){this._doubleTapAttemptStarted=!1,this._doubleTapAttemptObj=null,this._doubleTapTimer.stop()},wt.prototype.getMultiTouchData=function(t){if(2==t.length){var e=this._touchMap[t[0]],i=this._touchMap[t[1]];if(null==e||null==i)return null;if(0==e.dx&&0==i.dy)return null;var n=e.pageX-i.pageX,r=e.pageY-i.pageY,o=Math.sqrt(n*n+r*r),s=e.prevPageX-i.prevPageX,a=e.prevPageY-i.prevPageY,l=Math.sqrt(s*s+a*a),u=o-l,h=(e.pageX+i.pageX)/2,c=(e.pageY+i.pageY)/2,p=(e.prevPageX+i.prevPageX)/2,d=(e.prevPageY+i.prevPageY)/2,g=h-p,f=c-d;return{dz:u,cx:h,cy:c,dcx:g,dcy:f,dist:o}}return null},wt.prototype.getMultiTouchDelta=function(t){if(t){var e,i;if(2==t.length){var n=this._touchMap[t[0]],r=this._touchMap[t[1]];if(null==n||null==r)return;if(null==n.touchtype){var o=this._determineTouchDirection(n);if(null!=o){var s=this._determineTouchDirection(r);null!=s&&(i=this._isSameDirection(o,s)?"scroll":"pinch",n.touchtype=i)}}if(i=n.touchtype,null==i)return;if("pinch"==i)return null}for(var a=0,l=0,u=0;u<t.length;u++)e=this._touchMap[t[u]],a+=e.dx,l+=e.dy;a/=t.length,l/=t.length;var h=!0;if(h){var c=1;return{deltaX:a*c,deltaY:l*c}}}return null},wt.prototype._isSameDirection=function(t,e){return t==e?!0:2==t.length&&1==e.length?t.charAt(0)==e||t.charAt(1)==e:1==t.length&&2==e.length?t==e.charAt(0)||e==t.charAt(1):!1},wt.prototype._determineTouchDirection=function(t){var e=t.origx,i=t.origy;if(null==e||null==i)return null;var n=t.x,r=t.y,o=.01,s=n-e,a=r-i,l=Math.sqrt(Math.pow(s,2)+Math.pow(a,2)),u=window.innerWidth*o;if(u>l)return null;var h=.25,c=null;Math.abs(s/a)>=h&&(c=0>s?"l":"r");var p=null;return Math.abs(a/s)>=h&&(p=0>a?"u":"d"),null!=c&&null!=p?p+c:null==c?p:null==p?c:null},wt.prototype.calcAveragePosition=function(t){for(var e=0,i=0,n=t.length,r=0;n>r;r++){var o=t[r],s=this.getTouchInfo(o);e+=s.pageX,i+=s.pageY}return e/=n,i/=n,new dt(e,i)},wt.prototype.getStartTargetsByIds=function(t){for(var e=new Array,i=0;i<t.length;i++){var n=this.getTouchInfo(t[i]);e.push(n.startTarget)}return e},wt.prototype.reset=function(){this._touchMap=new Object,this._savedTouchInfo=new Array,this.resetTouchHold(),this.resetDoubleTap()};var Pt=function(t,e,i,n){this.Init(Pt.TYPE),this._listItemId=t,this._attrGroupId=e,this._showHide=i,this._evt=n};Pt.TYPE="listItemShowHide",Pt.SHOW="show",Pt.HIDE="hide",e.createSubclass(Pt,Dt,"DvtListItemEvent"),Pt.prototype.getNativeEvent=function(){return this._evt},Pt.prototype.getListItemId=function(){return this._listItemId},Pt.prototype.getShowHide=function(){return this._showHide},Pt.prototype.getAttributeGroupId=function(){return this._attrGroupId};var Lt=function(t,e,i){this.Init(Lt.TYPE),this._oldDim=t,this._newDim=e,this._evt=i};Lt.TYPE="viewportChange",e.createSubclass(Lt,Dt,"ViewportChangeEvent"),Lt.prototype.getNativeEvent=function(){return this._evt},Lt.prototype.getOldDimensions=function(){return this._oldDim},Lt.prototype.getNewDimensions=function(){return this._newDim};var Nt=function(t,e){this.Init(t),this.target=e};Nt.TOOLTIP_CLOSED_TYPE="actiontooltipclosed",Nt.TOOLTIP_STARTED_TYPE="actiontooltipstarted",e.createSubclass(Nt,Dt,"DvtActionTooltipEvent"),Nt.prototype.Init=function(t){Nt.superclass.Init.call(this,t)};var kt=function(t,e,i,n,r){this.Init(t,e,i,n,r)};kt.TOUCH_HOLD_START_TYPE="touchholdstart",kt.TOUCH_HOLD_MOVE_TYPE="touchholdmove",kt.TOUCH_HOLD_END_TYPE="touchholdend",kt.TOUCH_HOVER_START_TYPE="touchhoverstart",kt.TOUCH_HOVER_MOVE_TYPE="touchhovermove",kt.TOUCH_HOVER_END_TYPE="touchhoverend",kt.TOUCH_HOVER_OVER_TYPE="touchhoverover",kt.TOUCH_HOVER_OUT_TYPE="touchhoverout",kt.TOUCH_CLICK_TYPE="touchclick",kt.TOUCH_DOUBLE_CLICK_TYPE="touchdblclick",e.createSubclass(kt,Dt,"DvtComponentTouchEvent"),kt.prototype.Init=function(t,e,i,n,r){kt.superclass.Init.call(this,t),this.target=i,this.touch=e,this.relatedTarget=n,this._isPropagationStopped=!1,this._nativeEvent=r},kt.prototype.preventDefault=function(){},kt.prototype.stopPropagation=function(){this._isPropagationStopped=!0},kt.prototype.isPropagationStopped=function(){return this._isPropagationStopped},kt.prototype.getNativeEvent=function(){return this._nativeEvent};var Ht=function(t,e,i,n){this.Init(t,e,i,n)};e.createSubclass(Ht,e,"DvtResizeEvent"),Ht.RESIZE_EVENT="dvtResizeEvent",Ht.prototype.Init=function(t,e,i,n){this.type=Ht.RESIZE_EVENT,this._ww=t,this._hh=e,this._xx=i,this._yy=n},Ht.prototype.getWidth=function(){return this._ww},Ht.prototype.getHeight=function(){return this._hh},Ht.prototype.getX=function(){return this._xx},Ht.prototype.getY=function(){return this._yy},Ht.prototype.getType=function(){return this.type};var Ft=function(t,e){this.Init(t,e)};e.createSubclass(Ft,e,"DvtScrollEvent"),Ft.SCROLL_EVENT="dvtScrollEvent",Ft.prototype.Init=function(t,e){this.type=Ft.SCROLL_EVENT,this._x=t,this._y=e},Ft.prototype.getX=function(){return this._x},Ft.prototype.getY=function(){return this._y},Ft.prototype.getType=function(){return this.type};var Bt=function(t,e,i,n,r,o){this.Init(Bt.TYPE),this.subtype=t,this.x=e,this.y=i,this.w=n,this.h=r,this.ctrlKey=o};e.createSubclass(Bt,Dt,"DvtMarqueeEvent"),Bt.TYPE="dvtMarquee",Bt.SUBTYPE_START="dvtMarqueeStartEvent",Bt.SUBTYPE_MOVE="dvtMarqueeMoveEvent",Bt.SUBTYPE_END="dvtMarqueeEndEvent",Bt.prototype.getSubtype=function(){return this.subtype};var Ut=function(t,e,i,n,r,o,s,a,l){this.Init(Ut.TYPE),this.subtype=t,this.dxMin=e,this.dxMax=i,this.dyMin=n,this.dyMax=r,this.dxMinTotal=o,this.dxMaxTotal=s,this.dyMinTotal=a,this.dyMaxTotal=l};e.createSubclass(Ut,Dt,"DvtPanZoomEvent"),Ut.TYPE="dvtPanZoom",Ut.SUBTYPE_PAN_START="dvtPanStartEvent",Ut.SUBTYPE_PAN_MOVE="dvtPanMoveEvent",Ut.SUBTYPE_PAN_END="dvtPanEndEvent",Ut.SUBTYPE_ZOOM="dvtZoomEvent",Ut.SUBTYPE_PINCH_START="dvtPinchStartEvent",Ut.SUBTYPE_PINCH_MOVE="dvtPinchMoveEvent",Ut.SUBTYPE_PINCH_END="dvtPinchEndEvent",Ut.prototype.getSubtype=function(){return this.subtype};var Gt=function(t,e,i){this.Init(Gt.TYPE),this._subtype=t,this._newMin=e,this._newMax=i};e.createSubclass(Gt,Dt,"DvtSimpleScrollbarEvent"),Gt.TYPE="dvtSimpleScrollbar",Gt.SUBTYPE_MOVE="dvtMoveEvent",Gt.SUBTYPE_END="dvtEndEvent",Gt.prototype.getSubtype=function(){return this._subtype},Gt.prototype.getNewMin=function(){return this._newMin},Gt.prototype.getNewMax=function(){return this._newMax};var jt=new Object;e.createSubclass(jt,e,"DvtEventFactory"),jt.newEvent=function(t,e){var i=t.type;return i==Mt.TOUCHSTART||i==Mt.TOUCHMOVE||i==Mt.TOUCHEND||i==Mt.TOUCHCANCEL?new Mt(t):i==xt.KEYDOWN||i==xt.KEYUP||i==xt.KEYPRESS?new xt(t):(e._nativeEvent!=t&&(e._nativeEvent=t,i==It.FOCUS||i==It.FOCUSIN||i==It.FOCUSOUT||i==It.BLUR?e._logicalEvent=new It(t):e._logicalEvent=new Ot(t)),e._logicalEvent)},jt.generateMouseEventFromKeyboardEvent=function(t,e,i,n,r,o){var s=null;if(document.createEvent){s=document.createEvent("MouseEvents");var a=e.stageToPageCoords(r,o);s.initMouseEvent(i,!0,!0,window,1,a.x,a.y,a.x,a.y,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,0,null)}if(s){var l=jt.newEvent(s,e);return l.target=t.target,l}return null};var Vt={};e.createSubclass(Vt,e,"Dvt3rdPartyPathUtils"),Vt.lineLinear=function(t){return t.join("L")},Vt.lineCardinalClosed=function(t,e){return t.length<3?Vt.lineLinear(t):t[0]+Vt.lineHermite((t.push(t[0]),t),Vt.lineCardinalTangents([t[t.length-2]].concat(t,[t[1]]),e))},Vt.lineCardinal=function(t,e){return t.length<3?Vt.lineLinear(t):t[0]+Vt.lineHermite(t,Vt.lineCardinalTangents(t,e))},Vt.lineHermite=function(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return Vt.lineLinear(t);var i=t.length!=e.length,n="",r=t[0],o=t[1],s=e[0],a=s,l=1;if(i&&(n+="Q"+Math.round(o[0]-2*s[0]/3)+","+Math.round(o[1]-2*s[1]/3)+","+Math.round(o[0])+","+Math.round(o[1]),r=t[1],l=2),e.length>1){a=e[1],o=t[l],l++,n+="C"+Math.round(r[0]+s[0])+","+Math.round(r[1]+s[1])+","+Math.round(o[0]-a[0])+","+Math.round(o[1]-a[1])+","+Math.round(o[0])+","+Math.round(o[1]);for(var u=2;u<e.length;u++,l++)o=t[l],a=e[u],n+="S"+Math.round(o[0]-a[0])+","+Math.round(o[1]-a[1])+","+Math.round(o[0])+","+Math.round(o[1])}if(i){var h=t[l];n+="Q"+Math.round(o[0]+2*a[0]/3)+","+Math.round(o[1]+2*a[1]/3)+","+Math.round(h[0])+","+Math.round(h[1])}return n},Vt.lineCardinalTangents=function(t,e){for(var i,n=[],r=(1-e)/2,o=t[0],s=t[1],a=1,l=t.length;++a<l;)i=o,o=s,s=t[a],n.push([r*(s[0]-i[0]),r*(s[1]-i[1])]);return n},Vt.lineSlope=function(t,e){return(e[1]-t[1])/(e[0]-t[0])},Vt.lineFiniteDifferences=function(t){for(var e=0,i=t.length-1,n=[],r=t[0],o=t[1],s=n[0]=Vt.lineSlope(r,o);++e<i;)n[e]=(s+(s=Vt.lineSlope(r=o,o=t[e+1])))/2;return n[e]=s,n},Vt.lineMonotoneTangents=function(t,e){e&&(t=Vt._rotatePoints(t));for(var i,n,r,o,s=[],a=Vt.lineFiniteDifferences(t),l=-1,u=t.length-1;++l<u;)i=Vt.lineSlope(t[l],t[l+1]),Math.abs(i)<1e-6?a[l]=a[l+1]=0:(n=a[l]/i,r=a[l+1]/i,o=n*n+r*r,o>9&&(o=3*i/Math.sqrt(o),a[l]=o*n,a[l+1]=o*r));for(l=-1;++l<=u;)o=(t[Math.min(u,l+1)][0]-t[Math.max(0,l-1)][0])/(6*(1+a[l]*a[l])),s.push([o||0,a[l]*o||0]);return e&&(s=Vt._rotatePoints(s)),s},Vt.lineMonotone=function(t,e){return t.length<3?Vt.lineLinear(t):t[0]+Vt.lineHermite(t,Vt.lineMonotoneTangents(t,e))},Vt._rotatePoints=function(t){for(var e=[],i=0;i<t.length;i++)e.push([t[i][1],t[i][0]]);return e};var Yt=function(){};e.createSubclass(Yt,e,"DvtDisplayableUtils"),Yt.getDimensionsForced=function(t,e){var i,n=e.getParent();n&&(i=n.getChildIndex(e));var r=t.getStage();r.addChild(e);var o=e.getDimensions();return r.removeChild(e),n&&n.addChildAt(e,i),o},Yt.getDimForced=function(t,e){if(e._dim||!t)return e._dim;var i=Yt.getDimensionsForced(t,e);return Yt._setDimForced(e,i),i},Yt._setDimForced=function(t,e){t._dim=e},Yt.isAncestor=function(t,e){for(var i=e;i;){if(i==t)return!0;i instanceof te&&(i=i.getParent())}return!1};var Wt={};e.createSubclass(Wt,e,"DvtPathUtils"),Wt.SPLINE_TYPE_MONOTONE_VERTICAL="mv",Wt.SPLINE_TYPE_MONOTONE_HORIZONTAL="mh",Wt.SPLINE_TYPE_CARDINAL_CLOSED="cc",Wt.SPLINE_TYPE_CARDINAL="c",Wt.moveTo=function(t,e){return"M"+Gi.roundDecimal(t)+","+Gi.roundDecimal(e)},Wt.lineTo=function(t,e){return"L"+Gi.roundDecimal(t)+","+Gi.roundDecimal(e)},Wt.quadTo=function(t,e,i,n){return"Q"+Gi.roundDecimal(t)+","+Gi.roundDecimal(e)+","+Gi.roundDecimal(i)+","+Gi.roundDecimal(n)},Wt.cubicTo=function(t,e,i,n,r,o){return"C"+Gi.roundDecimal(t)+","+Gi.roundDecimal(e)+","+Gi.roundDecimal(i)+","+Gi.roundDecimal(n)+","+Gi.roundDecimal(r)+","+Gi.roundDecimal(o)},Wt.arcTo=function(t,e,i,n,r,o){var s="A"+Gi.roundDecimal(t)+","+Gi.roundDecimal(e)+",0,";return s+=i>Math.PI?"1,":"0,",s+=n+","+Gi.roundDecimal(r)+","+Gi.roundDecimal(o)},Wt.closePath=function(){return"Z"},Wt.roundedRectangle=function(t,e,i,n,r,o,s,a){var l=Wt.moveTo(t+r,e)+Wt.lineTo(t+i-o,e)+Wt.arcTo(o,o,Math.PI/2,1,t+i,e+o)+Wt.lineTo(t+i,e+n-s)+Wt.arcTo(s,s,Math.PI/2,1,t+i-s,e+n)+Wt.lineTo(t+a,e+n)+Wt.arcTo(a,a,Math.PI/2,1,t,e+n-a)+Wt.lineTo(t,e+r)+Wt.arcTo(r,r,Math.PI/2,1,t+r,e)+Wt.closePath();return l},Wt.polyline=function(t,e){if(t.length<2)return"";for(var i=e?Wt.lineTo(t[0],t[1]):Wt.moveTo(t[0],t[1]),n=2;n<t.length;n+=2)i+=Wt.lineTo(t[n],t[n+1]);return i},Wt.curveThroughPoints=function(t,e,i){if(0==t.length)return"";for(var n=[],r=0;r<t.length;r+=2)n.push([t[r],t[r+1]]);var o=e?"L":"M";return i==Wt.SPLINE_TYPE_MONOTONE_VERTICAL?o+Vt.lineMonotone(n,!1):i==Wt.SPLINE_TYPE_MONOTONE_HORIZONTAL?o+Vt.lineMonotone(n,!0):i==Wt.SPLINE_TYPE_CARDINAL_CLOSED?o+Vt.lineCardinalClosed(n,.7):o+Vt.lineCardinal(n,.7)},Wt.createPathArray=function(t){if(!t)return null;var e,i=t.replace(/([mlqhvzca])/gi,",$1,"),n=i.split(/[ ,]/g),r=n.length;for(e=0;r>e;e++){var o=n[e];o?isNaN(o)||(n[e]=parseFloat(o)):(n.splice(e,1),e--,r--)}return n},Wt.getDimensions=function(t){if(!t||!t.length)return new gt;var e,i,n,r,o,s,a,l,u,h,c,p,d,g=t.length,f=!0,_=Number.MAX_VALUE,v=Number.MIN_VALUE,m=Number.MAX_VALUE,y=Number.MIN_VALUE,S=[];for(c=0;g>c;c++){r=!1;var E=0;switch(p=0,e=t[c]){case"m":r=!0;case"M":do o=t[c+1],s=t[c+2],f?f=!1:r&&(o+=i,s+=n),i=o,n=s,S[p++]=o,S[p++]=s,E++,c+=2;while(!isNaN(t[c+1]));break;case"c":r=!0;case"C":do o=t[c+1],s=t[c+2],a=t[c+3],l=t[c+4],u=t[c+5],h=t[c+6],r&&(o+=i,s+=n,a+=i,l+=n,u+=i,h+=n),i=u,n=h,S[p++]=u,S[p++]=h,E++,c+=6;while(!isNaN(t[c+1]));break;case"q":r=!0;case"Q":do o=t[c+1],s=t[c+2],a=t[c+3],l=t[c+4],r&&(o+=i,s+=n,a+=i,l+=n),i=a,n=l,S[p++]=a,S[p++]=l,E++,c+=4;while(!isNaN(t[c+1]));break;case"l":r=!0;case"L":do o=t[c+1],s=t[c+2],r&&(o+=i,s+=n),i=o,n=s,S[p++]=o,S[p++]=s,E++,c+=2;while(!isNaN(t[c+1]));break;case"h":r=!0;case"H":do o=t[c+1],r&&(o+=i),i=o,S[p++]=o,S[p++]=n,E++,c+=1;while(!isNaN(t[c+1]));break;case"v":r=!0;case"V":do s=t[c+1],r&&(s+=n),n=s,S[p++]=i,S[p++]=s,E++,c+=1;while(!isNaN(t[c+1]));break;case"z":case"Z":}for(p=0,d=0;E>d;d++)o=S[p++],s=S[p++],_=Math.min(_,o),v=Math.max(v,o),m=Math.min(m,s),y=Math.max(y,s)}return new gt(_,m,Math.abs(v-_),Math.abs(y-m))},Wt.getPathString=function(t){for(var e,i="",n=t.length,r=0;n>r;r++)e=t[r],void 0!==e&&null!==e&&(i+=(r>0?" ":"")+t[r]);return i},Wt.transformPath=function(t,e,i,n,r){var o="";if(t){for(var s=t.match(/[a-z][^a-z]*/gi),a=0;a<s.length;a++){var l=s[a],u=l.charAt(0),h=u===u.toUpperCase();o+=u+" ";var c=l.substring(1);if(c=c.replace(/,/g," "),c=c.replace(/^\s+|\s+$/g,""),c.length>0){var p=c.split(/\s+/g);if("A"===u.toUpperCase())for(var d=0;d<p.length;d+=7)o+=Gi.roundDecimal(parseFloat(p[d])*n)+" ",o+=Gi.roundDecimal(parseFloat(p[d+1])*r)+" ",o+=Gi.roundDecimal(p[d+2])+" ",o+=Gi.roundDecimal(p[d+3])+" ",o+=Gi.roundDecimal(p[d+4])+" ",o+=Gi.roundDecimal(parseFloat(p[d+5])*n+(h?e:0))+" ",o+=Gi.roundDecimal(parseFloat(p[d+6])*r+(h?i:0))+" ";else{var g=[],f=[];"H"===u.toUpperCase()?(g.push(n),f.push(h?e:0)):"V"===u.toUpperCase()?(g.push(r),f.push(h?i:0)):(g.push(n),g.push(r),f.push(h?e:0),f.push(h?i:0));for(var d=0;d<p.length;d++){var _=g[d%g.length],v=f[d%f.length];o+=Gi.roundDecimal(parseFloat(p[d])*_+v)+" "}}}}return o}},Wt._fitsInScale=function(t,e,i){return Math.abs(t)>i||Math.abs(e)>i},Wt.simplifyPath=function(t,e){for(var i,n,r="",o="",s=0,a=0,l=0,u=0,h=0,c=0;c<t.length;c++)if(isNaN(t[c]))i=t[c],"Z"!=i&&"z"!=i||(n=i,o+=i,h>0&&(r+=o,l=0,u=0),o="",h=0,s=0,a=0);else switch(i){case"M":l=0,u=0;case"m":l+=t[c],u+=t[c+1],o=o+i+l+" "+u,n=i,c++;break;case"l":s+=t[c],a+=t[c+1],Wt._fitsInScale(s,a,e)&&(n!=i?(n=i,o+=i):o+=" ",o=o+s+" "+a,s=0,a=0,h++),c++;break;case"h":case"v":"h"==i?s+=t[c]:a+=t[c],Wt._fitsInScale(s,a,e)&&(0!=s&&0!=a?("l"!=n?(n="l",o+="l"):o+=" ",o=o+s+" "+a):(n=i,o=o+i+("h"==i?s:a)),s=0,a=0,h++)}return r};var Kt=function(){this.Init()};e.createSubclass(Kt,Tt,"DvtMarkerDefElem"),Kt.ATTR_ELEMENTS="elements",Kt.ATTR_SHAPE="shape",Kt.ATTR_BORDER_COLOR="bc",Kt.ATTR_FILL_COLOR="fc",Kt.ATTR_FILL_PATTERN="fp",Kt.ATTR_FILL_GRADIENT="fg",Kt.ATTR_DATA="d",Kt.ATTR_POINTS="p",Kt.ATTR_LINE_WIDTH="lw",Kt.ATTR_FILL_GRAD_COLORS="c",Kt.ATTR_FILL_GRAD_STOPS="p",Kt.ATTR_FILL_GRAD_BOUNDS="b",Kt.ATTR_FILL_GRAD_DIR="dir",Kt.ATTR_FILL_GRAD_DIR_RADIAL="gdR",Kt.ATTR_FILL_GRAD_DIR_RIGHT="gdRi",Kt.ATTR_FILL_GRAD_DIR_DOWN="gdD",Kt.ATTR_FILL_GRAD_DIR_45="gdD45",Kt.ATTR_FILL_GRAD_DIR_135="gdD135",Kt.ATTR_FILL_GRAD_CX="cx",Kt.ATTR_FILL_GRAD_CY="cy",Kt.ATTR_FILL_GRAD_RADIUS="r",Kt.ATTR_FILL_GRAD_RADIUSX="rx",Kt.ATTR_FILL_GRAD_RADIUSY="ry",Kt.ATTR_ANGLES="ang",Kt.ATTR_CLOSURE_TYPE="ct",Kt.ATTR_TRANSFORM="transform",Kt.prototype.Init=function(){Kt.superclass.Init.call(this)},Kt.prototype.getShape=function(){return this.getProperty(Kt.ATTR_SHAPE)},Kt.prototype.setShape=function(t){this.setProperty(Kt.ATTR_SHAPE,t)},Kt.prototype.getData=function(){return this.getProperty(Kt.ATTR_DATA)},Kt.prototype.setData=function(t){return this.setProperty(Kt.ATTR_DATA,t)},Kt.prototype.getPoints=function(){return this.getProperty(Kt.ATTR_POINTS)},Kt.prototype.setPoints=function(t){this.setProperty(Kt.ATTR_POINTS,t)},Kt.prototype.getClosureType=function(){return this.getProperty(Kt.ATTR_CLOSURE_TYPE)},Kt.prototype.setClosureType=function(t){this.setProperty(Kt.ATTR_CLOSURE_TYPE,t)},Kt.prototype.getAngles=function(){return this.getProperty(Kt.ATTR_ANGLES)},Kt.prototype.setAngles=function(t){return this.setProperty(Kt.ATTR_ANGLES,t)},Kt.prototype.getBorderColor=function(){return this.getProperty(Kt.ATTR_BORDER_COLOR)},Kt.prototype.setBorderColor=function(t){this.setProperty(Kt.ATTR_BORDER_COLOR,t)},Kt.prototype.getLineWidth=function(){return this.getProperty(Kt.ATTR_LINE_WIDTH)},Kt.prototype.setLineWidth=function(t){this.setProperty(Kt.ATTR_LINE_WIDTH,t)},Kt.prototype.getFillColor=function(){return this.getProperty(Kt.ATTR_FILL_COLOR)},Kt.prototype.setFillColor=function(t){this.setProperty(Kt.ATTR_FILL_COLOR,t)},Kt.prototype.getFillPattern=function(){return this.getProperty(Kt.ATTR_FILL_PATTERN)},Kt.prototype.setFillPattern=function(t){this.setProperty(Kt.ATTR_FILL_PATTERN,t)},Kt.prototype.getFillGradient=function(){return this.getProperty(Kt.ATTR_FILL_GRADIENT)},Kt.prototype.setFillGradient=function(t){this.setProperty(Kt.ATTR_FILL_GRADIENT,t)},Kt.prototype.getGradColors=function(){var t=this.getProperty(Kt.ATTR_FILL_GRAD_COLORS),e=t.split(",");return e},Kt.prototype.getGradStops=function(){var t=this.getProperty(Kt.ATTR_FILL_GRAD_STOPS),e=t.split(",");return i.toFloat(e),e},Kt.prototype.getGradBounds=function(){var t=this.getProperty(Kt.ATTR_FILL_GRAD_BOUNDS),e=t.split(",");return i.toFloat(e),e},Kt.prototype.getGradDir=function(){return this.getProperty(Kt.ATTR_FILL_GRAD_DIR)},Kt.prototype.getGradRadius=function(){return this.getProperty(Kt.ATTR_FILL_GRAD_RADIUS)},Kt.prototype.getGradRadiusX=function(){return this.getProperty(Kt.ATTR_FILL_GRAD_RADIUSX)},Kt.prototype.getGradRadiusY=function(){return this.getProperty(Kt.ATTR_FILL_GRAD_RADIUSY)},Kt.prototype.getGradCx=function(){return this.getProperty(Kt.ATTR_FILL_GRAD_CX)},Kt.prototype.getGradCy=function(){return this.getProperty(Kt.ATTR_FILL_GRAD_CY)},Kt.prototype.getTransform=function(){return this.getProperty(Kt.ATTR_TRANSFORM)},Kt.prototype.setTransform=function(t){return this.setProperty(Kt.ATTR_TRANSFORM,t)};var zt=function(){this.Init()};e.createSubclass(zt,Tt,"DvtMarkerDef"),zt.MARKER_DEF="markerDef",zt.MARKER_DEF_CIRCLE="c",zt.MARKER_DEF_ELLIPSE="o",zt.MARKER_DEF_LINE="l",zt.MARKER_DEF_PATH="p",zt.MARKER_DEF_POLYGON="pg",zt.MARKER_DEF_POLYLINE="pl",zt.MARKER_DEF_RECT="r",zt.ATTR_ELEMENTS="elements",zt.ATTR_BORDER_COLOR="bc",zt.ATTR_LINE_WIDTH="lw",zt.ATTR_FILL_COLOR="fc",zt.ATTR_FILL_PATTERN="fp",zt.ATTR_FILL_GRADIENT="fg",zt.BI_DEFAULT_MARKER_SIZE=9,zt.HUMAN_CMDS="M 38.07,36.467856 q 13.414,0 13.414,-13.406 l 0,-9.258 q 0,-13.4039999 -13.414,-13.4039999 -13.414,0 -13.414,13.4039999 l 0,9.258 q 0,13.406 13.414,13.406 l 0,0 z m 16.219,7.275 -32.435999,0 q -10.139552,0 -15.9400009,7.443875 Q 0.5,58.133383 0.5,69.156856 l 0,54.396004 12.746001,0 0,-51.609004 q 0,-2.824 0.793,-2.824 0.742,0 0.742,2.709 l 0,124.267994 q 0,2.82401 2.823999,2.82401 l 12.531,0 q 2.824,0 2.824,-2.824 l 0,-66.25 10.219,0 0,66.25 q 0,2.824 2.824,2.824 l 12.528,0 q 2.825,0 2.825,-2.824 l 0,-124.268004 q 0,-2.709 0.839,-2.709 0.792,0 0.792,2.824 l 0,51.609004 12.65,0 0,-54.396004 Q 75.6386,58.132927 70.227626,51.186731 64.428999,43.742856 54.289,43.742856 l 0,0 z",zt.HUMAN2_CMDS="M 306.40625 386.78125 C 304.19988 386.78125 302.40625 389.07579 302.40625 391.90625 C 302.40625 394.73671 304.19988 397.03125 306.40625 397.03125 C 308.61263 397.03125 310.40625 394.73671 310.40625 391.90625 C 310.40625 389.07579 308.61263 386.78125 306.40625 386.78125 z M 301.78125 396.0625 C 300.43025 397.2945 298.28125 400.28125 298.90625 403.15625 C 302.41725 405.79925 309.20225 406.154 314.03125 403 C 314.21825 399.828 312.68325 397.5635 310.90625 396.0625 C 308.65625 400.7185 304.28125 399.7815 301.78125 396.0625 z ",zt.SHAPE_STAR_CMDS=[-50,-11.22,-16.69,-17.94,0,-47.55,16.69,-17.94,50,-11.22,26.69,13.8,30.9,47.56,0,33.42,-30.9,47.56,-26.69,13.8],zt.prototype.Init=function(){zt.superclass.Init.call(this)},zt.prototype.getBorderColor=function(){return this.getProperty(zt.ATTR_BORDER_COLOR)},zt.prototype.setBorderColor=function(t){this.setProperty(zt.ATTR_BORDER_COLOR,t)},zt.prototype.getLineWidth=function(){return this.getProperty(zt.ATTR_LINE_WIDTH)},zt.prototype.setLineWidth=function(t){this.setProperty(zt.ATTR_LINE_WIDTH,t)},zt.prototype.getFillColor=function(){return this.getProperty(zt.ATTR_FILL_COLOR)},zt.prototype.setFillColor=function(t){this.setProperty(zt.ATTR_FILL_COLOR,t)},zt.prototype.getFillPattern=function(){return this.getProperty(zt.ATTR_FILL_PATTERN)},zt.prototype.setFillPattern=function(t){this.setProperty(zt.ATTR_FILL_PATTERN,t)},zt.prototype.getFillGradient=function(){return this.getProperty(zt.ATTR_FILL_GRADIENT)},zt.prototype.setFillGradient=function(t){this.setProperty(zt.ATTR_FILL_GRADIENT,t)},zt.prototype.getDimensions=function(){var t=this.getProperty("dx"),e=this.getProperty("dy"),i=this.getProperty("dw"),n=this.getProperty("dh");return i&&n?new gt(t,e,i,n):null},zt.prototype.getElements=function(){return this.getProperty(zt.ATTR_ELEMENTS)},zt.prototype.addElement=function(t){var e=this.getElements();e||(e=[],this.setProperty(zt.ATTR_ELEMENTS,e)),e.push(t)};var Xt=function(){};e.createSubclass(Xt,e,"DvtMarkerGradient"),Xt.createMarkerGradient=function(t,e,i){var n=[],r=[],o=[i,i,i,i],s=null,a=e.getType(),l=Yt.getDimForced(e.getCtx(),e),u=l.getCenter(),h=Math.min(l.w,l.h);if(a!=ue.HUMAN){r=[0,.5,.75,1];var c=X.getPastel(t,.2),p=X.getPastel(t,.1),d=X.getDarker(t,.8),g=h/2,f=u.x,_=u.y,n=[X.getPound(c),X.getPound(p),t,X.getPound(d)],v=new gt(-g,-g,2*g,2*g),m=[v.x,v.y,v.w,v.h];s=new lt(n,o,r,f,_,g,m)}else{r=[0,.3,.7,1];var c=X.getPastel(t,.2),p=X.getDarker(t,.9),d=X.getDarker(t,.8),n=[X.getPound(c),X.getPound(p),t,X.getPound(d)],v=new gt(-h/2,-h/2,h,h),m=[v.x,v.y,v.w,v.h];s=new ot(135,n,o,r,m)}return s};var qt={_cache:{}};e.createSubclass(qt,e,"DvtMarkerUtils"),qt.createMarkerDef=function(t,e){var i=new zt;i.setProperties(e.getAttributes());for(var n,r=e.getChildNodes(),o=0;o<r.length;o++){var s=r[o];s&&(n=new Kt,"fillDef"==s.getName()&&s.getChildNodes()&&(s=s.getChildNodes()[0]),n.setProperties(s.getAttributes()),n.setShape(s.getName()),i.addElement(n))}return i&&this._addMarkerDef(t,i),i},qt._addMarkerDef=function(t,e){var i=t.getStage().getId(),n=e.getId(),r=qt.getMarkerList(i);if(!r[n]){var o=this.createMultiPaths(t,e,n);if(o){o.setId("custom"+n),r[n]=o;var s=e.getDimensions();s&&Yt._setDimForced(o,s)}}},qt.getMarkerList=function(t){return this._cache[t]||(this._cache[t]={}),this._cache[t]},qt.createMarkerShape=function(t,e,i,n){var r,o=e.getShape();return o==zt.MARKER_DEF_PATH&&(r=this.createPathMarker(t,e,n)),r&&qt.setCommonAttrs(e,i,r),r},qt.createMultiPaths=function(t,e,i){var n=e.getElements();if(!n||0==n.length)return null;var r;if(1==n.length)r=qt.createMarkerShape(t,n[0],e,i);else{r=new te(t,i);for(var o,s,a=0;a<n.length;a++)o=n[a],s=qt.createMarkerShape(t,o,e,i+"_"+a),s&&r.addChild(s)}return r},qt.createCircleMarker=function(t,e,i,n){var r,o=e.getPoints(),s=o[0],a=o[1],l=o[2];n==zt.MARKER_DEF_ELLIPSE&&(r=o[3]);var u,h=e.getClosureType();if(h){var c,p,d=e.getAngles();d&&(c=d[0],p=d[1]),u=new oe(t,s,a,l,r,c,p,h,i)}else u=new se(t,s,a,l,i);return u},qt.createRectMarker=function(t,e,i){var n=e.getPoints(),r=n[0],o=n[1],s=n[2],a=n[3];return new _e(t,r,o,s,a,i)},qt.createLineMarker=function(t,e,i){var n=e.getPoints(),r=n[0],o=n[1],s=n[2],a=n[3];return new le(t,r,o,s,a,i)},qt.createPathMarker=function(t,e,i){var n=e.getData();return new de(t,n,i)},qt.createPolygoneMarker=function(t,e,i){var n=e.getPoints();return new ge(t,n,i)},qt.createPolylineMarker=function(t,e,i){var n=e.getPoints();return new fe(t,n,i)},qt.setCommonAttrs=function(t,e,i){var n=t.getFillColor(),r=null,o=t.getFillGradient(),s=t.getFillPattern();
if(s)i.setFill(new at(s,n));else if(o){for(var a,l=e.getElements(),u=l.length,h=0;u>h;h++){var c=l[h];if("g"==c.getShape()&&c.getId()==o){a=c;break}}var p,d,g,f,_,v;if(a)if(n=a.getGradColors(),p=a.getGradStops(),d=a.getGradBounds(),g=a.getGradDir(),g==Kt.ATTR_FILL_GRAD_DIR_RADIAL){if(f=parseFloat(a.getGradCx()),_=parseFloat(a.getGradCy()),v=parseFloat(a.getGradRadius()),!v){var m=parseFloat(a.getGradRadiusX()),y=parseFloat(a.getGradRadiusY());v=Math.max(m,y)}i.setFill(new lt(n,r,p,f,_,v,d))}else{var S=0;g==Kt.ATTR_FILL_GRAD_DIR_45?S=-135:g==Kt.ATTR_FILL_GRAD_DIR_135?S=-45:g==Kt.ATTR_FILL_GRAD_DIR_DOWN&&(S=-90),i.setFill(new ot(S,n,r,p,d))}else i.setFill(new ot(0,["#000","#fff"]))}else(n||r)&&i.setSolidFill(n,r);var E=parseFloat(t.getLineWidth()),T=t.getBorderColor();if(E||T){E||(E=1),T||(T="black");var b=new it(T,1,E);i.setStroke(b)}},qt.getCustomMarkerInfo=function(t,e){var i=t.getStage().getId(),n=qt.getMarkerList(i);return n?n[e]:void 0},qt.getBuiltinMarkerInfo=function(t,e,i){var n=t.getStage().getId(),r=qt.getMarkerList(n),o=i?e+"_"+i:e,s=r[o];if(!s&&e){var a=new de(t,Ae.afterSkinAlta(i)?zt.HUMAN2_CMDS:zt.HUMAN_CMDS,"dvtHuman");Yt.getDimForced(t,a),r[o]=a}return r[o]},qt.clearCached=function(t){var e=t.getStage().getId();this._cache[e]=void 0};var Zt={};e.createSubclass(Zt,e,"DvtPolygonUtils"),Zt.getDimensions=function(t){if(!t||0===t.length)return new gt;for(var e,i,n=Number.MAX_VALUE,r=Number.MIN_VALUE,o=Number.MAX_VALUE,s=Number.MIN_VALUE,a=t.length,l=0;a>l;l++)e=t[l++],i=t[l],n=Math.min(n,e),r=Math.max(r,e),o=Math.min(o,i),s=Math.max(s,i);return new gt(n,o,Math.abs(r-n),Math.abs(s-o))},Zt.getRegularPolygonPoints=function(t,e,i,n,r,o){for(var s,a=[],l=0;i>l;l++)s=r+l/i*2*Math.PI*(0==o?-1:1),a.push(t+n*Math.sin(s),e-n*Math.cos(s));return a},Zt.scale=function(t,e,i){for(var n=[],r=0;r<t.length-1;r+=2)n.push(t[r]*e),n.push(t[r+1]*i);return n},Zt.translate=function(t,e,i){for(var n=[],r=0;r<t.length-1;r+=2)n.push(t[r]+e),n.push(t[r+1]+i);return n};var $t={};e.createSubclass($t,e,"DvtTextUtils"),$t._cachedTextDimensions={},$t.EMPTY_TEXT_BUFFER=2,$t.getMaxTextDimensions=function(t){for(var e=0,i=0,n=0;n<t.length;n++)if(null!=t[n]){var r=t[n].getDimensions();e=Math.max(e,r.w),i=Math.max(i,r.h)}return new ct(e,i)},$t.getTextStringDimensions=function(t,e,i){var n=ve.getCachedDimensions(e,i);if(null!=n)return n;var r=new ve(t,e);return r.setCSSStyle(i),r.getDimensions()},$t.getTextWidth=function(t){return t.getDimensions().w},$t.getTextStringWidth=function(t,e,i){return $t.getTextStringDimensions(t,e,i).w},$t.getTextHeight=function(t){return $t.guessTextDimensions(t).h},$t.getTextStringHeight=function(t,e){var i=null!=e?e.hashCodeForTextMeasurement():"",n=$t._cachedTextDimensions[i];if(null==n){var r=new ve(t);r.setCSSStyle(e),n=$t._cacheRepresentativeDimensions(r,i)}return n.h},$t.guessTextDimensions=function(t,e){var i=t.getTextString(),n=t.getCSSStyle(),r=null!=n?n.hashCodeForTextMeasurement():"",o=$t._cachedTextDimensions[r];null==o&&(o=$t._cacheRepresentativeDimensions(t,r));var s=o.w*$t._getTextLength(i);e=isNaN(e)||null==e?1:e;var a=Math.min(.3*s,o.w*(.3*e+2));return t instanceof ye||t instanceof Se?{w:s,h:o.h*t.getLineCount(),wMin:a}:{w:s,h:o.h,wMin:a}},$t.fitText=function(t,e,i,n,r){r=isNaN(r)||null==r?1:r;var o=t.getTextString(),s=$t._guessFit(t,e,i,n,r);if(1==s)return n.addChild(t),!0;if(0==s){var a=t.getParent();return a&&a.removeChild(t),!1}return n.addChild(t),t instanceof ye||t instanceof Se?t.__fitText(e,i,r):(t instanceof ve||t instanceof me?$t._truncateOutputText(t,e,r):t.setMaxWidth(e,r),""==t.getTextString()?(n.removeChild(t),!1):(t.getTextString()!=o&&t.setUntruncatedTextString(o),!0))},$t.renderEmptyText=function(t,e,i,n,r){var o=new ve(t.getCtx(),e,i.x+i.w/2,i.y+i.h/2);r&&o.setCSSStyle(r),o.alignCenter(),o.alignMiddle();var s=i.w-2*$t.EMPTY_TEXT_BUFFER;return $t.fitText(o,s,1/0,t,0)&&(o.isTruncated()&&n.associate(o,new Xe(o.getUntruncatedTextString())),o.setAriaProperty("hidden",null)),o},$t._cacheRepresentativeDimensions=function(t,e){var i=t.getTextString();t.setTextString(ve.REPRESENTATIVE_TEXT);var n=t.measureDimensions();t.setTextString(i);var r={w:.5*n.w,h:n.h};return $t._cachedTextDimensions[e]=r,r},$t.centerTextVertically=function(t,e){if(qe.isPlatformIE())t.setY(e),t.alignMiddle();else{var i=0;t instanceof ve?i=$t.getTextHeight(t):t instanceof ye&&(i=t.getDimensions().h),t.setY(e-i/2)}},$t._guessFit=function(t,e,i,n,r){if(t instanceof ye)return null;var o=$t.guessTextDimensions(t,r);return o.h>i||o.wMin>e&&$t._getTextLength(t.getTextString())>3?!1:o.w<e?!0:null},$t._truncateOutputText=function(t,e,i){var n=t.measureDimensions();if(!(n.w<=e)){var r=t.getTextString(),o=r.length,s=n.w/$t._getTextLength(r),a=Math.max(Math.floor(e/s)-2,i),l=r.substring(0,a)+ve.ELLIPSIS;t.setTextString(l),n=t.measureDimensions();for(var u=l,h=n;n.w<e&&!(a>=r.length);){var c=e-n.w,p=Math.min(o-a,Math.max(Math.floor(c/s),1));if(a+=p,l=r.substring(0,a)+ve.ELLIPSIS,t.setTextString(l),n=t.measureDimensions(),1==p&&n.w>e){t.setTextString(u),n=h;break}u=l,h=n}for(;n.w>e;){if(i>=a){t.setTextString("");break}a-=1,l=r.substring(0,a)+ve.ELLIPSIS,t.setTextString(l),n=t.measureDimensions()}}},$t._getTextLength=function(t){return t=t.replace(/[\u200A\u200B\u200C\u200D\u200E\u200F\uFEFF]/g,""),t.length};var Jt=function(){};e.createSubclass(Jt,e,"DvtSvgShapeUtils"),Jt._uniqueSeed=0,Jt.addClipPath=function(t,e){var i=t.getId();if(!i)return!1;var n=e.getDefs();if(!n)return!1;for(var r=n.childNodes,o=r.length,s=0;o>s;s++){var a=r[s];if(a.id===i)return!0}var l=Jt.createElement("clipPath",i);e.appendDefs(l);for(var u=t.getRegions(),s=0;s<u.length;s++){var h=u[s];if(h){var c=null;h.type===q.RECT?(c=Jt.createElement("rect"),Gi.setAttrNullNS(c,"x",h.x),Gi.setAttrNullNS(c,"y",h.y),Gi.setAttrNullNS(c,"width",h.w),Gi.setAttrNullNS(c,"height",h.h),h.rx&&Gi.setAttrNullNS(c,"rx",h.rx),h.ry&&Gi.setAttrNullNS(c,"ry",h.ry)):h.type===q.PATH?(c=Jt.createElement("path"),Gi.setAttrNullNS(c,"d",h.d)):h.type===q.POLYGON?(c=Jt.createElement("polygon"),Gi.setAttrNullNS(c,"points",h.points)):h.type===q.ELLIPSE?(c=Jt.createElement("ellipse"),Gi.setAttrNullNS(c,"cx",h.cx),Gi.setAttrNullNS(c,"cy",h.cy),Gi.setAttrNullNS(c,"rx",h.rx),Gi.setAttrNullNS(c,"ry",h.ry)):h.type===q.CIRCLE&&(c=Jt.createElement("circle"),Gi.setAttrNullNS(c,"cx",h.cx),Gi.setAttrNullNS(c,"cy",h.cy),Gi.setAttrNullNS(c,"r",h.r)),c&&Gi.appendChildElem(l,c)}}return!0},Jt.addMask=function(t,e){var i=t.getId();if(!i)return!1;var n=e.getDefs();if(!n)return!1;for(var r=n.childNodes,o=r.length,s=0;o>s;s++){var a=r[s];if(a.id===i)return!0}var l=Jt.createElement("mask",i);e.appendDefs(l);var u=t.getGradient();Jt.addSpecialFill(u,e);var h=t.getBounds(),c=Jt.createElement("rect");return Gi.setAttrNullNS(c,"x",h.x),Gi.setAttrNullNS(c,"y",h.y),Gi.setAttrNullNS(c,"width",h.w),Gi.setAttrNullNS(c,"height",h.h),Gi.setAttrNullNS(c,"fill",Gi.getUrlById(u.getId())),Gi.appendChildElem(l,c),!0},Jt.addSpecialFill=function(t,e){var i;if(t.isLocked()?i=t.getId():(i=t.getId(),i||(i=t instanceof at?Jt.getUniqueId("pat"):Jt.getUniqueId("Gr"),t.setId(i))),!t._defPresent){var n=t._defElem;n||(t instanceof rt?n=Xi.createElem(t,i):t instanceof st?n=qi.createElem(t,i):t instanceof at&&(n=Zi.createElem(t,i))),t._defElem=n,e.appendDefs(n),t._defPresent=!0}},Jt.addSpecialStroke=function(t,e){var i;if(t.isLocked()?i=t.getId():(i=t.getId(),i||(i=Jt.getUniqueId("Gr"),t.setId(i))),!t._defPresent){var n=t._defElem;n||(n=Xi.createElem(t,i)),t._defElem=n,e.appendDefs(n),t._defPresent=!0}},Jt.createElement=function(t,e){var i=document.createElementNS(Gi.SVG_NS,t);return e&&Gi.setAttrNullNS(i,"id",e),i},Jt.getUniqueId=function(t){return(t?t:"$")+Jt._uniqueSeed++},Jt.convertPointsArray=function(t){for(var e=t.length,i="",n=0;e>n;n++)n>0&&(i+=" "),i+=Gi.roundDecimal(t[n]);return i};var Qt=function(){};e.createSubclass(Qt,e,"DvtDisplayable"),Qt._ATTRS_TRANSFERABLE_TO_OUTER=["clip-path"],Qt._CREATE_EVENT_TYPE_MAP={click:Ot.CLICK,mouseover:Ot.MOUSEOVER,mouseout:Ot.MOUSEOUT,mousemove:Ot.MOUSEMOVE,keydown:xt.KEYDOWN,keyup:xt.KEYUP,keypress:xt.KEYPRESS},Qt.SET_ID_ON_DOM=!1,Qt.prototype.Init=function(t,e,i){this._context=t,this._elem=Jt.createElement(e),this._elem._obj=this,this.setId(i),this._bVisible=!0,this._pixelHinting=!1,this._cursor=null,this._bMouseEnabled=!0,this._alpha=1,this._matrix=null,this._ariaProperties={},this._properties={}},Qt.prototype.getCtx=function(){return this._context},Qt.prototype.getImpl=function(){return this},Qt.prototype.getObj=function(){return this},Qt.prototype.getElem=function(){return this._elem},Qt.prototype.getOuterElem=function(){return this._outerElem?this._outerElem:this.getElem()},Qt.prototype.getId=function(){return this._id},Qt.prototype.setId=function(t,e){this._id!==t&&(t&&0===t.length&&(t=null),this._id=t,(Qt.SET_ID_ON_DOM||e)&&(t?Gi.setAttrNullNS(this.getOuterElem(),"id",t):Gi.removeAttrNullNS(this.getOuterElem(),"id")))},Qt.prototype.getParent=function(){return this._parent},Qt.prototype.setParent=function(t){this._parent=t},Qt.prototype.isDescendantOf=function(t){return t&&this.getParent()?this.getParent()==t?!0:this.getParent().isDescendantOf(t):!1},Qt.prototype.getPixelHinting=function(){return this._pixelHinting},Qt.prototype.setPixelHinting=function(t){this._pixelHinting=t,t?Gi.setAttrNullNS(this._elem,"shape-rendering","crispEdges"):Gi.removeAttrNullNS(this._elem,"shape-rendering")},Qt.prototype.getVisible=function(){return this._bVisible},Qt.prototype.setVisible=function(t){if(this._bVisible!==t){this._bVisible=t;var e=this instanceof ue?this._elem:this.getElem();t?Gi.removeAttrNullNS(e,"visibility"):Gi.setAttrNullNS(e,"visibility","hidden")}},Qt.prototype.setClipPath=function(t){if(t){if(this.ClipPathId==t.getId())return;this.ClipPathId&&this._context.decreaseGlobalDefReference(this.ClipPathId),this.ClipPathId=t.getId(),this._context.increaseGlobalDefReference(this.ClipPathId),!this._outerElem&&this._matrix&&this._createOuterGroupElem();var e=t.getId();if(e){var i=this.getCtx();Jt.addClipPath(t,i)&&Gi.setAttrNullNS(this.getOuterElem(),"clip-path",Gi.getUrlById(e))}}else if(!t&&this.ClipPathId)return this._context.decreaseGlobalDefReference(this.ClipPathId),this.ClipPathId=null,void Gi.removeAttrNullNS(this.getOuterElem(),"clip-path")},Qt.prototype.setMask=function(t){if(t){if(this.MaskId==t.getId())return;this.MaskId&&this._context.decreaseGlobalDefReference(this.MaskId),this.MaskId=t.getId(),this._context.increaseGlobalDefReference(this.MaskId),!this._outerElem&&this._matrix&&this._createOuterGroupElem();var e=t.getId();if(e){var i=this.getCtx();Jt.addMask(t,i)&&Gi.setAttrNullNS(this.getOuterElem(),"mask",Gi.getUrlById(e))}}else if(!t&&this.MaskId)return this._context.decreaseGlobalDefReference(this.MaskId),this.MaskId=null,void Gi.removeAttrNullNS(this.getOuterElem(),"mask")},Qt.prototype.ConvertCoordSpaceRect=function(t,e){if(!e||e===this)return t;var i=this.localToStage(new dt(t.x,t.y)),n=this.localToStage(new dt(t.x+t.w,t.y+t.h)),r=e.stageToLocal(i),o=e.stageToLocal(n);return new gt(r.x,r.y,o.x-r.x,o.y-r.y)},Qt.prototype.GetSvgDimensions=function(){try{var t=this.getElem().getBBox()}catch(e){return qe.isEnvironmentTest()&&print("Error in DvtDisplayable.prototype.GetSvgDimensions: "+e),null}return new gt(t.x,t.y,t.width,t.height)},Qt.prototype.getDimensions=function(t){var e=this.GetSvgDimensions();return this.ConvertCoordSpaceRect(e,t)},Qt.prototype.getDimensionsWithStroke=function(t){var e=this.GetDimensionsWithStroke();return this.ConvertCoordSpaceRect(e,t)},Qt.prototype.GetDimensionsWithStroke=function(t){var e=this.GetElemDimensionsWithStroke();return t&&t!==this?this.ConvertCoordSpaceRect(e,t):e},Qt.prototype.GetElemDimensionsWithStroke=function(){return this.GetSvgDimensions()},Qt.HasAttributes=function(t,e){if(e)for(var i=e.length,n=0;i>n;n++)if(Gi.getAttrNullNS(t,e[n]))return!0;return!1},Qt.TransferAttributes=function(t,e,i){if(i)for(var n,r,o=i.length,s=0;o>s;s++)n=i[s],r=Gi.getAttrNullNS(t,n),r&&(Gi.removeAttrNullNS(t,n),Gi.setAttrNullNS(e,n,r),qe.isPlatformIE()&&Gi.setAttrNullNS(t,n,null))},Qt.prototype._createOuterGroupElem=function(){if(!this._outerElem){var t=this._id?this._id+"_outer":null;this._outerElem=Jt.createElement("g",t);var e=this.getParent();if(e){var i=e.getElem();i.replaceChild(this._outerElem,this.getElem())}Gi.appendChildElem(this._outerElem,this.getElem()),Qt.TransferAttributes(this.getElem(),this._outerElem,Qt._ATTRS_TRANSFERABLE_TO_OUTER)}},Qt.prototype.getCSSStyle=function(){return this._cssStyle},Qt.prototype.setCSSStyle=function(t){this._cssStyle=t},Qt.prototype.setCursor=function(t){this._cursor=t,qe.isEnvironmentBatik()||(t?Gi.setAttrNullNS(this.getElem(),"cursor",t):Gi.removeAttrNullNS(this.getElem(),"cursor"))},Qt.prototype.getCursor=function(){return this._cursor},Qt.prototype.setMouseEnabled=function(t){this._bMouseEnabled=t;var e=t?"visiblePainted":"none";Gi.setAttrNullNS(this.getElem(),"pointer-events",e)},Qt.prototype.isMouseEnabled=function(){return this._bMouseEnabled},Qt.prototype.getAlpha=function(){return this._alpha},Qt.prototype.setAlpha=function(t){1e-5>t&&(t=0),t!==this._alpha&&(this._alpha=t,Gi.setAttrNullNS(this.getElem(),"opacity",this._alpha,1))},Qt.prototype.applyAriaProperties=function(){if(qe.deferAriaCreation()){this._ariaRole&&this._setAriaRole(this._ariaRole);for(var t in this._ariaProperties)this._setAriaProperty(t,this._ariaProperties[t])}},Qt.prototype.setAriaRole=function(t){qe.deferAriaCreation()||this._setAriaRole(t),this._ariaRole=t},Qt.prototype._setAriaRole=function(t){var e=this.GetAriaElem();t?Gi.setAttrNullNS(e,"role",t):Gi.removeAttrNullNS(e,"role")},Qt.prototype.getAriaRole=function(){return this._ariaRole},Qt.prototype.GetAriaElem=function(){return this.getElem()},Qt.prototype.setAriaProperty=function(t,e){t&&(qe.deferAriaCreation()||this._setAriaProperty(t,e),this._ariaProperties[t]=e)},Qt.prototype._setAriaProperty=function(t,e){var i=this.GetAriaElem();null!=e&&""!==e?("label"==t&&(e=n.processAriaLabel(e)),Gi.setAttrNullNS(i,"aria-"+t,e)):Gi.removeAttrNullNS(i,"aria-"+t)},Qt.prototype.getAriaProperty=function(t){return t?this._ariaProperties[t]:null},Qt.prototype.stageToLocal=function(t){for(var e,i=this.getPathToStage(),n=t,r=i.length-1;r>=0;r--)e=i[r].getMatrix().clone(),e.invert(),n=e.transformPoint(n);return n},Qt.prototype.localToStage=function(t){for(var e,i=this.getPathToStage(),n=t,r=0;r<i.length;r++)e=i[r].getMatrix(),n=e.transformPoint(n);return n},Qt.prototype.getPathToStage=function(){for(var t=this,e=[];t;)e.push(t),t=t.getParent();return e},Qt.prototype.destroy=function(){this.removeAllDrawEffects(),this.ClipPathId&&this.setClipPath(null)},Qt.prototype.createCopy=function(){var t=new te(this.getCtx(),"clonedContainer"),e=this.getElem().cloneNode(!0);return Gi.appendChildElem(t.getElem(),e),this._disableEvents(e),t},Qt.prototype._disableEvents=function(t){for(var e=t.firstChild;null!=e;)e.setAttributeNS&&(Gi.setAttrNullNS(e,"pointer-events","none"),Gi.setAttrNullNS(e,"id",null)),this._disableEvents(e),e=e.nextSibling},Qt.prototype.dispatchNativeEvent=function(t){},Qt.prototype.GetProperty=function(t){return this._properties[t]},Qt.prototype.SetProperty=function(t,e){return e!==this._properties[t]&&(this._properties[t]=e),this},Qt.prototype.SetSvgProperty=function(t,e,i){return e!==this._properties[t]&&(this._properties[t]=e,Gi.setAttrNullNS(this._elem,t,e,i),this.SvgPropertyChanged(t)),this},Qt.prototype.SvgPropertyChanged=function(t){},Qt.generateAriaLabel=function(t,e){var i="",n=e&&e.length>0;if(t){var r=Ze.getTranslatedString(Ze.UTIL_PREFIX,"ARIA_LABEL_DESC_DELIMITER");i=t,n&&(i+=r)}if(n)for(var o=Ze.getTranslatedString(Ze.UTIL_PREFIX,"ARIA_LABEL_STATE_DELIMITER"),s=0;s<e.length;s++)i+=e[s],s!=e.length-1&&(i+=o);return i},Qt.prototype.getNumDrawEffects=function(){return this._drawEffects?this._drawEffects.length:0},Qt.prototype.addDrawEffect=function(t){this._drawEffects||(this._drawEffects=[]),t.__lock(),this._drawEffects.push(t),this._applyDrawEffects(this._drawEffects)},Qt.prototype.addDrawEffectAt=function(t,e){this._drawEffects||(this._drawEffects=[]),t.__lock(),e>=this._drawEffects.length?this._drawEffects.push(t):this._drawEffects.splice(e,0,t),this._applyDrawEffects(this._drawEffects)},Qt.prototype.removeDrawEffect=function(t){var e=this.getDrawEffectIndex(t);e>-1&&(this._drawEffects.splice(e,1),this._applyDrawEffects(this._drawEffects))},Qt.prototype.removeDrawEffectAt=function(t){if(this._drawEffects){var e=this._drawEffects.length;t>=0&&e>t&&(this._drawEffects.splice(t,1),this._applyDrawEffects(this._drawEffects))}},Qt.prototype.removeAllDrawEffects=function(){this._drawEffects&&(this._drawEffects=null,this._applyDrawEffects(this._drawEffects))},Qt.prototype.getDrawEffectIndex=function(t){if(this._drawEffects)for(var e=this._drawEffects.length,i=0;e>i;i++)if(t===this._drawEffects[i])return i;return-1},Qt.prototype._applyDrawEffects=function(){var t=this._drawEffects;if(this._filter&&(Gi.removeAttrNullNS(this.getOuterElem(),"filter"),this.getCtx().removeDefs(this._filter),this._filter=null),!this._outerElem&&this._matrix&&this._createOuterGroupElem(),t&&t.length>0&&(this._filter=zi.createFilter(t,this),this._filter)){this.getCtx().appendDefs(this._filter);var e=Gi.getAttrNullNS(this._filter,"id");Gi.setAttrNullNS(this.getOuterElem(),"filter",Gi.getUrlById(e))}},Qt.prototype.addEvtListener=function(t,e,i,n){var r=this._getListeners(t,i,!0);r.push(e),r.push(n),this._addListener(t,i)},Qt.prototype.removeEvtListener=function(t,e,i,n){var r=this._getListeners(t,i,!1);if(r)for(var o=0;o<r.length;o+=2)if(r[o]===e&&r[o+1]===n){r.splice(o,2);break}r&&r.length<=0&&this._removeListener(t,i)},Qt.prototype.dispatchDisplayableEvent=function(t,e){var i,n=Qt._CREATE_EVENT_TYPE_MAP[t];if(Ot.CLICK==n||Ot.MOUSEOVER==n||Ot.MOUSEOUT==n||Ot.MOUSEMOVE==n){if(document.createEvent){i=this.getCtx();var r=this.getDimensions(),o=this.localToStage(new dt(r.x,r.y)),s=i.getStageAbsolutePosition(),a=new dt(s.x+o.x,s.y+o.y),l=document.createEvent("MouseEvents");l.initMouseEvent(n,!0,!0,window,1,a.x,a.y,a.x,a.y,!1,!1,!1,!1,0,null),this.getElem().dispatchEvent(l)}}else if((xt.KEYDOWN==n||xt.KEYUP==n||xt.KEYPRESS==n)&&document.createEvent){var u,h=document.createEvent("KeyboardEvent");e instanceof xt?(u=e.keyCode,this._ctrlKeyPressed=e.ctrlKey,this._shiftKeyPressed=e.shiftKey):(u=parseInt(e),void 0===this._ctrlKeyPressed&&(this._ctrlKeyPressed=!1),void 0===this._shiftKeyPressed&&(this._shiftKeyPressed=!1),u==xt.CONTROL?this._ctrlKeyPressed&&n==xt.KEYUP?this._ctrlKeyPressed=!1:this._ctrlKeyPressed||n!=xt.KEYDOWN||(this._ctrlKeyPressed=!0):u==xt.SHIFT&&(this._shiftKeyPressed&&n==xt.KEYUP?this._shiftKeyPressed=!1:this._shiftKeyPressed||n!=xt.KEYDOWN||(this._shiftKeyPressed=!0))),"undefined"!=typeof h.initKeyboardEvent?h.initKeyboardEvent(n,!0,!0,window,this._ctrlKeyPressed,!1,this._shiftKeyPressed,!1,u,u):h.initKeyEvent(n,!0,!0,window,this._ctrlKeyPressed,!1,!1,this._shiftKeyPressed,u,u);var c=jt.newEvent(h);c.keyCode=u,c.ctrlKey=this._ctrlKeyPressed,c.shiftKey=this._shiftKeyPressed,i=this.getCtx();var p=i.getStage(),d=p.getSVGRoot().parentNode;mi._bubbleListener.call(d,c)}},Qt.prototype.AddElemListener=function(t,e,i){Gi.addDomEventListener(this.getElem(),t,e,i),t==Mt.TOUCHEND&&Gi.addDomEventListener(this.getElem(),Mt.TOUCHCANCEL,e,i)},Qt.prototype.FireListener=function(t,e){var i=t.getType?t.getType():t.type,n=this._getListeners(i,e,!1);if(n)for(var r=0;r<n.length;r+=2){var o=n[r+1];n[r]&&n[r].call(o,t)}},Qt.prototype.fireKeyboardListener=function(t,e){this.FireListener(t,e)},Qt.prototype._getListeners=function(t,e,i){if(!this._listenerObj){if(!i)return null;this._listenerObj={}}var n=t+"_"+!!e,r=this._listenerObj[n];return!r&&i&&(r=[],this._listenerObj[n]=r),r},Qt.prototype._addListener=function(t,e){var n=this._getListener(e);if(t==xt.KEYUP||t==xt.KEYDOWN||t==xt.KEYPRESS||t==It.FOCUS||t==It.FOCUSIN||t==It.FOCUSOUT||t==It.BLUR){var r=this.getCtx(),o=r.getStage(),s=o.getSVGRoot().parentNode;if(!s)return;s._obj||(s._obj=[]),-1==i.getIndex(s._obj,this)&&s._obj.push(this),n=mi.getListener(e),Gi.addDomEventListener(s,t,n,e)}else this.AddElemListener(t,n,e)},Qt.prototype._removeListener=function(t,e){var n=this._getListener(e);if(t==xt.KEYUP||t==xt.KEYDOWN||t==xt.KEYPRESS||t==It.FOCUS||t==It.FOCUSIN||t==It.FOCUSOUT||t==It.BLUR){var r=this.getCtx().getStage().getSVGRoot().parentNode;Gi.removeDomEventListener(r,t,n,e);var o=i.getIndex(r._obj,this);-1!==o&&r._obj.splice(o,1)}else Gi.removeDomEventListener(this.getElem(),t,n,e)},Qt.prototype._getListener=function(t){var e=this;return t?(this._captureClosure||(this._captureClosure=function(t){e._captureListener(t)}),this._captureClosure):(this._bubbleClosure||(this._bubbleClosure=function(t){e._bubbleListener(t)}),this._bubbleClosure)},Qt.prototype._bubbleListener=function(t){if(qe.isPlatformIE())if(t.type==Ot.MOUSEOVER){if(this._bubbleHoverItem){if(this._bubbleHoverItem==t.target)return;var e=jt.newEvent(t,this.getCtx());e.modifyEventForIE(Ot.MOUSEOUT,this._bubbleHoverItem),this.FireListener(e,!1)}this._bubbleHoverItem=t.target}else t.type==Ot.MOUSEOUT&&(this._bubbleHoverItem=null);var e=jt.newEvent(t,this.getCtx());this.FireListener(e,!1)},Qt.prototype._captureListener=function(t){if(qe.isPlatformIE())if(t.type==Ot.MOUSEOVER){if(this._captureHoverItem){if(this._captureHoverItem==t.target)return;var e=jt.newEvent(t,this.getCtx());e.modifyEventForIE(Ot.MOUSEOUT,this._captureHoverItem),this.FireListener(e,!0)}this._captureHoverItem=t.target}else t.type==Ot.MOUSEOUT&&(this._captureHoverItem=null);var e=jt.newEvent(t,this.getCtx());this.FireListener(e,!0)},Qt.prototype.getFill=function(){return this.GetProperty("fill")},Qt.prototype.setFill=function(t){if(this._manageDefinitions(this.GetProperty("fill"),t),!t)return Gi.setAttrNullNS(this._elem,"fill","none"),Gi.removeAttrNullNS(this._elem,"fill-opacity"),void this.SetProperty("fill",null);if(this.GetProperty("fill")!==t){if(this.SetProperty("fill",t),t instanceof rt||t instanceof st||t instanceof at)Jt.addSpecialFill(t,this.getCtx()),Gi.setAttrNullNS(this._elem,"fill",Gi.getUrlById(t.getId()));else{var e=X.fixColorForPlatform(t.getColor(),t.getAlpha());e&&e.color&&(Gi.setAttrNullNS(this._elem,"fill",e.color),null!=e.alpha&&Gi.setAttrNullNS(this._elem,"fill-opacity",e.alpha,1))}t.__lock(),this.UpdateSelectionEffect()}},Qt.prototype.setSolidFill=function(t,e){this.setFill(new J(t,e))},Qt.prototype.setInvisibleFill=function(){this.setFill(J.invisibleFill())},Qt.prototype.getStroke=function(){return this._stroke},Qt.prototype.setStroke=function(t){if(this._manageDefinitions(this._stroke,t),this._stroke=t,!t)return Gi.removeAttrNullNS(this._elem,"stroke"),Gi.removeAttrNullNS(this._elem,"stroke-opacity"),Gi.removeAttrNullNS(this._elem,"stroke-width"),Gi.removeAttrNullNS(this._elem,"stroke-dasharray"),Gi.removeAttrNullNS(this._elem,"stroke-dashoffset"),Gi.removeAttrNullNS(this._elem,"stroke-linejoin"),Gi.removeAttrNullNS(this._elem,"stroke-linecap"),void Gi.removeAttrNullNS(this._elem,"stroke-miterlimit");if(t instanceof tt){Jt.addSpecialStroke(t,this.getCtx()),Gi.setAttrNullNS(this._elem,"stroke",Gi.getUrlById(t.getId()));var e=t.getAlpha();null!=e&&Gi.setAttrNullNS(this._elem,"stroke-opacity",e)}else{var i=X.fixColorForPlatform(t.getColor(),t.getAlpha());i&&i.color?(Gi.setAttrNullNS(this._elem,"stroke",i.color),null!=i.alpha&&Gi.setAttrNullNS(this._elem,"stroke-opacity",i.alpha,1)):(Gi.removeAttrNullNS(this._elem,"stroke"),Gi.removeAttrNullNS(this._elem,"stroke-opacity"))}Gi.setAttrNullNS(this._elem,"stroke-width",t.getWidth(),1),t.isFixedWidth()&&Gi.setAttrNullNS(this._elem,"vector-effect","non-scaling-stroke");var n=t.getType();n!==Q.SOLID?(Gi.setAttrNullNS(this._elem,"stroke-dasharray",t.getDash()),t.getDashOffset()&&Gi.setAttrNullNS(this._elem,"stroke-dashoffset",t.getDashOffset())):(Gi.removeAttrNullNS(this._elem,"stroke-dasharray"),Gi.removeAttrNullNS(this._elem,"stroke-dashoffset"));var r=t.getLineJoin();r&&Gi.setAttrNullNS(this._elem,"stroke-linejoin",r),r=t.getLineEnd(),r&&Gi.setAttrNullNS(this._elem,"stroke-linecap",r),r=t.getMiterLimit(),r&&Gi.setAttrNullNS(this._elem,"stroke-miterlimit",r),t.__lock()},Qt.prototype.setSolidStroke=function(t,e,i){this.setStroke(new it(t,e,i))},Qt.prototype._manageDefinitions=function(t,e){t!=e&&(t&&(t._referenceCount--,0==t._referenceCount&&t._defElem&&(this.getCtx().removeDefs(t._defElem),t._defPresent=!1)),e&&(e._referenceCount||(e._referenceCount=0),e._referenceCount++))},Qt.prototype.setTranslate=function(t,e){var i=this.getMatrix().clone(),n=i._decompose();null!=t&&(n[pt._DECOMP_TX]=t),null!=e&&(n[pt._DECOMP_TY]=e),i._recompose(n),this.setMatrix(i)},Qt.prototype.getTranslateX=function(){var t=this.getMatrix();return t?t._decompose()[pt._DECOMP_TX]:0},Qt.prototype.setTranslateX=function(t){var e=this.getMatrix().clone(),i=e._decompose();i[pt._DECOMP_TX]=t,e._recompose(i),this.setMatrix(e)},Qt.prototype.getTranslateY=function(){var t=this.getMatrix();return t?t._decompose()[pt._DECOMP_TY]:0},Qt.prototype.setTranslateY=function(t){var e=this.getMatrix().clone(),i=e._decompose();i[pt._DECOMP_TY]=t,e._recompose(i),this.setMatrix(e)},Qt.prototype.setScale=function(t,e){var i=this.getMatrix().clone(),n=i._decompose();t&&(n[pt._DECOMP_SX]=t),e&&(n[pt._DECOMP_SY]=e),i._recompose(n),this.setMatrix(i)},Qt.prototype.getScaleX=function(){var t=this.getMatrix();return t?t._decompose()[pt._DECOMP_SX]:1},Qt.prototype.setScaleX=function(t){var e=this.getMatrix().clone(),i=e._decompose();i[pt._DECOMP_SX]=t,e._recompose(i),this.setMatrix(e)},Qt.prototype.getScaleY=function(){var t=this.getMatrix();return t?t._decompose()[pt._DECOMP_SY]:1},Qt.prototype.setScaleY=function(t){var e=this.getMatrix().clone(),i=e._decompose();i[pt._DECOMP_SY]=t,e._recompose(i),this.setMatrix(e)},Qt.prototype.getRotation=function(){var t=this.getMatrix();return t?t._decompose()[pt._DECOMP_R]:0},Qt.prototype.setRotation=function(t){var e=this.getMatrix().clone(),i=e._decompose();i[pt._DECOMP_R]=t,e._recompose(i),this.setMatrix(e)},Qt.prototype.getMatrix=function(){return this._matrix?this._matrix:new pt},Qt.prototype.setMatrix=function(t){if(t&&t.isIdentity()&&(t=null),this._matrix!=t)if(this._matrix=t,this._matrix&&!this._matrix.isLocked()&&this._matrix.__lock(),!this._outerElem&&Qt.HasAttributes(this.getElem(),Qt._ATTRS_TRANSFERABLE_TO_OUTER)&&this._createOuterGroupElem(),this._matrix=t,t){var e="matrix("+Gi.roundDecimal(t.getA())+","+Gi.roundDecimal(t.getC())+","+Gi.roundDecimal(t.getB())+","+Gi.roundDecimal(t.getD())+","+Gi.roundDecimal(t.getTx())+","+Gi.roundDecimal(t.getTy())+")";Gi.setAttrNullNS(this.getElem(),"transform",e,"matrix(1,0,0,1,0,0)")}else{var i=Gi.getAttrNullNS(this.getElem(),"transform");i&&(Gi.removeAttrNullNS(this.getElem(),"transform"),qe.isPlatformIE()&&Gi.setAttrNullNS(this.getElem(),"transform",null));var n;n&&Gi.removeAttrNullNS(this.getElem(),"vector-effect")}};var te=function(t,e){this.Init(t,"g",e)};e.createSubclass(te,Qt,"DvtContainer"),te.prototype.Init=function(t,e,i){this._bShapeContainer=this instanceof ie,te.superclass.Init.call(this,t,null!=e?e:"g",i),this._childGroupElem=null},te.AttributesTransferableToGroup=["transform","opacity","style","visibility","pointer-events","clip-path","cursor"],te.prototype.addChild=function(t){if(t){var e=t.getParent();e&&e.removeChild(t),this._arList||(this._arList=[]),t.setParent(this),this._bShapeContainer&&this.CreateChildGroupElem(!1);var i=this.getContainerElem();Gi.appendChildElem(i,t.getOuterElem()),this._arList.push(t)}},te.prototype.addChildAt=function(t,e){this.AddChildAt(t,e)},te.prototype.AddChildAt=function(t,e){if(e>=0&&e<=this.getNumChildren()&&t){var i=this._findChild(t);if(i>=0&&i==e)return;var n=t.getParent();n&&n.removeChild(t),t.setParent(this),i>=0&&e==this.getNumChildren()+1&&e--;var r=e;this._bShapeContainer&&(this.CreateChildGroupElem(!1),r++);var o=this.getContainerElem(),s=o.childNodes[r];s||(s=null),o.insertBefore(t.getOuterElem(),s),this._arList||(this._arList=[]),this._arList.splice(e,0,t)}},te.prototype.contains=function(t){return this._findChild(t)>=0},te.prototype._findChild=function(t){var e=-1;if(this._arList)for(var i=this._arList.length,n=0;i>n;n++)if(this._arList[n]===t){e=n;break}return e},te.prototype.getChildAfter=function(t){var e=null,i=this._findChild(t);return i>=0&&++i<this._arList.length&&(e=this._arList[i]),e},te.prototype.getChildBefore=function(t){var e=null,i=this._findChild(t);return i>0&&(e=this._arList[--i]),e},te.prototype.getChildAt=function(t){var e=null;return this._arList&&this._arList.length>t&&t>=0&&(e=this._arList[t]),e},te.prototype.getChildIndex=function(t){return this._findChild(t)},te.prototype.getNumChildren=function(){return this._arList?this._arList.length:0},te.prototype.removeChild=function(t){var e=this._findChild(t);-1!==e&&this._removeObj(t,e)},te.prototype.removeChildImpl=function(t){var e=t.getOuterElem(),i=t.getParent();if(e&&i){var n=this.getContainerElem();n.removeChild(e)}if(!this._anchorElem&&this._bShapeContainer&&1===this.getNumChildren()){var r=this._childGroupElem,o=r?r.parentNode:null;o&&(Qt.TransferAttributes(r,this._elem,this.GetAttributesTransferableToGroup()),o.replaceChild(this._elem,r),this._childGroupElem=null)}},te.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e&&this._removeObj(e,t),e},te.prototype.removeChildren=function(){if(this._arList)for(var t=this._arList;this.getNumChildren()>0;)this._removeObj(t[0],0)},te.prototype._removeObj=function(t,e){this.removeChildImpl(t),t.setParent(null),this._arList.splice(e,1),0===this._arList.length&&(this._arList=null)},te.prototype.destroy=function(){te.superclass.destroy.call(this);for(var t=this.getNumChildren(),e=0;t>e;e++){var i=this.getChildAt(e);i.destroy()}},te.prototype.getHyperlink=function(){return this._linkObj},te.prototype.GetAttributesTransferableToGroup=function(){return te.AttributesTransferableToGroup},te.prototype.getElem=function(){return this._childGroupElem?this._childGroupElem:this._elem},te.prototype.CreateChildGroupElem=function(t,e){if(this._childGroupElem||!e&&0!==this.getNumChildren())t&&this.removeChildren();else{var i=Qt.SET_ID_ON_DOM&&this._id?this._id+"_g":null;this._childGroupElem=Jt.createElement("g",i);var n,r=this.getParent();r&&(n=r.getElem(),n.replaceChild(this._childGroupElem,this._elem)),t||Gi.appendChildElem(this._childGroupElem,this._elem),Qt.TransferAttributes(this._elem,this._childGroupElem,this.GetAttributesTransferableToGroup()),this._elem._obj&&(this._childGroupElem._obj=this._elem._obj),qe.isEnvironmentTest()&&document.shapeContainerCount++}},te.prototype.getDimensionsWithStroke=function(){for(var t=[],e=this.getNumChildren(),i=0;e>i;i++)t.push(this.getChildAt(i));for(var n=null;t.length>0;){var r=t.shift(),o=r.GetDimensionsWithStroke(this);o&&(n=n?n.getUnion(o):o),e=r.getNumChildren();for(var i=0;e>i;i++)t.push(r.getChildAt(i))}return n},te.prototype.GetDimensionsWithStroke=function(t){return null},te._reparentChildren=function(t,e){var i=e.childNodes;if(i)for(var n,r,o=i.length-1;o>=0;o--)n=i[o],r?t.insertBefore(n,r):Gi.appendChildElem(t,n),r=n},te.prototype.getContainerElem=function(){return this._anchorElem?this._anchorElem:this.getElem()},te.prototype.dispatchNativeEvent=function(t){var e=t.getNativeEvent(),i=null;i=this._bShapeContainer?this._childGroupElem:this._anchorElem?this._anchorElem:this._elem,i.dispatchEvent&&i.dispatchEvent(e)};var ee=function(t,e,i){this.Init(t,"g",i),this._SVGRoot=e,this.disableSelection(this._elem),this.setCursor("default")};e.createSubclass(ee,te,"DvtStage"),ee.prototype.addChild=function(t){ee.superclass.addChild.call(this,t)},ee.prototype.appendDefs=function(t){Gi.appendChildElem(this._elemDefs,t)},ee.prototype.getDefs=function(){return this._elemDefs},ee.prototype.getSVGRoot=function(){return this._SVGRoot},ee.prototype.disableSelection=function(t){t.onselectstart=function(){return!1},t.onselect=function(){return!1}};var ie=function(){};e.createSubclass(ie,te,"DvtShape"),ie.prototype.Init=function(t,e,i){
ie.superclass.Init.call(this,t,e,i),this._bSelectable=!1,this.IsSelected=!1,this.InnerShape=null,this.HoverInnerStroke=null,this.HoverOuterStroke=null,this.SelectedInnerStroke=null,this.SelectedOuterStroke=null,this.SelectedHoverInnerStroke=null,this.SelectedHoverOuterStroke=null,this.OriginalStroke=null,this._isOriginalStrokeSet=!1,this.IsShowingHoverEffect=!1},ie.prototype.setHollow=function(t,e){if(this._bHollow)this.setFill(this._origFill),this.setStroke(this._origStroke),this._bHollow=!1;else{this._origFill=this.GetProperty("fill"),this._origStroke=this.getStroke();var i,n=J.invisibleFill();i=t?new it(X.getRGB(t),X.getAlpha(t),e):new it(this.GetProperty("fill").getColor(),this.GetProperty("fill").getAlpha(),e),this.setFill(n),this.setStroke(i),this._bHollow=!0}},ie.prototype.isHollow=function(){return this._bHollow},ie.prototype.destroy=function(){ie.superclass.destroy.call(this),this.setFill(null),this.setStroke(null)},ie.prototype.getDimensionsWithStroke=function(){var t=this.GetElemDimensionsWithStroke(),e=ie.superclass.getDimensionsWithStroke.call(this);return t&&e?t=t.getUnion(e):e&&(t=e),t},ie.prototype.GetDimensionsWithStroke=function(t){var e=this.GetElemDimensionsWithStroke();return t&&t!==this?this.ConvertCoordSpaceRect(e,t):e},ie.prototype.GetElemDimensionsWithStroke=function(){var t=ie.superclass.GetElemDimensionsWithStroke.call(this),e=this.getStroke();if(t&&e){var i=e.getWidth();if(i){var n=.5*i;t.x-=n,t.y-=n,t.w+=i,t.h+=i}}return t},ie.prototype.UpdateSelectionEffect=function(){if(this.isSelected()||this.isHoverEffectShown()){var t;this.InnerShape&&(t=this.InnerShape.getStroke(),this.removeChild(this.InnerShape)),this.InnerShape=this.copyShape(),this.InnerShape.setMouseEnabled(!1),this.InnerShape.setFill(this.getFill()),t&&this.InnerShape.setStroke(t),this.InnerShape.setMouseEnabled(!1),this.InnerShape.setCursor(ut.getSelectingCursor()),this.AddChildAt(this.InnerShape,0)}},ie.prototype.setHoverStroke=function(t,e){return this.HoverInnerStroke=t,this.HoverOuterStroke=e,this},ie.prototype.setSelectedStroke=function(t,e){return this.SelectedInnerStroke=t,this.SelectedOuterStroke=e,this},ie.prototype.setSelectedHoverStroke=function(t,e){return this.SelectedHoverInnerStroke=t,this.SelectedHoverOuterStroke=e,this},ie.prototype.setSelectable=function(t){this._bSelectable=t,this._bSelectable?this.setCursor(ut.getSelectingCursor()):this.setCursor(null)},ie.prototype.isSelectable=function(){return this._bSelectable},ie.prototype.isSelected=function(){return this.IsSelected},ie.prototype.setSelected=function(t){this.IsSelected!=t&&(this._isOriginalStrokeSet||(this._isOriginalStrokeSet=!0,this.OriginalStroke=this.getStroke()),this.IsSelected=t,this.isSelected()?(this.UpdateSelectionEffect(),this.isHoverEffectShown()?(this.CreateSelectedHoverStrokes(),this.InnerShape.setStroke(this.SelectedHoverInnerStroke),this.setStroke(this.SelectedHoverOuterStroke)):(this.InnerShape.setStroke(this.SelectedInnerStroke),this.setStroke(this.SelectedOuterStroke))):(this.removeChild(this.InnerShape),this.setStroke(this.OriginalStroke)))},ie.prototype.showHoverEffect=function(){this.IsShowingHoverEffect||(this.IsShowingHoverEffect=!0,this._isOriginalStrokeSet||(this._isOriginalStrokeSet=!0,this.OriginalStroke=this.getStroke()),this.UpdateSelectionEffect(),this.isSelected()?(this.CreateSelectedHoverStrokes(),this.InnerShape.setStroke(this.SelectedHoverInnerStroke),this.setStroke(this.SelectedHoverOuterStroke)):(this.InnerShape.setStroke(this.HoverInnerStroke),this.setStroke(this.HoverOuterStroke)))},ie.prototype.CreateSelectedHoverStrokes=function(){this.SelectedHoverInnerStroke||(this.SelectedHoverInnerStroke=this.HoverInnerStroke.clone()),this.SelectedHoverOuterStroke||(this.SelectedHoverOuterStroke=this.SelectedOuterStroke.clone(),this.SelectedHoverOuterStroke.setWidth(this.SelectedOuterStroke.getWidth()+(this.HoverInnerStroke.getWidth()-this.SelectedInnerStroke.getWidth())))},ie.prototype.hideHoverEffect=function(){this.IsShowingHoverEffect&&(this.IsShowingHoverEffect=!1,this.isSelected()?(this.InnerShape.setStroke(this.SelectedInnerStroke),this.setStroke(this.SelectedOuterStroke)):(this.removeChild(this.InnerShape),this.setStroke(this.OriginalStroke)))},ie.prototype.isHoverEffectShown=function(){return this.IsShowingHoverEffect},ie.prototype.addChildAt=function(t,e){ie.superclass.addChildAt.call(this,t,e+this._getInnerShapeCount())},ie.prototype.getChildAt=function(t,e){return ie.superclass.getChildAt.call(this,t,e+this._getInnerShapeCount())},ie.prototype.getChildIndex=function(t){var e=ie.superclass.getChildIndex.call(this,t);return this.isSelected()||this.isHoverEffectShown()?e+1:e},ie.prototype.removeChildAt=function(t){ie.superclass.removeChildAt.call(this,t+this._getInnerShapeCount())},ie.prototype.getDimensions=function(t){return this.getDimensionsSelf&&this.getNumChildren()-this._getInnerShapeCount()==0?this.getDimensionsSelf(t):ie.superclass.getDimensions.call(this,t)},ie.prototype._getInnerShapeCount=function(){return this.isSelected()||this.isHoverEffectShown()?1:0},ie.prototype.SvgPropertyChanged=function(t){this.UpdateSelectionEffect()},ie.prototype.copyShape=function(){return null};var ne=function(){};e.createSubclass(ne,ie,"DvtCircularShape"),ne.prototype.Init=function(t,e,i,n,r){ne.superclass.Init.call(this,t,e,r),this.setCx(i).setCy(n)},ne.prototype.getCx=function(){return this.GetProperty("cx")},ne.prototype.setCx=function(t){return this.SetSvgProperty("cx",t,0)},ne.prototype.getCy=function(){return this.GetProperty("cy")},ne.prototype.setCy=function(t){return this.SetSvgProperty("cy",t,0)};var re=function(){};e.createSubclass(re,ie,"DvtPolygonalShape"),re.prototype.Init=function(t,e,i,n){re.superclass.Init.call(this,t,e,n),i&&this.setPoints(i)},re.prototype.getPoints=function(){return this.GetProperty("arPoints")},re.prototype.setPoints=function(t){return this.SetProperty("arPoints",t),this.SetSvgProperty("points",Jt.convertPointsArray(t))},re.prototype.getDimensionsSelf=function(t){var e=Zt.getDimensions(this.getPoints());return this.ConvertCoordSpaceRect(e,t)};var oe=function(t,e,i,n,r,o,s,a,l){this.Init(t,e,i,n,r,o,s,a,l)};e.createSubclass(oe,ie,"DvtArc"),oe.OPEN="OPEN",oe.CHORD="CHORD",oe.PIE="PIE",oe.prototype.Init=function(t,e,i,n,r,o,s,a,l){oe.superclass.Init.call(this,t,"path",l),this._sa=0,this._ae=0,r=null===r||isNaN(r)?n:r,this._bInInit=!0,this.setCx(e),this.setCy(i),this.setRx(n),this.setRy(r),this.setAngleStart(o),this.setAngleExtent(s),this.setClosure(a?a:oe.OPEN),this._bInInit=!1,this._createArc()},oe.prototype._addClosure=function(t){return this._ct===oe.CHORD?t+=" z":this._ct===oe.PIE?t+=" L "+this._cx+","+this._cy+" z":this._ct===oe.OPEN&&this.setFill(null),t},oe.prototype._createArc=function(){if(!this._bInInit){var t=this._sa*yt.RADS_PER_DEGREE,e=this._ae*yt.RADS_PER_DEGREE,i=this._cx+this._rx*Math.cos(t),n=this._cy-this._ry*Math.sin(t),r=this._cx+this._rx*Math.cos(t+e),o=this._cy-this._ry*Math.sin(t+e),s=Math.abs(this._ae)>180?"1":"0",a=this._ae>0?"0":"1",l="M "+Gi.roundDecimal(i)+" "+Gi.roundDecimal(n)+" A "+Gi.roundDecimal(this._rx)+","+Gi.roundDecimal(this._ry)+" 0 "+s+","+a+" "+Gi.roundDecimal(r)+","+Gi.roundDecimal(o);l=this._addClosure(l),Gi.setAttrNullNS(this._elem,"d",l),null!==this._stroke&&this.setStroke(this._stroke)}},oe.prototype.getAngleExtent=function(){return this._ae},oe.prototype.setAngleExtent=function(t){t=null===t||isNaN(t)?0:t,this._ae!==t&&(360===t&&(t=359.99),this._ae=t,this._createArc(),this.UpdateSelectionEffect())},oe.prototype.getAngleStart=function(){return this._sa},oe.prototype.setAngleStart=function(t){t=null===t||isNaN(t)?0:t,this._sa!==t&&(this._sa=t,this._createArc(),this.UpdateSelectionEffect())},oe.prototype.getClosure=function(){return this._ct},oe.prototype.setClosure=function(t){t!==this._ct&&(this._ct=t,this._createArc(),this.UpdateSelectionEffect())},oe.prototype.getCx=function(){return this._cx},oe.prototype.setCx=function(t){t!==this._cx&&(this._cx=t,Gi.setAttrNullNS(this._elem,"cx",t),this.UpdateSelectionEffect())},oe.prototype.getCy=function(){return this._cy},oe.prototype.setCy=function(t){t!==this._cy&&(this._cy=t,Gi.setAttrNullNS(this._elem,"cy",t),this.UpdateSelectionEffect())},oe.prototype.getRx=function(){return this._rx},oe.prototype.setRx=function(t){t!==this._rx&&(this._rx=t,Gi.setAttrNullNS(this._elem,"rx",this._rx),this._createArc(),this.UpdateSelectionEffect())},oe.prototype.getRy=function(){return this._ry},oe.prototype.setRy=function(t){t!==this._ry&&(this._ry=t,Gi.setAttrNullNS(this._elem,"ry",this._ry),this._createArc(),this.UpdateSelectionEffect())},oe.prototype.setArc=function(t,e){this.setAngleStart(t),this.setAngleExtentStart(e)},oe.prototype.setRadius=function(t,e){this.setRx(t),this.setRy(e)},oe.prototype.copyShape=function(){return new oe(this.getCtx(),this.getCx(),this.getCy(),this.getRx(),this.getRy(),this.getAngleStart(),this.getAngleExtent(),this.getClosure())},oe.prototype.GetAriaElem=function(){return qe.isTouchDevice()&&this.CreateChildGroupElem(!1,!0),oe.superclass.GetAriaElem.call(this)};var se=function(t,e,i,n,r){this.Init(t,e,i,n,r)};e.createSubclass(se,ne,"DvtCircle"),se.prototype.Init=function(t,e,i,n,r){se.superclass.Init.call(this,t,"circle",e,i,r),this.setRadius(n)},se.prototype.getRadius=function(){return this.GetProperty("r")},se.prototype.setRadius=function(t){return this.SetSvgProperty("r",t)},se.prototype.copyShape=function(){return new se(this.getCtx(),this.getCx(),this.getCy(),this.getRadius())},se.prototype.getDimensionsSelf=function(t){var e=new gt(this.getCx()-this.getRadius(),this.getCy()-this.getRadius(),2*this.getRadius(),2*this.getRadius());return this.ConvertCoordSpaceRect(e,t)};var ae=function(t,e,i,n,r,o,s){this.Init(t,e,i,n,r,o,s)};e.createSubclass(ae,ie,"DvtImage"),ae.XLINK_NS="http://www.w3.org/1999/xlink",ae.prototype.Init=function(t,e,i,n,r,o,s){ae.superclass.Init.call(this,t,"image",s),qe.isPlatformIE()&&(Gi.setAttrNullNS(this._elem,"fill","#FFFFFF"),Gi.setAttrNullNS(this._elem,"fill-opacity","0")),this.setImage(e,i,n,r,o),this.setAriaProperty("hidden","true")},ae.prototype.getX=function(){return this.GetProperty("x")},ae.prototype.setX=function(t){return this.SetSvgProperty("x",t)},ae.prototype.getY=function(){return this.GetProperty("y")},ae.prototype.setY=function(t){return this.SetSvgProperty("y",t)},ae.prototype.getWidth=function(){return this.GetProperty("width")},ae.prototype.setWidth=function(t){return this.SetSvgProperty("width",t)},ae.prototype.getHeight=function(){return this.GetProperty("height")},ae.prototype.setHeight=function(t){return this.SetSvgProperty("height",t)},ae.prototype.getSrc=function(){return this._src},ae.prototype.setSrc=function(t){if(t!==this._src){var e=t;if(this._src=t,qe.isEnvironmentBatik()){var i=DvtJavaImageLoader.getImageInfo(t);i&&(e=i.uri)}Gi.setAttrNS(this._elem,ae.XLINK_NS,"xlink:href",e)}return this},ae.prototype.getPos=function(){return new dt(this._x,this._y)},ae.prototype.setPos=function(t,e){this.setX(t).setY(e)},ae.prototype.setImage=function(t,e,i,n,r){e instanceof ae?(this.setSrc(t.src),this.setPos(t.x,t.y),this.setWidth(t.w),this.setHeight(t.h)):(this.setSrc(t),this.setPos(e,i),this.setWidth(n),this.setHeight(r)),Gi.setAttrNullNS(this._elem,"preserveAspectRatio","none")},ae.prototype.getDimensions=function(t){if(this.getDimensionsSelf&&this.getNumChildren()-this._getInnerShapeCount()==0)return this.getDimensionsSelf(t);var e=this.getElem().getBBox();return e=e.width&&e.height?new gt(e.x,e.y,e.width,e.height):new gt(e.x,e.y,this.getWidth(),this.getHeight()),this.ConvertCoordSpaceRect(e,t)},ae.prototype.__setDimensions=function(t){this.setWidth(t.width),this.setHeight(t.height)},ae.prototype.UpdateSelectionEffect=function(){},ae.prototype.copyShape=function(){return new ae(this.getCtx(),this.getSrc(),this.getX(),this.getY(),this.getWidth(),this.getHeight())},ae.prototype.getDimensionsSelf=function(t){var e=new gt(this.getX(),this.getY(),this.getWidth(),this.getHeight());return this.ConvertCoordSpaceRect(e,t)},ae.prototype.setAriaProperty=function(t,e){ae.superclass.setAriaProperty.call(this,t,e),"hidden"!=t&&ae.superclass.setAriaProperty.call(this,"hidden",null)};var le=function(t,e,i,n,r,o){this.Init(t,e,i,n,r,o)};e.createSubclass(le,ie,"DvtLine"),le.prototype.Init=function(t,e,i,n,r,o){le.superclass.Init.call(this,t,"line",o),this.setX1(e).setY1(i).setX2(n).setY2(r),this._bHollow=!1},le.prototype.getX1=function(){return this.GetProperty("x1")},le.prototype.setX1=function(t){return this.SetSvgProperty("x1",t,0)},le.prototype.getY1=function(){return this.GetProperty("y1")},le.prototype.setY1=function(t){return this.SetSvgProperty("y1",t,0)},le.prototype.getX2=function(){return this.GetProperty("x2")},le.prototype.setX2=function(t){return this.SetSvgProperty("x2",t,0)},le.prototype.getY2=function(){return this.GetProperty("y2")},le.prototype.setY2=function(t){return this.SetSvgProperty("y2",t,0)},le.prototype.setHollow=function(){var t=this._elem.parentNode;if(this._bHollow)this._origElem&&(t.replaceChild(this._origElem,this._elem),Gi.setAttrNullNS(this._origElem,"opacity",this._alpha),this._elem=this._origElem,this._origElem=null,this._bHollow=!1);else{this._origElem=this._elem;var e,i=this.getX2()-this.getX1(),n=i,r=this.getY1()-i/2,o=this.getStroke();e=Jt.createElement("rect"),Gi.setAttrNullNS(e,"x",this.getX1()),Gi.setAttrNullNS(e,"y",r),Gi.setAttrNullNS(e,"width",this.getX2()-this.getX1()),Gi.setAttrNullNS(e,"height",n);var s=o.getColor();if(s){var a=o.getAlpha();qe.isBrowserSafari()&&-1!==s.indexOf("rgba")?(Gi.setAttrNullNS(e,"stroke",X.getRGB(s)),null!=a?Gi.setAttrNullNS(e,"stroke-opacity",X.getAlpha(s)*a):Gi.setAttrNullNS(e,"stroke-opacity",X.getAlpha(s))):(Gi.setAttrNullNS(e,"stroke",s),null!=a&&Gi.setAttrNullNS(e,"stroke-opacity",a))}Gi.setAttrNullNS(e,"fill","#ffffff"),Gi.setAttrNullNS(e,"fill-opacity","0.001"),Gi.setAttrNullNS(e,"shape-rendering","crispEdges"),e._obj=this,t.replaceChild(e,this._elem),this._elem=e,Gi.setAttrNullNS(this._elem,"opacity",this._alpha),this._bHollow=!0}},le.prototype.getDimensions=function(t){var e=le.superclass.getDimensions.call(this,t);if(this._childGroupElem&&this._elem){var i=this._childGroupElem.getBBox();if(0==i.x&&0==i.y&&0==i.width&&0==i.height){var n=this._elem.getBBox();e=new gt(n.x,n.y,n.width,n.height)}}return e},le.prototype.copyShape=function(){return new le(this.getCtx(),this.getX1(),this.getY1(),this.getX2(),this.getY2())},le.prototype.getDimensionsSelf=function(t){var e=Math.min(this.getX1(),this.getX2()),i=Math.min(this.getY1(),this.getY2()),n=Math.abs(this.getX1()-this.getX2()),r=Math.abs(this.getY1()-this.getY2()),o=new gt(e,i,n,r);return this.ConvertCoordSpaceRect(o,t)};var ue=function(t,e,i,n,r,o,s,a,l,u,h){this.Init(t,e,i,n,r,o,s,a,l,u,h)};e.createSubclass(ue,ie,"DvtMarker"),ue.NONE="none",ue.CIRCLE="circle",ue.SQUARE="square",ue.DIAMOND="diamond",ue.TRIANGLE_UP="triangleUp",ue.TRIANGLE_DOWN="triangleDown",ue.PLUS="plus",ue.HUMAN="human",ue.ROUNDED_RECTANGLE="roundedRect",ue.CUSTOM="custom",ue.IMAGE="image",ue.SELECTION_STROKE_COLOR="#000000",ue.SELECTION_STROKE_ALPHA=1,ue.IMAGE_SOURCE=0,ue.IMAGE_SOURCE_SELECTED=1,ue.IMAGE_SOURCE_HOVER=2,ue.IMAGE_SOURCE_HOVER_SELECTED=3,ue._REFERENCE_X=0,ue._REFERENCE_Y=0,ue._REFERENCE_W=10,ue._REFERENCE_H=10,ue.MARKER_CIRCLE_ELEM_NAME="circle",ue.MARKER_ELLIPSE_ELEM_NAME="ellipse",ue.MARKER_LINE_ELEM_NAME="line",ue.MARKER_PATH_ELEM_NAME="path",ue.MARKER_POLYGON_ELEM_NAME="polygon",ue.MARKER_POLYLINE_ELEM_NAME="polyline",ue.MARKER_RECT_ELEM_NAME="rect",ue.prototype.Init=function(t,e,i,n,r,o,s,a,l,u,h){this._skin=i,this._xx=n,this._yy=r,this._ww=o,this._hh=s,this._sx=l?l:1,this._sy=u?u:1,this._maintainAspect=h,this._initType=e;var c,p;if(e instanceof Array)this._setMarkerImageStates(e),e=ue.IMAGE;else if(ue.isBuiltInShape(e))e=ue.convertShapeString(e);else if(p=qt.getCustomMarkerInfo(t,e)){if(c=p instanceof de?"path":"g",!o||!s){var d=Yt.getDimForced(t,p);o=o?o:d.w,s=s?s:d.h,this._ww=o,this._hh=s}e=ue.CUSTOM}else e=ue.SQUARE;var g;g=c?c:e===ue.CIRCLE?"ellipse":e===ue.SQUARE?"rect":e===ue.ROUNDED_RECTANGLE?"rect":e===ue.TRIANGLE_UP?"polygon":e===ue.TRIANGLE_DOWN?"polygon":e===ue.DIAMOND?"polygon":e===ue.PLUS?"polygon":e===ue.HUMAN?"path":e===ue.IMAGE?"image":"rect",ue.superclass.Init.call(this,t,g,a),this._type=e,this._defaultScale=1,e===ue.HUMAN&&(p=qt.getBuiltinMarkerInfo(t,"human",this.getSkin()));var f=this.getScaledWidth(),_=this.getScaledHeight();this._size=Math.max(f,_),this.setBounds(n,r,f,_,p),this._dataColor="#000000",this._savedStroke=null,this._savedFill=null,this._bSavedStroke=!1,this._bSavedFill=!1,this._selStrokeWidth=null,this._selStrokeColor=null,this._selStrokeAlpha=null},ue.prototype.getSize=function(){return this._size},ue.prototype.getInitType=function(){return this._initType},ue.prototype.setBounds=function(t,e,i,n,r){this._shapeInitialized||this.InitShape(this._type,r,t,e,i,n)},ue.prototype.InitShape=function(t,e,i,n,r,o){this._shapeInitialized=!0,this._x=i,this._y=n,this._w=r,this._h=o;var s;if(t===ue.CUSTOM||t===ue.HUMAN){var a=Yt.getDimForced(this.getCtx(),e),l=Math.max(a.w,a.h),u=1,h=1;if(t===ue.CUSTOM){u=r/(this.getMaintainAspect()?l:a.w),h=o/(this.getMaintainAspect()?l:a.h);var c=i+-a.x*u+(r-a.w*u)/2,p=n+-a.y*h+(o-a.h*h)/2;s=this._setCustomMarker(e,c,p,u,h)}else if(t===ue.HUMAN){u=r/l,h=o/l;var c=i+-a.x*u+(r-a.w*u)/2,p=n+-a.y*h+(o-a.h*h)/2,d=Ae.afterSkinAlta(this.getSkin())?zt.HUMAN2_CMDS:zt.HUMAN_CMDS;this._setCmds(Wt.transformPath(d,c,p,u,h))}var g=a.h===l?o/l:r/l;this._defaultScale=g}else if(t===ue.IMAGE){var f=this.GetMarkerImage(ue.IMAGE_SOURCE);this._setX(i),this._setY(n),this._setWidth(r),this._setHeight(o),this.setSource(f),Gi.setAttrNullNS(this._elem,"preserveAspectRatio","none"),qe.isPlatformIE()&&(Gi.setAttrNullNS(this._elem,"fill","#FFFFFF"),Gi.setAttrNullNS(this._elem,"fill-opacity","0"))}else if(t===ue.SQUARE)this._setX(i),this._setY(n),this._setWidth(r),this._setHeight(o);else if(t===ue.ROUNDED_RECTANGLE){this._setX(i),this._setY(n),this._setWidth(r),this._setHeight(o);var _=6,v=6;(_>r/4||v>o/4)&&(_=Math.min(r,o)/4,v=_),this._setRX(_),this._setRY(v)}else if(t===ue.CIRCLE)this._setCx(i+r/2),this._setCy(n+o/2),this._setRX(r/2),this._setRY(o/2);else{var m=[],y=r/2,S=o/2;if(t===ue.TRIANGLE_UP)m.push(i),m.push(n+o),m.push(i+r),m.push(n+o),m.push(i+y),m.push(n),this._setPolygon(m);else if(t===ue.TRIANGLE_DOWN)m.push(i),m.push(n),m.push(i+r),m.push(n),m.push(i+y),m.push(n+o),this._setPolygon(m);else if(t===ue.DIAMOND)m.push(i+y),m.push(n),m.push(i+r),m.push(n+S),m.push(i+y),m.push(n+o),m.push(i),m.push(n+S),this._setPolygon(m);else if(t===ue.PLUS){var E=r/3,T=2*E,b=o/3,C=2*b;m.push(i+E),m.push(n),m.push(i+T),m.push(n),m.push(i+T),m.push(n+b),m.push(i+r),m.push(n+b),m.push(i+r),m.push(n+C),m.push(i+T),m.push(n+C),m.push(i+T),m.push(n+o),m.push(i+E),m.push(n+o),m.push(i+E),m.push(n+C),m.push(i),m.push(n+C),m.push(i),m.push(n+b),m.push(i+E),m.push(n+b),m.push(i+E),m.push(n),this._setPolygon(m)}}},ue.prototype.getDefaultScale=function(){return this._defaultScale},ue.prototype.getSkin=function(){return this._skin},ue.prototype.getX=function(){return this._xx},ue.prototype.getY=function(){return this._yy},ue.prototype.getWidth=function(){return this._ww},ue.prototype.getHeight=function(){return this._hh},ue.prototype.getScaledWidth=function(){return this._sx?this._ww*this._sx:this._ww},ue.prototype.getScaledHeight=function(){return this._sy?this._hh*this._sy:this._hh},ue.prototype.getType=function(){return this._type},ue.prototype.getSx=function(){return this._sx},ue.prototype.getSy=function(){return this._sy},ue.prototype.getMaintainAspect=function(){return 1==this._maintainAspect},ue.prototype.SetStrokeWidth=function(t){var e=this.getStroke();e&&(e=e.clone(),e.setWidth(t),this.setStroke(e))},ue.prototype.GetStrokeWidth=function(){var t=this.getStroke();return t?t.getWidth():0},ue.prototype.showHoverEffect=function(){this.getType()===ue.IMAGE?(this.IsShowingHoverEffect=!0,this.isSelected()?this.setSource(this.GetMarkerImage(ue.IMAGE_SOURCE_HOVER_SELECTED)):this.setSource(this.GetMarkerImage(ue.IMAGE_SOURCE_HOVER))):ue.superclass.showHoverEffect.call(this)},ue.prototype.hideHoverEffect=function(){this.getType()===ue.IMAGE?(this.IsShowingHoverEffect=!1,this.isSelected()?this.setSource(this.GetMarkerImage(ue.IMAGE_SOURCE_SELECTED)):this.setSource(this.GetMarkerImage(ue.IMAGE_SOURCE))):ue.superclass.hideHoverEffect.call(this)},ue.prototype.setSelected=function(t){this.IsSelected!=t&&(this.getType()===ue.IMAGE?(this.IsSelected=t,t?this.isHoverEffectShown()?this.setSource(this.GetMarkerImage(ue.IMAGE_SOURCE_HOVER_SELECTED)):this.setSource(this.GetMarkerImage(ue.IMAGE_SOURCE_SELECTED)):this.setSource(this.GetMarkerImage(ue.IMAGE_SOURCE))):ue.superclass.setSelected.call(this,t))},ue.prototype.setDataColor=function(t,e){if(this._dataColor=t,!e){var i=X.adjustHSL(t,0,0,.15),n=new it("#FFFFFF",1,1.5);this.setHoverStroke(new it(i,1,2)),this.setSelectedStroke(n,new it("#5A5A5A",1,4.5)),this.setSelectedHoverStroke(n,new it(i,1,4.5)),this.HoverInnerStroke.setFixedWidth(!0),this.SelectedInnerStroke.setFixedWidth(!0),this.SelectedOuterStroke.setFixedWidth(!0),this.SelectedHoverInnerStroke.setFixedWidth(!0),this.SelectedHoverOuterStroke.setFixedWidth(!0)}},ue.prototype.getDataColor=function(){return this._dataColor},ue.prototype.setHollow=function(t){var e=this.getScaleX(),i=this.getScaleY(),n=Math.min(e,i),r=this.GetStrokeWidth();r=(r?r:1)/n,ue.superclass.setHollow.call(this,t,r)},ue.prototype.setText=function(t){this._markerText=t},ue.prototype.setAlpha=function(t){ue.superclass.setAlpha.call(this,t),this._markerText&&this._markerText.setAlpha(t),this.UpdateSelectionEffect()},ue.prototype._setCx=function(t){Gi.setAttrNullNS(this._elem,"cx",t)},ue.prototype._setCy=function(t){Gi.setAttrNullNS(this._elem,"cy",t)},ue.prototype._setX=function(t){Gi.setAttrNullNS(this._elem,"x",t)},ue.prototype._setY=function(t){Gi.setAttrNullNS(this._elem,"y",t)},ue.prototype._setWidth=function(t){Gi.setAttrNullNS(this._elem,"width",t)},ue.prototype._setHeight=function(t){Gi.setAttrNullNS(this._elem,"height",t)},ue.prototype._setRadius=function(t){Gi.setAttrNullNS(this._elem,"r",t)},ue.prototype._setPolygon=function(t){var e=Jt.convertPointsArray(t);Gi.setAttrNullNS(this._elem,"points",e)},ue.prototype._setCmds=function(t){t!==this._cmds&&(this._cmds=t,Gi.setAttrNullNS(this._elem,"d",t))},ue.prototype.UpdateMarkerImage=function(t){this.setSource(t)},ue.prototype.setSource=function(t){if(qe.isEnvironmentBatik()){var e=DvtJavaImageLoader.getImageInfo(t);e&&(t=e.uri)}Gi.setAttrNS(this._elem,ae.XLINK_NS,"xlink:href",t)},ue.convertShapeString=function(t){return t==ue.CIRCLE||"c"==t?ue.CIRCLE:t==ue.SQUARE||"s"==t?ue.SQUARE:t==ue.DIAMOND||"d"==t?ue.DIAMOND:t==ue.TRIANGLE_UP||"tu"==t||"t"==t?ue.TRIANGLE_UP:t==ue.TRIANGLE_DOWN||"td"==t?ue.TRIANGLE_DOWN:t==ue.PLUS||"p"==t?ue.PLUS:t==ue.HUMAN||"h"==t?ue.HUMAN:t==ue.ROUNDED_RECTANGLE||"rr"==t?ue.ROUNDED_RECTANGLE:ue.NONE},ue.prototype.GetAttributesTransferableToGroup=function(){var t=te.AttributesTransferableToGroup.slice(0);if(!this.getMatrix()){var e=i.getIndex(t,"transform");t.splice(e,1)}var n=i.getIndex(t,"visibility");return t.splice(n,1),t},ue.prototype.setMouseEnabled=function(t){if(ue.superclass.setMouseEnabled.call(this,t),this._childGroupElem){var e;e=t?"visiblePainted":"none",Gi.setAttrNullNS(this._childGroupElem,"pointer-events",e)}},ue.prototype._setCustomMarker=function(t,e,i,n,r){if(this._isMultiPaths()){var o=this._cloneMultiPaths(t,e,i,n,r);return this.addChild(o),o}return this._setSingleShape(t,e,i,n,r),null},ue.prototype._setSingleShape=function(t,e,i,n,r){var o=t.getElem().nodeName;o==ue.MARKER_PATH_ELEM_NAME&&this._setCmds(Wt.transformPath(t.getCmds(),e,i,n,r));var s=t.getFill();s&&this.setFill(s);var a=t.getAlpha();a&&this.setAlpha(a);var l=t.getStroke();if(l){var u=l.clone();u.setWidth(Math.min(n,r)*u.getWidth()),this.setStroke(u)}},ue.prototype._setPoints=function(t){t!==this._points&&(this._points=t,Gi.setAttrNullNS(this._elem,"points",t))},ue.prototype._setX1=function(t){Gi.setAttrNullNS(this._elem,"x1",t)},ue.prototype._setY1=function(t){Gi.setAttrNullNS(this._elem,"y1",t)},ue.prototype._setX2=function(t){Gi.setAttrNullNS(this._elem,"x2",t)},ue.prototype._setY2=function(t){Gi.setAttrNullNS(this._elem,"y2",t)},ue.prototype._setRX=function(t){Gi.setAttrNullNS(this._elem,"rx",t)},ue.prototype._setRY=function(t){Gi.setAttrNullNS(this._elem,"ry",t)},ue.prototype._cloneMultiPaths=function(t,e,i,n,r){for(var o,s,a=this.getCtx(),l=new te(a,t.getId()+"_x"),u=t.getNumChildren(),h=0;u>h;h++){if(o=t.getChildAt(h),s=new de(a,Wt.transformPath(o.getCmds(),e,i,n,r),o.getId()),o.getFill()&&s.setFill(o.getFill()),o.getAlpha()&&s.setAlpha(o.getAlpha()),o.getStroke()){var c=o.getStroke().clone();c.setWidth(Math.min(n,r)*c.getWidth()),s.setStroke(c)}l.addChild(s)}return l},ue.prototype.addChild=function(t){this._isMultiPaths()?Gi.appendChildElem(this.getElem(),t.getOuterElem()):ue.superclass.addChild.call(this,t)},ue.prototype._isMultiPaths=function(){return"g"==this.getElem().nodeName&&this.getType()!=ue.IMAGE},ue.prototype.getDimensions=function(){if(this._type==ue.IMAGE){var t=this.getScaledWidth(),e=this.getScaledHeight();return new gt(this._x,this._y,t,e)}return ue.superclass.getDimensions.call(this)},ue.prototype.GetElemDimensionsWithStroke=function(){return this._type==ue.IMAGE?this.getDimensions():ue.superclass.GetElemDimensionsWithStroke.call(this)},ue.prototype.setVisible=function(t){ue.superclass.setVisible.call(this,t),this._markerText&&this._markerText.setVisible(t)},ue.prototype._setMarkerImageStates=function(t){var e=t[0];this._imageStates=[e],this._imageStates.push(t[1]?t[1]:e),this._imageStates.push(t[2]?t[2]:e),this._imageStates.push(t[3]?t[3]:this._imageStates[1])},ue.prototype.GetMarkerImage=function(t){return this._imageStates?this._imageStates[t]:null},ue.isBuiltInShape=function(t){var e=ue.convertShapeString(t);return e==ue.CIRCLE||e==ue.SQUARE||e==ue.DIAMOND||e==ue.TRIANGLE_UP||e==ue.TRIANGLE_DOWN||e==ue.PLUS||e==ue.HUMAN||e==ue.ROUNDED_RECTANGLE},ue.prototype.copyShape=function(){return new ue(this.getCtx(),this.getInitType(),this.getSkin(),this.getX(),this.getY(),this.getWidth(),this.getHeight(),null,this.getSx(),this.getSy(),this.getMaintainAspect())},ue.prototype.getDimensions=function(t){return this.InnerShape&&this.InnerShape.getParent()?this.InnerShape.getDimensions(t):ue.superclass.getDimensions.call(this,t)},ue.prototype.getDimensionsSelf=function(t){var e=new gt(this.getX(),this.getY(),this.getScaledWidth(),this.getScaledHeight());return this.ConvertCoordSpaceRect(e,t)};var he=function(t,e,i,n,r,o,s,a,l){this.Init(t,e,i,n,r,o,s,a,l)};e.createSubclass(he,ie,"DvtSimpleMarker"),he.CIRCLE="circle",he.ELLIPSE="ellipse",he.SQUARE="square",he.RECTANGLE="rectangle",he.ROUNDED_RECT="roundedRect",he.DIAMOND="diamond",he.TRIANGLE_UP="triangleUp",he.TRIANGLE_DOWN="triangleDown",he.PLUS="plus",he.HUMAN="human",he.STAR="star",he._CIRCLE_ELEM="circle",he._ELLIPSE_ELEM="ellipse",he._RECT_ELEM="rect",he._PATH_ELEM="path",he._POLYGON_ELEM="polygon",he._SHAPE_ELEM_MAP={},he._SHAPE_ELEM_MAP[he.CIRCLE]=he._CIRCLE_ELEM,he._SHAPE_ELEM_MAP[he.ELLIPSE]=he._ELLIPSE_ELEM,he._SHAPE_ELEM_MAP[he.SQUARE]=he._RECT_ELEM,he._SHAPE_ELEM_MAP[he.RECTANGLE]=he._RECT_ELEM,he._SHAPE_ELEM_MAP[he.ROUNDED_RECT]=he._RECT_ELEM,he._SHAPE_ELEM_MAP[he.DIAMOND]=he._POLYGON_ELEM,he._SHAPE_ELEM_MAP[he.TRIANGLE_UP]=he._POLYGON_ELEM,he._SHAPE_ELEM_MAP[he.TRIANGLE_DOWN]=he._POLYGON_ELEM,he._SHAPE_ELEM_MAP[he.PLUS]=he._POLYGON_ELEM,he._SHAPE_ELEM_MAP[he.HUMAN]=he._PATH_ELEM,he._SHAPE_ELEM_MAP[he.STAR]=he._POLYGON_ELEM,he._DEFAULT_BORDER_RADIUS=6,he.prototype.Init=function(t,e,i,n,r,o,s,a,l){this._bMaintainAspectRatio=!0,a===!1&&(this._bMaintainAspectRatio=!1,e==he.CIRCLE&&(e=he.ELLIPSE)),this._skin=i,this._shape=e?e:he.RECTANGLE,this._dataColor="#000000";var u=e?he._SHAPE_ELEM_MAP[e]:he._RECT_ELEM;null==u&&(this._isCustomShape=!0,this._path=new de(t,e),u=he._PATH_ELEM),he.superclass.Init.call(this,t,u,l),this._shape==he.HUMAN&&(this._path=qt.getBuiltinMarkerInfo(t,he.HUMAN,this._skin)),this._propertyChange={},this.setCenter(n,r,!0).setSize(o,s)},he.prototype.setCenterDimensions=function(t){return this.setCenter(t.x,t.y,!0).setSize(t.w,t.h)},he.prototype.getCenterDimensions=function(){return new gt(this._cx,this._cy,this._width,this._height)},he.prototype.setSize=function(t,e,i){return this.setWidth(t,!0).setHeight(e,i)},he.prototype.setCenter=function(t,e,i){return this.setCx(t,!0).setCy(e,i)},he.prototype._updateSvgProperties=function(){if(this._propertyChange.width||this._propertyChange.height){var t=Math.min(this._width,this._height);this._propertyChange.s=this._s!=t,this._s=t}if(this._shape==he.SQUARE){var e=this.getMaintainAspectRatio()?this._s:this._width,i=this.getMaintainAspectRatio()?this._s:this._height;(this._propertyChange.cx||this._propertyChange.s)&&Gi.setAttrNullNS(this._elem,"x",this._cx-e/2,0),(this._propertyChange.cy||this._propertyChange.s)&&Gi.setAttrNullNS(this._elem,"y",this._cy-i/2,0),(this.getMaintainAspectRatio()?this._propertyChange.s:this._propertyChange.width||this._propertyChange.height)&&(Gi.setAttrNullNS(this._elem,"width",e,0),Gi.setAttrNullNS(this._elem,"height",i,0))}else if(this._shape==he.RECTANGLE||this._shape==he.ROUNDED_RECT){if((this._propertyChange.cx||this._propertyChange.width)&&Gi.setAttrNullNS(this._elem,"x",this._cx-this._width/2,0),(this._propertyChange.cy||this._propertyChange.height)&&Gi.setAttrNullNS(this._elem,"y",this._cy-this._height/2,0),this._propertyChange.width&&Gi.setAttrNullNS(this._elem,"width",this._width,0),this._propertyChange.height&&Gi.setAttrNullNS(this._elem,"height",this._height,0),this._shape==he.ROUNDED_RECT&&this._propertyChange.s){var n=this._s/4<he._DEFAULT_BORDER_RADIUS?this._s/4:he._DEFAULT_BORDER_RADIUS;Gi.setAttrNullNS(this._elem,"rx",n,0),Gi.setAttrNullNS(this._elem,"ry",n,0)}}else this._shape==he.CIRCLE||this._shape==he.ELLIPSE?(this._propertyChange.cx&&Gi.setAttrNullNS(this._elem,"cx",this._cx,0),this._propertyChange.cy&&Gi.setAttrNullNS(this._elem,"cy",this._cy,0),this._shape==he.CIRCLE?this._propertyChange.s&&Gi.setAttrNullNS(this._elem,"r",this._s/2,0):(this._propertyChange.width&&Gi.setAttrNullNS(this._elem,"rx",this._width/2,0),this._propertyChange.height&&Gi.setAttrNullNS(this._elem,"ry",this._height/2,0))):this._isPolygon()?(this._propertyChange.s||this._propertyChange.cx||this._propertyChange.cy)&&this._setPolygon(this._getPolygonArray()):this._isPath()&&(this._propertyChange.s||this._propertyChange.cx||this._propertyChange.cy)&&this._setCmds(this._getCmds());return this.UpdateSelectionEffect(),this._propertyChange={},this},he.prototype.getCx=function(){return this._cx},he.prototype.setCx=function(t,e){return this._propertyChange.cx=this._cx!=t,this._cx=t,e?this:this._updateSvgProperties()},he.prototype.getCy=function(){return this._cy},he.prototype.setCy=function(t,e){return this._propertyChange.cy=this._cy!=t,this._cy=t,e?this:this._updateSvgProperties()},he.prototype.getSize=function(){return this._s},he.prototype.getWidth=function(){return this._width},he.prototype.setWidth=function(t,e){return this._propertyChange.width=this._width!=t,this._width=t,e?this:this._updateSvgProperties()},he.prototype.getHeight=function(){return this._height},he.prototype.setHeight=function(t,e){return this._propertyChange.height=this._height!=t,this._height=t,e?this:this._updateSvgProperties()},he.prototype._getPolygonArray=function(){var t=[],e=this._cx,i=this._cy,n=this.getMaintainAspectRatio()?this._s/2:this._width/2,r=this.getMaintainAspectRatio()?this._s/2:this._height/2,o=this.getMaintainAspectRatio()?this._s/6:this._width/6,s=this.getMaintainAspectRatio()?this._s/6:this._height/6;return this._shape==he.TRIANGLE_UP?t=[e-n,i+r,e,i-r,e+n,i+r]:this._shape==he.TRIANGLE_DOWN?t=[e-n,i-r,e,i+r,e+n,i-r]:this._shape==he.DIAMOND?t=[e-n,i,e,i-r,e+n,i,e,i+r]:this._shape==he.PLUS?t=[e-n,i-s,e-o,i-s,e-o,i-r,e+o,i-r,e+o,i-s,e+n,i-s,e+n,i+s,e+o,i+s,e+o,i+r,e-o,i+r,e-o,i+s,e-n,i+s]:this._shape==he.STAR&&(t=zt.SHAPE_STAR_CMDS,
t=Zt.scale(t,this.getMaintainAspectRatio()?this._s/100:this._width/100,this.getMaintainAspectRatio()?this._s/100:this._height/100),t=Zt.translate(t,e,i)),t},he.prototype._setPolygon=function(t){Gi.setAttrNullNS(this._elem,"points",Jt.convertPointsArray(t))},he.prototype._getCmds=function(){var t=Yt.getDimForced(this.getCtx(),this._path),e=Math.max(t.w,t.h),i=this.getMaintainAspectRatio()?this._s/e:this._width/e,n=this.getMaintainAspectRatio()?this._s/e:this._height/e,r=this._cx-t.x*i-t.w*i/2,o=this._cy-t.y*n-t.h*n/2;return Wt.transformPath(this._path.getCmds(),r,o,i,n)},he.prototype._setCmds=function(t){Gi.setAttrNullNS(this._elem,"d",t)},he.prototype.getType=function(){return this._shape},he.prototype._isPolygon=function(){return this._shape==he.TRIANGLE_UP||this._shape==he.TRIANGLE_DOWN||this._shape==he.DIAMOND||this._shape==he.PLUS||this._shape==he.STAR},he.prototype._isPath=function(){return this._shape==he.HUMAN||this._isCustomShape},he.prototype.SetStrokeWidth=function(t){var e=this.getStroke();e&&(e=e.clone(),e.setWidth(t),this.setStroke(e))},he.prototype.GetStrokeWidth=function(){var t=this.getStroke();return t?t.getWidth():0},he.prototype.setDataColor=function(t,e){if(this._dataColor=t,!e){var i=ut.getHoverBorderColor(t),n="#FFFFFF",r="#5A5A5A";this.setHoverStroke(new it(n,1,1),new it(i,1,3.5)),this.setSelectedStroke(new it(n,1,1.5),new it(r,1,4.5)),this.setSelectedHoverStroke(new it(n,1,1.5),new it(i,1,4.5)),this.HoverInnerStroke.setFixedWidth(!0),this.HoverOuterStroke.setFixedWidth(!0),this.SelectedInnerStroke.setFixedWidth(!0),this.SelectedOuterStroke.setFixedWidth(!0),this.SelectedHoverInnerStroke.setFixedWidth(!0),this.SelectedHoverOuterStroke.setFixedWidth(!0)}},he.prototype.getDataColor=function(){return this._dataColor},he.prototype.setHollow=function(t){var e=this.GetStrokeWidth();e=e?e:1,he.superclass.setHollow.call(this,t,e)},he.prototype.setText=function(t){this._markerText=t},he.prototype.setAlpha=function(t){he.superclass.setAlpha.call(this,t),this._markerText&&this._markerText.setAlpha(t),this.UpdateSelectionEffect()},he.prototype.copyShape=function(){return new he(this.getCtx(),this._shape,this._skin,this.getCx(),this.getCy(),this.getWidth(),this.getHeight(),this.getMaintainAspectRatio())},he.prototype.getDimensions=function(t){var e=this.getCx()-this.getWidth()/2,i=this.getCy()-this.getHeight()/2,n=new gt(e,i,this.getWidth(),this.getHeight());return this.ConvertCoordSpaceRect(n,t)},he.prototype.setMaintainAspectRatio=function(t){this._bMaintainAspectRatio=t},he.prototype.getMaintainAspectRatio=function(){return this._bMaintainAspectRatio};var ce=function(t,e,i,n,r,o,s,a,l,u){this.Init(t,e,i,n,r,o,s,a,l,u)};e.createSubclass(ce,ie,"DvtImageMarker"),ce.prototype.Init=function(t,e,i,n,r,o,s,a,l,u){ce.superclass.Init.call(this,t,"image",u),this._setMarkerImageStates(o,s,a,l);var h=this._getImage();this._setSource(h),this._propertyChange={},this.setCenter(e,i,!0).setSize(n,r),Gi.setAttrNullNS(this._elem,"preserveAspectRatio","none"),qe.isPlatformIE()&&(Gi.setAttrNullNS(this._elem,"fill","#FFFFFF"),Gi.setAttrNullNS(this._elem,"fill-opacity","0"))},ce.prototype.setCenterDimensions=function(t){return this.setCenter(t.x,t.y,!0).setSize(t.w,t.h)},ce.prototype.getCenterDimensions=function(){return new gt(this._cx,this._cy,this._width,this._height)},ce.prototype.setSize=function(t,e,i){return this.setWidth(t,!0).setHeight(e,i)},ce.prototype.setCenter=function(t,e,i){return this.setCx(t,!0).setCy(e,i)},ce.prototype._updateSvgProperties=function(){return(this._propertyChange.cx||this._propertyChange.width)&&Gi.setAttrNullNS(this._elem,"x",this._cx-this._width/2,0),(this._propertyChange.cy||this._propertyChange.height)&&Gi.setAttrNullNS(this._elem,"y",this._cy-this._height/2,0),this._propertyChange.width&&Gi.setAttrNullNS(this._elem,"width",this._width,0),this._propertyChange.height&&Gi.setAttrNullNS(this._elem,"height",this._height,0),this.UpdateSelectionEffect(),this._propertyChange={},this},ce.prototype.getCx=function(){return this._cx},ce.prototype.setCx=function(t,e){return this._propertyChange.cx=this._cx!=t,this._cx=t,e?this:this._updateSvgProperties()},ce.prototype.getCy=function(){return this._cy},ce.prototype.setCy=function(t,e){return this._propertyChange.cy=this._cy!=t,this._cy=t,e?this:this._updateSvgProperties()},ce.prototype.getWidth=function(){return this._width},ce.prototype.setWidth=function(t,e){return this._propertyChange.width=this._width!=t,this._width=t,e?this:this._updateSvgProperties()},ce.prototype.getHeight=function(){return this._height},ce.prototype.setHeight=function(t,e){return this._propertyChange.height=this._height!=t,this._height=t,e?this:this._updateSvgProperties()},ce.prototype._setSource=function(t){if(qe.isEnvironmentBatik()){var e=DvtJavaImageLoader.getImageInfo(t);e&&(t=e.uri)}Gi.setAttrNS(this._elem,ae.XLINK_NS,"xlink:href",t)},ce.prototype._setMarkerImageStates=function(t,e,i,n){var r=t;this._imageStates=[r],this._imageStates.push(e?e:r),this._imageStates.push(i?i:r),this._imageStates.push(n?n:this._imageStates[1])},ce.prototype._getImage=function(){return this._imageStates[0]},ce.prototype._getImageSelected=function(){return this._imageStates[1]},ce.prototype._getImageHover=function(){return this._imageStates[2]},ce.prototype._getImageHoverSelected=function(){return this._imageStates[3]},ce.prototype.showHoverEffect=function(){this.IsShowingHoverEffect=!0,this.isSelected()?this._setSource(this._getImageHoverSelected()):this._setSource(this._getImageHover())},ce.prototype.hideHoverEffect=function(){this.IsShowingHoverEffect=!1,this.isSelected()?this._setSource(this._getImageSelected()):this._setSource(this._getImage())},ce.prototype.setSelected=function(t){this.IsSelected!=t&&(this.IsSelected=t,t?this.isHoverEffectShown()?this._setSource(this._getImageHoverSelected()):this._setSource(this._getImageSelected()):this._setSource(this._getImage()))},ce.prototype.copyShape=function(){return new ce(this.getCtx(),this.getCx(),this.getCy(),this.getWidth(),this.getHeight(),this._getImage(),this._getImageSelected(),this._getImageHover(),this._getImageHoverSelected,null)};var pe=function(t,e,i,n,r,o){this.Init(t,e,i,n,r,o)};e.createSubclass(pe,ne,"DvtOval"),pe.prototype.Init=function(t,e,i,n,r,o){pe.superclass.Init.call(this,t,"ellipse",e,i,o),this.setRx(n).setRy(r)},pe.prototype.getRx=function(){return this.GetProperty("rx")},pe.prototype.setRx=function(t){return this.SetSvgProperty("rx",t)},pe.prototype.getRy=function(){return this.GetProperty("ry")},pe.prototype.setRy=function(t){return this.SetSvgProperty("ry",t)},pe.prototype.copyShape=function(){return new pe(this.getCtx(),this.getCx(),this.getCy(),this.getRx(),this.getRy())},pe.prototype.getDimensionsSelf=function(t){var e=new gt(this.getCx()-this.getRx(),this.getCy()-this.getRy(),2*this.getRx(),2*this.getRy());return this.ConvertCoordSpaceRect(e,t)};var de=function(t,e,i){this.Init(t,e,i)};e.createSubclass(de,ie,"DvtPath"),de.prototype.Init=function(t,e,n){de.superclass.Init.call(this,t,"path",n),i.isArray(e)?this.setCmds(Wt.getPathString(e)):this.setCmds(e)},de.prototype.getCmds=function(){return this.GetProperty("d")},de.prototype.setCmds=function(t){return t&&this.SetSvgProperty("d",t),this.SetProperty("arCmds",null),this},de.prototype.getCommands=function(){var t=this.GetProperty("arCmds");return t||(t=this.GetProperty("d")?Wt.createPathArray(this.GetProperty("d")):null,this.SetProperty("arCmds",t)),t},de.prototype.setCommands=function(t){var e=t?Wt.getPathString(t):null;return this.setCmds(e),this.SetProperty("arCmds",t),this},de.prototype.copyShape=function(){return new de(this.getCtx(),this.getCmds())},de.prototype.GetAriaElem=function(){return qe.isTouchDevice()&&this.CreateChildGroupElem(!1,!0),de.superclass.GetAriaElem.call(this)};var ge=function(t,e,i){this.Init(t,e,i)};e.createSubclass(ge,re,"DvtPolygon"),ge.prototype.Init=function(t,e,i){ge.superclass.Init.call(this,t,"polygon",e,i)},ge.prototype.copyShape=function(){return new ge(this.getCtx(),this.getPoints())},ge.prototype.GetAriaElem=function(){return qe.isTouchDevice()&&this.CreateChildGroupElem(!1,!0),ge.superclass.GetAriaElem.call(this)};var fe=function(t,e,i){this.Init(t,e,i)};e.createSubclass(fe,re,"DvtPolyline"),fe.prototype.Init=function(t,e,i){fe.superclass.Init.call(this,t,"polyline",e,i),Gi.setAttrNullNS(this._elem,"fill","none")},fe.prototype.copyShape=function(){return new fe(this.getCtx(),this.getPoints())};var _e=function(t,e,i,n,r,o){this.Init(t,e,i,n,r,o)};e.createSubclass(_e,ie,"DvtRect"),_e._cssAttrs=["background-color","border-color","border-width"],_e.prototype.Init=function(t,e,i,n,r,o){_e.superclass.Init.call(this,t,"rect",o),this.setX(e).setY(i).setWidth(n).setHeight(r)},_e.prototype.getX=function(){return this.GetProperty("x")},_e.prototype.setX=function(t){return this.SetSvgProperty("x",t,0)},_e.prototype.getY=function(){return this.GetProperty("y")},_e.prototype.setY=function(t){return this.SetSvgProperty("y",t,0)},_e.prototype.getWidth=function(){return this.GetProperty("width")},_e.prototype.setWidth=function(t){return this.SetSvgProperty("width",null!=t?t:0)},_e.prototype.getHeight=function(){return this.GetProperty("height")},_e.prototype.setHeight=function(t){return this.SetSvgProperty("height",null!=t?t:0)},_e.prototype.getRx=function(){return this.GetProperty("rx")},_e.prototype.setRx=function(t){return this.SetSvgProperty("rx",t)},_e.prototype.getRy=function(){return this.GetProperty("ry")},_e.prototype.setRy=function(t){return this.SetSvgProperty("ry",t)},_e.prototype.setCSSStyle=function(t){_e.superclass.setCSSStyle.call(this,t);var e=this._elem;if(t){var i=t.getStyle("background-color");if(i&&Gi.setAttrNullNS(e,"fill",i),i=t.getStyle("border-color"),i&&Gi.setAttrNullNS(e,"stroke",i),i=t.getStyle("border-width"),i&&Gi.setAttrNullNS(e,"stroke-width",i),i=t.getStyle("border-radius")){var r=n.trim(i).split(" ");r.length>0&&r[0]&&this.setRx(r[0]),r.length>1&&r[1]&&this.setRy(r[1])}}else Gi.removeAttrNullNS(this._elem,"style")},_e.prototype.setPos=function(t,e){this.setX(t).setY(e)},_e.prototype.setCornerRadius=function(t,e){this.setRx(t).setRy(e)},_e.prototype.setRect=function(t,e,i,n){t instanceof gt?this.setX(t.x).setY(t.y).setWidth(t.w).setHeight(t.h):this.setX(t).setY(e).setWidth(i).setHeight(n)},_e.prototype.copyShape=function(){var t=new _e(this.getCtx(),this.getX(),this.getY(),this.getWidth(),this.getHeight());return t.setRx(this.getRx()).setRy(this.getRy()),t},_e.prototype.getDimensionsSelf=function(t){var e=new gt(this.getX(),this.getY(),this.getWidth(),this.getHeight());return this.ConvertCoordSpaceRect(e,t)};var ve=function(t,e,i,n,r){this.Init(t,e,i,n,r)};e.createSubclass(ve,ie,"DvtOutputText"),ve.ELLIPSIS="",ve.REPRESENTATIVE_TEXT="MW",ve.BIDI_ZERO_WIDTH="",ve.H_ALIGN_LEFT="left",ve.H_ALIGN_CENTER="center",ve.H_ALIGN_RIGHT="right",ve.V_ALIGN_TOP="top",ve.V_ALIGN_MIDDLE="middle",ve.V_ALIGN_BOTTOM="bottom",ve.V_ALIGN_AUTO="auto",ve.prototype.Init=function(t,e,i,n,r){ve.superclass.Init.call(this,t,"text",r),this._x=null!=i?i:0,this._baseline=null,this.alignLeft(),this.alignTop(),this.setTextString(e),this.setX(i),this.setY(n),Gi.removeAttrNullNS(this.getElem(),"fill"),qe.isRightToLeft(t)&&qe.isPlatformIE()&&Gi.setAttrNullNS(this.getElem(),"unicode-bidi","embed"),this.setAriaProperty("hidden","true")},ve.prototype.getTextString=function(){return this._textString},ve.prototype.setTextString=function(t){t=null!=t?n.trim(String(t)):"",ve.needsTextAnchorAdjustment()&&qe.isPlatformIE()&&t.charAt(0)!=ve.BIDI_ZERO_WIDTH&&(t=ve.BIDI_ZERO_WIDTH+t),this._textString=t;var e=this.getElem().firstChild;return null!==e?e.nodeValue=t:(e=document.createTextNode(t),Gi.appendChildElem(this.getElem(),e)),qe.isPlatformIE()&&this.setX(this._x),this},ve.prototype.isTruncated=function(){return null!=this.getUntruncatedTextString()},ve.prototype.getUntruncatedTextString=function(){return this._untruncatedTextString},ve.prototype.setUntruncatedTextString=function(t){t!=this.getTextString()&&(this._untruncatedTextString=t)},ve.prototype.getX=function(){var t;return t=qe.isPlatformIE()?this._x:this.GetProperty("x"),t?t:0},ve.prototype.setX=function(t){return this._x=null!=t?t:0,qe.isPlatformIE()?this.SetSvgProperty("x",this._x+this._getIEAlignmentOffset(),0):this.SetSvgProperty("x",t,0)},ve.prototype._getIEAlignmentOffset=function(){var t=this.getHorizAlignment(),e=qe.isRightToLeft();return t==ve.H_ALIGN_LEFT?e?this.measureDimensions().w:0:t==ve.H_ALIGN_CENTER?e?this.measureDimensions().w/2:-this.measureDimensions().w/2:t==ve.H_ALIGN_RIGHT?e?0:-this.measureDimensions().w:void 0},ve.prototype.getY=function(){var t=this.GetProperty("y");return t?t:0},ve.prototype.setY=function(t){return this.SetSvgProperty("y",t,0)},ve.prototype.setFontSize=function(t){var e=this.getCSSStyle();e=e?e.clone():new Ae,e.setFontSize(Ae.FONT_SIZE,String(t)),this.setCSSStyle(e)},ve.prototype.getHorizAlignment=function(){return this._horizAlign},ve.prototype.setHorizAlignment=function(t){t==ve.H_ALIGN_LEFT?this.alignLeft():t==ve.H_ALIGN_CENTER?this.alignCenter():t==ve.H_ALIGN_RIGHT&&this.alignRight()},ve.prototype.getVertAlignment=function(){return this._vertAlign},ve.prototype.setVertAlignment=function(t){t==ve.V_ALIGN_TOP?this.alignTop():t==ve.V_ALIGN_MIDDLE?this.alignMiddle():t==ve.V_ALIGN_BOTTOM?this.alignBottom():t==ve.V_ALIGN_AUTO&&this.alignAuto()},ve.prototype.alignLeft=function(){if(this._horizAlign!=ve.H_ALIGN_LEFT)if(this._horizAlign=ve.H_ALIGN_LEFT,qe.isPlatformIE())this.setX(this._x);else{var t=ve.needsTextAnchorAdjustment();Gi.setAttrNullNS(this.getElem(),"text-anchor",t?"end":"start","start")}},ve.prototype.alignCenter=function(){this._horizAlign!=ve.H_ALIGN_CENTER&&(this._horizAlign=ve.H_ALIGN_CENTER,qe.isPlatformIE()?this.setX(this._x):Gi.setAttrNullNS(this.getElem(),"text-anchor","middle","start"))},ve.prototype.alignRight=function(){if(this._horizAlign!=ve.H_ALIGN_RIGHT)if(this._horizAlign=ve.H_ALIGN_RIGHT,qe.isPlatformIE())this.setX(this._x);else{var t=ve.needsTextAnchorAdjustment();Gi.setAttrNullNS(this.getElem(),"text-anchor",t?"start":"end","start")}},ve.prototype.alignTop=function(){this._vertAlign!=ve.V_ALIGN_TOP&&(this._vertAlign==ve.V_ALIGN_BOTTOM&&qe.isBrowserSafari()&&this.SetBaseline(0),this._vertAlign=ve.V_ALIGN_TOP,qe.isPlatformIE()?this.SetBaseline(1):this.SetDominantBaselineAttr("text-before-edge"))},ve.prototype.alignMiddle=function(){this._vertAlign!=ve.V_ALIGN_MIDDLE&&(this._vertAlign==ve.V_ALIGN_BOTTOM&&qe.isBrowserSafari()&&this.SetBaseline(0),this._vertAlign=ve.V_ALIGN_MIDDLE,qe.isPlatformIE()?this.SetBaseline(.4):this.SetDominantBaselineAttr("middle"))},ve.prototype.alignBottom=function(){this._vertAlign!=ve.V_ALIGN_BOTTOM&&(this._vertAlign=ve.V_ALIGN_BOTTOM,qe.isPlatformIE()?this.SetBaseline(-.2):qe.isBrowserSafari()?(this.SetBaseline(-.2),this.SetDominantBaselineAttr(null)):this.SetDominantBaselineAttr("text-after-edge"))},ve.prototype.alignAuto=function(){this._vertAlign!=ve.V_ALIGN_AUTO&&(this._vertAlign==ve.V_ALIGN_BOTTOM&&qe.isBrowserSafari()&&this.SetBaseline(0),this._vertAlign=ve.V_ALIGN_AUTO,qe.isPlatformIE()?this.SetBaseline(0):this.SetDominantBaselineAttr(null))},ve.prototype.SetBaseline=function(t){this._baseline=t,this.setMatrix(this.getMatrix())},ve.prototype.SetDominantBaselineAttr=function(t){t?Gi.setAttrNullNS(this.getElem(),"dominant-baseline",t):Gi.removeAttrNullNS(this.getElem(),"dominant-baseline")},ve.prototype.setCSSStyle=function(t){ve.superclass.setCSSStyle.call(this,t);var e=this.getOuterElem();if(t){var i=t.getStyle("color"),n=X.fixColorForPlatform(i);n&&n.color&&(Gi.setAttrNullNS(e,"fill",n.color),null!=n.alpha&&Gi.setAttrNullNS(e,"fill-opacity",n.alpha,1)),i=t.getStyle("font-family"),i&&!this.getCtx().isDefaultFontFamily(i)?Gi.setAttrNullNS(e,"font-family",i):Gi.removeAttrNullNS(e,"font-family"),i=t.getStyle("font-size"),i&&i!=this.getCtx().getDefaultFontSize()?(Gi.setAttrNullNS(e,"font-size",i),(qe.isPlatformIE()||qe.isBrowserSafari())&&this.setMatrix(this.getMatrix())):Gi.removeAttrNullNS(e,"font-size"),i=t.getStyle("font-style"),i&&Gi.setAttrNullNS(e,"font-style",i),i=t.getStyle("font-weight"),i&&Gi.setAttrNullNS(e,"font-weight",i),i=t.getStyle("text-decoration"),i&&Gi.setAttrNullNS(e,"text-decoration",i),i=t.getStyle("cursor"),i&&Gi.setAttrNullNS(e,"cursor",i),qe.isPlatformIE()&&this.setX(this._x)}},ve.prototype._getBaselineTranslation=function(){var t=0;if(null!=this._baseline){var e;this._textString&&!this._isRepresentativeText()?e=$t.getTextStringHeight(this.getCtx(),this.getCSSStyle()):(e=Gi.getAttrNullNS(this.getElem(),"font-size"),e||(e=Gi.getAttrNullNS(this.getOuterElem(),"font-size")),(!e||isNaN(e)&&-1==e.indexOf("px"))&&(e=Ee.DEFAULT_FONT_SIZE)),t=this._baseline*parseFloat(e)}return t},ve.prototype._getBaselineAdjustedMatrix=function(t){if(null!=this._baseline){t||(t=new pt);var e=new pt(null,null,null,null,null,this._getBaselineTranslation());e.concat(t),t=e}return t},ve.prototype.setMatrix=function(t){(qe.isPlatformIE()||qe.isBrowserSafari())&&(this._matrixForIE=t,t=this._getBaselineAdjustedMatrix(t)),ve.superclass.setMatrix.call(this,t)},ve.prototype.getMatrix=function(){var t=null;return(qe.isPlatformIE()||qe.isBrowserSafari())&&(t=this._matrixForIE),t||(t=ve.superclass.getMatrix.call(this)),t},ve.prototype._isRepresentativeText=function(){return this._textString==ve.REPRESENTATIVE_TEXT||this._textString==ve.BIDI_ZERO_WIDTH||this._textString==ve.BIDI_ZERO_WIDTH+ve.REPRESENTATIVE_TEXT},ve.prototype.GetSvgDimensions=function(){var t=ve.superclass.GetSvgDimensions.call(this);return t&&(t.y+=this._getBaselineTranslation()),this._isRepresentativeText()||(t.h=$t.getTextStringHeight(this.getCtx(),this.getCSSStyle())),t},ve.prototype.UpdateSelectionEffect=function(){},ve.prototype.getOptimalFontSize=function(t){for(var e=Math.max(Math.min(t.w/this.getTextString().length,t.h/2),9);51>e;e+=1){this.setFontSize(e);var i=this.measureDimensions();if(i.w>t.w||i.h>t.h)return Math.min(e-1,50)}return 50},ve.prototype.measureDimensions=function(t){var e=null!=this.getTextString()?this.getTextString():"",i=this.getHorizAlignment(),n=this.getVertAlignment();ve._cache||(ve._cache=new $e);var r=this.getCSSStyle(),o=null!=r?r.hashCodeForTextMeasurement():"",s=e.length>0?e+o:"";n===ve.V_ALIGN_AUTO&&(s+=ve.V_ALIGN_AUTO);var a,l=ve._cache.get(s);if(null!=l)a=new gt(l.x+this.getX(),l.y+this.getY(),l.w,l.h);else{var u=qe.isRightToLeft(this.getCtx());qe.isPlatformIE()?u&&Gi.setAttrNullNS(this.getElem(),"unicode-bidi",null):this.alignLeft(),n!==ve.V_ALIGN_AUTO&&this.alignTop();for(var h=!1,c=this.getCtx().getStage(),p=this.getParent();p;){if(p==c){h=!0;break}p=p.getParent()}if(h&&(a=this.GetSvgDimensions()),a||(a=new gt(0,0,0,0)),a.w<=0&&a.h<=0&&e.length>0){var d,g=this.getParent();g&&(d=g.getChildIndex(this)),c.addChild(this),a=this.GetSvgDimensions(),c.removeChild(this),g&&g.addChildAt(this,d)}qe.isPlatformIE()?(u&&Gi.setAttrNullNS(this.getElem(),"unicode-bidi","embed"),i===ve.H_ALIGN_RIGHT?a.x+=a.w:i===ve.H_ALIGN_CENTER&&(a.x+=a.w/2)):this.setHorizAlignment(i),this.setVertAlignment(n),l=new gt(a.x-this.getX(),a.y-this.getY(),a.w,a.h),ve._cache.put(s,l)}return i===ve.H_ALIGN_RIGHT?a.x-=a.w:i===ve.H_ALIGN_CENTER&&(a.x-=a.w/2),n===ve.V_ALIGN_BOTTOM?a.y-=a.h:n===ve.V_ALIGN_MIDDLE&&(a.y-=a.h/2),t&&t!==this?this.ConvertCoordSpaceRect(a,t):a},ve.prototype.copyShape=function(){var t=new ve(this.getCtx(),this.getTextString(),this.getX(),this.getY());return t.setCSSStyle(this.getCSSStyle()),t.setHorizAlignment(this.getHorizAlignment()),t.setVertAlignment(this.getVertAlignment()),t},ve.prototype.addChild=function(t){if(qe.isEnvironmentTest()){print("DvtOutputText.prototype.addChild: Text should not be used as a shape container.");var e=null;e.errorShouldOccurDueToInvalidAddChild()}},ve.needsTextAnchorAdjustment=function(){return qe.isRightToLeft()&&!qe.isEnvironmentBatik()},ve.prototype.getDimensionsSelf=function(t){return this.measureDimensions(t)},ve.getCachedDimensions=function(t,e){var i=null!=e?e.hashCodeForTextMeasurement():"",n=t.length>0?t+i:"";return ve._cache?ve._cache.get(n):null};var me=function(t,e,i,n,r,o){this.Init(t,e,i,n,r,o)};e.createSubclass(me,te,"DvtBackgroundOutputText"),me._PADDING=.15,me.prototype.Init=function(t,e,i,n,r,o){me.superclass.Init.call(this,t,"g",o),this.TextInstance=this.CreateTextInstance(t,e,i,n,o),this._backgroundRect=null,r&&this.setCSSStyle(r),this.addChild(this.TextInstance)},me.prototype.getTextString=function(){return this.TextInstance.getTextString()},me.prototype.setTextString=function(t){return this.TextInstance.setTextString(t),this},me.prototype.isTruncated=function(){return this.TextInstance.isTruncated()},me.prototype.getUntruncatedTextString=function(){return this.TextInstance.getUntruncatedTextString()},me.prototype.setUntruncatedTextString=function(t){this.TextInstance.setUntruncatedTextString(t)},me.prototype.getX=function(){return this.TextInstance.getX()},me.prototype.setX=function(t){return this.TextInstance=this.TextInstance.setX(t),this._realignBackground(),this},me.prototype.getY=function(){return this.TextInstance.getY()},me.prototype.setY=function(t){return this.TextInstance=this.TextInstance.setY(t),this._realignBackground(),this},me.prototype.setFontSize=function(t){this.TextInstance.setFontSize(t),this._style.setFontSize(Ae.FONT_SIZE,String(t)),this._realignBackground()},me.prototype.getHorizAlignment=function(){return this.TextInstance.getHorizAlignment()},me.prototype.setHorizAlignment=function(t){this.TextInstance.setHorizAlignment(t),this._realignBackground()},me.prototype.getVertAlignment=function(){return this.TextInstance.getVertAlignment()},me.prototype.setVertAlignment=function(t){this.TextInstance.setVertAlignment(t),this._realignBackground()},me.prototype.alignLeft=function(){this.TextInstance.alignLeft(),this._realignBackground()},me.prototype.alignCenter=function(){this.TextInstance.alignCenter(),this._realignBackground()},me.prototype.alignRight=function(){this.TextInstance.alignRight(),this._realignBackground()},me.prototype.alignTop=function(){this.TextInstance.alignTop(),this._realignBackground()},me.prototype.alignMiddle=function(){this.TextInstance.alignMiddle(),this._realignBackground()},me.prototype.alignBottom=function(){this.TextInstance.alignBottom(),this._realignBackground()},me.prototype.alignAuto=function(){this.TextInstance.alignAuto(),this._realignBackground()},me.prototype.setCSSStyle=function(t){t.getStyle(Ae.BACKGROUND_COLOR)&&!t.getStyle(Ae.COLOR)&&t.setStyle(Ae.COLOR,X.getContrastingTextColor(t.getStyle(Ae.BACKGROUND_COLOR))),this.TextInstance&&this.TextInstance.setCSSStyle(t),(this._backgroundRect||me._hasBackgroundStyles(t))&&(this._backgroundRect||(this._backgroundRect=this.CreateBackground(this.getCtx(),this.TextInstance),this.addChildAt(this._backgroundRect,0)),this._setBackgroundCSSStyle(this._backgroundRect,t)),this._style=t},me.prototype.getCSSStyle=function(){return this._style},me.prototype.setMatrix=function(t){this.TextInstance.setMatrix(t),this._backgroundRect.setMatrix(t)},me.prototype.getMatrix=function(){return this.TextInstance.getMatrix()},me.prototype.getOptimalFontSize=function(t){return this.TextInstance.getOptimalFontSize(t)},me.prototype.measureDimensions=function(t){return this.getDimensions(t)},me.prototype.getTextDimensions=function(t){return this.TextInstance.getDimensions(t)},me.prototype.getDimensions=function(t){var e=this.TextInstance.getDimensions(t),i=e.h*me._PADDING;return e.x-=i,e.w+=2*i,e},me.prototype.copyShape=function(){return this.TextInstance.copyShape()},me.needsTextAnchorAdjustment=function(t){return this.TextInstance.needsTextAnchorAdjustment(t)},me.getCachedDimensions=function(t,e){return this.TextInstance.getCachedDimensions(t,e)},me.prototype.CreateTextInstance=function(t,e,i,n,r){return new ve(t,e,i,n,r)},me.prototype.CreateBackground=function(t,e){var i=e.getDimensions(),n=i.h*me._PADDING;return new _e(t,i.x-n,i.y,i.w+2*n,i.h)},me.prototype._realignBackground=function(){if(this._backgroundRect){var t=this.TextInstance.getDimensions(),e=.15*t.h,i=this.getHorizAlignment(),n=this.getVertAlignment();i==ve.H_ALIGN_LEFT?this._backgroundRect.setX(this.getX()-e):i==ve.H_ALIGN_CENTER?this._backgroundRect.setX(this.getX()-.5*t.w-e):i==ve.H_ALIGN_RIGHT&&this._backgroundRect.setX(this.getX()-t.w-e);var r=parseFloat(this._style.getFontSize());isNaN(r)&&(r=0);var o=0;(qe.isBrowserChrome()||qe.isEnvironmentTest())&&n==ve.V_ALIGN_MIDDLE?o=.12*r:qe.isPlatformIE()&&n==ve.V_ALIGN_BOTTOM&&(o=.4*-r);var s=this.GetTextDimensionsForRealign(t);n==ve.V_ALIGN_TOP?this._backgroundRect.setY(this.getY()):n==ve.V_ALIGN_MIDDLE?this._backgroundRect.setY(this.getY()-.5*s-o):n==ve.V_ALIGN_BOTTOM?this._backgroundRect.setY(this.getY()-s-o):n==ve.V_ALIGN_AUTO&&this._backgroundRect.setY(t.y),this._backgroundRect.setWidth(t.w+2*e),this._backgroundRect.setHeight(t.h)}},me.prototype._setBackgroundCSSStyle=function(t,e){if(e){var i=e.getStyle(Ae.BACKGROUND_COLOR);null!=i?t.setSolidFill(i):t.setInvisibleFill();var n=e.getStyle(Ae.BORDER_COLOR),r=e.getStyle(Ae.BORDER_WIDTH),o=e.getStyle(Ae.BORDER_RADIUS);if(n||r||o){var s=new Ae;s.setStyle(Ae.BORDER_COLOR,n),s.setStyle(Ae.BORDER_WIDTH,r),s.setStyle(Ae.BORDER_RADIUS,o),t.setCSSStyle(s)}}else t.setInvisibleFill();t.setMouseEnabled(!1)},me.prototype.GetTextDimensionsForRealign=function(t){return t.h},me._hasBackgroundStyles=function(t){return t?!!(t.getStyle(Ae.BORDER_COLOR)||t.getStyle(Ae.BORDER_WIDTH)||t.getStyle(Ae.BORDER_RADIUS)||t.getStyle(Ae.BACKGROUND_COLOR)):!1};var ye=function(t,e,i,n,r){this.Init(t,e,i,n,r)};e.createSubclass(ye,te,"DvtMultilineText"),ye._LINE_SPACE=0,ye.H_ALIGN_LEFT="left",ye.H_ALIGN_CENTER="center",ye.H_ALIGN_RIGHT="right",ye.V_ALIGN_TOP="top",ye.V_ALIGN_MIDDLE="middle",ye.V_ALIGN_BOTTOM="bottom",ye.prototype.Init=function(t,e,i,n,r){ye.superclass.Init.call(this,t,null,r),this._textInstance=null,this._additionalLines=[],this._lineHeight=null,this._yCoord=null,this._noWrap=!1,this.setTextString(e),this.setX(i?i:0),this.setY(n?n:0),this.setMaxLines(1/0)},ye.prototype.getTextString=function(){return this._textString},ye.prototype.setTextString=function(t){this._textString=null!=t?String(t):null,this._textInstance?(this._textInstance.setTextString(t),this._removeAdditionalLines()):(this._textInstance=new ve(this.getCtx(),this._textString),this.addChild(this._textInstance)),this._bTruncated=!1},ye.prototype._getTextLines=function(){var t=this._additionalLines.slice();return this._textInstance.getParent()==this&&t.unshift(this._textInstance),t},ye.prototype.getX=function(){return this._textInstance.getX()},ye.prototype.setX=function(t){return i.forEach(this._getTextLines(),function(e){e.setX(t)}),this},ye.prototype.getY=function(){return this._textInstance.getY()},ye.prototype.getYAlignCoord=function(){return this._yCoord},ye.prototype.setY=function(t){if(this._yCoord=t,this._vertAlign)this._alignVerticalText();else{var e=t-this._textInstance.getY();e||(e=t),i.forEach(this._getTextLines(),function(t){var i=t.getY();t.setY(i?i+e:e)})}return this},ye.prototype.getMaxLines=function(){return this.GetProperty("maxLines")},ye.prototype.setMaxLines=function(t){return t>0?this.SetProperty("maxLines",t):void 0},ye.prototype.isTruncated=function(){return this._bTruncated},ye.prototype.getHorizAlignment=function(){return this._textInstance.getHorizAlignment()},ye.prototype.setHorizAlignment=function(t){return i.forEach(this._getTextLines(),function(e){e.setHorizAlignment(t)}),this},ye.prototype.alignLeft=function(){this._horizAlign!=ye.H_ALIGN_LEFT&&(this._horizAlign=ye.H_ALIGN_LEFT,i.forEach(this._getTextLines(),function(t){t.alignLeft()}))},ye.prototype.alignCenter=function(){this._horizAlign!=ye.H_ALIGN_CENTER&&(this._horizAlign=ye.H_ALIGN_CENTER,i.forEach(this._getTextLines(),function(t){t.alignCenter()}))},ye.prototype.alignRight=function(){this._horizAlign!=ye.H_ALIGN_RIGHT&&(this._horizAlign=ye.H_ALIGN_RIGHT,i.forEach(this._getTextLines(),function(t){t.alignRight()}))},ye.prototype.alignTop=function(){this._vertAlign!=ye.V_ALIGN_TOP&&(this._vertAlign=ye.V_ALIGN_TOP,this._alignVerticalText(),i.forEach(this._getTextLines(),function(t){t.alignTop()}))},ye.prototype.alignMiddle=function(){this._vertAlign!=ye.V_ALIGN_MIDDLE&&(this._vertAlign=ye.V_ALIGN_MIDDLE,this._alignVerticalText(),i.forEach(this._getTextLines(),function(t){t.alignMiddle()}))},ye.prototype.alignBottom=function(){this._vertAlign!=ye.V_ALIGN_BOTTOM&&(this._vertAlign=ye.V_ALIGN_BOTTOM,this._alignVerticalText(),i.forEach(this._getTextLines(),function(t){t.alignBottom()}))},ye.prototype._alignVerticalText=function(){if(this._vertAlign)for(var t=this.getYAlignCoord(),e=this.getLineCount(),i=this.getLineHeight(),n=this._getTextLines(),r=0,o=0;o<n.length;o++){var s=n[o];if(this._vertAlign==ye.V_ALIGN_TOP)r=i*o;else if(this._vertAlign==ye.V_ALIGN_MIDDLE){var a=i*(e-1);r=i*o-a/2}else this._vertAlign==ye.V_ALIGN_BOTTOM&&(r=-i*(e-o-1));s.setY(t+r)}},ye.prototype.getCSSStyle=function(){return this._textInstance.getCSSStyle()},ye.prototype.setCSSStyle=function(t){return i.forEach(this._getTextLines(),function(e){e.setCSSStyle(t)}),this},ye.prototype.copyShape=function(){var t=new ye(this.getCtx(),this.getTextString(),this.getX(),this.getY());return t.setCSSStyle(this.getCSSStyle()).setHorizAlignment(this.getHorizAlignment()).setMaxLines(this.getMaxLines()),t},ye.prototype._removeAdditionalLines=function(){for(var t=0;t<this._additionalLines.length;t++)this.removeChild(this._additionalLines[t]);this._additionalLines=[]},ye.prototype.__fitText=function(t,e,i){return this._textInstance.setTextString(this.getTextString()),this._removeAdditionalLines(),$t.fitText(this._textInstance,t,e,this,i)?this._textInstance.isTruncated()&&this.isWrapEnabled()?this.wrapText(t,e,i,!1):!0:(this.getParent().removeChild(this),!1)},ye.prototype.wrapText=function(t,e,i,n){var r=this.getLineHeight(),o=r*ye._LINE_SPACE,s=this.getMaxLines(),a=Math.min(e,s*(r+o)-o)-r-o;this.getLineCount()>1&&this._removeAdditionalLines();var l=this.getTextString().split(" ");l.reverse();for(var u=this._textInstance,h=null;l.length>0;){var c=l.pop(),p=h?h+" "+c:c;if(u.setTextString(p),u.setUntruncatedTextString(null),!$t.fitText(u,t,1/0,this,i))return!0;if(u.isTruncated()){if(o+r>a)return this._bTruncated=!0,!0;if(h)u.setTextString(h),l.push(c);else{if(n)return this._textInstance.setTextString(this.getTextString()),this._removeAdditionalLines(),!1;this._bTruncated=!0}if(l.length>0){var d=u.copyShape();d.setY(u.getY()+o+r),this.addChild(d),this._additionalLines.push(d),u=d,h=null,a-=o+r}}else h=p}return!0},ye.prototype.GetSvgDimensions=function(){var t;return i.forEach(this._getTextLines(),function(e){t=t?t.getUnion(e.measureDimensions()):e.measureDimensions()}),t?t:new gt(0,0,0,0)},ye.prototype.getLineCount=function(){return this._additionalLines.length+1},ye.prototype.getLineHeight=function(){return this._lineHeight||(this._lineHeight=this._textInstance.measureDimensions().h),this._lineHeight},ye.prototype.setWrapEnabled=function(t){0==t&&(this._textInstance.getParent()!=this&&this.addChild(this._textInstance),this._textInstance.getTextString()||this._textInstance.setTextString(this.getTextString()),this._removeAdditionalLines()),this._noWrap=!t},ye.prototype.isWrapEnabled=function(){return 0==this._noWrap},ye.prototype.getUntruncatedTextString=function(){return this.isTruncated()?this.getTextString():null},ye.prototype.setUntruncatedTextString=function(t){},ye.prototype.measureDimensions=function(){return this.GetSvgDimensions()},ye.prototype.getDimensions=function(){return this.GetSvgDimensions()},ye.prototype.UpdateSelectionEffect=function(){},ye.prototype.getHorizAlignment=function(){return this._horizAlign},ye.prototype.setHorizAlignment=function(t){t==ye.H_ALIGN_LEFT?this.alignLeft():t==ye.H_ALIGN_CENTER?this.alignCenter():t==ye.H_ALIGN_RIGHT&&this.alignRight()},ye.prototype.getVertAlignment=function(){return this._vertAlign},ye.prototype.setVertAlignment=function(t){t==ye.V_ALIGN_TOP?this.alignTop():t==ye.V_ALIGN_MIDDLE?this.alignMiddle():t==ye.V_ALIGN_BOTTOM&&this.alignBottom();
};var Se=function(t,e,i,n,r,o){this.Init(t,e,i,n,r,o)};e.createSubclass(Se,me,"DvtBackgroundMultilineText"),Se.prototype.Init=function(t,e,i,n,r,o){Se.superclass.Init.call(this,t,e,i,n,r,o)},Se.prototype.wrapText=function(t,e,i,n){return this.TextInstance.wrapText(t,e,i,n)},Se.prototype.CreateTextInstance=function(t,e,i,n,r){return new ye(t,e,i,n,r)},Se.prototype.GetTextDimensionsForRealign=function(){return this.getLineHeight()},Se.prototype.measureDimensions=function(){return this.TextInstance.measureDimensions()},Se.prototype.__fitText=function(t,e,i){return this.TextInstance.__fitText(t,e,i)},Se.prototype._getTextLines=function(){return this.TextInstance._getTextLines()},Se.prototype.getLineHeight=function(){return this.TextInstance.getLineHeight()},Se.prototype.getLineCount=function(){return this.TextInstance.getLineCount()},Se.prototype.getYAlignCoord=function(){return this.TextInstance.getYAlignCoord()},Se.prototype.setWrapEnabled=function(t){this.TextInstance.setWrapEnabled(t)},Se.prototype.isWrapEnabled=function(){return this.TextInstance.isWrapEnabled()},Se.prototype.UpdateSelectionEffect=function(){};var Ee=function(){};e.createSubclass(Ee,e,"DvtStyleUtils"),Ee.DEFAULT_FONT_FAMILY="Tahoma,Verdana,Helvetica,sans-serif",Ee.DEFAULT_FONT_SIZE="11px",Ee.DEFAULT_FONT_COLOR="black",Ee.getStyle=function(t,e,i){return t&&null!==t[e]&&"undefined"!=typeof t[e]?t[e]:i},Ee.setStyle=function(t,e,i){t&&null!==i&&"undefined"!=typeof i&&(t[e]=i)},Ee.getShadow=function(t){var e=null;if(null!=t&&"none"!=t){var i,n=0,r=0,o=0,s=t.replace(/, /g,",").split(" ");if(null==t.match(/rgb/i)&&(s[s.length]="rgba(0, 0, 0, 0.2)"),s.length<3)return null;for(var a=0;a<s.length;a++)0==a?n=parseInt(s[0]):1==a?r=parseInt(s[1]):2==a&&null==s[a].match(/rgb/i)?o=parseInt(s[a]):s[a].match(/rgb/i)&&(i=s[a]);var l=Math.sqrt(n*n+r*r),u=180*Math.atan2(r,n)/Math.PI;e=new nt(i,l,o,o,u,1,3,!1,!1,!1)}return e},Ee.getTimeMilliseconds=function(t){return"string"==typeof t&&(t="ms"==t.slice(-2)?parseInt(t.slice(0,-2)):"s"==t.slice(-1)?1e3*parseFloat(t.slice(0,-1)):parseInt(t)),t};var Te=function(t){this.Init(t)};e.createSubclass(Te,e,"DvtCSSGradient"),Te.LINEAR=0,Te.RADIAL=1,Te.prototype.Init=function(t){this._type=t},Te.prototype.getGradientType=function(){return this._type},Te.prototype.getAlphas=function(){return this._arAlphas},Te.prototype.setAlphas=function(t){this._arAlphas=t},Te.prototype.getColors=function(){return this._arColors},Te.prototype.setColors=function(t){this._arColors=t},Te.prototype.getRatios=function(){return this._arRatios},Te.prototype.setRatios=function(t){this._arRatios=t};var be=function(){this.Init()};e.createSubclass(be,Te,"DvtLinearGradient"),be.LEFT=0,be.BOTTOM_LEFT=45,be.BOTTOM=90,be.BOTTOM_RIGHT=135,be.RIGHT=180,be.TOP_RIGHT=225,be.TOP=270,be.TOP_LEFT=315,be.prototype.Init=function(){be.superclass.Init.call(this,Te.LINEAR)},be.prototype.getAngle=function(){return this._angle},be.prototype.setAngle=function(t){this._angle=t};var Ce=function(){};e.createSubclass(Ce,e,"DvtGradientParser"),Ce.WEBKIT_GD_LINEAR="-webkit-linear-gradient",Ce.FIREFOX_GD_LINEAR="-moz-linear-gradient",Ce.IE_GD_LINEAR="progid:DXImageTransform.Microsoft.gradient",Ce.IE_GD_LINEAR2="progid:DXImageTransform.Microsoft.Gradient",Ce.IE7_GD_FILTER="filter",Ce.IE8_GD_FILTER="-ms-filter",Ce.IE10_GD_LINEAR="-ms-linear-gradient",Ce.IE_GD_START_COLOR_STR="startColorstr",Ce.IE_GD_END_COLOR_STR="endColorstr",Ce.IE_GD_GRADIENT_TYPE="GradientType",Ce.OLD_WEBKIT_GD_LINEAR="-webkit-gradient",Ce.GD_LINEAR="linear-gradient",Ce.GD_RADIAL="radial-gradient",Ce.GD_TOP="top",Ce.GD_BOTTOM="bottom",Ce.GD_LEFT="left",Ce.GD_RIGHT="right",Ce.GD_CENTER="center",Ce.GD_TO="to",Ce.parseCSSGradient=function(t){if(null!=t){if(t=n.trim(t),Ce._startsWith(t,Ce.WEBKIT_GD_LINEAR))return t=Ce._removeParenthesis(t,Ce.WEBKIT_GD_LINEAR),Ce._parseLinearGradient(t);if(Ce._startsWith(t,Ce.FIREFOX_GD_LINEAR))return t=Ce._removeParenthesis(t,Ce.FIREFOX_GD_LINEAR),Ce._parseLinearGradient(t);if(Ce._startsWith(t,Ce.IE_GD_LINEAR))return t=Ce._removeParenthesis(t,Ce.IE_GD_LINEAR),Ce._parseIELinearGradient(t);if(Ce._startsWith(t,Ce.IE_GD_LINEAR2))return t=Ce._removeParenthesis(t,Ce.IE_GD_LINEAR2),Ce._parseIELinearGradient(t);if(Ce._startsWith(t,Ce.IE10_GD_LINEAR))return t=Ce._removeParenthesis(t,Ce.IE10_GD_LINEAR),Ce._parseLinearGradient(t);if(Ce._startsWith(t,Ce.GD_LINEAR))return t=Ce._removeParenthesis(t,Ce.GD_LINEAR),Ce._parseLinearGradient(t)}return null},Ce._parseLinearGradient=function(t){var e=new RegExp("(-?(?:\\d*\\.)?\\d+)"),i=new RegExp("(deg|rad|grad|turn)"),n=new RegExp("(left|right)"),r=new RegExp("(top|bottom)"),o=new RegExp("(?:(to)\\s+)"),s=new RegExp("(?:"+e.source+i.source+")"),a=new RegExp("(?:"+n.source+"(?:\\s+"+r.source+")?)"),l=new RegExp("(?:"+r.source+"(?:\\s+"+n.source+")?)"),u=new RegExp("(?:"+a.source+"|"+l.source+")"),h=new RegExp("(?:"+s.source+"|(?:"+o.source+"?"+u.source+"))"),c=new RegExp("(?:\\s*"+h.source+"\\s*,\\s*)","i"),p=t.match(c);if(null==p||0==p.length)return null;var d=(p.length,new be),g=p[5]==Ce.GD_TOP||p[6]==Ce.GD_TOP,f=p[5]==Ce.GD_BOTTOM||p[6]==Ce.GD_BOTTOM,_=p[4]==Ce.GD_LEFT||p[7]==Ce.GD_LEFT,v=p[4]==Ce.GD_RIGHT||p[7]==Ce.GD_RIGHT,m=p[3]==Ce.GD_TO;if(m&&((g||f)&&(g=!g,f=!f),(_||v)&&(_=!_,v=!v)),g)_?d.setAngle(be.TOP_LEFT):v?d.setAngle(be.TOP_RIGHT):d.setAngle(be.TOP);else if(f)_?d.setAngle(be.BOTTOM_LEFT):v?d.setAngle(be.BOTTOM_RIGHT):d.setAngle(be.BOTTOM);else if(_)d.setAngle(be.LEFT);else if(v)d.setAngle(be.RIGHT);else if(p[2]){var s=parseFloat(p[1]);isNaN(s)||("grad"==p[2]?s=s/200*180:"rad"==p[2]?s=s/Math.PI*180:"turn"==p[2]&&(s=s/.5*180),d.setAngle(s))}return t=t.substring(p[0].length),Ce._parseCSSColorStops(t,d),d},Ce._parseIELinearGradient=function(t){var e,i=t.split(","),r=i.length,o=[],s=new be;s.setAngle(be.TOP);for(var a=0;r>a;a++)e=n.trim(i[a]).split("="),2==e.length&&(e[0]=n.trim(e[0]),e[0]==Ce.IE_GD_START_COLOR_STR?o[0]=Ce.removeQuotes(e[1],Ae.SINGLE_QUOTE):e[0]==Ce.IE_GD_END_COLOR_STR?o[1]=Ce.removeQuotes(e[1],Ae.SINGLE_QUOTE):e[0]==Ce.IE_GD_GRADIENT_TYPE&&"1"==e[1]&&s.setAngle(be.LEFT));return Ce._parseColorStops(o,s),s},Ce._parseCSSColorStops=function(t,e){var i=t.match(/(#[0-9a-f]+|rgb\(\s*(\d+),\s*(\d+),\s*(\d+)\s*\)|rgba\(\s*(\d+),\s*(\d+),\s*(\d+),\s*(\d?)(\.\d+)?\s*\)|[a-z]+)(\s+\d+\.?\d*%)?/gi);null!=i&&i.length>0&&Ce._parseColorStops(i,e)},Ce._parseColorStops=function(t,e){for(var i,r,o,s=t.length,a=[],l=[],u=[],h=!0,c=[],p=0;p<t.length;p++)o=Ae.parseBorderColor(t[p],c),i=c.pop(),l[p]=i,a[p]=X.getAlpha(i),o=n.trim(o),o.length>0&&(r=parseFloat(o),isNaN(r)||n.endsWith(o,"%")&&(u[p]=r/100,h=!1));if(s>1&&h)for(var d=0;s>d;d++)u[d]=d/(s-1);else h&&(u[0]=0);e.setColors(l),e.setAlphas(a),e.setRatios(u)},Ce._removeParenthesis=function(t,e){return")"!=t.charAt(t.length-1)?null:(t=t.substring(e.length),Ce.removeQuotes(t,"(",")"))},Ce.removeQuotes=function(t,e,i){if(t=n.trim(t),t.charAt(0)!=e)return t;null==i&&(i=e);var r=1,o=t.lastIndexOf(i);return 0>o?t.substring(r):t.substring(r,o)},Ce._startsWith=function(t,e){return 0==t.indexOf(e)};var Ae=function(t){this.Init(t)};e.createSubclass(Ae,e,"DvtCSSStyle"),Ae.SKIN_FUSION="fusion",Ae.SKIN_SKYROS="skyros",Ae.SKIN_ALTA="alta",Ae.SKIN_NEXT="next",Ae.BACKGROUND="background",Ae.BACKGROUND_COLOR="background-color",Ae.BACKGROUND_IMAGE="background-image",Ae.BACKGROUND_REPEAT="background-repeat",Ae.BACKGROUND_POSITION="background-position",Ae.BORDER="border",Ae.BORDER_TOP="border-top",Ae.BORDER_BOTTOM="border-bottom",Ae.BORDER_LEFT="border-left",Ae.BORDER_RIGHT="border-right",Ae.BORDER_WIDTH="border-width",Ae.BORDER_TOP_WIDTH="border-top-width",Ae.BORDER_BOTTOM_WIDTH="border-bottom-width",Ae.BORDER_LEFT_WIDTH="border-left-width",Ae.BORDER_RIGHT_WIDTH="border-right-width",Ae.BORDER_COLOR="border-color",Ae.BORDER_TOP_COLOR="border-top-color",Ae.BORDER_BOTTOM_COLOR="border-bottom-color",Ae.BORDER_LEFT_COLOR="border-left-color",Ae.BORDER_RIGHT_COLOR="border-right-color",Ae.BORDER_STYLE="border-style",Ae.BORDER_RADIUS="border-radius",Ae.BORDER_TOP_LEFT_RADIUS="border-top-left-radius",Ae.BORDER_TOP_RIGHT_RADIUS="border-top-right-radius",Ae.BORDER_BOTTOM_RIGHT_RADIUS="border-bottom-right-radius",Ae.BORDER_BOTTOM_LEFT_RADIUS="border-bottom-left-radius",Ae.MARGIN="margin",Ae.MARGIN_TOP="margin-top",Ae.MARGIN_BOTTOM="margin-bottom",Ae.MARGIN_LEFT="margin-left",Ae.MARGIN_RIGHT="margin-right",Ae.PADDING="padding",Ae.PADDING_TOP="padding-top",Ae.PADDING_BOTTOM="padding-bottom",Ae.PADDING_LEFT="padding-left",Ae.PADDING_RIGHT="padding-right",Ae.COLOR="color",Ae.FONT_FAMILY="font-family",Ae.FONT_SIZE="font-size",Ae.FONT_STYLE="font-style",Ae.FONT_WEIGHT="font-weight",Ae.TEXT_DECORATION="text-decoration",Ae.TEXT_ALIGN="text-align",Ae.BORDER_BOX="border-box",Ae.CONTENT_BOX="content-box",Ae.HEIGHT="height",Ae.WIDTH="width",Ae.NONE="none",Ae.NO_REPEAT="no-repeat",Ae.REPEAT="repeat",Ae.REPEAT_X="repeat-x",Ae.REPEAT_Y="repeat-y",Ae.AUTO="auto",Ae.AUTO_MARGIN="8",Ae.BORDER_TYPE="border-type",Ae.FILL_TYPE="fill-type",Ae.CONTENT="content",Ae.INNER_COLOR="-tr-inner-color",Ae.OUTER_COLOR="-tr-outer-color",Ae.WHITE_SPACE="white-space",Ae._NAMED_FONT_SIZE_MAP={"xx-small":"9","x-small":"10",small:"13",medium:"16",large:"18","x-large":"24","xx-large":"32"},Ae._NAMED_WIDTH_MAP={thin:"2",medium:"4",thick:"6"},Ae._NAMED_COLOR_MAP={aqua:"#00FFFF",black:"#000000",blue:"#0000FF",white:"#FFFFFF",fuchsia:"#FF00FF",gray:"#848284",lime:"#00FF00",maroon:"#840000",green:"#008200",navy:"#000084",olive:"#848200",red:"#FF0000",silver:"#C6C3C6",teal:"#008284",yellow:"#FFFF00",purple:"#800080",cyan:"#D2B48C",goldenrod:"#DAA520",lightblue:"#ADD8E6",lightyellow:"#FFFFE0",orange:"#FFA500",paleGoldenRod:"#EEE8AA",paleturquoise:"#AFEEEE",peachpuff:"#FFDAB9",pink:"#FFC0CB",tan:"#D2B48C",thistle:"#D8BFD8",transparent:"transparent"},Ae._numericAttrsList=[Ae.WIDTH,Ae.HEIGHT,Ae.BORDER_WIDTH,Ae.BORDER_TOP_WIDTH,Ae.BORDER_BOTTOM_WIDTH,Ae.BORDER_LEFT_WIDTH,Ae.BORDER_RIGHT_WIDTH,Ae.MARGIN,Ae.MARGIN_TOP,Ae.MARGIN_BOTTOM,Ae.MARGIN_LEFT,Ae.MARGIN_RIGHT,Ae.PADDING,Ae.PADDING_TOP,Ae.PADDING_BOTTOM,Ae.PADDING_LEFT,Ae.PADDING_RIGHT],Ae._DOUBLE_QUOTE='"',Ae._SINGLE_QUOTE="'",Ae.COLORS_SKYROS=["#003366","#CC3300","#666699","#006666","#FF9900","#993366","#99CC33","#624390","#669933","#FFCC33","#006699","#EBEA79"],Ae.COLORS_ALTA=["#267db3","#68c182","#fad55c","#ed6647","#8561c8","#6ddbdb","#ffb54d","#e371b2","#47bdef","#a2bf39","#a75dba","#f7f37b"],Ae.prototype.Init=function(t){this._styleMap={},this.parseInlineStyle(t)},Ae.prototype.parseInlineStyle=function(t){if(t&&t.length>0)for(var e=t.split(";"),i=0;i<e.length;i++){var r=e[i];if(r&&r.length>0){var o=r.indexOf(":");if(o>-1){var s=n.trim(r.substring(0,o)),a=n.trim(r.substring(o+1));s&&s.length>0&&a&&a.length>0&&(s==Ae.BACKGROUND_IMAGE&&a.indexOf("data:image/")>=0&&(a=a+";"+e[i+1],i++),this.setStyle(s,a))}}}},Ae.prototype.setStyle=function(t,e){if(null==e)this._setStyleAttr(t,e);else switch(t){case"background-repeat":this._setBackgroundRepeat(t,e);break;case"color":case"background-color":case"border-top-color":case"border-bottom-color":case"border-left-color":case"border-right-color":this._setColorAttr(t,e);break;case"border-top":case"border-bottom":case"border-left":case"border-right":this._setBorderSide(t,e);break;case"border":this._setBorderShorthand(t,e);break;case"border-color":this._setBorderColorShorthand(t,e);break;case"border-width":this._setBorderWidthShorthand(t,e);break;case"border-radius":this._setBorderRadius(t,e);break;case"padding":this._setPaddingShorthand(t,e);break;case"margin":this._setMarginShorthand(t,e);break;case"font-size":this.setFontSize(t,e);break;case"background-image":var i=Ce.parseCSSGradient(e);i&&(e=i),this._setStyleAttr(t,e);break;case Ce.IE7_GD_FILTER:case Ce.IE8_GD_FILTER:var n=Ce.removeQuotes(e,Ae._DOUBLE_QUOTE),i=Ce.parseCSSGradient(n);i&&(t=Ae.BACKGROUND_IMAGE,e=i),this._setStyleAttr(t,e);break;default:this._setStyleAttr(t,e)}return this},Ae.prototype.getStyle=function(t){return this._styleMap[t]},Ae.prototype._setStyleAttr=function(t,e){return null!=e?this._styleMap[t]=e:delete this._styleMap[t],this},Ae.prototype.setFontSize=function(t,e){var i=n.trim(e),r=Ae._NAMED_FONT_SIZE_MAP[i];r?this._setStyleAttr(t,String(r)+"px"):this._setStyleAttr(t,isNaN(parseFloat(i))?Ee.DEFAULT_FONT_SIZE:i)},Ae.prototype._setBorderWidthShorthand=function(t,e){var i=e.split(" "),n=null;switch(i.length){case 1:this._setStyleAttr(t,Ae._getBorderWidth(i[0])),this._setStyleAttr(Ae.BORDER_TOP_WIDTH,null),this._setStyleAttr(Ae.BORDER_BOTTOM_WIDTH,null),this._setStyleAttr(Ae.BORDER_RIGHT_WIDTH,null),this._setStyleAttr(Ae.BORDER_LEFT_WIDTH,null);break;case 2:n=Ae._getBorderWidth(i[0]),this._setStyleAttr(Ae.BORDER_TOP_WIDTH,n),this._setStyleAttr(Ae.BORDER_BOTTOM_WIDTH,n),n=Ae._getBorderWidth(i[1]),this._setStyleAttr(Ae.BORDER_LEFT_WIDTH,n),this._setStyleAttr(Ae.BORDER_RIGHT_WIDTH,n);break;case 3:this._setStyleAttr(Ae.BORDER_TOP_WIDTH,Ae._getBorderWidth(i[0])),n=Ae._getBorderWidth(i[1]),this._setStyleAttr(Ae.BORDER_LEFT_WIDTH,n),this._setStyleAttr(Ae.BORDER_RIGHT_WIDTH,n),this._setStyleAttr(Ae.BORDER_BOTTOM_WIDTH,Ae._getBorderWidth(i[2]));break;case 4:this._setStyleAttr(Ae.BORDER_TOP_WIDTH,Ae._getBorderWidth(i[0])),this._setStyleAttr(Ae.BORDER_RIGHT_WIDTH,Ae._getBorderWidth(i[1])),this._setStyleAttr(Ae.BORDER_BOTTOM_WIDTH,Ae._getBorderWidth(i[2])),this._setStyleAttr(Ae.BORDER_LEFT_WIDTH,Ae._getBorderWidth(i[3]));break;case 0:}},Ae._getBorderWidth=function(t){var e=n.trim(t),i=Ae._NAMED_WIDTH_MAP[e];return i||(i=isNaN(parseFloat(e))?"0px":e),i},Ae.prototype._setBorderSide=function(t,e){for(var i,r=e.split(" "),o=null,s=!1,a=0;a<r.length;a++)if(o=r[a],i=t,0==o.indexOf("rgb")){for(var l=a+1;l<r.length&&(o+=r[l],a++,-1==r[l].indexOf(")"));l++);n.endsWith(t,"-"+Ae.COLOR)||(i=t+"-"+Ae.COLOR),this._setStyleAttr(i,o)}else Ae._isColorValue(o)?(n.endsWith(t,"-"+Ae.COLOR)||(i=t+"-"+Ae.COLOR),this._setStyleAttr(i,Ae._parseHexColor(o))):Ae._isBorderWidthValue(o)?(n.endsWith(t,"-"+Ae.WIDTH)||(i=t+"-"+Ae.WIDTH),this._setStyleAttr(i,o)):"none"==e&&(s=!0);s&&this._setStyleAttr(t+"-"+Ae.WIDTH,"0")},Ae.prototype.getBorderSideWidth=function(t){return this._getSideWidth(t,Ae.BORDER_WIDTH)},Ae.prototype.getMargin=function(t){return this._getSideWidth(t,Ae.MARGIN)},Ae.prototype.getPadding=function(t){return this._getSideWidth(t,Ae.PADDING)},Ae.prototype.getBorderWidth=function(){var t=this.getStyle(Ae.BORDER_WIDTH);return t?Ae.toNumber(t):(t=this.getStyle(Ae.BORDER_TOP_WIDTH))?Ae.toNumber(t):(t=this.getStyle(Ae.BORDER_RIGHT_WIDTH))?Ae.toNumber(t):(t=this.getStyle(Ae.BORDER_BOTTOM_WIDTH))?Ae.toNumber(t):(t=this.getStyle(Ae.BORDER_LEFT_WIDTH),t?Ae.toNumber(t):0)},Ae.prototype.getWidth=function(){return this.getStyle(Ae.WIDTH)},Ae.prototype.getHeight=function(){return this.getStyle(Ae.HEIGHT)},Ae.toNumber=function(t){return t?(t=parseFloat(t),isNaN(t)?0:t):0},Ae.isInheritable=function(t){switch(t){case Ae.COLOR:case Ae.FONT_FAMILY:case Ae.FONT_SIZE:case Ae.FONT_STYLE:case Ae.FONT_WEIGHT:case Ae.TEXT_ALIGN:return!0;default:return!1}},Ae.prototype._setBorderColorShorthand=function(t,e){var i,n=Ae._parseBorderColorString(t,e);switch(n.length){case 1:this._setStyleAttr(t,n[0]),this._setStyleAttr(Ae.BORDER_TOP_COLOR,null),this._setStyleAttr(Ae.BORDER_BOTTOM_COLOR,null),this._setStyleAttr(Ae.BORDER_RIGHT_COLOR,null),this._setStyleAttr(Ae.BORDER_LEFT_COLOR,null);break;case 2:i=n[0],this._setStyleAttr(Ae.BORDER_TOP_COLOR,i),this._setStyleAttr(Ae.BORDER_BOTTOM_COLOR,i),i=n[1],this._setStyleAttr(Ae.BORDER_LEFT_COLOR,i),this._setStyleAttr(Ae.BORDER_RIGHT_COLOR,i);break;case 3:this._setStyleAttr(Ae.BORDER_TOP_COLOR,n[0]),i=n[1],this._setStyleAttr(Ae.BORDER_LEFT_COLOR,i),this._setStyleAttr(Ae.BORDER_RIGHT_COLOR,i),this._setStyleAttr(Ae.BORDER_BOTTOM_COLOR,n[2]);break;case 4:this._setStyleAttr(Ae.BORDER_TOP_COLOR,n[0]),this._setStyleAttr(Ae.BORDER_RIGHT_COLOR,n[1]),this._setStyleAttr(Ae.BORDER_BOTTOM_COLOR,n[2]),this._setStyleAttr(Ae.BORDER_LEFT_COLOR,n[3]);break;case 0:}},Ae.prototype._setPaddingShorthand=function(t,e){var i=e.split(" "),n=null;switch(i.length){case 1:this._setStyleAttr(t,this._getPercent(i[0])),this._setStyleAttr(Ae.PADDING_TOP,null),this._setStyleAttr(Ae.PADDING_BOTTOM,null),this._setStyleAttr(Ae.PADDING_RIGHT,null),this._setStyleAttr(Ae.PADDING_LEFT,null);break;case 2:n=this._getPercent(i[0]),this._setStyleAttr(Ae.PADDING_TOP,n),this._setStyleAttr(Ae.PADDING_BOTTOM,n),n=this._getPercent(i[1]),this._setStyleAttr(Ae.PADDING_LEFT,n),this._setStyleAttr(Ae.PADDING_RIGHT,n);break;case 3:this._setStyleAttr(Ae.PADDING_TOP,this._getPercent(i[0])),n=this._getPercent(i[1]),this._setStyleAttr(Ae.PADDING_LEFT,n),this._setStyleAttr(Ae.PADDING_RIGHT,n),this._setStyleAttr(Ae.PADDING_BOTTOM,this._getPercent(i[2]));break;case 4:this._setStyleAttr(Ae.PADDING_TOP,this._getPercent(i[0])),this._setStyleAttr(Ae.PADDING_RIGHT,this._getPercent(i[1])),this._setStyleAttr(Ae.PADDING_BOTTOM,this._getPercent(i[2])),this._setStyleAttr(Ae.PADDING_LEFT,this._getPercent(i[3]));break;case 0:}},Ae.prototype._setMarginShorthand=function(t,e){var i=e.split(" "),n=null;switch(i.length){case 1:this._setStyleAttr(t,this._getMargin(i[0])),this._setStyleAttr(Ae.MARGIN_TOP,null),this._setStyleAttr(Ae.MARGIN_BOTTOM,null),this._setStyleAttr(Ae.MARGIN_RIGHT,null),this._setStyleAttr(Ae.MARGIN_LEFT,null);break;case 2:n=this._getMargin(i[0]),this._setStyleAttr(Ae.MARGIN_TOP,n),this._setStyleAttr(Ae.MARGIN_BOTTOM,n),n=this._getMargin(i[1]),this._setStyleAttr(Ae.MARGIN_LEFT,n),this._setStyleAttr(Ae.MARGIN_RIGHT,n);break;case 3:this._setStyleAttr(Ae.MARGIN_TOP,this._getMargin(i[0])),n=this._getMargin(i[1]),this._setStyleAttr(Ae.MARGIN_LEFT,n),this._setStyleAttr(Ae.MARGIN_RIGHT,n),this._setStyleAttr(Ae.MARGIN_BOTTOM,this._getMargin(i[2]));break;case 4:this._setStyleAttr(Ae.MARGIN_TOP,this._getMargin(i[0])),this._setStyleAttr(Ae.MARGIN_RIGHT,this._getMargin(i[1])),this._setStyleAttr(Ae.MARGIN_BOTTOM,this._getMargin(i[2])),this._setStyleAttr(Ae.MARGIN_LEFT,this._getMargin(i[3]));break;case 0:}},Ae.prototype._getMargin=function(t){var e=n.trim(t);return Ae.AUTO==e?Ae.AUTO_MARGIN:this._getPercent(e)},Ae.prototype._getPercent=function(t){return n.trim(t)},Ae.prototype._setBorderShorthand=function(t,e){for(var i=e.split(" "),n=null,r=!1,o=0;o<i.length;o++)if(n=i[o],0==n.indexOf("rgb")){for(var s=o+1;s<i.length&&(n+=i[s],o++,-1==i[s].indexOf(")"));s++);this._setBorderColorShorthand(Ae.BORDER_COLOR,n)}else Ae._isColorValue(n)?this._setBorderColorShorthand(Ae.BORDER_COLOR,n):Ae._isBorderWidthValue(n)?this._setBorderWidthShorthand(Ae.BORDER_WIDTH,n):"none"==e&&(r=!0);r&&this._setBorderWidthShorthand(Ae.BORDER_WIDTH,"0")},Ae._getBorderRadius=function(t){var e=n.trim(t);return isNaN(parseFloat(e))?"0px":e},Ae.prototype._setBorderRadius=function(t,e){var i=e.split("/");if(null==i[0])return void this._setStyleAttr(t,"0px");var r=n.trim(i[0]).split(" ");switch(r.length){case 1:default:this._setStyleAttr(t,Ae._getBorderRadius(r[0])),this._setStyleAttr(Ae.BORDER_TOP_LEFT_RADIUS,null),this._setStyleAttr(Ae.BORDER_TOP_RIGHT_RADIUS,null),this._setStyleAttr(Ae.BORDER_BOTTOM_RIGHT_RADIUS,null),this._setStyleAttr(Ae.BORDER_BOTTOM_LEFT_RADIUS,null)}if(2==i.length&&null!=i[1]){var o=n.trim(i[1]).split(" ");switch(o.length){case 1:this.getStyle(t)?this._setStyleAttr(t,this.getStyle(t)+" "+Ae._getBorderRadius(o[0])):this._setStyleAttr(t,Ae._getBorderRadius(o[0]));break;case 0:}}},Ae.prototype.getBorderRadius=function(){return"undefined"!==this.getStyle(Ae.BORDER_RADIUS)&&null!==this.getStyle(Ae.BORDER_RADIUS)?Ae.toNumber(this.getStyle(Ae.BORDER_RADIUS)):0},Ae.prototype._setBackgroundRepeat=function(t,e){var i=e.split(" ");2==i.length&&(i[0]==i[1]?e=i[0]:i[0]==Ae.REPEAT&&i[1]==Ae.NO_REPEAT&&(e=Ae.REPEAT_X),i[0]==Ae.NO_REPEAT&&i[1]==Ae.REPEAT&&(e=Ae.REPEAT_Y)),this._setStyleAttr(t,e)},Ae.prototype._setColorAttr=function(t,e){var i=Ae._toColorVal(e);i?this._setStyleAttr(t,i):Ae._isColorValue(e)&&this._setStyleAttr(t,e)},Ae._toColorVal=function(t){t=n.trim(t);var e=Ae._NAMED_COLOR_MAP[t.toLowerCase()];return e?e:null},Ae.prototype.setColor=function(t,e){this._setStyleAttr(t,e)},Ae._isValueInEM=function(t){return t.toLowerCase().indexOf("em")>=0},Ae.prototype._resolveEMx=function(t,e){var i=this.getStyle(t);return i&&Ae._isValueInEM(i)?e?(this._setStyleAttr(t,String(Math.round(parseFloat(i)*parseFloat(e)))+"px"),!0):!1:!0},Ae.prototype.getAbsoluteFontSize=function(){var t=this.getFontSize();return t&&!Ae._isValueInEM(t)?t:null},Ae.prototype.resolveEM=function(t){var e=this.getFontSize();e&&(Ae._isValueInEM(e)?this._resolveEMx(Ae.FONT_SIZE,t):t=e);for(var i=Ae._numericAttrsList,n=0;n<i.length;n++)if(!this._resolveEMx(i[n],t))return!1;return!0},Ae.prototype.clone=function(){var t=new Ae;for(var e in this._styleMap)t._setStyleAttr(e,this.getStyle(e));return t},Ae.prototype.merge=function(t){if(t)for(var e in t._styleMap)this._setStyleAttr(e,t.getStyle(e));return this},Ae.prototype.mergeUnder=function(t){if(t)for(var e in t._styleMap)this.getStyle(e)||this._setStyleAttr(e,t.getStyle(e));return this},Ae.prototype.toString=function(){var t="";for(var e in this._styleMap)t+=e+":"+this.getStyle(e)+"; ";return t},Ae.prototype.getBackgroundImage=function(){var t,e,i=this.getStyle(Ae.BACKGROUND_IMAGE);return i&&i instanceof Te?i:(i&&(t=i.indexOf("url("),e=i.lastIndexOf(")"),0==t&&e==i.length-1&&(i=i.substring(4,e))),i&&(t=i.indexOf(Ae._SINGLE_QUOTE),e=i.lastIndexOf(Ae._SINGLE_QUOTE),0==t&&e==i.length-1?i=i.substring(1,e):(t=i.indexOf(Ae._DOUBLE_QUOTE),e=i.lastIndexOf(Ae._DOUBLE_QUOTE),0==t&&e==i.length-1&&(i=i.substring(1,e)))),i)},Ae._isColorValue=function(t){if(t=n.trim(t),0==t.indexOf("rgb")||0==t.indexOf("#"))return!0;var e=Ae._NAMED_COLOR_MAP[t.toLowerCase()];return!!e},Ae._isBorderWidthValue=function(t){var e=n.trim(t);return Ae._NAMED_WIDTH_MAP[e]?!0:!isNaN(parseFloat(e))},Ae._parseBorderColorString=function(t,e){for(var e=n.trim(e),i=[];null!=e&&e.length>0;)e=Ae.parseBorderColor(e,i);return i},Ae.parseBorderColor=function(t,e){t=n.trim(t);var i,r=t.length,o=-1;if(!t)return t;if(0==t.indexOf("rgb"))o=t.indexOf(")")+1,i=t.slice(0,o);else{o=t.indexOf(" "),-1==o&&(o=r);var s=t.slice(0,o);i=Ae._toColorVal(s),i||(i=Ae._parseHexColor(s))}return i&&(e.push(i),t=t.slice(o)),t},Ae._parseHexColor=function(t){var e,i;if(t&&t.length>0){var n=t.length>7;if(e=Number("0x"+t.substring(1)),isNaN(e)&&(e=0),n){var r="#"+t.substring(3);i=r}else i=t}return i},Ae.prototype._getSideWidth=function(t,e){var i=this.getStyle(t);return i||(i=this.getStyle(e)),Ae.toNumber(i)},Ae.prototype.getFontSize=function(){return this.getStyle(Ae.FONT_SIZE)},Ae.mergeStyles=function(t){var e=new Ae;if(t)for(var i=0;i<t.length;i++)e.merge(t[i]);return e},Ae.prototype.isEmpty=function(){for(var t in this._styleMap)return!1;return!0},Ae.prototype.isTextAlignEnd=function(t){var e=this.getStyle(Ae.TEXT_ALIGN);return"end"==e?!0:qe.isRightToLeft(t)?"left"==e:"right"==e},Ae.prototype.parseBackgroundPosition=function(){var t=this.getStyle(Ae.BACKGROUND_POSITION);if(!t)return null;var e=t.split(" ");if(0==e.length)return["0%","0%"];var i,r=["50%","50%"];return e.length>0&&(i=n.trim(e[0]),"left"==i?r[0]="0%":"right"==i?r[0]="100%":"top"==i?r[1]="0%":"bottom"==i?r[1]="100%":"center"!=i&&(r[0]=i)),e.length>1&&(i=n.trim(e[1]),"left"==i?r[0]="0%":"right"==i?r[0]="100%":"top"==i?r[1]="0%":"bottom"==i?r[1]="100%":"center"!=i&&(r[1]=i)),r},Ae.prototype.getIconUrl=function(){return this.getStyle(Ae.CONTENT)},Ae.prototype.setIconUrl=function(t){this._setStyleAttr(Ae.CONTENT,t)},Ae.prototype.hashCodeForTextMeasurement=function(){var t="";return this.getStyle(Ae.FONT_FAMILY)&&(t+=this.getStyle(Ae.FONT_FAMILY)),this.getStyle(Ae.FONT_SIZE)&&(t+=this.getStyle(Ae.FONT_SIZE)),this.getStyle(Ae.FONT_STYLE)&&(t+=this.getStyle(Ae.FONT_STYLE)),this.getStyle(Ae.FONT_WEIGHT)&&(t+=this.getStyle(Ae.FONT_WEIGHT)),t},Ae.afterSkinAlta=function(t){return null!=t&&t!=Ae.SKIN_FUSION&&t!=Ae.SKIN_SKYROS};var De=function(){};e.createSubclass(De,te,"DvtBaseComponent"),De.prototype.Init=function(t,e,i){De.superclass.Init.call(this,t),this._callback=e,this._callbackObj=i,this.Defaults=null,this.Options=null,this.Width=0,this.Height=0},De.prototype.GetDefaults=function(t){return this.Defaults?this.Defaults.getDefaults(t):{}},De.prototype.GetComponentDescription=function(){return Ze.getTranslation(this.getOptions(),"componentName")},De.prototype.IsParentRoot=function(){return this.getParent()==this.getCtx().getStage()},De.prototype.UpdateAriaAttributes=function(){this.IsParentRoot()&&(this.getCtx().setAriaRole("application"),this.getCtx().setAriaLabel(Ze.getTranslatedString(Ze.UTIL_PREFIX,"COLON_SEP_LIST",[Ze.getTranslatedString(Ze.UTIL_PREFIX,"DATA_VISUALIZATION"),n.processAriaLabel(this.GetComponentDescription())])))},De.prototype.SetOptions=function(t){},De.prototype.getOptions=function(){return this.Options||(this.Options=this.GetDefaults()),this.Options},De.prototype.applyOptions=function(t){this.Options&&t&&this.SetOptions(Ct.merge(t,this.Options))},De.prototype.render=function(t,e,i){},De.prototype.RenderComplete=function(){this.dispatchEvent(new Bi)},De.prototype.getWidth=function(){return this.Width},De.prototype.getHeight=function(){return this.Height},De.prototype.highlight=function(t){},De.prototype.select=function(t){},De.prototype.dispatchEvent=function(t){ki.dispatchEvent(this._callback,this._callbackObj,this,t)},De.prototype.getDimensionsWithStroke=function(t){return this.getDimensions(t)},De.prototype.getEventManager=function(){return null},De.prototype.getKeyboardFocus=function(){var t=this.getEventManager();return t&&t.getFocus()?t.getFocus().getTargetElem():null};var Ie=function(){this.Init()};e.createSubclass(Ie,e,"DvtBaseComponentDefaults"),Ie._SKINS=[Ae.SKIN_FUSION,Ae.SKIN_SKYROS,Ae.SKIN_ALTA,Ae.SKIN_NEXT],Ie.prototype.Init=function(t){this._defaults=t?t:{},this.constructor.defaultsCache||(this.constructor.defaultsCache={})},Ie.prototype.getBaseSkinName=function(){return Ae.SKIN_NEXT},Ie.prototype.calcOptions=function(t){var e=t?t.skin:null,i=this.getDefaults(e);return t?Ct.merge(t,i):i},Ie.prototype.getDefaults=function(t){if(t||(t=this.getBaseSkinName()),this.constructor.defaultsCache[t])return Ct.clone(this.constructor.defaultsCache[t]);for(var e=Math.max(i.getIndex(Ie._SKINS,t),0),n=Ct.clone(this._defaults[Ie._SKINS[0]]),r=1;e>=r;r++)n=Ct.merge(this._defaults[Ie._SKINS[r]],n);return this.constructor.defaultsCache[t]=Ct.clone(n),n};var xe=function(t,e,i,n){this._event=t,this._text=e,this._disabled=i,this._sepBefore=n};e.createSubclass(xe,e,"DvtContextMenuItem"),xe.prototype.getEvent=function(){return this._event},xe.prototype.getText=function(){return this._text},xe.prototype.isDisabled=function(){return this._disabled},xe.prototype.hasSeparatorBefore=function(){return this._sepBefore};var Oe=function(t,e,i,n){this._popupId=t,this._triggerType=e,this._alignId=i,this._align=n};e.createSubclass(Oe,e,"DvtShowPopupBehavior"),Oe.TRIGGER_TYPE_ACTION="action",Oe.TRIGGER_TYPE_CLICK="click",Oe.TRIGGER_TYPE_CONTEXT_MENU="contextMenu",Oe.TRIGGER_TYPE_DBL_CLICK="dblClick",Oe.TRIGGER_TYPE_MOUSE_HOVER="mouseHover",Oe.TRIGGER_TYPE_MOUSE_OVER="mouseOver",Oe.TRIGGER_TYPE_MOUSE_DOWN="mouseDown",Oe.TRIGGER_TYPE_MOUSE_MOVE="mouseMove",Oe.TRIGGER_TYPE_MOUSE_UP="mouseUp",Oe.TRIGGER_TYPE_MOUSE_OUT="mouseOut",Oe.TRIGGER_TYPE_KEY_DOWN="keyDown",Oe.TRIGGER_TYPE_KEY_UP="keyUp",Oe.TRIGGER_TYPE_KEY_PRESS="keyPress",Oe.TRIGGER_TYPE_FOCUS="focus",Oe.TRIGGER_TYPE_BLUR="blur",Oe.ALIGN_AFTER_START="afterStart",Oe.ALIGN_AFTER_END="afterEnd",Oe.ALIGN_BEFORE_START="beforeStart",Oe.ALIGN_BEFORE_END="beforeEnd",Oe.ALIGN_END_AFTER="endAfter",Oe.ALIGN_END_BEFORE="endBefore",Oe.ALIGN_START_AFTER="startAfter",Oe.ALIGN_START_BEFORE="startBefore",Oe.ALIGN_OVERLAP="overlap",Oe.createBehaviors=function(t){for(var e=[],i=0;i<t.length;i++){var n=t[i];e.push(Oe.newInstance(n))}return e},Oe.newInstance=function(t){return new Oe(t.popupId,t.triggerType,t.alignId,t.align)},Oe.prototype.getPopupId=function(){return this._popupId},Oe.prototype.getTriggerType=function(){return this._triggerType},Oe.prototype.getAlignId=function(){return this._alignId},Oe.prototype.getAlign=function(){return this._align};var Me=function(t,e){this._type=t,this._triggerType=e,this._props={}};e.createSubclass(Me,e,"DvtClientBehavior"),Me.TRIGGER_TYPE_ACTION="action",Me.TRIGGER_TYPE_CLICK="click",Me.TYPE_ROW_DISCLOSURE="DvtRowDisclosureBehavior",Me.TYPE_DRILL="DvtDrillBehavior",Me.TYPE_ISOLATE_LEVELS="DvtIsolateLevelsBehavior",Me.TYPE_RESTORE="DvtRestoreBehavior",Me.prototype.getType=function(){return this._type},Me.prototype.getTriggerType=function(){return this._triggerType},Me.prototype.setProperty=function(t,e){this._props[t]=e},Me.prototype.getProperty=function(t){return this._props[t]},Me.prototype.getProperties=function(){return this._props};var Re=function(t,e,i,n){Re.superclass.Init.call(this,t),this._callback=e,this._callbackObj=i,this._dragTarget=n};e.createSubclass(Re,te,"DvtSimpleScrollbar"),Re.prototype.render=function(t,e,i){this._width=e,this._height=i,this._globalMin=t.min,this._globalMax=t.max,this._isHoriz=t.isHorizontal,this._isReversed=t.isReversed;var n=new _e(this.getCtx(),0,0,e,i);n.setSolidFill(t.backgroundColor),n.setPixelHinting(!0),this.addChild(n),this._thumb=new _e(this.getCtx(),0,0,e,i),this._thumb.setSolidFill(t.color),this._thumb.setPixelHinting(!0),this.addChild(this._thumb),this._thumbMin=this._globalMin,this._thumbMax=this._globalMax;var r=qe.isTouchDevice()?8:4,o=new _e(this.getCtx(),-r,-r,this._width+2*r,this._height+2*r);o.setInvisibleFill(),this.addChild(o);var s=null!=this._dragTarget;ji.addDragListeners(s?this._dragTarget:this,this._onDragStart,this._onDragMove,this._onDragEnd,this,!s),qe.isTouchDevice()||s||this.addEvtListener(Ot.CLICK,this._onClick,!1,this),this._dragged=!1},Re.prototype.setViewportRange=function(t,e){var i=this._getCoord(t),n=this._getCoord(e);this._isHoriz?(this._thumb.setX(Math.min(i,n)),this._thumb.setWidth(Math.abs(n-i))):(this._thumb.setY(Math.min(i,n)),this._thumb.setHeight(Math.abs(n-i))),this._thumbMin=t,this._thumbMax=e},Re.prototype._getCoord=function(t){var e=(t-this._globalMin)/(this._globalMax-this._globalMin);return this._isReversed&&(e=1-e),this._isHoriz?e*this._width:e*this._height},Re.prototype._getValue=function(t,e){var i=this.stageToLocal(this.getCtx().pageToStageCoords(t,e)),n=this._isHoriz?i.x/this._width:i.y/this._height;return this._isReversed&&(n=1-n),n=Math.min(Math.max(n,0),1),this._globalMin+n*(this._globalMax-this._globalMin)},Re.prototype._onClick=function(t){var e=this._getValue(t.pageX,t.pageY);if(!(e>=this._thumbMin&&e<=this._thumbMax)){var i=this._thumbMax-this._thumbMin;this._setViewportRange(e-i/2,e+i/2,Gt.SUBTYPE_END)}},Re.prototype._onDragStart=function(t){var e;if(t.touches){if(1!=t.touches.length)return!1;e=this._getValue(t.touches[0].pageX,t.touches[0].pageY)}else e=this._getValue(t.pageX,t.pageY);return this._dragTarget||e>=this._thumbMin&&e<=this._thumbMax?(this._dragged=!0,this._prevVal=e,!0):!1},Re.prototype._onDragMove=function(t){if(this._dragged){var e;if(t.touches){if(1!=t.touches.length)return;e=this._getValue(t.touches[0].pageX,t.touches[0].pageY)}else e=this._getValue(t.pageX,t.pageY);var i=e-this._prevVal;this._dragTarget&&(i*=-1),this._setViewportRange(this._thumbMin+i,this._thumbMax+i,Gt.SUBTYPE_MOVE),this._prevVal=e,t.preventDefault()}},Re.prototype._onDragEnd=function(t){if(this._dragged){if(t.touches)this._setViewportRange(this._thumbMin,this._thumbMax,Gt.SUBTYPE_END);else{var e=this._getValue(t.pageX,t.pageY),i=e-this._prevVal;this._setViewportRange(this._thumbMin+i,this._thumbMax+i,Gt.SUBTYPE_END)}this._dragged=!1}},Re.prototype._setViewportRange=function(t,e,i){var n=e-t;if(t<this._globalMin&&(t=this._globalMin,e=this._globalMin+n),e>this._globalMax&&(e=this._globalMax,t=this._globalMax-n),this.setViewportRange(t,e),this._callback){var r=new Gt(i,t,e);this._callback.call(this._callbackObj,r,this)}};var we=function(t,e,i,n){we.superclass.Init.call(this,t),this._contentSize=n?e:i,this._width=e,this._height=i,this._background=new _e(t,0,0,e,i),
this._background.setInvisibleFill(),this.addChild(this._background),this._container=new te(t),this.addChild(this._container),this._isHorizontalScrolling=n,this._isScrollbarVisible=!1,qe.isTouchDevice()||this.addEvtListener(Ot.MOUSEWHEEL,this._onMouseWheel,!1,this)};e.createSubclass(we,te,"DvtSimpleScrollableContainer"),we._SCROLLBAR_WIDTH=3,we._SCROLLBAR_GAP=2,we.prototype.getScrollingPane=function(){return this._container},we.prototype.prepareContentPane=function(){var t=this._container.getDimensions();if(this._isHorizontalScrolling?this._contentSize=t.w+t.x:this._contentSize=t.h+t.y,this.hasScrollingContent()){if(this._isHorizontalScrolling?this._contentSize+=t.x:this._contentSize+=t.y,!this._maskContainer){var e=new gt(0,0,this._width,this._height);this._fadeTop=new Z(new ot(this._isHorizontalScrolling?0:270,["#FFFFFF","#FFFFFF"],[0,1],[0,.1]),e),this._fadeBottom=new Z(new ot(this._isHorizontalScrolling?180:90,["#FFFFFF","#FFFFFF"],[0,1],[0,.1]),e),this._fadeTopBottom=new Z(new ot(this._isHorizontalScrolling?180:90,["#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF"],[0,1,1,0],[0,.1,.9,1]),e),this._maskContainer=new te(this.getCtx()),this.addChild(this._maskContainer);var i=new q;i.addRect(0,0,this._width,this._height),this._container.setClipPath(i),this._maskContainer.addChild(this._container),this._scrollbar=new Re(this.getCtx(),this._handleScrollbar,this,this),this._scrollbarTimer=new v(this.getCtx(),100,this._hideScrollbar,this)}this._maskContainer.setMask(this._fadeBottom);var n={color:"#9E9E9E",backgroundColor:"#F0F0F0",isHorizontal:this._isHorizontalScrolling,isReversed:!1,min:0,max:this._contentSize};this._isHorizontalScrolling?(this._scrollbar.render(n,this._getScrollbarWidth(),we._SCROLLBAR_WIDTH),this._scrollbar.setTranslate(we._SCROLLBAR_GAP,this._height-(we._SCROLLBAR_WIDTH+we._SCROLLBAR_GAP))):(this._scrollbar.render(n,we._SCROLLBAR_WIDTH,this._getScrollbarWidth()),this._scrollbar.setTranslate(qe.isRightToLeft(this.getCtx())?we._SCROLLBAR_GAP:this._width-(we._SCROLLBAR_WIDTH+we._SCROLLBAR_GAP),we._SCROLLBAR_GAP)),this._scrollbar.setViewportRange(0,this._getAvailSize()),qe.isEnvironmentTest()||this._scrollbar.setAlpha(0),this.addChild(this._scrollbar)}else this.addChild(this._container),this.removeChild(this._maskContainer),this.removeChild(this._scrollbar)},we.prototype._getScrollbarWidth=function(){return(this._isHorizontalScrolling?this._width:this._height)-2*we._SCROLLBAR_GAP},we.prototype._getAvailSize=function(){return this._isHorizontalScrolling?this._width:this._height},we.prototype._hideScrollbar=function(t){this._isScrollbarVisible&&(this._isScrollbarVisible=!1,this._scrollbarTimer.reset(),this._fadeOutAnim=new I(this.getCtx(),this._scrollbar,.2),this._fadeOutAnim.play())},we.prototype._showScrollbar=function(t){this._isScrollbarVisible?(this._scrollbarTimer.reset(),this._scrollbarTimer.start()):(this._fadeOutAnim&&(this._fadeOutAnim.stop(!0),this._fadeOutAnim=null),this._scrollbar.setAlpha(1),this._isScrollbarVisible=!0,this._scrollbarTimer.start())},we.prototype._updateFade=function(t){0==t?this._maskContainer.setMask(this._fadeBottom):t+this._getAvailSize()>=this._contentSize?this._maskContainer.setMask(this._fadeTop):this._maskContainer.setMask(this._fadeTopBottom)},we.prototype._onMouseWheel=function(t){if(this.hasScrollingContent()){this._showScrollbar();var e=null!=t.wheelDelta?t.wheelDelta:0;qe.isPlatformGecko()&&(e*=-1);var i=-1*(this._isHorizontalScrolling?this._container.getTranslateX():this._container.getTranslateY())-4*e,n=0,r=Math.max(this._contentSize-this._getAvailSize(),0),o=Math.max(Math.min(i,r),n);this._isHorizontalScrolling?(this._container.setTranslateX(-1*o),this._scrollbar.setViewportRange(o+this._width,o)):(this._container.setTranslateY(-1*o),this._scrollbar.setViewportRange(o,o+this._height)),this._updateFade(o),t.preventDefault()}},we.prototype._handleScrollbar=function(t){this._showScrollbar(),this._isHorizontalScrolling?this._container.setTranslateX(-1*t.getNewMin()):this._container.setTranslateY(-1*t.getNewMin()),this._updateFade(t.getNewMin())},we.prototype.getWidth=function(){return this._width},we.prototype.getHeight=function(){return this._height},we.prototype.scrollIntoView=function(t){if(this.hasScrollingContent()){var e,i=t.getDimensions(t.getParent()),n=this._container.getDimensions();if(this._isHorizontalScrolling){var r=-1*this._container.getTranslateX(),o=i.x-n.x,s=i.x+i.w-this._width+n.x;s>r?(this._container.setTranslateX(-1*s),this._scrollbar.setViewportRange(s+this._width,s),e=s):r>o&&(this._container.setTranslateX(-1*o),this._scrollbar.setViewportRange(o+this._width,o),e=o)}else{var a=-1*this._container.getTranslateY(),l=i.y-n.y,u=i.y+i.h-this._height+n.y;u>a?(this._container.setTranslateY(-1*u),this._scrollbar.setViewportRange(u,u+this._height),e=u):a>l&&(this._container.setTranslateY(-1*l),this._scrollbar.setViewportRange(l,l+this._height),e=l)}void 0!=e&&this._updateFade(e)}},we.prototype.hasScrollingContent=function(){return this._contentSize>this._getAvailSize()};var Pe=function(){};e.createSubclass(Pe,e,"DvtDragRecognizer"),Pe.prototype.prepDrag=function(){},Pe.prototype.abortPrep=function(){},Pe.prototype.recognizeDrag=function(){return!0};var Le=function(t){this.Init(t)};e.createSubclass(Le,e,"DvtDragSource"),Le.DRAG_FEEDBACK_MARGIN=2,Le.prototype.Init=function(t){this._context=t,this._dragCandidate=null,this._dragObj=null,this._dragCoords=null},Le.prototype.getDragCandidate=function(){return this._dragCandidate},Le.prototype.setDragCandidate=function(t){t&&t.isDragAvailable&&t.getDragTransferable?this._dragCandidate=t:this._dragCandidate=null},Le.prototype.isDragAvailable=function(t){return null!=this._dragCandidate?this._dragCandidate.isDragAvailable(t):null},Le.prototype.getDragTransferable=function(t,e){return this._dragCandidate?(this._dragObj=this._dragCandidate,this._dragCoords={x:t,y:e},this._dragCandidate.getDragTransferable(t,e)):null},Le.prototype.getDragOverFeedback=function(t,e){this._context.getTooltipManager().hideTooltip();var i=this.getDragObject();return i&&i.getDragFeedback?i.getDragFeedback(t,e):null},Le.prototype.getDragContext=function(t,e){return this._dragObj&&this._dragObj.getDragContext?this._dragObj.getDragContext(t,e):null},Le.prototype.getDragObject=function(){return this._dragObj},Le.prototype.getDragCoords=function(){return this._dragCoords},Le.prototype.getDragOffset=function(t,e){var i=null,n=this.getDragOverFeedback(t,e);if(n){var r=gi.getDragFeedbackBounds(n,this._context.getStage()),o=this.getDragObject();o&&o.afterDragOverFeedback&&o.afterDragOverFeedback(n),r&&(i={},i.x=t-r.x,i.y=e-r.y,i.x+=Le.DRAG_FEEDBACK_MARGIN,i.y+=Le.DRAG_FEEDBACK_MARGIN)}return i},Le.prototype.getPointerOffset=function(t,e){return{x:0,y:0}},Le.prototype.initiateDrag=function(){var t=this.getTouchManager();qe.isTouchDevice()&&t&&t.cancelTouchHold()},Le.prototype.dragDropEnd=function(){this._dragCandidate=null,this._dragObj=null,this._dragCoords=null},Le.prototype.setTouchManager=function(t){this._touchManager=t},Le.prototype.getTouchManager=function(){return this._touchManager};var Ne=function(){};e.createSubclass(Ne,e,"DvtDropTarget"),Ne.prototype.acceptDrag=function(t,e,i,n){return null},Ne.prototype.dragEnter=function(){},Ne.prototype.dragExit=function(){},Ne.prototype.getDropSite=function(t,e){return null};var ke=function(t,e,i,n,r,o,s,a){this.Init(t,e,i,n,r,o,s,a)};e.createSubclass(ke,te,"DvtButton"),ke.STATE_ENABLED=0,ke.STATE_OVER=1,ke.STATE_DOWN=2,ke.STATE_DISABLED=3,ke.NO_EVENT_LISTENERS=!0,ke.prototype.Init=function(t,e,i,n,r,o,s,a){ke.superclass.Init.call(this,t,null,o),this.setCallback(s,a),this._bDuringInit=!0,this.setUpState(e),this.setOverState(i),this.setDownState(n),r&&this.setDisabledState(r),this.setEnabled(!0),this.drawUpState(),this._tooltip=null,this._bToggleEnabled=!1,this._bToggled=!1,this._bDuringInit=!1},ke.prototype.isEnabled=function(){return this._enabled},ke.prototype.setEnabled=function(t){if(this._enabled!=t){this._enabled=t;var e=qe.isTouchDevice()?Mt.TOUCHSTART:Ot.CLICK;t?(this.addEvtListener(Ot.MOUSEOVER,this._mouseOverHandler,!1,this),this.addEvtListener(Ot.MOUSEOUT,this._mouseOutHandler,!1,this),this.addEvtListener(Ot.MOUSEDOWN,this._mouseDownHandler,!1,this),this.addEvtListener(Ot.MOUSEUP,this._mouseUpHandler,!1,this),this.addEvtListener(e,this._clickHandler,!1,this),this.setCursor(ut.getSelectingCursor())):(this.removeEvtListener(Ot.MOUSEOVER,this._mouseOverHandler,!1,this),this.removeEvtListener(Ot.MOUSEOUT,this._mouseOutHandler,!1,this),this.removeEvtListener(Ot.MOUSEDOWN,this._mouseDownHandler,!1,this),this.removeEvtListener(Ot.MOUSEUP,this._mouseUpHandler,!1,this),this.removeEvtListener(e,this._clickHandler,!1,this),this.setCursor(null)),this.initState()}},ke.prototype._mouseOverHandler=function(t){this._bToggled?this.drawOverDownState():this.drawOverState()},ke.prototype._mouseOutHandler=function(t){this._bToggled?this.drawDownState():this.drawUpState()},ke.prototype._mouseDownHandler=function(t){this.drawDownState(),t.stopPropagation()},ke.prototype._mouseUpHandler=function(t){this._bToggled?qe.isTouchDevice()?this.drawDownState():this.drawOverDownState():qe.isTouchDevice()?this.drawUpState():this.drawOverState(),t.stopPropagation()},ke.prototype._clickHandler=function(t){this._bToggleEnabled&&(this._bToggled=!this._bToggled,this._bToggled?qe.isTouchDevice()?this.drawDownState():this.drawOverDownState():qe.isTouchDevice()?this.drawUpState():this.drawOverState()),this._callback&&(this._callback.call(this._callbackObj,t,this),t.stopPropagation(),t.preventDefault())},ke.prototype.drawUpState=function(){this._enableButton(this.upState,!0),this._enableButton(this.downState,!1),this._enableButton(this.overState,!1),this._enableButton(this.disabledState,!1),this._enableButton(this.overDownState,!1)},ke.prototype.drawOverState=function(){this._enableButton(this.upState,!1),this._enableButton(this.downState,!1),this._enableButton(this.overState,!0),this._enableButton(this.disabledState,!1),this._enableButton(this.overDownState,!1)},ke.prototype.drawDownState=function(){this._enableButton(this.upState,!1),this._enableButton(this.downState,!0),this._enableButton(this.overState,!1),this._enableButton(this.disabledState,!1),this._enableButton(this.overDownState,!1)},ke.prototype.drawDisabledState=function(){this._enableButton(this.upState,!1),this._enableButton(this.overState,!1),this._enableButton(this.downState,!1),this._enableButton(this.disabledState,!0),this._enableButton(this.overDownState,!1)},ke.prototype.drawOverDownState=function(){this.overDownState?(this._enableButton(this.upState,!1),this._enableButton(this.overState,!1),this._enableButton(this.downState,!1),this._enableButton(this.disabledState,!1),this._enableButton(this.overDownState,!0)):this.drawDownState()},ke.prototype._enableButton=function(t,e){t&&t.setAlpha(e?1:0)},ke.prototype._enableMouseEvents=function(t,e){t.setMouseEnabled&&t.setMouseEnabled(e);for(var i=t.firstChild;null!=i;)this._enableMouseEvents(i,e),i=i.nextSibling},ke.prototype.setUpState=function(t){if(!this.upState||this.upState!=t){var e=!1;if(this.upState)e=this._isButtonEnabled(this.upState),this.removeChild(this.upState);else if(!this._bDuringInit){var i=!1,n=!1,r=!1;this.downState&&(i=this._isButtonEnabled(this.downState)),this.overState&&(n=this._isButtonEnabled(this.overState)),this.disabledState&&(r=this._isButtonEnabled(this.disabledState)),i||n||r||(e=!0)}t&&this.addChild(t),this.upState=t,this._enableButton(this.upState,e)}},ke.prototype.setDownState=function(t){if(!this.downState||this.downState!=t){var e=!1;this.downState&&(e=this._isButtonEnabled(this.downState),this.removeChild(this.downState)),t&&this.addChild(t),this.downState=t,this._enableButton(this.downState,e)}},ke.prototype.setOverState=function(t){if(!this.overState||this.overState!=t){var e=!1;this.overState&&(e=this._isButtonEnabled(this.overState),this.removeChild(this.overState)),t&&this.addChild(t),this.overState=t,this._enableButton(this.overState,e)}},ke.prototype.setDisabledState=function(t){if(!this.disabledState||this.disabledState==t){var e=!1;this.disabledState&&(e=this._isButtonEnabled(this.disabledState),this.removeChild(this.disabledState)),t&&this.addChild(t),this.disabledState=t,this._enableButton(this.disabledState,e)}},ke.prototype.setOverDownState=function(t){if(!this.overDownState||this.overDownState==t){var e=!1;this.overDownState&&(e=this._isButtonEnabled(this.overDownState),this.removeChild(this.overDownState)),t&&this.addChild(t),this.overDownState=t,this._enableButton(this.overDownState,e)}},ke.prototype.setCallback=function(t,e){this._callback=t,this._callbackObj=e},ke.prototype.setTooltip=function(t){this._tooltip=t,t&&(this.setAriaRole("button"),this.setAriaProperty("label",t))},ke.prototype.getTooltip=function(){return this._tooltip},ke.prototype.isClickEventPropagationStopped=function(){return!0},ke.prototype.initState=function(){this.isEnabled()?this.drawUpState():this.drawDisabledState()},ke.prototype.setSize=function(t,e){var i=this.upState;i&&(i.setWidth&&t&&i.setWidth(t),i.setHeight&&e&&i.setHeight(e));var n=this.downState;n&&(n.setWidth&&t&&n.setWidth(t),n.setHeight&&e&&n.setHeight(e));var r=this.overState;r&&(r.setWidth&&t&&r.setWidth(t),r.setHeight&&e&&r.setHeight(e));var o=this.disabledState;o&&(o.setWidth&&t&&o.setWidth(t),o.setHeight&&e&&o.setHeight(e))},ke.prototype.rightAlign=function(t,e,i){var n=t-e,r=this.upState;r&&t&&(i?r.setTranslateX(n):this._setChildX(r,n));var o=this.downState;o&&t&&(i?o.setTranslateX(n):this._setChildX(o,n));var s=this.overState;s&&t&&(i?s.setTranslateX(n):this._setChildX(s,n));var a=this.disabledState;a&&(i?a.setTranslateX(n):this._setChildX(a,n))},ke.prototype._setChildX=function(t,e){for(var i=0;i<t.getNumChildren();i++){var n=t.getChildAt(i);n instanceof Qt&&n.setTranslateX(e)}},ke.prototype.setToggleEnabled=function(t){this._bToggleEnabled=t},ke.prototype.isToggleEnabled=function(){return this._bToggleEnabled},ke.prototype.setToggled=function(t){this._bToggleEnabled&&(this._bToggled=t,this._bToggled?this.drawDownState():this.drawUpState())},ke.prototype.isToggled=function(){return this._bToggled},ke.prototype._isButtonEnabled=function(t){var e=!1;return t&&(e=t.getAlpha()>0),e},ke.prototype.getUpState=function(){return this.upState},ke.prototype.getDownState=function(){return this.downState},ke.prototype.getOverState=function(){return this.overState},ke.prototype.showKeyboardFocusEffect=function(){this._keyboardFocusEffect||(this._keyboardFocusEffect=this.CreateKeyboardFocusEffect()),this._keyboardFocusEffect.show(),this._isShowingKeyboardFocusEffect=!0,this.getCtx().setActiveElement(this)},ke.prototype.hideKeyboardFocusEffect=function(){this._keyboardFocusEffect&&this._keyboardFocusEffect.hide(),this._isShowingKeyboardFocusEffect=!1},ke.prototype.isShowingKeyboardFocusEffect=function(){return this._isShowingKeyboardFocusEffect},ke.prototype.CreateKeyboardFocusEffect=function(){return new ht(this.getCtx(),this,this.getDimensions(),null,null,!0)},ke.prototype.handleKeyboardEvent=function(t){var e=t.keyCode;e!=xt.ENTER&&e!=xt.SPACE||this._callback&&(this._callback.call(this._callbackObj,t,this),t.stopPropagation(),t.preventDefault())};var He=function(t,e,i,n,r,o,s){this.Init(t,e,i,n,r,o,s)};e.createSubclass(He,ke,"DvtTransientButton"),He._DEFAULT_RADIUS=16,He._DEFAULT_FILL_COLOR="#ffffff",He._DEFAULT_BORDER_COLOR="#d6d7d8",He.prototype.Init=function(t,e,i,n,r,o,s){He.superclass.Init.call(this,t,e,i,n,r,null,s,o);var a=t.getStage();a.addEvtListener(It.FOCUS,this._onFocus,!0,this),a.addEvtListener(It.BLUR,this._onBlur,!0,this),qe.isTouchDevice()||(qe.isPlatformIE()?(a.addEvtListener("mouseenter",this._onMouseOver,!1,this),a.addEvtListener("mouseleave",this._onMouseOut,!1,this)):(a.addEvtListener(Ot.MOUSEOVER,this._onMouseOver,!1,this),a.addEvtListener(Ot.MOUSEOUT,this._onMouseOut,!1,this)))},He.getStateFromURL=function(t,e){var i=He._DEFAULT_RADIUS,n=i/2,r=new se(t,i,i,i);r.setSolidFill(He._DEFAULT_FILL_COLOR),r.setSolidStroke(He._DEFAULT_BORDER_COLOR);var o=new ae(t,e,n,n,i,i);return r.addChild(o),r},He.prototype.show=function(){this.setAlpha(1)},He.prototype.hide=function(){this.setAlpha(0)},He.prototype._onFocus=function(t){this._isFocused=!0,this.show()},He.prototype._onBlur=function(t){this._isFocused=!1,this._isMouseOver||this.hide()},He.prototype._onMouseOver=function(t){this._mouseOutTimer&&this._mouseOutTimer.isRunning()&&this._mouseOutTimer.stop(),this._isMouseOver=!0,this.show()},He.prototype._onMouseOut=function(t){this._mouseOutTimer||(this._mouseOutTimer=new v(this.getCtx(),10,this._onMouseOutTimerEnd,this,1)),this._mouseOutTimer.reset(),this._mouseOutTimer.start()},He.prototype._onMouseOutTimerEnd=function(){this._isMouseOver=!1,this._isFocused||this.hide()};var Fe=function(){};e.createSubclass(Fe,e,"DvtLogicalObject"),Fe.prototype.getDisplayables=function(){},Fe.prototype.getAriaLabel=function(){};var Be=function(){};e.createSubclass(Be,e,"DvtTooltipSource"),Be.prototype.getTooltip=function(t,e,i){},Be.prototype.getDatatip=function(t,e,i){},Be.prototype.getDatatipColor=function(){};var Ue=function(){};e.createSubclass(Ue,e,"DvtSelectable"),Ue.prototype.isSelectable=function(){},Ue.prototype.isSelected=function(){},Ue.prototype.setSelected=function(t,e){},Ue.prototype.showHoverEffect=function(){},Ue.prototype.hideHoverEffect=function(){};var Ge=function(){};Ge.prototype.handleKeyboardEvent=function(t){},Ge.prototype.hideKeyboardFocusEffect=function(){};var je=function(){};e.createSubclass(je,e,"DvtKeyboardNavigable"),je.prototype.getNextNavigable=function(t){},je.prototype.getTargetElem=function(){},je.prototype.getKeyboardBoundingBox=function(t){},je.prototype.showKeyboardFocusEffect=function(){},je.prototype.hideKeyboardFocusEffect=function(){},je.prototype.isShowingKeyboardFocusEffect=function(){},je.prototype.getContextMenuLocation=function(){},je.prototype.getKeyboardTooltipLocation=function(){};var Ve=function(){};e.createSubclass(Ve,e,"DvtCategoricalObject"),Ve.prototype.getCategories=function(){},Ve.prototype.highlight=function(t,e){};var Ye=function(){};e.createSubclass(Ye,e,"DvtContextMenuSource"),Ye.prototype.getContextMenuLocation=function(){};var We=function(){};e.createSubclass(We,e,"DvtPopupSource"),We.prototype.getId=function(){},We.prototype.getShowPopupBehaviors=function(){};var Ke=function(){};e.createSubclass(Ke,e,"DvtZOrderManager"),Ke.prototype.bringToFrontOfSelection=function(t){},Ke.prototype.pushToBackOfSelection=function(t){},Ke.prototype.setNumFrontObjs=function(t){};var ze=function(t){};e.createSubclass(ze,e,"DvtAutomation"),ze.TOOLTIP_SUBID="tooltip",ze.prototype.getSubIdForDomElement=function(t){var e=ze._findDisplayable(t);return!e||e instanceof Array?t&&this.IsTooltipElement(t)?ze.TOOLTIP_SUBID:null:this.GetSubIdForDomElement(e)},ze.prototype.GetSubIdForDomElement=function(t){return null},ze.prototype.getDomElementForSubId=function(t){return null},ze._findDisplayable=function(t){for(;t;){if(t._obj)return t._obj;t=t.parentNode}return null},ze.prototype.GetTooltipElement=function(t,e){if(t){var i=t.getCtx().getTooltipManager(e).getTooltipElem();return"hidden"==i.style.visibility?null:i}return null},ze.prototype.IsTooltipElement=function(t){var e=t.getAttribute("id");return!(!e||0!=e.indexOf(vi._TOOLTIP_DIV_ID))};var Xe=function(t,e,i,n){this.Init(t,e,i,n)};e.createSubclass(Xe,e,"DvtSimpleObjPeer"),Xe.prototype.Init=function(t,e,i,n){this._tooltip=t,this._datatip=e,this._datatipColor=i,this._params=n},Xe.prototype.setTooltip=function(t){this._tooltip=t},Xe.prototype.setDatatip=function(t){this._datatip=t},Xe.prototype.setDatatipColor=function(t){this._datatipColor=t},Xe.prototype.getParams=function(){return this._params},Xe.prototype.getTooltip=function(t){return this._tooltip},Xe.prototype.getDatatip=function(t){return this._datatip},Xe.prototype.getDatatipColor=function(t){return this._datatipColor};var qe=function(){};e.createSubclass(qe,e,"DvtAgent"),qe.UNKNOWN_VERSION=-1,qe.IE_PLATFORM="ie",qe.GECKO_PLATFORM="gecko",qe.WEBKIT_PLATFORM="webkit",qe.UNKNOWN_PLATFORM="unknown",qe.WINDOWS_OS="Windows",qe.SOLARIS_OS="Solaris",qe.MAC_OS="Mac",qe.UNKNOWN_OS="Unknown",qe.FOCUS_COLOR_DEFAULT="#0645AD",qe.FOCUS_COLOR_IE="#090909",qe.deferAriaCreation=function(){return!qe.isTouchDevice()&&!qe.isEnvironmentTest()},qe.getDevicePixelRatio=function(){return qe._initialize(),qe._devicePixelRatio},qe.getElementPosition=function(t){return qe.isPlatformIE()?qe._getElementPositionIE(t):qe._getElementPositionDefault(t)},qe.getPlatform=function(){return qe._initialize(),qe._platform},qe.getOS=function(){return qe._initialize(),qe._os},qe.getVersion=function(){return qe._initialize(),qe._version},qe.isBrowserChrome=function(){return qe._initialize(),qe._bChrome},qe.isBrowserSafari=function(){return qe.isPlatformWebkit()&&!qe.isBrowserChrome()},qe.isPlatformGecko=function(){return qe.getPlatform()==qe.GECKO_PLATFORM},qe.isPlatformIE=function(){return qe.getPlatform()==qe.IE_PLATFORM},qe.isPlatformWebkit=function(){return qe.getPlatform()==qe.WEBKIT_PLATFORM},qe.isRightToLeft=function(t){return qe._initialize(),t&&null!=t.getReadingDirection()?"rtl"==t.getReadingDirection():qe._bRtl},qe.isTouchDevice=function(){return qe._initialize(),qe._bTouchDevice},qe.setEnvironment=function(t){qe._environment=t},qe.isEnvironmentTest=function(){return"test"==qe._environment},qe.isEnvironmentBatik=function(){return"batik"==qe._environment},qe.isEnvironmentBrowser=function(){return!qe.isEnvironmentTest()&&!qe.isEnvironmentBatik()},qe.setHighContrast=function(t){qe._highContrast=t},qe.isHighContrast=function(){return qe._highContrast===!0},qe.workaroundFirefoxRepaint=function(t){if(qe.isPlatformGecko()){var e=t.getParent();if(e){var i=e.getChildIndex(t);e.removeChildAt(i),e.addChildAt(t,i)}}},qe._initialize=function(){if(!qe._bInitialized){var t=navigator&&navigator.userAgent?navigator.userAgent.toLowerCase():null;qe._os=qe._determineOS(t),qe._platform=qe._determinePlatform(t),qe._bChrome=t&&-1!=t.indexOf("chrome/")&&-1===t.indexOf("edge"),qe._version=qe._determineVersion(t,qe._platform),qe._bRtl=document&&document.documentElement?"rtl"==document.documentElement.dir:!1,qe._bTouchDevice=qe._platform==qe.WEBKIT_PLATFORM&&t&&(-1!=t.indexOf("mobile")||-1!=t.indexOf("android")),qe._devicePixelRatio=window&&null!=window.devicePixelRatio?window.devicePixelRatio:1,qe._bInitialized=!0}},qe._determineOS=function(t){if(t){if(-1!=t.indexOf("win"))return qe.WINDOWS_OS;if(-1!=t.indexOf("mac"))return qe.MAC_OS;if(-1!=t.indexOf("sunos"))return qe.SOLARIS_OS}return qe.UNKNOWN_OS},qe._determinePlatform=function(t){if(t){if(-1!=t.indexOf("opera"))return qe.UNKNOWN_PLATFORM;if(-1!=t.indexOf("trident")||-1!=t.indexOf("msie")||-1!=t.indexOf("edge"))return qe.IE_PLATFORM;if(-1!=t.indexOf("applewebkit")||-1!=t.indexOf("safari"))return qe.WEBKIT_PLATFORM;if(-1!=t.indexOf("gecko/"))return qe.GECKO_PLATFORM}return qe.UNKNOWN_PLATFORM},qe._determineVersion=function(t,e){if(t){if(e==qe.GECKO_PLATFORM)return qe._parseFloatVersion(t,/rv:(\d+[.]\d+)/);if(e==qe.IE_PLATFORM){var i=qe._parseFloatVersion(t,/trident\/(\d+[.]\d+)/);if(i!=qe.UNKNOWN_VERSION)return i+4;var n=qe._parseFloatVersion(t,/edge\/(\d+[.]\d+)/);if(n!=qe.UNKNOWN_VERSION)return n;var r=qe._parseFloatVersion(t,/msie (\d+\.\d+);/);return r!=qe.UNKNOWN_VERSION?r:qe._parseFloatVersion(t,/msie (\d+\.\d+)b;/)}if(e==qe.WEBKIT_PLATFORM)return qe._bChrome?qe._parseFloatVersion(t,/chrome\/(\d+([.]\d+)*)/):qe._parseFloatVersion(t,/applewebkit\/(\d+([.]\d+)*)/)}return qe.UNKNOWN_VERSION},qe._parseFloatVersion=function(t,e){try{var i=t.match(e);return i&&i[1]?parseFloat(i[1]):qe.UNKNOWN_VERSION}catch(n){return console.error("DvtAgent._parseFloatVersion error: "),console.error(n),qe.UNKNOWN_VERSION}},qe._getElementPositionDefault=function(t){var e=t.getBoundingClientRect(),i=Math.round(e.top),n=e.left,r=t.ownerDocument.documentElement,o=t.ownerDocument.body;return n+=r.scrollLeft||o.scrollLeft,i+=r.scrollTop||o.scrollTop,new dt(n,i)},qe._getElementPositionIE=function(t){var e=t.getBoundingClientRect(),i=e.top,n=e.left,r=t.ownerDocument.documentElement,o=r.scrollLeft;return n-=r.clientLeft-o,i-=r.clientTop-r.scrollTop,new dt(n,i)},qe.getFocusColor=function(){if(qe._initialize(),!qe._focusColor){var t;if(qe.isPlatformWebkit()&&!qe.isEnvironmentTest()){var e=document.getElementsByTagName("body")[0],i=document.createElement("div");e.appendChild(i),i.style.outline="-webkit-focus-ring-color",t=window.getComputedStyle(i).getPropertyValue("outline-color"),e.removeChild(i)}else qe.isPlatformIE()&&(t=qe.FOCUS_COLOR_IE);qe._focusColor=t?t:qe.FOCUS_COLOR_DEFAULT}return qe._focusColor};var Ze=function(){};Ze._localizedStrings={},Ze._defaultStrings={},e.createSubclass(Ze,e,"DvtBundle"),Ze.SUBCOMPONENT_PREFIX="DvtSubcomponentBundle",Ze.AFCOMPONENT_PREFIX="DvtAfComponentBundle",Ze.UTIL_PREFIX="DvtUtilBundle",Ze.CHART_PREFIX="DvtChartBundle",Ze.GAUGE_PREFIX="DvtGaugeBundle",Ze.TREEMAP_PREFIX="DvtTreemapBundle",Ze.SUNBURST_PREFIX="DvtSunburstBundle",Ze.NBOX_PREFIX="DvtNBoxBundle",Ze.HIERARCHYVIEWER_PREFIX="DvtHierarchyViewerBundle",Ze.DIAGRAM_PREFIX="DvtDiagramBundle",Ze.TAGCLOUD_PREFIX="DvtTagCloudBundle",Ze.TIMELINE_PREFIX="DvtTimelineBundle",Ze.addLocalizedStrings=function(t){for(var e in t)Ze._localizedStrings[e]=t[e]},Ze.addDefaultStrings=function(t,e){for(var i in e)Ze._defaultStrings[t+"."+i]=e[i]},Ze.format=function(t,e){return t.replace(/\{(\d+)\}/g,function(){return e[arguments[1]]})},Ze.getTranslatedString=function(t,e,i){var n=t+"."+e,r=Ze._localizedStrings[n];return r||(r=Ze._defaultStrings[n]),r&&null!==i&&void 0!==i&&(r=i instanceof Array?Ze.format(r,i):Ze.format(r,[i])),r},Ze.getTranslation=function(t,e,i,n,r){var o=t&&t.translations?t.translations[e]:null;if(!o){var s=i+"."+n;o=Ze._localizedStrings[s],o||(o=Ze._defaultStrings[s])}return o&&null!==r&&void 0!==r&&(o=r instanceof Array?Ze.format(o,r):Ze.format(o,[r])),o};var $e=function(t){this.Init(t)};e.createSubclass($e,e,"DvtCache"),$e._TARGET_SIZE=1e3,$e._BUFFER_SIZE=.5,$e.prototype.Init=function(t){this._targetSize=null!=t?t:$e._TARGET_SIZE,this._maxSize=Math.ceil(this._targetSize*(1+$e._BUFFER_SIZE)),this._cache={},this._lruArray=[],this._hits=0,this._misses=0},$e.prototype.get=function(t){var e=this._cache[t];return null!=e?(this._hits++,e):(this._misses++,null)},$e.prototype.put=function(t,e){var n=null!=this._cache[t];if(this._cache[t]=e,n){var r=i.getIndex(this._lruArray,t);this._lruArray.splice(r,1),this._lruArray.push(t)}else if(this._lruArray.push(t),this._lruArray.length>this._maxSize)for(var o=this._lruArray.splice(0,this._maxSize-this._targetSize),s=0;s<o.length;s++)delete this._cache[o[s]]},$e.prototype.toString=function(){var t="Cache Size: "+this._lruArray.length;return t+="\nHits: "+this._hits,t+="\nMisses: "+this._misses,t+="\nHit %: "+Math.round(1e4*this._hits/(this._hits+this._misses))/100};var Je=function(t,e){this._context=t,this._menus=e};e.createSubclass(Je,e,"DvtContextMenuHandler"),Je.TYPE_BODY_CONTEXT_MENU="bodyContextMenu",Je.TYPE_CONTEXT_MENU="contextMenu",Je.TYPE_MULTI_SELECT_CONTEXT_MENU="multiSelectContextMenu",Je._ATTR_MENU_CONTAINER_TYPE="t",Je._ATTR_MENU_CONTAINER_POPUP_ID="id",Je.prototype.show=function(t,e){for(var i=0;i<this._menus.length;i++){var n=this._menus[i];if(e==n[Je._ATTR_MENU_CONTAINER_TYPE]){var r=n[Je._ATTR_MENU_CONTAINER_POPUP_ID];return new Ii(t.getNativeEvent(),r)}}return null};var Qe=function(t,e,i){this._context=t,this._callback=e,this._callbackObj=i,this._popupPosition=null,this._mouseTarget=null,this._behavior=null,this._hoverPopupShown=!1,this._hoverTimer=new v(t,500,this._onHoverDelay,this,1),this._overTimer=new v(t,500,this._onOverDelay,this,1)};e.createSubclass(Qe,e,"DvtPopupBehaviorHandler"),Qe.prototype.processPopupHelper=function(t,e,n,r,o){var s=!1;if(t&&e&&e.length>0)for(var a=0;a<e.length;a++){var l=e[a];if(l&&-1!=i.getIndex(n,l.getTriggerType())){this.HidePopup(o),this._behavior=l;var u=this._createShowPopupEvent(t,l,r);ki.dispatchEvent(this._callback,this._callbackObj,this,u),s=!0}}return s},Qe.prototype.processMousePopup=function(t,e,i,n,r,o){if(t===this._mouseTarget)return!0;if(t&&e&&e.length>0)for(var s=0;s<e.length;s++){var a=e[s],l=a?a.getTriggerType():null;if(l==Oe.TRIGGER_TYPE_MOUSE_HOVER&&(l=Oe.TRIGGER_TYPE_MOUSE_OVER),o==l)return this.HidePopup(r),this._mouseTarget=t,this._behavior=a,this._hoverDisplayable=n,this._popupPosition=i,o==Oe.TRIGGER_TYPE_MOUSE_HOVER||o==Oe.TRIGGER_TYPE_MOUSE_OVER?a.getTriggerType()==Oe.TRIGGER_TYPE_MOUSE_HOVER?this._hoverTimer.start():this._overTimer.start():this._onOverDelay(),!0}return!1},Qe.prototype.processMouseOut=function(t,e,n){var r=!1;e&&(r=e.length<1),this._mouseTarget&&this._behavior&&(t===this._mouseTarget||r)&&(e&&this._hoverDisplayable&&i.getIndex(e,this._hoverDisplayable)>-1||this.HidePopup(n))},Qe.prototype.HidePopup=function(t){if(this._hoverPopupShown){var e=new Ai(this._behavior.getPopupId(),t.getNativeEvent().relatedTarget);ki.dispatchEvent(this._callback,this._callbackObj,this,e)}else this._hoverTimer.stop();this._mouseTarget=null,this._behavior=null,this._hoverPopupShown=!1,this._hoverDisplayable=null},Qe.prototype.processMouseMove=function(t){this._popupPosition=t},Qe.prototype._createShowPopupEvent=function(t,e,i){var n=e,r=e,o=n.getAlign()&&!n.getAlignId();o&&(r=new Oe(n.getPopupId(),n.getTriggerType(),null,null));var s=t.getPopupBounds?t.getPopupBounds(r):null;if(o&&!s){var a=this._context.pageToStageCoords(i.x,i.y);s=new gt(a.x,a.y-5,1,5)}else s&&(n=new Oe(n.getPopupId(),n.getTriggerType(),null,n.getAlign()));var l=new Ci(n,s,null,n.getTriggerType());return li._addContextInfo(t,l),l},Qe.prototype._onHoverDelay=function(){if(this._mouseTarget&&this._behavior){this._hoverPopupShown=!0;var t=this._createShowPopupEvent(this._mouseTarget,this._behavior,this._popupPosition);ki.dispatchEvent(this._callback,this._callbackObj,this,t)}},Qe.prototype._onOverDelay=function(){if(this._mouseTarget&&this._behavior){var t=this._createShowPopupEvent(this._mouseTarget,this._behavior,this._popupPosition);ki.dispatchEvent(this._callback,this._callbackObj,this,t)}},Qe.prototype.hasPopup=function(t,e){if(!t||!t.getShowPopupBehaviors)return!1;var n=t.getShowPopupBehaviors();if(n)for(var r=0;r<n.length;r++){var o=n[r];if(o&&-1!=i.getIndex(e,o.getTriggerType()))return!0}return!1};var ti=function(t,e,i){this.Init(t,e,i)};e.createSubclass(ti,e,"DvtClientBehaviorHandler"),ti.prototype.Init=function(t,e,i){this._context=t,this._callback=e,this._callbackObj=i},ti.prototype.processClick=function(t,e){var i=!1;if(t&&e&&e.length>0)for(var n=0;n<e.length;n++){var r=e[n];if(r&&(r.getTriggerType()==Me.TRIGGER_TYPE_ACTION||r.getTriggerType()==Me.TRIGGER_TYPE_CLICK)){var o=this.CreateClientBehaviorEvent(t,r);ki.dispatchEvent(this._callback,this._callbackObj,null,o),i=!0}}return i},ti.prototype.CreateClientBehaviorEvent=function(t,e){var i=new Di(e);return li._addContextInfo(t,i),i};var ei=function(t){this.Init(t)};e.createSubclass(ei,e,"DvtSelectionHandler"),ei.TYPE_SINGLE="s",ei.TYPE_MULTIPLE="m",ei.prototype.Init=function(t){this._selection=[],this._type=t?t:ei.TYPE_SINGLE,this._hiddenSelectedIds=[]},ei.prototype.getType=function(){return this._type},ei.prototype.getSelectedCount=function(){return this._selection.length},ei.prototype.getSelection=function(){return this._selection.slice(0)},ei.prototype.getSelectedIds=function(){for(var t=[],e=0;e<this._selection.length;e++)t.push(this._selection[e].getId());return t.concat(this._hiddenSelectedIds)},ei.prototype.processInitialSelections=function(t,e){if(this.clearSelection(!0),t&&e)for(var i=0;i<t.length;i++){for(var n=!0,r=0;r<e.length;r++){var o=e[r].getId();if(null!=o&&ei._isEquals(t[i],o)&&e[r].isSelectable&&e[r].isSelectable()){this._addToSelection(e[r],!0,!0),n=!1;break}}n&&this._hiddenSelectedIds.push(t[i])}},ei.prototype.processClick=function(t,e){if(t&&t.isUnrelatedToSelection&&t.isUnrelatedToSelection())return!1;var i=e&&this._type==ei.TYPE_MULTIPLE,n=!1;return i?t&&t.isSelectable&&t.isSelectable()&&(n=t.isSelected()?this.removeFromSelection(t):this._addToSelection(t,!0)):n=t&&t.isSelectable&&t.isSelectable()?this._addToSelection(t,!1):this.clearSelection(),
n},ei.prototype.processGroupSelection=function(t,e){e||this.clearSelection();for(var i,n=0;n<t.length;n++)i=t[n],i&&i.isUnrelatedToSelection&&i.isUnrelatedToSelection()||this._addToSelection(i,!0)},ei.prototype.processMouseOver=function(t){t&&t.isSelectable&&t.isSelectable()&&t.showHoverEffect&&t.showHoverEffect()},ei.prototype.processMouseOut=function(t){t&&t.isSelectable&&t.isSelectable()&&t.hideHoverEffect&&t.hideHoverEffect()},ei.prototype._addToSelection=function(t,e,i){return t.isSelected()||t.isSelectable&&!t.isSelectable()?!1:(e||this.clearSelection(i),t.setSelected(!0,i),this._selection.push(t),!0)},ei.prototype.removeFromSelection=function(t){if(!t.isSelected())return!1;t.setSelected(!1);for(var e=0;e<this._selection.length;e++)if(this._selection[e]==t){this._selection.splice(e,1);break}return!0},ei.prototype.clearSelection=function(t){if(this._selection.length<=0&&this._hiddenSelectedIds.length<=0)return!1;for(;this._selection.length>0;){var e=this._selection.pop();e.setSelected(!1,t)}return this._hiddenSelectedIds.length=0,!0},ei._isEquals=function(t,e){return t==e?!0:t instanceof String?!1:t&&t.equals?t.equals(e):!1};var ii=function(t){this.Init(t)};e.createSubclass(ii,e,"DvtKeyboardHandler"),ii._OPTIMAL_ANGLE1=15/180*Math.PI,ii._OPTIMAL_ANGLE2=40/180*Math.PI,ii._SUBOPTIMAL_ANGLE_PENALTY1=2,ii._SUBOPTIMAL_ANGLE_PENALTY2=6,ii.prototype.Init=function(t){this._eventManager=t},ii.prototype.processKeyDown=function(t){var e=this._eventManager.getFocus();if(e&&(this.isNavigationEvent(t)||this.isMultiSelectEvent(t))){li.consumeEvent(t);var i=e.getNextNavigable(t);return i!=e&&(i&&this._showPopupHelper(i,[Oe.TRIGGER_TYPE_FOCUS],t),this._showPopupHelper(e,[Oe.TRIGGER_TYPE_BLUR],t)),i}return t.keyCode!=xt.TAB&&e&&this._showPopupHelper(e,[Oe.TRIGGER_TYPE_KEY_DOWN],t),null},ii.prototype.processKeyUp=function(t,e){var i=this._eventManager.getFocus();i&&t.keyCode==xt.TAB?this._showPopupHelper(i,[Oe.TRIGGER_TYPE_FOCUS],t):!i||this.isNavigationEvent(t)||this.isMultiSelectEvent(t)||this._showPopupHelper(i,e,t)},ii.getNextNavigable=function(t,e,i,n){var r=null,o=0,s=0,a=e.keyCode;if(!t)return!i||i.length<1?null:i[0];for(var l,u=t.getKeyboardBoundingBox(),h=0;h<i.length;h++){var c=i[h];t!==c&&(l=c.getKeyboardBoundingBox(),(n||ii._isInBounds(u,l,a))&&(s=ii._computeDelta(u,l,a),((a==xt.UP_ARROW||a==xt.LEFT_ARROW)&&0>s&&(!r||s>o)||(a==xt.DOWN_ARROW||a==xt.RIGHT_ARROW)&&s>0&&(!r||o>s))&&(r=c,o=s)))}return r?r:t},ii.prototype._showPopupHelper=function(t,e,i){var n=this._eventManager.getCtx(),r=t.getKeyboardBoundingBox(n.getStage()).getCenter(),o=n.stageToPageCoords(r.x,r.y),s=t.getShowPopupBehaviors?t.getShowPopupBehaviors():null;return this._eventManager.getPopupHandler().processPopupHelper(t,s,e,o,i)},ii.prototype.getDefaultNavigable=function(t){if(!t||t.length<=0)return null;for(var e,i,n=t[0],r=n.getKeyboardBoundingBox(),o=1;o<t.length;o++)e=t[o],i=e.getKeyboardBoundingBox(),((i.x==r.x&&i.y<r.y||i.x<r.x)&&!qe.isRightToLeft(this._eventManager.getCtx())||(i.x+i.w==r.x+r.w&&i.y<r.y||i.x+i.w>r.x+r.w)&&qe.isRightToLeft(this._eventManager.getCtx()))&&(n=e,r=n.getKeyboardBoundingBox());return n},ii.prototype.isNavigationEvent=function(t){var e=t.keyCode;switch(e){case xt.UP_ARROW:case xt.DOWN_ARROW:case xt.LEFT_ARROW:case xt.RIGHT_ARROW:return!0}return!1},ii.prototype.isSelectionEvent=function(t){return!1},ii.prototype.isMultiSelectEvent=function(t){return!1},ii.prototype.isContextMenuEvent=function(t){return t.keyCode==xt.M&&t.altKey&&t.ctrlKey},ii._isInBounds=function(t,e,i){if(i==xt.UP_ARROW||i==xt.DOWN_ARROW){var n=t.x,r=n+t.w,o=e.x,s=o+e.w;return!(n>=s||o>=r)}if(i==xt.LEFT_ARROW||i==xt.RIGHT_ARROW){var a=t.y,l=a+t.h,u=e.y,h=u+e.h;return!(a>=h||u>=l)}},ii._computeDelta=function(t,e,i){var n=0,r=t.getCenter().x,o=t.getCenter().y,s=e.getCenter().x,a=e.getCenter().y;return i==xt.UP_ARROW||i==xt.DOWN_ARROW?n=a-o:i!=xt.LEFT_ARROW&&i!=xt.RIGHT_ARROW||(n=s-r),n},ii.getNextAdjacentNavigable=function(t,e,i){var n=e.keyCode;if(!i)return null;if(!t)return i[0];for(var r=t,o=Number.MAX_VALUE,s=!1,a=0;a<i.length;a++){var l=i[a];if(l!==t&&ii._isValidDestination(l,t,n)){var u=ii._calcInContact(l,t,n);if(!s||u){var h=ii._calcDistanceAngleWeighted(l,t,n);(!s&&u||o>h&&(s&&u||!s))&&(o=h,r=l,s=u)}}}return r},ii._calcInContact=function(t,e,i){var n=t.getKeyboardBoundingBox(),r=e.getKeyboardBoundingBox();switch(i){case xt.UP_ARROW:return ii._isVerticallyAligned(n,r)&&(r.y<=n.y+n.h||ii._areEqualWithinTolerance(r.y,n.y+n.h));case xt.DOWN_ARROW:return ii._isVerticallyAligned(n,r)&&(n.y<=r.y+r.h||ii._areEqualWithinTolerance(n.y,r.y+r.h));case xt.RIGHT_ARROW:return ii._isHorizontallyAligned(n,r)&&(n.x<=r.x+r.w||ii._areEqualWithinTolerance(n.x,r.x+r.w));case xt.LEFT_ARROW:return ii._isHorizontallyAligned(n,r)&&(r.x<=n.x+n.w||ii._areEqualWithinTolerance(r.x,n.x+n.w))}return!1},ii._isVerticallyAligned=function(t,e){return t.x>=e.x&&t.x<=e.x+e.w||e.x>=t.x&&e.x<=t.x+t.w},ii._isHorizontallyAligned=function(t,e){return t.y>=e.y&&t.y<=e.y+e.h||e.y>=t.y&&e.y<=t.y+t.h},ii._calcDistanceAngleWeighted=function(t,e,i){var n=t.getKeyboardBoundingBox(),r=n.x+n.w/2,o=n.y+n.h/2,s=e.getKeyboardBoundingBox(),a=s.x+s.w/2,l=s.y+s.h/2,u=Math.abs(r-a),h=Math.abs(o-l),c=Math.atan2(h,u),p=Math.sqrt(u*u+h*h);return(c>ii._OPTIMAL_ANGLE1&&(i==xt.RIGHT_ARROW||i==xt.LEFT_ARROW)||c<yt.HALF_PI-ii._OPTIMAL_ANGLE1&&(i==xt.UP_ARROW||i==xt.DOWN_ARROW))&&(p*=c>ii._OPTIMAL_ANGLE2&&(i==xt.RIGHT_ARROW||i==xt.LEFT_ARROW)||c<yt.HALF_PI-ii._OPTIMAL_ANGLE2&&(i==xt.UP_ARROW||i==xt.DOWN_ARROW)?ii._SUBOPTIMAL_ANGLE_PENALTY2:ii._SUBOPTIMAL_ANGLE_PENALTY1),p},ii._isValidDestination=function(t,e,i){var n=t.getKeyboardBoundingBox(),r=e.getKeyboardBoundingBox();switch(i){case xt.UP_ARROW:return n.y<r.y||ii._areEqualWithinTolerance(n.y,r.y);case xt.DOWN_ARROW:return n.y>r.y||ii._areEqualWithinTolerance(n.y,r.y);case xt.RIGHT_ARROW:return n.x>r.x||ii._areEqualWithinTolerance(n.x,r.x);case xt.LEFT_ARROW:return n.x<r.x||ii._areEqualWithinTolerance(n.x,r.x)}return!0},ii._areEqualWithinTolerance=function(t,e){return Math.abs(t-e)<=1e-7};var ni=function(t,e,i,n,r,o,s,a,l){this.Init(t,e,i,n,r,o,s,a,l)};e.createSubclass(ni,e,"DvtMarqueeHandler"),ni.prototype.Init=function(t,e,i,n,r,o,s,a,l){this._context=t.getCtx(),this._container=t,this._bounds=e,this._fill=n,this._stroke=r,this._allowHoriz=null==o?!0:o,this._allowVert=null==s?!0:s,this._horizBounds=a,this._vertBounds=l,this._glassPane=new _e(this._context,i.x,i.y,i.w,i.h),this._glassPane.setInvisibleFill(),this._marqueeOn=!1,this._marqueeDrawn=!1,this._resizeHoriz=!1,this._resizeVert=!1},ni.prototype.processDragStart=function(t,e){if(!this._marqueeOn){if(this._origPt=this._container.stageToLocal(t),this._resizeHoriz=this._allowHoriz,this._resizeVert=this._allowVert,!this._bounds.containsPoint(this._origPt.x,this._origPt.y))if(this._vertBounds&&this._vertBounds.containsPoint(this._origPt.x,this._origPt.y))this._resizeHoriz=!1;else{if(!this._horizBounds||!this._horizBounds.containsPoint(this._origPt.x,this._origPt.y))return null;this._resizeVert=!1}return this._marqueeOn=!0,this._marquee=null,this._createMarqueeEvent(Bt.SUBTYPE_START,e)}return null},ni.prototype.processDragMove=function(t,e){if(!this._marqueeOn)return null;this._marqueeDrawn||(this._container.addChild(this._glassPane),this._marquee=new _e(this._context,this._bounds.x,this._bounds.y,this._bounds.w,this._bounds.h),this._resizeHoriz&&(this._marquee.setX(this._origPt.x),this._marquee.setWidth(0)),this._resizeVert&&(this._marquee.setY(this._origPt.y),this._marquee.setHeight(0)),this._marquee.setStroke(this._stroke),this._marquee.setFill(this._fill),this._marquee.setPixelHinting(!0),this._glassPane.addChild(this._marquee),this._marqueeDrawn=!0);var i=this._container.stageToLocal(t);return i.x=Math.max(i.x,this._bounds.x),i.x=Math.min(i.x,this._bounds.x+this._bounds.w),i.y=Math.max(i.y,this._bounds.y),i.y=Math.min(i.y,this._bounds.y+this._bounds.h),this._resizeHoriz&&(this._marquee.setWidth(Math.abs(i.x-this._origPt.x)),i.x<this._origPt.x?this._marquee.setX(i.x):this._marquee.setX(this._origPt.x)),this._resizeVert&&(this._marquee.setHeight(Math.abs(i.y-this._origPt.y)),i.y<this._origPt.y?this._marquee.setY(i.y):this._marquee.setY(this._origPt.y)),this._createMarqueeEvent(Bt.SUBTYPE_MOVE,e)},ni.prototype.processDragEnd=function(t,e){return this._marqueeOn&&(this._marqueeOn=!1,this._marqueeDrawn)?(this._glassPane.removeChild(this._marquee),this._container.removeChild(this._glassPane),this._marqueeDrawn=!1,this._createMarqueeEvent(Bt.SUBTYPE_END,e)):null},ni.prototype.cancelMarquee=function(){return this._marqueeOn&&(this._marqueeOn=!1,this._marqueeDrawn)?(this._glassPane.removeChild(this._marquee),this._container.removeChild(this._glassPane),this._marqueeDrawn=!1,!0):!1},ni.prototype._createMarqueeEvent=function(t,e){var i=null,n=null,r=null,o=null;return this._resizeHoriz&&(i=this._marquee?this._marquee.getX():this._origPt.x,r=this._marquee?this._marquee.getWidth():0),this._resizeVert&&(n=this._marquee?this._marquee.getY():this._origPt.y,o=this._marquee?this._marquee.getHeight():0),new Bt(t,i,n,r,o,e)},ni.prototype.getCursor=function(t){var e=this._container.stageToLocal(t),i=this._bounds.containsPoint(e.x,e.y),n=this._vertBounds&&this._vertBounds.containsPoint(e.x,e.y),r=this._horizBounds&&this._horizBounds.containsPoint(e.x,e.y);return i||n||r?"crosshair":"inherit"};var ri=function(t,e,i,n){this.Init(t,e,i,n)};e.createSubclass(ri,e,"DvtPanZoomHandler"),ri.prototype.Init=function(t,e,i,n){this._context=t.getCtx(),this._container=t,this._bounds=e,this._zoomRate=n,this._glassPane=new _e(this._context,i.x,i.y,i.w,i.h),this._glassPane.setInvisibleFill(),this._panOn=!1,this._glassPaneDrawn=!1,this._pinchOn=!1},ri.prototype.processDragStart=function(t){return this._panOn?null:(this._origPt=this._container.stageToLocal(t),this._lastPt=this._origPt,this._bounds.containsPoint(this._origPt.x,this._origPt.y)?(this._panOn=!0,new Ut(Ut.SUBTYPE_PAN_START,0,0,0,0,0,0,0,0)):null)},ri.prototype.processDragMove=function(t){if(!this._panOn)return null;this._glassPaneDrawn||(this._container.addChild(this._glassPane),this._glassPaneDrawn=!0);var e=this._container.stageToLocal(t),i=e.x-this._lastPt.x,n=e.y-this._lastPt.y,r=e.x-this._origPt.x,o=e.y-this._origPt.y;return this._lastPt=e,new Ut(Ut.SUBTYPE_PAN_MOVE,-i,-i,-n,-n,-r,-r,-o,-o)},ri.prototype.processDragEnd=function(t){if(this._panOn&&(this._panOn=!1,this._glassPaneDrawn)){this._container.removeChild(this._glassPane),this._glassPaneDrawn=!1;var e=t?this._container.stageToLocal(t):this._lastPt,i=e.x-this._lastPt.x,n=e.y-this._lastPt.y,r=e.x-this._origPt.x,o=e.y-this._origPt.y;return this._lastPt=null,new Ut(Ut.SUBTYPE_PAN_END,-i,-i,-n,-n,-r,-r,-o,-o)}return null},ri.prototype.processMouseWheel=function(t,e){var i=this._container.stageToLocal(t);if(!this._bounds.containsPoint(i.x,i.y))return null;e*=this._zoomRate;var n=e*(i.x-this._bounds.x),r=-e*(this._bounds.x+this._bounds.w-i.x),o=e*(i.y-this._bounds.y),s=-e*(this._bounds.y+this._bounds.h-i.y);return new Ut(Ut.SUBTYPE_ZOOM,n,r,o,s,n,r,o,s)},ri.prototype.processPinchStart=function(t,e){return this._pinchOn?null:(this._origPt1=this._container.stageToLocal(t),this._origPt2=this._container.stageToLocal(e),this._lastPt1=this._origPt1,this._lastPt2=this._origPt2,this._bounds.containsPoint(this._origPt1.x,this._origPt1.y)&&this._bounds.containsPoint(this._origPt2.x,this._origPt2.y)?(this._pinchOn=!0,new Ut(Ut.SUBTYPE_PINCH_START,0,0,0,0,0,0,0,0)):null)},ri.prototype.processPinchMove=function(t,e){if(!this._pinchOn)return null;var i=this._container.stageToLocal(t),n=this._container.stageToLocal(e),r=this._computePinchDeltas(i,n,this._lastPt1,this._lastPt2),o=this._computePinchDeltas(i,n,this._origPt1,this._origPt2);return this._lastPt1=i,this._lastPt2=n,new Ut(Ut.SUBTYPE_PINCH_MOVE,r.dxMin,r.dxMax,r.dyMin,r.dyMax,o.dxMin,o.dxMax,o.dyMin,o.dyMax)},ri.prototype.processPinchEnd=function(){if(this._pinchOn){this._pinchOn=!1;var t=this._computePinchDeltas(this._lastPt1,this._lastPt2,this._origPt1,this._origPt2);return this._lastPt1=null,this._lastPt2=null,new Ut(Ut.SUBTYPE_PINCH_END,0,0,0,0,t.dxMin,t.dxMax,t.dyMin,t.dyMax)}return null},ri.prototype._computePinchDeltas=function(t,e,i,n){var r=Math.abs(t.x-e.x),o=Math.abs(t.y-e.y),s=Math.abs(i.x-n.x),a=Math.abs(i.y-n.y),l=r>o/2?s/r:1,u=o>r/2?a/o:1,h=(t.x+e.x)/2,c=(t.y+e.y)/2,p=(i.x+n.x)/2,d=(i.y+n.y)/2,g=h-p,f=c-d,_=(1-l)*(h-this._bounds.x),v=(l-1)*(this._bounds.x+this._bounds.w-h),m=(1-u)*(c-this._bounds.y),y=(u-1)*(this._bounds.y+this._bounds.h-c);return _-=g,v-=g,m-=f,y-=f,{dxMin:_,dxMax:v,dyMin:m,dyMax:y}},ri.prototype.zoomBy=function(t){var e=(1/t-1)/2,i=-e*this._bounds.w,n=e*this._bounds.w,r=-e*this._bounds.h,o=e*this._bounds.h;return new Ut(Ut.SUBTYPE_ZOOM,i,n,r,o,i,n,r,o)},ri.prototype.panBy=function(t,e){var i=t*this._bounds.w*(qe.isRightToLeft(this._context)?-1:1),n=e*this._bounds.h;return new Ut(Ut.SUBTYPE_PAN_END,i,i,n,n,i,i,n,n)},ri.prototype.setPanCursor=function(t,e){qe.isPlatformIE()||(t&&(this._panUpCursor="url("+t+") 8 8, auto"),e&&(this._panDownCursor="url("+e+") 8 8, auto"))},ri.prototype.getCursor=function(t){return null==t||this.isWithinBounds(t)?this._panOn?this._panDownCursor?this._panDownCursor:"move":this._panUpCursor?this._panUpCursor:"move":"inherit"},ri.prototype.isWithinBounds=function(t){var e=this._container.stageToLocal(t);return this._bounds.containsPoint(e.x,e.y)};var oi=function(){};e.createSubclass(oi,e,"DvtTooltipManager"),oi.prototype.showDatatip=function(t,e,i,n){},oi.prototype.showTooltip=function(t,e,i,n,r,o){},oi.prototype.hideTooltip=function(){};var si=function(t,e){this._callback=t,this._callbackObj=e,this._source=e,this._bHighlightMode=!1,this._hoverDelayCallback=null,this._highlightModeTimeout=null,this._hoverDelay=si._HOVER_DELAY};e.createSubclass(si,e,"DvtCategoryRolloverHandler"),si._HOVER_DELAY=50,si._HOVER_TIMEOUT=1e3,si._FADE_OUT_OPACITY=.35,si.prototype.processEvent=function(t,e,i,n,r){if(t&&e&&0!=e.length){this._hoverDelayCallback&&(clearTimeout(this._hoverDelayCallback),this._hoverDelayCallback=null);var o=t.getType();if(o==Mi.TYPE_OVER){var s=this._bHighlightMode?this._hoverDelay:i;this._hoverDelayCallback=setTimeout(this.GetRolloverCallback(t,e,n,r),s),this._highlightModeTimeout&&(clearInterval(this._highlightModeTimeout),this._highlightModeTimeout=null)}else o==Mi.TYPE_OUT&&this._bHighlightMode&&(this._hoverDelayCallback=setTimeout(this.GetRolloutCallback(t,e,n,r),this._hoverDelay))}},si.prototype.GetRolloverCallback=function(t,i,n,r){var o=function(){this._bHighlightMode=!0,si.highlight(t.categories,i,n,r),this._callback&&this._callback.call(this._callbackObj,t,this._source)};return e.createCallback(this,o)},si.prototype.GetRolloutCallback=function(t,i,n,r){var o=function(){si.highlight(t.categories,i,n,r),this.SetHighlightModeTimeout(),this._callback&&this._callback.call(this._callbackObj,t,this._source)};return e.createCallback(this,o)},si.highlight=function(t,e,i,n){if(e)for(var r=n?n:si._FADE_OUT_OPACITY,o=0;o<e.length;o++){var s=e[o];if(s&&s.getCategories){var a=i?si._hasAnyCategory(s,t):si._hasAllCategories(s,t),l=t&&t.length>0&&!a;si._highlightObj(s,l,r)}}},si._highlightObj=function(t,e,i){var n=e?i:1;if(t.highlight)t.highlight(e,n);else{var r=t.getDisplayables();si._updateAlpha(r,n)}},si._updateAlpha=function(t,e){if(t)for(var i=0;i<t.length;i++)t[i].setAlpha(e)},si._hasAnyCategory=function(t,e){return t&&t.getCategories?i.hasAnyItem(t.getCategories(),e):!1},si._hasAllCategories=function(t,e){return t&&t.getCategories?i.hasAllItems(t.getCategories(),e):!1},si.prototype.SetHighlightMode=function(t){this._bHighlightMode=t},si.prototype.SetHighlightModeTimeout=function(){var t=e.createCallback(this,function(){this.SetHighlightMode(!1)});this._highlightModeTimeout=setTimeout(t,si._HOVER_TIMEOUT)},si.prototype.setHoverDelay=function(t){this._hoverDelay=t};var ai=function(){};e.createSubclass(ai,e,"DvtHideShowCategoryHandler"),ai.processEvent=function(t,e){if(t&&e)for(var n=t.getCategory(),r=t.getType()===Ri.TYPE_HIDE,o=0;o<e.length;o++){var s=e[o];if(s&&s.getCategories&&i.getIndex(s.getCategories(),n)>=0){var a=s.getDisplayables(a);ai._updateVisible(a,!r)}}},ai._updateVisible=function(t,e){if(t)for(var i=0;i<t.length;i++)t[i].setVisible(e)};var li=function(t,e,i){this.Init(t,e,i)};e.createSubclass(li,e,"DvtEventManager"),li.CLEAR_SELECTION_ACTION_TYPE="clearSelectionActionType",li.TOUCH_RESPONSE_TOUCH_START="touchStart",li.TOUCH_RESPONSE_TOUCH_HOLD="touchHold",li.TOUCH_RESPONSE_AUTO="auto",li._TOUCH_RESPONSE_PADDING_CHECK=10,li._EVENT_INFO_TOOLTIP_DISPLAYED_KEY="tooltipDisplayed",li._EVENT_INFO_CURRENT_TARGET_KEY="currentTarget",li._EVENT_INFO_POPUP_DISPLAYED_KEY="popupDisplayed",li.prototype.Init=function(t,e,i){this._context=t,this._callback=e,this._callbackObj=i,this._touchMap={},this._selectionHandler=null,this._marqueeHandler=null,this.PopupHandler=new Qe(t,e,i),this.ClientBehaviorHandler=this.CreateClientBehaviorHandler(t,e,i),this.KeyboardHandler=null,this.RolloverHandler=this.CreateCategoryRolloverHandler(e,i),this.setTooltipsEnabled(!0);var n=t.getStage().getId();n||(n="undefinedId"),this.CustomTooltipManager=this._context.getCustomTooltipManager(),this.CustomTooltipManager.addTooltipEventListener(Nt.TOOLTIP_CLOSED_TYPE,this.OnActionTooltipClosed,this),this.CustomTooltipManager.addTooltipEventListener(Nt.TOOLTIP_STARTED_TYPE,this.OnActionTooltipStarted,this),this.TouchManager=null,qe.isTouchDevice()&&(this.TouchManager=new wt("touchmanager",this._context)),this._focusedObj=null,this._shouldDisplayKeyboardFocus=!1,this._rolloverTypes=[],this._keyboardHandlers=[this],this._currentKeyboardHandlerIdx=-1},li.prototype.getCtx=function(){return this._context},li.prototype.associate=function(t,e,i){t&&(t._logicalObjects&&!i||(t._logicalObjects=[]),t._logicalObjects.push({logicalObject:e,eventManager:this}),!qe.isEnvironmentBrowser()&&t.getImpl().setLogicalObj&&t.getImpl().setLogicalObj(e))},li.prototype.addListeners=function(t){t&&(qe.isTouchDevice()?(this.hideTooltip(),t.addEvtListener(Mt.TOUCHSTART,this.OnTouchStartBubble,!1,this),t.addEvtListener(Mt.TOUCHMOVE,this.OnTouchMoveBubble,!1,this),t.addEvtListener(Mt.TOUCHEND,this.OnTouchEndBubble,!1,this),this.TouchManager.addTouchEventListener(kt.TOUCH_HOVER_START_TYPE,this._preOnComponentTouchHoverStart,this),this.TouchManager.addTouchEventListener(kt.TOUCH_HOVER_MOVE_TYPE,this._preOnComponentTouchHoverMove,this),this.TouchManager.addTouchEventListener(kt.TOUCH_HOVER_END_TYPE,this._preOnComponentTouchHoverEnd,this),this.TouchManager.addTouchEventListener(kt.TOUCH_HOVER_OUT_TYPE,this._preOnComponentTouchHoverOut,this),this.TouchManager.addTouchEventListener(kt.TOUCH_HOVER_OVER_TYPE,this._preOnComponentTouchHoverOver,this),this.TouchManager.addTouchEventListener(kt.TOUCH_CLICK_TYPE,this._preOnComponentTouchClick,this),this.TouchManager.addTouchEventListener(kt.TOUCH_DOUBLE_CLICK_TYPE,this._preOnComponentTouchDblClick,this)):(t.addEvtListener(Ot.CLICK,this.PreOnClick,!1,this),t.addEvtListener(Ot.DBLCLICK,this.PreOnDblClick,!1,this),t.addEvtListener("contextmenu",this.PreOnContextMenu,!1,this),t.addEvtListener(Ot.MOUSEMOVE,this.PreOnMouseMove,!1,this),t.addEvtListener(Ot.MOUSEOVER,this.PreOnMouseOver,!1,this),t.addEvtListener(Ot.MOUSEOUT,this.PreOnMouseOut,!1,this),t.addEvtListener(Ot.MOUSEDOWN,this.PreOnMouseDown,!1,this),t.addEvtListener(Ot.MOUSEUP,this.PreOnMouseUp,!1,this),t.addEvtListener(xt.KEYDOWN,this.OnKeyDown,!1,this),t.addEvtListener(xt.KEYPRESS,this.OnKeyPress,!1,this),t.addEvtListener(xt.KEYUP,this.OnKeyUp,!1,this),t.addEvtListener(It.FOCUS,this.OnFocus,!1,this),t.addEvtListener(It.BLUR,this.OnBlur,!1,this)))},li.prototype.removeListeners=function(t){t&&(this.hideTooltip(),qe.isTouchDevice()?(t.removeEvtListener(Mt.TOUCHSTART,this.OnTouchStartBubble,!1,this),t.removeEvtListener(Mt.TOUCHMOVE,this.OnTouchMoveBubble,!1,this),t.removeEvtListener(Mt.TOUCHEND,this.OnTouchEndBubble,!1,this),this.TouchManager.removeTouchEventListener(kt.TOUCH_HOVER_START_TYPE,this._preOnComponentTouchHoverStart,this),this.TouchManager.removeTouchEventListener(kt.TOUCH_HOVER_MOVE_TYPE,this._preOnComponentTouchHoverMove,this),this.TouchManager.removeTouchEventListener(kt.TOUCH_HOVER_END_TYPE,this._preOnComponentTouchHoverEnd,this),this.TouchManager.removeTouchEventListener(kt.TOUCH_HOVER_OUT_TYPE,this._preOnComponentTouchHoverOut,this),this.TouchManager.removeTouchEventListener(kt.TOUCH_HOVER_OVER_TYPE,this._preOnComponentTouchHoverOver,this),this.TouchManager.removeTouchEventListener(kt.TOUCH_CLICK_TYPE,this._preOnComponentTouchClick,this),this.TouchManager.removeTouchEventListener(kt.TOUCH_DOUBLE_CLICK_TYPE,this._preOnComponentTouchDblClick,this)):(t.removeEvtListener(Ot.CLICK,this.PreOnClick,!1,this),t.removeEvtListener(Ot.DBLCLICK,this.PreOnDblClick,!1,this),t.removeEvtListener("contextmenu",this.PreOnContextMenu,!1,this),t.removeEvtListener(Ot.MOUSEMOVE,this.PreOnMouseMove,!1,this),t.removeEvtListener(Ot.MOUSEOVER,this.PreOnMouseOver,!1,this),t.removeEvtListener(Ot.MOUSEOUT,this.PreOnMouseOut,!1,this),t.removeEvtListener(Ot.MOUSEDOWN,this.PreOnMouseDown,!1,this),t.removeEvtListener(Ot.MOUSEUP,this.PreOnMouseUp,!1,this),t.removeEvtListener(xt.KEYDOWN,this.OnKeyDown,!1,this),t.removeEvtListener(xt.KEYUP,this.OnKeyUp,!1,this),t.removeEvtListener(xt.KEYPRESS,this.OnKeyPress,!1,this),t.removeEvtListener(It.FOCUS,this.OnFocus,!1,this),t.removeEvtListener(It.BLUR,this.OnBlur,!1,this)))},li.prototype.destroy=function(){this.CustomTooltipManager&&(this.CustomTooltipManager.removeTooltipEventListener(Nt.TOOLTIP_CLOSED_TYPE,this.OnActionTooltipClosed,this),this.CustomTooltipManager.removeTooltipEventListener(Nt.TOOLTIP_STARTED_TYPE,this.OnActionTooltipStarted,this))},li.prototype.PreEventBubble=function(t){this.TouchManager.preEventBubble(t)},li.prototype.setSelectionHandler=function(t){this._selectionHandler=t},li.prototype.getSelectionHandler=function(t){return this._selectionHandler},li.prototype.getPopupHandler=function(){return this.PopupHandler},li.prototype.setMarqueeHandler=function(t){this._marqueeHandler=t},li.prototype.setDragSource=function(t){this.DragSource=t,qe.isTouchDevice()&&this.DragSource.setTouchManager(this.TouchManager)},li.prototype.setContextMenuHandler=function(t){this.ContextMenuHandler=t},li.prototype.setKeyboardHandler=function(t){qe.isTouchDevice()||(this.KeyboardHandler=t)},li.prototype.getKeyboardHandler=function(){return this.KeyboardHandler},li.prototype.setFocusObj=function(t){var e=this.getFocus();if(t!=e&&(this.setFocus(t),e&&e.hideKeyboardFocusEffect(),this.ShowKeyboardFocusByDefault()&&t.showKeyboardFocusEffect(),this._currentKeyboardHandlerIdx>-1&&this._currentKeyboardHandlerIdx<this._keyboardHandlers.length)){var i=this._keyboardHandlers[this._currentKeyboardHandlerIdx];i!=this&&i.hideKeyboardFocusEffect()}this.setCurrentKeyboardHandler(this)},li.prototype.setFocus=function(t){this.KeyboardHandler&&(this._focusedObj=t)},li.prototype.getFocus=function(){return this.KeyboardHandler?this._focusedObj:null},li.prototype.setFocused=function(t){var e=this.getFocus();e&&this.KeyboardHandler&&(t?this._shouldDisplayKeyboardFocus&&this._currentKeyboardHandlerIdx>=0&&this._currentKeyboardHandlerIdx<this._keyboardHandlers.length&&this._keyboardHandlers[this._currentKeyboardHandlerIdx]===this&&e.showKeyboardFocusEffect():e.hideKeyboardFocusEffect()),t||(this._shouldDisplayKeyboardFocus=!1)},li.prototype.ShowKeyboardFocusByDefault=function(){return!1},li.prototype.setTooltipsEnabled=function(t){this._tooltipsEnabled=t},li.prototype.getTooltipsEnabled=function(t){return this._tooltipsEnabled},li.prototype.GetLogicalObject=function(t,e){var i=this.GetLogicalObjectAndDisplayable(t,e);return i?i.logicalObject:null},li.prototype.GetLogicalObjectAndDisplayable=function(t,e){for(var i=t;i;){if(i._logicalObjects)for(var n=0;n<i._logicalObjects.length;n++){var r=i._logicalObjects[n];if(r.eventManager==this){var o={};return o.logicalObject=r.logicalObject,o.displayable=i,o}}i=e?null:i.getParent()}return null},li.prototype._getShowPopupBehaviors=function(t){return t&&t.getShowPopupBehaviors?t.getShowPopupBehaviors():void 0},li.prototype._getClientBehaviors=function(t){return t&&t.getClientBehaviors?t.getClientBehaviors():void 0},li.prototype.GetContextMenuType=function(t){var e=this.getSelectionHandler(t),i=e?e.getSelection().length:0;return 0>=i?Je.TYPE_BODY_CONTEXT_MENU:1==i?Je.TYPE_CONTEXT_MENU:Je.TYPE_MULTI_SELECT_CONTEXT_MENU},li.prototype.GetTooltipColor=function(t,e,i){return t&&t.getDatatipColor?t.getDatatipColor():void 0},li.prototype.FireEvent=function(t,e){this._callback&&this._callback.call(this._callbackObj,t,e)},li.prototype.fireSelectionEvent=function(t){var e=this.getSelectionHandler(t);if(e){var i=e.getSelectedIds(),n=new Ti(i);this._callback.call(this._callbackObj,n)}},li.prototype.PreOnClick=function(t){if(this.IsDoubleClickable(t)){if(this._clickTimer&&this._clickTimer.isRunning()){var e=this._savedClickEvent;if(t.pageX==e.pageX&&t.pageY==e.pageY)return void this._savedClickCount++;this._clickTimer.stop(),this._onClickTimerEnd()}this._savedClickEvent=t,this._savedClickCount=1,this._clickTimer||(this._clickTimer=new v(this._context,250,this._onClickTimerEnd,this,1)),this._clickTimer.reset(),this._clickTimer.start()}else this._propagateEvent(Ot.CLICK,t,this.OnClick)},li.prototype._onClickTimerEnd=function(){var t=this._savedClickEvent;this._savedClickEvent=null,this._savedClickCount=0,t&&this._propagateEvent(Ot.CLICK,t,this.OnClick)},li.prototype.OnClick=function(t){var e=this.GetLogicalObject(this.GetCurrentTargetForEvent(t));if(this.OnClickInternal(t),this.ProcessSelectionEventHelper(e,t.ctrlKey),this._shouldDisplayKeyboardFocus=!1,e){if(this.KeyboardHandler&&e.getNextNavigable){var i=e.getNextNavigable(t);this.setFocusObj(i)}var n=!1;if(this._hasEventInfo(t)&&(n=this.GetEventInfo(t,li._EVENT_INFO_POPUP_DISPLAYED_KEY)),!n){var r=new dt(t.pageX,t.pageY);n=this.PopupHandler.processPopupHelper(e,this._getShowPopupBehaviors(e),[Oe.TRIGGER_TYPE_ACTION,Oe.TRIGGER_TYPE_CLICK],r,t),n&&this.SetEventInfo(t,li._EVENT_INFO_POPUP_DISPLAYED_KEY,!0)}if(!n){var o=this._getClientBehaviors(e);o&&(n=this.ClientBehaviorHandler.processClick(e,o))}if(!n&&e.isCommandComponent&&e.isCommandComponent()){var t=new Li(Li.SUBTYPE_ACTION,e.getId());li._addContextInfo(e,t),this._callback.call(this._callbackObj,t)}}},li.prototype.IsDoubleClickable=function(t){for(var e=t.target,i=this.GetLogicalObject(this.GetCurrentTargetForEvent(t));e;){var n=this.GetLogicalObject(e,!0);if(n){if(n.isDoubleClickable&&n.isDoubleClickable()||this.PopupHandler.hasPopup(i,[Oe.TRIGGER_TYPE_DBL_CLICK]))return!0;if(!this.IsPropagationEnabled(Ot.DBLCLICK,null,e))return!1}e=e.getParent()}return!1},li.prototype.ProcessSelectionEventHelper=function(t,e){var i=this.getSelectionHandler(t);if(i){var n=i.processClick(t,e);n&&this.fireSelectionEvent(t)}},li.prototype.PreOnDblClick=function(t){var e=this.IsDoubleClickable(t);(e&&2===this._savedClickCount||!e)&&this._propagateEvent(Ot.DBLCLICK,t,this.OnDblClick),this._savedClickCount=0},li.prototype.OnDblClick=function(t){var e=this.GetLogicalObject(this.GetCurrentTargetForEvent(t));if(this._clickTimer&&this._clickTimer.isRunning())this._clickTimer.stop(),this._savedClickEvent=null;else if(qe.isPlatformIE()&&qe.getVersion()<11){if(!e)return;if(!(e.isDoubleClickable&&e.isDoubleClickable()||this.PopupHandler.hasPopup(e,[Oe.TRIGGER_TYPE_DBL_CLICK])))return void this.OnClick(t)}if(this.OnDblClickInternal(t),e){var i=!1;if(this._hasEventInfo(t)&&(i=this.GetEventInfo(t,li._EVENT_INFO_POPUP_DISPLAYED_KEY)),!i){var n=new dt(t.pageX,t.pageY);i=this.PopupHandler.processPopupHelper(e,this._getShowPopupBehaviors(e),[Oe.TRIGGER_TYPE_DBL_CLICK],n,t),i&&this.SetEventInfo(t,li._EVENT_INFO_POPUP_DISPLAYED_KEY,!0)}}},li.prototype.PreOnContextMenu=function(t){this._propagateEvent("contextmenu",t,this.OnContextMenu)},li.prototype.OnContextMenu=function(t){var e=this.GetLogicalObject(this.GetCurrentTargetForEvent(t));e&&e.getNextNavigable&&this.setFocus(e),this._onContextMenuHelper(t,e)},li.prototype._onContextMenuHelper=function(t,e){this.OnContextMenuInternal(t);var i=this._processActionPopup(this.GetCurrentTargetForEvent(t),new dt(t.pageX,t.pageY));if(i&&t.preventDefault(),e&&e.isSelectable&&e.isSelectable()&&this.ProcessSelectionEventHelper(e,t.ctrlKey),this.ContextMenuHandler){var n=this.GetContextMenuType(e);this.ProcessContextMenuHandler(t,n)}else this.ProcessContextMenuPopup(t,e)},li.prototype.ProcessContextMenuHandler=function(t,e){var i=this.ContextMenuHandler.show(t,e);return i?(this._context.getTooltipManager().hideTooltip(),this.PopupHandler.HidePopup(t),this._callback.call(this._callbackObj,i),!0):!1},li.prototype.ProcessContextMenuPopup=function(t,e){var i=!1;if(this._hasEventInfo(t)&&(i=this.GetEventInfo(t,li._EVENT_INFO_POPUP_DISPLAYED_KEY)),!i){var n=this._getShowPopupBehaviors(e);if(n){var r,o;if(qe.isTouchDevice()){var s=t.touch;r=s.pageX,o=s.pageY}else r=t.pageX,o=t.pageY;var a=new dt(r,o);i=this.PopupHandler.processPopupHelper(e,n,[Oe.TRIGGER_TYPE_CONTEXT_MENU],a,t)}i&&(this.SetEventInfo(t,li._EVENT_INFO_POPUP_DISPLAYED_KEY,!0),t.preventDefault())}},li.prototype.OnKeyDown=function(t){this._bKeyDown=!0;var e,i,n=t.keyCode,r=!1;for(e=this._currentKeyboardHandlerIdx<0||this._currentKeyboardHandlerIdx>this._keyboardHandlers.length?n==xt.TAB&&t.shiftKey?this._keyboardHandlers.length-1:0:this._currentKeyboardHandlerIdx,i=n==xt.TAB&&t.shiftKey?-1:1,e;e>=0&&e<this._keyboardHandlers.length&&!r;e+=i){var o=this._keyboardHandlers[e];r=o===this?this.ProcessKeyboardEvent(t):o.handleKeyboardEvent(t),r&&(this._currentKeyboardHandlerIdx=e)}return r||t.keyCode!=xt.UP_ARROW&&t.keyCode!=xt.DOWN_ARROW&&t.keyCode!=xt.LEFT_ARROW&&t.keyCode!=xt.RIGHT_ARROW||li.consumeEvent(t),r||n!=xt.TAB||(this._currentKeyboardHandlerIdx=-1),r},li.prototype.handleKeyboardEvent=function(t){return this.OnKeyDown(t)},li.prototype.hideKeyboardFocusEffect=function(){var t=this.getFocus();t&&t.isShowingKeyboardFocusEffect()&&t.hideKeyboardFocusEffect()},li.prototype.ProcessKeyboardEvent=function(t){if(!this.KeyboardHandler)return!1;this.hideTooltip();var e=this.getFocus(),i=null;if(t.keyCode==xt.TAB&&e){if(e.isShowingKeyboardFocusEffect()){e.hideKeyboardFocusEffect(),this.ProcessRolloverEvent(t,e,!1);var n;return n=t.shiftKey?this._context.previousKeyboardFocus():this._context.nextKeyboardFocus(),n?(n.FireListener(t,!1),li.consumeEvent(t),!0):!1}return this.ShowFocusEffect(t,e),this.ProcessRolloverEvent(t,e,!0),li.consumeEvent(t),!0}if(e&&this.KeyboardHandler.isContextMenuEvent(t)){var r;if(e.getContextMenuLocation)r=e.getContextMenuLocation();else{var o=e.getKeyboardBoundingBox();r=qe.isRightToLeft(this._context)?new dt(o.x,o.y):new dt(o.x+o.w,o.y)}var s=jt.generateMouseEventFromKeyboardEvent(t,this._context,Ot.CLICK,this._context.getStage(),r.x,r.y);return s.ctrlKey=!1,this._onContextMenuHelper(s,e),!0}return i=this.KeyboardHandler.processKeyDown(t),i?(this.setFocus(i),this._shouldDisplayKeyboardFocus=!0,e&&(e.hideKeyboardFocusEffect(),this.ProcessRolloverEvent(t,e,!1)),this.KeyboardHandler.isSelectionEvent(t)?this.ProcessSelectionEventHelper(i,t.shiftKey):this.KeyboardHandler.isMultiSelectEvent(t)&&this.ProcessSelectionEventHelper(i,t.ctrlKey),this.ShowFocusEffect(t,i),this.ProcessRolloverEvent(t,i,!0),!0):!1},li.prototype.ShowFocusEffect=function(t,e){e.showKeyboardFocusEffect();var i=e.getKeyboardTooltipLocation?e.getKeyboardTooltipLocation():e.getKeyboardBoundingBox(this.getCtx().getStage()).getCenter(),n=this.getCtx().stageToPageCoords(i.x,i.y);this.ProcessObjectTooltip(t,n.x,n.y,e,e.getTargetElem()),this.UpdateActiveElement(e)},li.prototype.OnKeyUp=function(t){this._bKeyDown=!1,this._handleExternalKeyboardFocus===!0&&t.keyCode==xt.TAB&&(this._handleExternalKeyboardFocus=!1,this._callbackObj.dispatchDisplayableEvent(xt.KEYDOWN,t)),this.KeyboardHandler.processKeyUp(t,[Oe.TRIGGER_TYPE_KEY_UP])},li.prototype.OnKeyPress=function(t){this.KeyboardHandler.processKeyUp(t,[Oe.TRIGGER_TYPE_KEY_PRESS]);
},li.prototype.PreOnMouseMove=function(t){this._propagateEvent(Ot.MOUSEMOVE,t,this.OnMouseMove)},li.prototype.OnMouseMove=function(t){var e=t.pageX,i=t.pageY,n=this._context.pageToStageCoords(e,i);if(this._marqueeHandler){var r=this._marqueeHandler.processDragMove(n,t.ctrlKey);r&&this._callback.call(this._callbackObj,r)}var o=this.GetCurrentTargetForEvent(t),s=this.GetLogicalObject(o);if(s){this.ProcessObjectTooltip(t,e,i,s,o);var a=new dt(e,i);if(this.PopupHandler.processMouseMove(a),!this.GetEventInfo(t,li._EVENT_INFO_POPUP_DISPLAYED_KEY)){var l=this.GetLogicalObjectAndDisplayable(o);l&&this.PopupHandler.processMousePopup(s,this._getShowPopupBehaviors(s),a,l.displayable,t,Oe.TRIGGER_TYPE_MOUSE_MOVE)&&this.SetEventInfo(t,li._EVENT_INFO_POPUP_DISPLAYED_KEY,!0)}this.DragSource&&!t.dragSourceSet&&this.IsDragCandidate(s)&&(this.DragSource.setDragCandidate(s),t.dragSourceSet=!0)}},li.prototype.PreOnMouseOver=function(t){this._propagateEvent(Ot.MOUSEOVER,t,this.OnMouseOver),this._handlePreOverEvent(t)},li.prototype._getDisplayableHierarchy=function(t,e,i){for(var n=[],r=t;r;){var o=!0;e&&(o=e.call(i,r)),o&&n.unshift(r),r=r.getParent()}return n},li.prototype._getRolloverHierarchy=function(t){return this._getDisplayableHierarchy(t,this._isRolloverType,this)},li.prototype._isRolloverType=function(t){var e=this.GetLogicalObject(t,!0);if(e)for(var i=0;i<this._rolloverTypes.length;i++)if(e instanceof this._rolloverTypes[i])return!0;return!1},li.prototype.addRolloverType=function(t){this._rolloverTypes.push(t)},li.prototype.removeRolloverType=function(t){var e=i.getIndex(this._rolloverTypes,t);-1!=e&&this._rolloverTypes.splice(e,1)},li.prototype.OnRollOver=function(t){},li.prototype.OnMouseOver=function(t){var e=this.GetCurrentTargetForEvent(t),i=this.GetLogicalObjectAndDisplayable(e),n=null;i&&(n=i.logicalObject);var r=new dt(t.pageX,t.pageY);if(n){var o=this.getSelectionHandler(n);o&&o.processMouseOver(n),this.ProcessRolloverEvent(t,n,!0),this.GetEventInfo(t,li._EVENT_INFO_POPUP_DISPLAYED_KEY)||i&&this.PopupHandler.processMousePopup(n,this._getShowPopupBehaviors(n),r,i.displayable,t,Oe.TRIGGER_TYPE_MOUSE_OVER)&&this.SetEventInfo(t,li._EVENT_INFO_POPUP_DISPLAYED_KEY,!0),this.UpdateActiveElement(n,e)}},li.prototype.PreOnMouseOut=function(t){this._handlePreOutEvent(Ot.MOUSEOUT,t,this.OnMouseOut)},li.prototype.OnRollOut=function(t){},li.prototype.OnMouseOut=function(t){var e=this.GetCurrentTargetForEvent(t),i=this.GetLogicalObject(e);if(i){var n=this.GetLogicalObject(t.relatedTarget);if(i!=n){var r=this.getSelectionHandler(i);if(r&&r.processMouseOut(i),this.ProcessRolloverEvent(t,i,!1),this.hideTooltip(),this.DragSource&&!t.dragSourceSet&&(this.DragSource.setDragCandidate(null),t.dragSourceSet=!0),!this.GetEventInfo(t,li._EVENT_INFO_POPUP_DISPLAYED_KEY)){var o=new dt(t.pageX,t.pageY),s=this.GetLogicalObjectAndDisplayable(e);s&&this.PopupHandler.processMousePopup(i,this._getShowPopupBehaviors(i),o,s.displayable,t,Oe.TRIGGER_TYPE_MOUSE_OUT)&&this.SetEventInfo(t,li._EVENT_INFO_POPUP_DISPLAYED_KEY,!0)}}}},li.prototype.PreOnMouseDown=function(t){this._propagateEvent(Ot.MOUSEDOWN,t,this.OnMouseDown)},li.prototype.OnMouseDown=function(t){var e=this.isInActionPopup();if(e&&this.CustomTooltipManager.closeActionTooltip(),this._marqueeHandler){var i=this._context.pageToStageCoords(t.pageX,t.pageY),n=this._marqueeHandler.processDragStart(i,t.ctrlKey);n&&this._callback.call(this._callbackObj,n)}var r=this.GetCurrentTargetForEvent(t),o=this.GetLogicalObject(r);if(this.DragSource&&!t.dragSourceSet&&this.IsDragCandidate(o)&&(this.DragSource.setDragCandidate(o),t.dragSourceSet=!0),!this.GetEventInfo(t,li._EVENT_INFO_POPUP_DISPLAYED_KEY)){var s=new dt(t.pageX,t.pageY),a=this.GetLogicalObjectAndDisplayable(r);a&&this.PopupHandler.processMousePopup(o,this._getShowPopupBehaviors(o),s,a.displayable,t,Oe.TRIGGER_TYPE_MOUSE_DOWN)&&this.SetEventInfo(t,li._EVENT_INFO_POPUP_DISPLAYED_KEY,!0)}},li.prototype.PreOnMouseUp=function(t){this._propagateEvent(Ot.MOUSEUP,t,this.OnMouseUp)},li.prototype.OnMouseUp=function(t){if(this._marqueeHandler){var e=this._context.pageToStageCoords(t.pageX,t.pageY),i=this._marqueeHandler.processDragEnd(e,t.ctrlKey);i&&this._callback.call(this._callbackObj,i)}var n=this.GetCurrentTargetForEvent(t),r=this.GetLogicalObject(n);if(!this.GetEventInfo(t,li._EVENT_INFO_POPUP_DISPLAYED_KEY)){var o=new dt(t.pageX,t.pageY),s=this.GetLogicalObjectAndDisplayable(n);s&&this.PopupHandler.processMousePopup(r,this._getShowPopupBehaviors(r),o,s.displayable,t,Oe.TRIGGER_TYPE_MOUSE_UP)&&this.SetEventInfo(t,li._EVENT_INFO_POPUP_DISPLAYED_KEY,!0)}},li.prototype._processTouchTooltip=function(t){var e=this.TouchManager.getTooltipInfo(),i=e.touchIds,n=e.tooltipTarget;if(!(this.GetEventInfo(t,li._EVENT_INFO_TOOLTIP_DISPLAYED_KEY)||0!=i.length&&n))return void this.hideTooltip();var r=this.TouchManager.calcAveragePosition(i),o=this.GetLogicalObject(n);this.ProcessObjectTooltip(t,r.x,r.y,o,null)},li.prototype.OnTouchStartBubble=function(t){if(this.PreEventBubble(t),t.isInitialTouch()&&(this._popupJustClosed=!1),this.DragSource){var e=this.GetLogicalObject(t.target);!t.dragSourceSet&&this.IsDragCandidate(e)&&(this.DragSource.setDragCandidate(e),t.dragSourceSet=!0)}var i=this.isInActionPopup();i&&(this.CustomTooltipManager.closeActionTooltip(),this.TouchManager.resetTouchHold()),this.HandleImmediateTouchStartInternal(t),this.TouchManager.fireLogicalEvents(t),this.TouchManager.postEventBubble(t),this._isTouchResponseTouchStart()?(this._touchResponseHandled=!0,this.TouchManager.processAssociatedTouchAttempt(t,li.TOUCH_RESPONSE_TOUCH_START,this._saveTouchStart,this)):(this._touchResponseHandled=!1,this._processTouchTooltip(t))},li.prototype.OnTouchMoveBubble=function(t){this.PreEventBubble(t),this.TouchManager&&(this._prevActionClear=!1,this.HandleImmediateTouchMoveInternal(t),this.TouchManager.fireLogicalEvents(t),this.TouchManager.postEventBubble(t),this._processTouchTooltip(t))},li.prototype._handleTouchEndTimer=function(){for(var t=0;t<this._touchEndTimer.length;t++){var e=this._touchEndTimer[t];e.timer.stop();var i=e.event;this.TouchManager&&(this.HandleImmediateTouchEndInternal(i),this.TouchManager.fireLogicalEvents(i),this.TouchManager.postEventBubble(i))}this.DragSource&&!i.dragSourceSet&&(this.DragSource.setDragCandidate(null),i.dragSourceSet=!0),this._touchEndTimer=new Array},li.prototype.OnTouchEndBubble=function(t){this.PreEventBubble(t);var e=new v(this._context,0,this._handleTouchEndTimer,this,1);this._touchEndTimer||(this._touchEndTimer=new Array),this._touchEndTimer.push({event:t,timer:e}),e.start()},li.prototype.HandleImmediateTouchStartInternal=function(t){},li.prototype.HandleImmediateTouchMoveInternal=function(t){},li.prototype.HandleImmediateTouchEndInternal=function(t){},li.prototype._preOnComponentTouchHoverStart=function(t){this._propagateEvent(kt.TOUCH_HOVER_START_TYPE,t,this.OnComponentTouchHoverStart)},li.prototype.OnComponentTouchHoverStart=function(t){this.HandleTouchHoverStartInternal(t),this._touchResponseHandled||this.HandleTouchActionsStart(t)},li.prototype._preOnComponentTouchHoverMove=function(t){this._propagateEvent(kt.TOUCH_HOVER_MOVE_TYPE,t,this.OnComponentTouchHoverMove)},li.prototype.OnComponentTouchHoverMove=function(t){this.HandleTouchHoverMoveInternal(t),this._touchResponseHandled||this.HandleTouchActionsMove(t)},li.prototype._preOnComponentTouchHoverEnd=function(t){this._propagateEvent(kt.TOUCH_HOVER_END_TYPE,t,this.OnComponentTouchHoverEnd)},li.prototype.OnComponentTouchHoverEnd=function(t){var e=this.GetCurrentTargetForEvent(t),i=this.GetLogicalObject(e);if(this.HandleTouchHoverEndInternal(t),this.ProcessTouchContextMenu(t,i),this._callbackObj instanceof De){var n=this.getCtx().getStageAbsolutePosition(),r=t.touch.pageX,o=t.touch.pageY;r<=n.x+this._callbackObj.getWidth()&&r>=n.x&&o<=n.y+this._callbackObj.getHeight()&&o>=n.y&&this._callback.call(this._callbackObj,t)}this._touchResponseHandled||this.HandleTouchActionsEnd(t)},li.prototype._preOnComponentTouchHoverOut=function(t){this._handlePreOutEvent(kt.TOUCH_HOVER_OUT_TYPE,t,this.OnComponentTouchHoverOut)},li.prototype.OnComponentTouchHoverOut=function(t){this.HandleTouchHoverOutInternal(t),this._touchResponseHandled||this.HandleTouchActionsOut(t)},li.prototype._preOnComponentTouchHoverOver=function(t){this._propagateEvent(kt.TOUCH_HOVER_OVER_TYPE,t,this.OnComponentTouchHoverOver),this._handlePreOverEvent(t)},li.prototype.OnComponentTouchHoverOver=function(t){this.HandleTouchHoverOverInternal(t),this._touchResponseHandled||this.HandleTouchActionsOver(t)},li.prototype._preOnComponentTouchDblClick=function(t){this._propagateEvent(kt.TOUCH_DOUBLE_CLICK_TYPE,t,this.OnComponentTouchDblClick)},li.prototype.OnComponentTouchDblClick=function(t){var e=this.GetCurrentTargetForEvent(t),i=t.touch,n=this.GetLogicalObject(e),r=new dt(i.pageX,i.pageY),o=!1;this._hasEventInfo(t)&&(o=this.GetEventInfo(t,li._EVENT_INFO_POPUP_DISPLAYED_KEY)),o||this.PopupHandler.processPopupHelper(n,this._getShowPopupBehaviors(n),[Oe.TRIGGER_TYPE_DBL_CLICK],r,t)&&this.SetEventInfo(t,li._EVENT_INFO_POPUP_DISPLAYED_KEY,!0),this.HandleTouchDblClickInternal(t)},li.prototype._preOnComponentTouchClick=function(t){this._propagateEvent(kt.TOUCH_CLICK_TYPE,t,this.OnComponentTouchClick)},li.prototype.OnComponentTouchClick=function(t){var e=this.GetCurrentTargetForEvent(t),i=t.touch,n=this.GetLogicalObject(e),r=new dt(i.pageX,i.pageY),o=!1;if(this._hasEventInfo(t)&&(o=this.GetEventInfo(t,li._EVENT_INFO_POPUP_DISPLAYED_KEY)),o||this.PopupHandler.processPopupHelper(n,this._getShowPopupBehaviors(n),[Oe.TRIGGER_TYPE_ACTION,Oe.TRIGGER_TYPE_CLICK],r,t)&&(this.SetEventInfo(t,li._EVENT_INFO_POPUP_DISPLAYED_KEY,!0),o=!0),!o){var s=this._getClientBehaviors(n);s&&this.ProcessClientBehaviorForTouch(n,s)}var a=this.HandleTouchClickInternal(t);if(!a&&(this._isTouchResponseTouchStart()||this._processTouchSelection(n),this._popupJustClosed||this._processTouchSelectionClear(n),this.CustomTooltipManager.displayActionPopup()&&(this.UpdateActionTooltipLaunchedFeedback(e,new dt(i.pageX,i.pageY)),this.CustomTooltipManager.startActionPopupAtPosition(i.pageX,i.pageY,e)),n&&!o&&n.isCommandComponent&&n.isCommandComponent())){var t=new Li(Li.SUBTYPE_ACTION,n.getId());li._addContextInfo(n,t),this._callback.call(this._callbackObj,t)}},li.prototype._processTouchSelection=function(t){var e=!1,i=this.getSelectionHandler(t);i&&t&&t.isSelectable&&t.isSelectable()&&(e=i.processClick(t,!0),e&&this.fireSelectionEvent(t)),this._prevActionClear=!1},li.prototype._processTouchSelectionClear=function(t){var e=!1,i=this.getSelectionHandler(t);if(i&&(!t||!t.isSelectable||!t.isSelectable())&&!this._prevActionClear){var n=!1;if(this.isClearMenuAllowed()){var r=i.getType();r==ei.TYPE_MULTIPLE&&i.getSelectedCount()>1&&(n=!0)}n?this.addClearAllActionItem():(e=i.processClick(null,!1),e&&this.fireSelectionEvent(t))}},li.prototype.OnActionTooltipClosed=function(t){var e=t.target;this._popupJustClosed=!0,this._isInActionPopup=!1;var i=this.CustomTooltipManager.getActionTooltip();i.containsMenuId(li.CLEAR_SELECTION_ACTION_TYPE)&&(this._prevActionClear=!0),this.CustomTooltipManager.clearActionTooltip(),this.UpdateActionTooltipClosedFeedback(e)},li.prototype.OnActionTooltipStarted=function(t){this._isInActionPopup=!0},li.prototype._getTooltipInfo=function(t,e,i,n){var r=null,o=!1;return e&&e.getDatatip&&(r=e.getDatatip(t,i,n),r&&(o=!0)),!r&&e&&e.getTooltip&&(r=e.getTooltip(t,i,n)),{text:r,isDatatip:o}},li.prototype._processShowTooltip=function(t,e,i,n){if(this.getTooltipsEnabled(e)){var r=this._context.pageToStageCoords(i,n),o=r.x,s=r.y,a=this._getTooltipInfo(t,e,o,s),l=a.isDatatip,u=a.text;if(u){this.CustomTooltipManager.clearActionTooltip();var h=this.GetTooltipColor(e,o,s),c=this._context.getTooltipManager();return l?c.showDatatip(i,n,u,h):c.showTooltip(i,n,u,null,!0,h),this.TooltipLaunched(u,h),!0}this.hideTooltip()}else this.hideTooltip();return!1},li.prototype.hideTooltip=function(){var t=this._context.getTooltipManager();t&&t.hideTooltip(),this.TooltipHidden()},li.prototype.ProcessTouchContextMenu=function(t,e){if(!this.ContextMenuHandler)return void this.ProcessContextMenuPopup(t,e);var i=this.GetContextMenuType(e),n=!1;return e&&e.isSelected&&e.isSelected()?n=!0:(e&&e.isSelectable&&e.isSelectable()||(i=Je.TYPE_BODY_CONTEXT_MENU),i==Je.TYPE_BODY_CONTEXT_MENU&&(n=!0)),n?this.ProcessContextMenuHandler(t,i):!1},li.prototype._processActionPopup=function(t,e){return this.CustomTooltipManager.displayActionPopup()?(this.SetupTouchTooltip(t),this.UpdateActionPopupShownFeedback(t),this.CustomTooltipManager.startActionPopupAtPosition(e.x,e.y,t),!0):(this.UpdateActionPopupHiddenFeedback(t),!1)},li.prototype.TooltipLaunched=function(t,e){},li.prototype.TooltipHidden=function(){},li.prototype.SetupTouchTooltip=function(t){var e=this.GetLogicalObject(t),i=this.CustomTooltipManager.getActionTooltip(),n=i.getTooltipBorderColor();if(null==n){var r=this.GetTooltipColor(e);i.setTooltipBorderColor(r)}},li.prototype.OnContextMenuInternal=function(t){},li.prototype.OnClickInternal=function(t){},li.prototype.OnDblClickInternal=function(t){},li.prototype.HandleTouchHoverStartInternal=function(t){},li.prototype.HandleTouchHoverMoveInternal=function(t){},li.prototype.HandleTouchHoverEndInternal=function(t){},li.prototype.HandleTouchHoverOverInternal=function(t){},li.prototype.HandleTouchHoverOutInternal=function(t){},li.prototype.HandleTouchClickInternal=function(t){return!1},li.prototype.HandleTouchDblClickInternal=function(t){},li.prototype.UpdateActionPopupShownFeedback=function(t){},li.prototype.UpdateActionPopupHiddenFeedback=function(t){},li.prototype.UpdateActionTooltipClosedFeedback=function(t){},li.prototype.UpdateActionTooltipLaunchedFeedback=function(t,e){},li.prototype.isInActionPopup=function(){return this._isInActionPopup},li.prototype.GetClearSelectionText=function(){return Ze.getTranslatedString(Ze.UTIL_PREFIX,"CLEAR_SELECTION")},li.prototype.addClearAllActionItem=function(){this.addActionTooltipMenuItem(li.CLEAR_SELECTION_ACTION_TYPE,this.GetClearSelectionText(),this._actionTooltipClearListener,this);var t=this.CustomTooltipManager.getActionTooltip();t&&t.setTooltipBorderColor(ci.DEFAULT_BORDER_COLOR)},li.prototype.isClearMenuAllowed=function(){return!0},li.prototype.addActionTooltipMenuItem=function(t,e,i,n){var r=this.CustomTooltipManager.getActionTooltip();r.addMenuItem(new pi(this._context,t,e,i,n))},li.prototype.ContextMenuItemListener=function(t){var e=t.menuItem,i=e.getEvent();this._callback.call(this._callbackObj,i)},li.prototype._actionTooltipClearListener=function(t){var e=t.target,i=this.GetLogicalObject(e),n=this.getSelectionHandler(i).processClick(null,!1);n&&this.fireSelectionEvent(i)},li.prototype._actionTooltipSelectListener=function(t){var e=t.target,i=this.GetLogicalObject(e),n=this.getSelectionHandler(i).processClick(i,!0);n&&this.fireSelectionEvent(i)},li.consumeEvent=function(t){t&&(t.preventDefault(),t.stopPropagation())},li._addContextInfo=function(t,e){if(t.getContextCallback&&t.getContextCallbackObj){var i=t.getContextCallback(),n=t.getContextCallbackObj();i&&n&&i.call(n,e)}else e.addParam(Dt.CLIENT_ROW_KEY,t.getId())},li.prototype.IsPropagationEnabled=function(t,e,i){return!1},li.prototype.GetCurrentTargetForEvent=function(t){var e=this.GetEventInfo(t,li._EVENT_INFO_CURRENT_TARGET_KEY);return e?e:t.target},li.prototype._propagateEvent=function(t,e,i){var n=this.GetLogicalObject(e.target);if(n){var r=e.target;try{for(;r;){var o=this.GetLogicalObject(r,!0);if(o&&(this.SetEventInfo(e,li._EVENT_INFO_CURRENT_TARGET_KEY,r),i.call(this,e),!this.IsPropagationEnabled(t,e,r)))return;r=r.getParent()}}finally{this.SetEventInfo(e,li._EVENT_INFO_CURRENT_TARGET_KEY,null)}}else i.call(this,e)},li.prototype.ConsumesClick=function(t){return t.isSelectable&&t.isSelectable()||t.isClickEventPropagationStopped&&t.isClickEventPropagationStopped()||this._hasClickPopup(t)||this._hasClickClientBehavior(t)},li.prototype._hasClickPopup=function(t){return this.PopupHandler.hasPopup(t,[Oe.TRIGGER_TYPE_ACTION,Oe.TRIGGER_TYPE_CLICK])},li.prototype.addComponentKeyboardHandler=function(t){t&&this._keyboardHandlers.push(t)},li.prototype.addComponentKeyboardHandlerAt=function(t,e){e>this._keyboardHandlers.length||t&&(this._keyboardHandlers.splice(e,0,t),e<=this._currentKeyboardHandlerIdx&&this._currentKeyboardHandlerIdx++)},li.prototype.removeComponentKeyboardHandler=function(t){if(t){var e=this._findHandler(t);e>-1&&(this._currentKeyboardHandlerIdx==e&&0==e?this._currentKeyboardHandlerIdx=0:e<=this._currentKeyboardHandlerIdx&&this._currentKeyboardHandlerIdx--,this._keyboardHandlers.splice(e,1))}},li.prototype._findHandler=function(t){for(var e=-1,i=this._keyboardHandlers.length,n=0;i>n;n++)this._keyboardHandlers[n]===t&&(e=n);return e},li.prototype.setCurrentKeyboardHandler=function(t){var e=this._findHandler(t);e>=0&&(this._currentKeyboardHandlerIdx=e)},li.prototype._hasClickClientBehavior=function(t){var e=this._getClientBehaviors(t);if(e)for(var i=0;i<e.length;i++){var n=e[i];if(n&&(n.getTriggerType()==Me.TRIGGER_TYPE_ACTION||n.getTriggerType()==Me.TRIGGER_TYPE_CLICK))return!0}return!1},li.prototype.CreateClientBehaviorHandler=function(t,e,i){return new ti(t,e,i)},li.prototype.ProcessClientBehaviorForTouch=function(t,e){return this.ClientBehaviorHandler.processClick(t,e)},li.prototype.IsDragCandidate=function(t){return!0},li._getActiveElementId=function(){var t="_dvtActiveElement";return t+Math.floor(1e9*Math.random())},li.prototype.UpdateActiveElement=function(t,e){if(e||(e=t.getDisplayable?t.getDisplayable():t.getDisplayables?t.getDisplayables()[0]:t),e instanceof Qt){if(t.getAriaLabel){var i=t.getAriaLabel();i&&e.setAriaProperty("label",i)}else for(;!e.getAriaRole()&&e.getParent();)e=e.getParent();e!=this.getCtx().getStage()&&this.getCtx().setActiveElement(e)}},li.prototype._handlePreOverEvent=function(t){var e=this._getRolloverHierarchy(t.target),i=this._getRolloverHierarchy(t.relatedTarget);if(e.length>0){var n=e[e.length-1],r=0==i.length?null:i[i.length-1];if(n!=r)try{this.SetEventInfo(t,li._EVENT_INFO_CURRENT_TARGET_KEY,n),this.OnRollOver(t)}finally{this.SetEventInfo(t,li._EVENT_INFO_CURRENT_TARGET_KEY,null)}}},li.prototype._handlePreOutEvent=function(t,e,i){var n=this.GetLogicalObject(e.relatedTarget),r=e.target;try{var o=this._getRolloverHierarchy(e.target),s=this._getRolloverHierarchy(e.relatedTarget);if(o.length>0){var a=o[o.length-1],l=0==s.length?null:s[s.length-1];a!=l&&(this.SetEventInfo(e,li._EVENT_INFO_CURRENT_TARGET_KEY,a),this.OnRollOut(e))}var u=this.GetLogicalObject(r);if(u)for(this.PopupHandler.processMouseOut(u,this._getDisplayableHierarchy(e.relatedTarget),e);r;){var h=this.GetLogicalObject(r,!0);if(h){if(n===h)break;if(this.SetEventInfo(e,li._EVENT_INFO_CURRENT_TARGET_KEY,r),i.call(this,e),!this.IsPropagationEnabled(t,e,r))break}r=r.getParent()}else i.call(this,e)}finally{this.SetEventInfo(e,li._EVENT_INFO_CURRENT_TARGET_KEY,null),e.relatedTarget instanceof Qt||this._context.clearStageAbsolutePosition()}},li.prototype.getTouchManager=function(){return this.TouchManager},li.prototype.endDrag=function(){return null},li.prototype._hasEventInfo=function(t){if(null==t)return!1;var e=t.getNativeEvent();return!!e._eventInfo},li.prototype.GetEventInfo=function(t,e){if(!this._hasEventInfo(t)||null==e)return null;var i;if(this.StoreInfoByEventType(e)){var n=t.type?t.type:t.getType();i=t.getNativeEvent()._eventInfo[n]}else i=t.getNativeEvent()._eventInfo;return i?i[e]:null},li.prototype.SetEventInfo=function(t,e,i){if(null!=t&&null!=e){var n=t.getNativeEvent();if(n._eventInfo||(n._eventInfo={}),this.StoreInfoByEventType(e)){var r=t.type?t.type:t.getType();n._eventInfo[r]||(n._eventInfo[r]={}),n._eventInfo[r][e]=i}else n._eventInfo[e]=i}},li.prototype.StoreInfoByEventType=function(t){return t!=li._EVENT_INFO_TOOLTIP_DISPLAYED_KEY},li.prototype.ProcessObjectTooltip=function(t,e,i,n,r){this.GetEventInfo(t,li._EVENT_INFO_TOOLTIP_DISPLAYED_KEY)||this._processShowTooltip(r,n,e,i)&&this.SetEventInfo(t,li._EVENT_INFO_TOOLTIP_DISPLAYED_KEY,!0)},li.prototype._resetExternalKeyboardFocus=function(){this._handleExternalKeyboardFocus=!1},li.prototype.OnFocus=function(t){this._handleExternalKeyboardFocus=!1,this._bKeyDown||t.isPropagationStopped()||(this._handleExternalKeyboardFocus=!0,this._keyboardFocusTimer||(this._keyboardFocusTimer=new v(this._context,200,this._resetExternalKeyboardFocus,this,1)),this._keyboardFocusTimer.reset(),this._keyboardFocusTimer.start(),t.stopPropagation())},li.prototype.OnBlur=function(t){this._bKeyDown=!1;var e=this.getFocus();e&&e.isShowingKeyboardFocusEffect()&&e.hideKeyboardFocusEffect()},li.prototype.ProcessRolloverEvent=function(t,e,i){},li.prototype.CreateCategoryRolloverHandler=function(t,e){return new si(t,e)},li.prototype.GetTouchResponse=function(){return li.TOUCH_RESPONSE_TOUCH_START},li.prototype._isTouchResponseTouchStart=function(){var t=this.GetTouchResponse();if(t===li.TOUCH_RESPONSE_TOUCH_START)return!0;if(t===li.TOUCH_RESPONSE_TOUCH_HOLD)return!1;for(var e=this.getCtx().getSvgDocument().parentElement.parentElement;e&&"HTML"!==e.nodeName;){var i=window.getComputedStyle(e);if("hidden"!==i.overflow&&(e.scrollWidth>e.clientWidth+li._TOUCH_RESPONSE_PADDING_CHECK&&"hidden"!==i["overflow-x"]||e.scrollHeight>e.clientHeight+li._TOUCH_RESPONSE_PADDING_CHECK&&"hidden"!==i["overflow-y"]))return!1;e=e.parentElement}return!0},li.prototype._saveTouchStart=function(t,e){var i=this.TouchManager.getTouchIdsForObj(li.TOUCH_RESPONSE_TOUCH_START);i.length<=1&&(this.TouchManager.saveProcessedTouch(e.identifier,wt.HOVER_TOUCH_KEY,null,wt.HOVER_TOUCH_KEY,wt.HOVER_TOUCH_KEY,this.HandleTouchActionsMove,this.HandleTouchActionsEnd,this),this.HandleTouchActionsStart(t))},li.prototype.HandleTouchActionsStart=function(t){var e=this.GetCurrentTargetForEvent(t),i=this.GetLogicalObject(e),n=t instanceof kt?t.touch:t.touches[0],r=n.pageX,o=n.pageY;if(t instanceof kt||(this._touchMap[n.identifier]||(this._touchMap[n.identifier]={}),this._touchMap[n.identifier][wt.PREV_HOVER_OBJ]=null,i&&this.HandleTouchActionsOver(t),this._touchMap[n.identifier][wt.PREV_HOVER_OBJ]=i),this._marqueeHandler){var s=this._context.pageToStageCoords(r,o),a=this._marqueeHandler.processDragStart(s);a&&(t.preventDefault(),this._callback.call(this._callbackObj,a))}if(i&&this.ProcessRolloverEvent(t,i,!0),this._processTouchTooltip(t),this._prevActionClear=!1,!this.GetEventInfo(t,li._EVENT_INFO_POPUP_DISPLAYED_KEY)){var l=new dt(r,o),e=this.GetCurrentTargetForEvent(t),u=this.GetLogicalObjectAndDisplayable(e);u&&this.PopupHandler.processMousePopup(i,this._getShowPopupBehaviors(i),l,u.displayable,t,Oe.TRIGGER_TYPE_MOUSE_DOWN)&&this.SetEventInfo(t,li._EVENT_INFO_POPUP_DISPLAYED_KEY,!0)}},li.prototype.HandleTouchActionsMove=function(t){var e,i,n=t instanceof kt?t.touch:t.touches[0];if(t instanceof kt)e=this.GetCurrentTargetForEvent(t),i=this.GetLogicalObject(e);else{t.preventDefault(),e=ji.elementFromTouch(n),i=this.GetLogicalObject(e);var r=this._touchMap[n.identifier][wt.PREV_HOVER_OBJ];if(r!=i){if(r){var o;r.getDisplayable?o=r.getDisplayable():r.getDisplayables&&(o=r.getDisplayables()[0]),o&&(t.target=o,this.HandleTouchActionsOut(t,n))}t.target=e,i&&this.HandleTouchActionsOver(t)}this._touchMap[n.identifier][wt.PREV_HOVER_OBJ]=i}var s=n.pageX,a=n.pageY,l=this._context.pageToStageCoords(s,a);if(this._marqueeHandler){var u=this._marqueeHandler.processDragMove(l,t.ctrlKey);u&&(t.preventDefault(),this._callback.call(this._callbackObj,u))}i&&this.ProcessRolloverEvent(t,i,!0);var h=new dt(n.pageX,n.pageY);if(this.PopupHandler.processMouseMove(h),!this.GetEventInfo(t,li._EVENT_INFO_POPUP_DISPLAYED_KEY)){var c=this.GetLogicalObjectAndDisplayable(e);c&&this.PopupHandler.processMousePopup(i,this._getShowPopupBehaviors(i),h,c.displayable,t,Oe.TRIGGER_TYPE_MOUSE_MOVE)&&this.SetEventInfo(t,li._EVENT_INFO_POPUP_DISPLAYED_KEY,!0)}},li.prototype.HandleTouchActionsEnd=function(t,e){var i,n;if(t instanceof kt)i=this.GetCurrentTargetForEvent(t),n=this.GetLogicalObject(i),e=t.touch;else{t.preventDefault(),i=ji.elementFromTouch(e),n=this.GetLogicalObject(i);var r;n&&(n.getDisplayable?r=n.getDisplayable():n.getDisplayables&&(r=n.getDisplayables()[0])),r&&(t.target=r,this.HandleTouchActionsOut(t,e)),this._touchMap[e.identifier][wt.PREV_HOVER_OBJ]=null}var o=e.pageX,s=e.pageY,a=this._context.pageToStageCoords(o,s);if(this._marqueeHandler){var l=this._marqueeHandler.processDragEnd(a,t.ctrlKey);l&&(t.preventDefault(),this._callback.call(this._callbackObj,l))}if(this._processTouchSelection(n),this._processActionPopup(i,new dt(o,s)),!this.GetEventInfo(t,li._EVENT_INFO_POPUP_DISPLAYED_KEY)){var u=new dt(o,s),h=this.GetLogicalObjectAndDisplayable(i);h&&this.PopupHandler.processMousePopup(n,this._getShowPopupBehaviors(n),u,h.displayable,t,Oe.TRIGGER_TYPE_MOUSE_UP)&&this.SetEventInfo(t,li._EVENT_INFO_POPUP_DISPLAYED_KEY,!0)}},li.prototype.HandleTouchActionsOver=function(t){var e=this.GetCurrentTargetForEvent(t),i=this.GetLogicalObject(e),n=t instanceof kt?t.touch:t.touches[0],r=new dt(n.pageX,n.pageY);i&&this.ProcessRolloverEvent(t,i,!0);var o=this.getSelectionHandler(i);o&&o.processMouseOver(i);var s=this.GetLogicalObjectAndDisplayable(e);s&&this.PopupHandler.processMousePopup(i,this._getShowPopupBehaviors(i),r,s.displayable,t,Oe.TRIGGER_TYPE_MOUSE_OVER)&&this.SetEventInfo(t,li._EVENT_INFO_POPUP_DISPLAYED_KEY,!0)},li.prototype.HandleTouchActionsOut=function(t,e){var i=this.GetCurrentTargetForEvent(t),n=this.GetLogicalObject(i);t instanceof kt&&(e=t.touch),n&&this.ProcessRolloverEvent(t,n,!1);var r=this.getSelectionHandler(n);if(r&&r.processMouseOut(n),!this.GetEventInfo(t,li._EVENT_INFO_POPUP_DISPLAYED_KEY)){var o=new dt(e.pageX,e.pageY),s=this.GetLogicalObjectAndDisplayable(i);s&&this.PopupHandler.processMousePopup(n,this._getShowPopupBehaviors(n),o,s.displayable,t,Oe.TRIGGER_TYPE_MOUSE_OUT)&&this.SetEventInfo(t,li._EVENT_INFO_POPUP_DISPLAYED_KEY,!0)}};var ui=function(t,e){this.Init(t,e)};e.createSubclass(ui,e,"DvtCustomTooltipManager"),ui.prototype.Init=function(t,e){this._context=t,this._id=e,this._actionTooltip=new ci(this._context,this._id+"ActionPopup")},ui.prototype.GetRichTooltipManager=function(){if(!this._RichTooltipManager){var t=this._id+"Tooltip";this._RichTooltipManager=this._context.getImplFactory().newRichTooltipManager(t),this._RichTooltipManager.InitializeTooltipElem();var e=this._RichTooltipManager.GetStoredContext();if(e){var i=new hi(e,this,null,null);i.addListeners(this._actionTooltip)}}return this._RichTooltipManager},ui.prototype.clearActionTooltip=function(){this._actionTooltip&&this._actionTooltip.clearContent()},ui.prototype.getActionTooltip=function(){return this._actionTooltip},ui.prototype.hideTooltip=function(){this.clearActionTooltip(),this._RichTooltipManager&&this._RichTooltipManager.hideTooltip()},ui.prototype.closeActionTooltip=function(){var t=new Nt(Nt.TOOLTIP_CLOSED_TYPE,this._actionPopupObj);this.FireListener(t),this._actionPopupObj=null,this.hideTooltip()},ui.prototype.showDatatip=function(t,e,i,n){var r=this.getActionTooltip();i=ui._formatTextString(i),r.setTooltipText(i),null!=n&&r.setTooltipBorderColor(n),this.GetRichTooltipManager().showRichElement(t,e,r,!0)},ui.prototype.showTextAtPosition=function(t,e,i,n,r,o){var s=this.getActionTooltip();i=ui._formatTextString(i),s.setTooltipText(i),null!=n&&s.setTooltipBorderColor(n),this.GetRichTooltipManager().showRichElement(t,e,s,r)},ui.prototype.displayActionPopup=function(){var t=this.getActionTooltip();return!(!t||!t.hasMenuItems())},ui.prototype.startActionPopupAtPosition=function(t,e,i,n){var r=this.getActionTooltip();if(r){this.GetRichTooltipManager().showRichElementAtPosition(t,e,r,!0,!1);var o=new Nt(Nt.TOOLTIP_STARTED_TYPE,i);this.FireListener(o),this._actionPopupObj=i}},ui.prototype.addTooltipEventListener=function(t,e,i){var n=this._getListeners(t,!0);n.push(e),n.push(i)},ui.prototype.removeTooltipEventListener=function(t,e,i){var n=this._getListeners(t,!1);if(null!==n)for(var r=0;r<n.length;r+=2)if(n[r]===e&&n[r+1]===i){n.splice(r,2);break}},ui.prototype._getListeners=function(t,e){if(!this._listenerObj){if(!e)return null;this._listenerObj={}}var i=t,n=this._listenerObj[i];return!n&&e&&(n=[],this._listenerObj[i]=n),n},ui.prototype.FireListener=function(t){var e=this._getListeners(t.getType(),!1);if(e)for(var i=0;i<e.length;i+=2){var n=e[i+1];e[i].call(n,t)}},ui._formatTextString=function(t){var e="";if(!t)return e;t=t.replace(/\n/g,"<br>");var i=t.split("<br>");if(i){for(var n=new Array,r=0;r<i.length;r++){var o=i[r];null!=o&&""!=o&&n.push(o)}for(var r=0;r<n.length;r++)e+=n[r],r<n.length-1&&(e+="\n")}return e};var hi=function(t,e,i,n){this._customTooltipManager=e,this.Init(t,i,n)};e.createSubclass(hi,li,"DvtCustomTooltipEventHandler"),hi.prototype.OnClickInternal=function(t){var e=t.target;this._handleMenuClick(e)},hi.prototype.HandleImmediateTouchStartInternal=function(t,e){t.blockTouchHold(),this._handleMenuClick(t.target)},hi.prototype.HandleTouchClickInternal=function(t){var e=t.target;this._handleMenuClick(e)},hi.prototype._handleMenuClick=function(t){var e=this._customTooltipManager._actionPopupObj,i=t._menu;if(i){var n=!0;i instanceof di&&i._menuItem.isDisabled()&&(n=!1),n&&(this._customTooltipManager.closeActionTooltip(),i.FireActionTooltipItem(e))}};var ci=function(t,e){this._Init(t,e)};e.createSubclass(ci,te,"DvtCustomTooltip"),ci.DEFAULT_BORDER_COLOR="gray",ci.DEFAULT_BACKGROUND_COLOR="#ffffff",ci.TOOLTIP_ONLY="tooltipOnly",ci.MENU_ONLY="menuOnly",ci.MENU_AND_TOOLTIP="menuAndTooltip",ci.EMPTY="empty",ci.MENU_PADDING_LEFT=21,ci.MENU_PADDING_RIGHT=10,ci.prototype._Init=function(t,e){this._context=t,this.getImpl()||this.setImpl(t.getImplFactory().newContainer("customTT")),ci.superclass.Init.call(this,t),this._tooltipText=null,this._tooltipBorderColor=null,this._menuFontSize=11,this._tooltipFill=new J(ci.DEFAULT_BACKGROUND_COLOR),this._fontSize=11,this._includePointer=!1,this._pointerLocation=new dt(0,0)},ci.prototype.setIncludePointer=function(t){this._includePointer=t},ci.prototype.getRootDisplayable=function(){return this},ci.prototype.UpdateTooltipSize=function(t,e){this._displayWidth=t,this._displayHeight=e},ci.prototype.getDisplayWidth=function(){return this._displayWidth},ci.prototype.getDisplayHeight=function(){return this._displayHeight},ci.prototype.clearContent=function(){this.clearMenuItems(),this.setTooltipBorderColor(null),this.setTooltipText(null)},ci.prototype.setMenuFontSize=function(t){this._menuFontSize=t},ci.prototype.setTooltipBorderColor=function(t){this._tooltipBorderColor=t},ci.prototype.getTooltipBorderColor=function(){return this._tooltipBorderColor},ci.prototype.setTooltipFill=function(t){this._tooltipFill=t},ci.prototype.setTooltipText=function(t){this._tooltipText=t},ci.prototype.getTooltipText=function(){return this._tooltipText},ci.prototype.addMenuItem=function(t){this.getMenuItems().push(t)},ci.prototype.hasMenuItems=function(){var t=this.getMenuItems();return t&&t.length>0},ci.prototype.clearMenuItems=function(){this._menuItems&&(this._menuItems=[])},ci.prototype.getMenuItems=function(){return this._menuItems||(this._menuItems=new Array),this._menuItems},ci.prototype.containsMenuId=function(t){for(var e=this.getMenuItems(),i=0;i<e.length;i++){var n=e[i];if(n.getId()==t)return!0}return!1},ci.prototype.getTooltipType=function(){var t=this.hasMenuItems();return t?ci.MENU_ONLY:ci.EMPTY},ci.prototype.Render=function(){var t=this.getRootDisplayable();t.removeChildren();var e=this.getTooltipType();if(e!=ci.EMPTY){var i=4,n=5,r=2;this._includePointer&&(r=3,i=10);var o=this.hasMenuItems(),s=i+r/2,a=0,l=0;e==ci.TOOLTIP_ONLY?t.setAlpha(.9):t.setAlpha(1);var u=new Array,h=new Array;if(e==ci.MENU_AND_TOOLTIP?a+=n:e==ci.MENU_ONLY&&(a+=n/2),o)for(var c=this.getMenuItems(),p=0;p<c.length;p++){var d=c[p],g=new ve(this._context,d.getText(),0,0,null);g.alignBottom(),g.setFontSize(this._menuFontSize),d instanceof di&&d._menuItem.isDisabled()&&g.setAlpha(.5),g._menu=d;
var f=g.measureDimensions();f.y=s+a;var _=f.w;h.push(f),l=Math.max(_+ci.MENU_PADDING_LEFT+ci.MENU_PADDING_RIGHT,l),g.setY(f.y),a+=f.h,p<c.length-1&&(a+=n),u.push(g),g.alignLeft(),g.alignTop()}e!=ci.MENU_ONLY&&e!=ci.MENU_AND_TOOLTIP||(a+=n/2);var v=l+2*i,m=v+r,y=s+a+i+r/2;this._cursorText&&this._cursorText.setTranslateX(i+r/2);var S=12,E=this._pointerLocation.x>m,T=-this._pointerLocation.x,b=this._pointerLocation.y;if(this._includePointer){S>y/2&&(S=y/3);var C=y+r;C=Math.max(b+r,C);var A;E?(this.UpdateTooltipSize(this._pointerLocation.x,C),A=r/2):(this.UpdateTooltipSize(m+T+r,C),A=r/2+T),t.setTranslate(A,r/2)}else this.UpdateTooltipSize(m+r,y+r),t.setTranslate(r/2,r/2);var D=new _e(this._context,0,0,m,y);if(this._includePointer){var I=5,x=y/2;if(E){var O=new dt(0,0),M=new dt(m,0),R=new dt(m,x),w=new dt(this._pointerLocation.x,b),P=new dt(m,x+S),L=new dt(m,y),N=new dt(0,y),k=Wt.moveTo(O.x+I,O.y)+Wt.lineTo(M.x-I,M.y)+Wt.arcTo(I,I,Math.PI/2,1,M.x,M.y+I)+Wt.lineTo(R.x,R.y)+Wt.lineTo(w.x,w.y)+Wt.lineTo(P.x,P.y)+Wt.lineTo(L.x,L.y-I)+Wt.arcTo(I,I,Math.PI/2,1,L.x-I,L.y)+Wt.lineTo(N.x+I,N.y)+Wt.arcTo(I,I,Math.PI/2,1,N.x,N.y-I)+Wt.lineTo(0,I)+Wt.arcTo(I,I,Math.PI/2,1,I,0)+Wt.closePath();D=new de(this._context,k,null)}else{var O=new dt(0,0),M=new dt(m,0),R=new dt(m,y),w=new dt(0,y),P=new dt(0,x+S),L=new dt(-T,b),N=new dt(0,x),k=Wt.moveTo(O.x+I,O.y)+Wt.lineTo(M.x-I,M.y)+Wt.arcTo(I,I,Math.PI/2,1,M.x,M.y+I)+Wt.lineTo(R.x,R.y-I)+Wt.arcTo(I,I,Math.PI/2,1,R.x-I,R.y)+Wt.lineTo(w.x+I,w.y)+Wt.arcTo(I,I,Math.PI/2,1,w.x,w.y-I)+Wt.lineTo(P.x,P.y)+Wt.lineTo(L.x,L.y)+Wt.lineTo(N.x,N.y)+Wt.lineTo(0,I)+Wt.arcTo(I,I,Math.PI/2,1,I,0)+Wt.closePath();D=new de(this._context,k,null)}}D.setSolidStroke("rgb(229,232,238)"),this._tooltipFill||(this._tooltipFill=new J(ci.DEFAULT_BACKGROUND_COLOR)),D.setFill(this._tooltipFill),t.addChildAt(D,0);for(var H=.95*v,F=(m-H)/2,p=0;p<u.length;p++){var B=u[p];t.addChild(B);var _=h[p].w;if(B._menu){var U=new gt(0,h[p].y-n/2,m,h[p].h+n),G=new _e(this._context,U.x,U.y,U.w,U.h);if(G.setInvisibleFill(),G._menu=B._menu,t.addChild(G),p>0){var j=B._menu._menuItem,V=u[p-1];if(V._menu instanceof di&&j.hasSeparatorBefore()){var Y=new J("gray",.5);this.renderDivider(t,F,h[p].y-n/2,H,Y)}}}B.setTranslateX(ci.MENU_PADDING_LEFT)}}},ci.prototype.renderDivider=function(t,e,i,n,r){var o=new _e(this._context,e,i,n,1);o.setFill(r),t.addChild(o)};var pi=function(t,e,i,n,r){this.Init(t,e,i,n,r)};e.createSubclass(pi,e,"DvtCustomTooltipItem"),pi.prototype.Init=function(t,e,i,n,r){this._context=t,this._id=e,this._text=i,this._listener=n,this._listenerObj=r},pi.prototype.getId=function(){return this._id},pi.prototype.getText=function(){return this._text},pi.prototype.FireActionTooltipItem=function(t){if(this._listenerObj&&this._listener){var e=new Object;e.target=t,e.menuItem=this._menuItem,this._menuItemTimer=new v(this._context,1,this._handleMenuTimer,this),this._menuItemTimer.evt=e,this._menuItemTimer.start()}},pi.prototype._handleMenuTimer=function(){this._menuItemTimer&&this._menuItemTimer.stop(),this._listener.call(this._listenerObj,this._menuItemTimer.evt)};var di=function(t,e,i,n,r){this.Init(t,e,i,n,r)};e.createSubclass(di,pi,"DvtContextMenuTooltipItem"),di.prototype.Init=function(t,e,i,n,r){di.superclass.Init.call(this,t,e,r.getText(),i,n),this._menuItem=r};var gi=function(){};e.createSubclass(gi,e,"DvtDnDUtils"),gi.getDragFeedbackBounds=function(t,e){if(!t)return null;var i=null;if(t instanceof Array){if(t.length>0){i=t[0].getDimensions(e?e:t[0].getParent());for(var n=1;n<t.length;n++){var r=t[n],o=r.getDimensions(e?e:r.getParent());o.x<i.x&&(i.w+=i.x-o.x,i.x=o.x),o.y<i.y&&(i.h+=i.y-o.y,i.y=o.y),o.x+o.w>i.x+i.w&&(i.w=o.x+o.w-i.x),o.y+o.h>i.y+i.h&&(i.h=o.y+o.h-i.y)}}}else i=t.getDimensions(e?e:t.getParent());return i};var fi=function(t){this._impl||(this._impl=t.getImplFactory().newParser())};e.createSubclass(fi,e,"DvtXmlParser"),fi.prototype.parse=function(t){return this._impl&&this._impl.parse?this._impl.parse(t):null};var _i=function(){};e.createSubclass(_i,e,"DvtXmlNode"),_i.prototype.getAttr=function(t){return null},_i.prototype.getChildNodes=function(){return new Array},_i.prototype.getChild=function(t){var e=this.getChildNodes();return null!=e&&e.length>t?e[t]:null},_i.prototype.getFirstChild=function(){return this.getChild(0)},_i.prototype.getName=function(){return null},_i.prototype.getAttributes=function(){return null},_i.prototype.getAllChildNodes=function(){return new Array},_i.prototype.getNodeValue=function(){return null},_i.prototype.getTextContent=function(){return null},_i.prototype.getElementsByTagName=function(t){return null};var vi=function(t,e){this.Init(t,e)};e.createSubclass(vi,oi,"DvtHtmlTooltipManager"),vi._TOOLTIP_DIV_ID="_dvtTooltip",vi._SHOW_DELAY=500,vi._BORDER_COLOR="#9ba2b0",vi._FONT_COLOR="#383a47",vi._VIEWPORT_BUFFER=15,vi.prototype.Init=function(t,e){this._context=t,this._domElementId=e?e:vi._TOOLTIP_DIV_ID,this._isTooltip=!0},vi.prototype.showDatatip=function(t,e,i,n,r){null==r&&(r=!0),this._isTooltip=!1,this._showTextAtPosition(t,e,i,n,r,this._context.getDatatipStyleClass())},vi.prototype._showTextAtPosition=function(t,e,i,n,r,o){var s,a=this.getTooltipElem();if("string"==typeof i){for(;a.hasChildNodes();)a.removeChild(a.firstChild);i=i.replace(/(<|&#60;)/g,"&lt;"),i=i.replace(/(>|&#62;)/g,"&gt;"),i=vi._restoreTag(i,"b"),i=vi._restoreTag(i,"i"),i=vi._restoreTag(i,"table"),i=vi._restoreTag(i,"tr"),i=vi._restoreTag(i,"td"),i=i.replace(/\n/g,"<br>"),i=i.replace(/\\n/g,"<br>"),i=i.replace(/&#92;n/g,"<br>"),i=vi._restoreTag(i,"br"),i=i.replace(/ /g,"&nbsp;"),i=i.replace(/~&nbsp;~/g," "),s=document.createElement("span"),s.style.visibility="inherit",s.style.width=null,s.style.height=null,s.innerHTML=i}else 1!=i&&(s=i);this._isCustomClassName||(a.className=o),this._isCustomClassName=!1,n||(n=vi._BORDER_COLOR),this._isCustomBorderColor||(a.style.borderColor=n),this._isCustomBorderColor=!1,a.style.position="absolute",a.style.zIndex=2147483647,null!=s&&a.appendChild(s),this.PostElement(a,t,e,!0,r)},vi.prototype.PostElement=function(t,e,i,n,r){if(t.style["pointer-events"]=n?"none":"auto",t.style.width=null,t.style.height=null,r){var o=this._getOffsets(t);this.positionTip(e+o.x,i+o.y,e,i)}else this.positionTip(e,i,e,i);t.style.visibility="visible";var s=this._context.getTooltipAttachedCallback();s&&s(t)},vi.prototype.hideTooltip=function(){this.clearTooltip(),this._tooltipDisplayed=!1,this._timerIsRunning=!1;var t=document.getElementById(this._domElementId);t&&(t.style.visibility="hidden",t.style.width="0px",t.style.height="0px",qe.isRightToLeft(this._context)?t.style.left=t.style.right:t.style.left="0px",t.style.top="0px")},vi.prototype.getTooltipElem=function(){var t=document.getElementById(this._domElementId);return t||(t=this.InitializeTooltipElem()),t},vi.prototype.InitializeTooltipElem=function(){var t=document.createElement("div");return t.id=this._domElementId,t.style.visibility="hidden",document.body.appendChild(t),this.InitContent(t),t},vi.prototype.InitContent=function(t){},vi.prototype.showTooltip=function(t,i,n,r,o,s){if(n&&0!=n.length&&(this._x=t,this._y=i,this._text=n,this._trackMouse=o,!this._timerIsRunning)){var a=document.createElement("span");a.className="OraDVTTooltipText",a.innerHTML=n,a.style.color=vi._FONT_COLOR,s||(s=vi._BORDER_COLOR);var l=this.getTooltipElem();l.style.borderColor=s,qe.isTouchDevice()||this._tooltipDisplayed&&this._trackMouse?this._displayTooltip(this._x,this._y,this._text,this._borderColor):(this._timerIsRunning=!0,this._showTimerId=window.setTimeout(e.createCallback(this,this._handleShowTimer),vi._SHOW_DELAY))}},vi.prototype.clearTooltip=function(){this._showTimerId&&(window.clearTimeout(this._showTimerId),this._showTimerId=void 0,this._x=void 0,this._y=void 0,this._text=void 0,this._trackMouse=void 0),this._hideTimerId&&(window.clearTimeout(this._hideTimerId),this._hideTimerId=void 0)},vi.prototype._handleShowTimer=function(t){this._timerIsRunning=!1,this._displayTooltip(this._x,this._y,this._text,this._borderColor),this._tooltipDisplayed=!0},vi.prototype._displayTooltip=function(t,e,i,n){this._isTooltip=!0,this._showTextAtPosition(t,e,i,n,!0,this._context.getTooltipStyleClass())},vi.prototype._getOffsets=function(t){var e=this.getTooltipBounds(t);if(qe.isTouchDevice())return new dt(0-e.w/2,-30-e.h);var i=-8-e.h,n=8;this._isTooltip&&(i=22,n=0);var r=qe.isRightToLeft(this._context);return r&&(n=-n-e.w),new dt(n,i)},vi.prototype.getTooltipBounds=function(){var t=this.getTooltipElem();return t.style.height="auto",new gt(parseInt(t.style.left),parseInt(t.style.top),t.offsetWidth,t.offsetHeight)},vi.prototype.positionTip=function(t,e){var i=this.getTooltipElem(),n=this.getTooltipBounds(),r=n.w,o=n.h,s=new gt(window.pageXOffset+vi._VIEWPORT_BUFFER,window.pageYOffset+vi._VIEWPORT_BUFFER,window.innerWidth-2*vi._VIEWPORT_BUFFER,window.innerHeight-2*vi._VIEWPORT_BUFFER),a=t;t+r>s.x+s.w?a=s.x+s.w-r-i.clientLeft:t<s.x&&(a=s.x);var l=e;e<s.y?l=s.y:e+o>s.y+s.h&&(l=s.y+s.h-o),i.style.left=a+"px",i.style.top=l+"px"},vi.prototype.getCustomTooltip=function(t,e){for(var i=this.getTooltipElem();i.hasChildNodes();)i.removeChild(i.firstChild);e.parentElement=i,i.className="",i.style.borderColor="";var n=t(e);return i.className&&(this._isCustomClassName=!0),i.style.borderColor&&(this._isCustomBorderColor=!0),!n&&i.hasChildNodes()?!0:n},vi._restoreTag=function(t,e){var i=new RegExp("&lt;(/?)"+e+"([^&]*)(/?)&gt;","g");return t.replace(i,"<$1"+e+"$2$3>")},vi.createStartTag=function(t,e){return("<"+t+' style="'+e.toString()+'">').replace(/ /g,"~ ~")};var mi=function(){};e.createSubclass(mi,e,"DvtHtmlKeyboardListenerUtils"),mi.ATTR_IGNORE_EVENTS_FROM_TARGET="_dvtIgnoreEventsFromTarget",mi.getListener=function(t){return t?mi._captureListener:mi._bubbleListener},mi._bubbleListener=function(t){if(!mi._checkIgnoreTarget(t)){var e;if(this._currentObj)e=jt.newEvent(t,this._currentObj.getObj().getCtx()),this._currentObj.getObj().FireListener(e,!1);else if(this._obj&&this._obj instanceof Array){var i,n,r=this._obj.length;for(i=0;r>i;i++)n=this._obj[i],e=jt.newEvent(t,n.getObj().getCtx()),n.getObj().FireListener(e,!1)}}},mi._captureListener=function(t){if(!mi._checkIgnoreTarget(t)){var e;if(this._currentObj&&(e=jt.newEvent(t,this._currentObj.getObj().getCtx()),this._currentObj.getObj().FireListener(e,!0)),this._obj&&this._obj instanceof Array){var i,n,r=this._obj.length;for(i=0;r>i;i++)n=this._obj[i],e=jt.newEvent(t,n.getObj().getCtx()),n.getObj().FireListener(e,!0)}}},mi._checkIgnoreTarget=function(t){return!!(t&&t.target&&t.target[mi.ATTR_IGNORE_EVENTS_FROM_TARGET])};var yi=function(){this._parser=new DOMParser};e.createSubclass(yi,e,"DvtDomXmlParser"),yi.prototype.parse=function(t){var e=this._parser.parseFromString(t,"text/xml"),i=e.documentElement;return new Si(i)};var Si=function(t){this._node=t};e.createSubclass(Si,_i,"DvtDomXmlNode"),Si.prototype.getAttr=function(t){return this._node.getAttribute(t)},Si.prototype.getChildNodes=function(){for(var t=new Array,e=this._node.firstChild;null!=e;)1==e.nodeType&&t.push(new Si(e)),e=e.nextSibling;return t},Si.prototype.getName=function(){return this._node.nodeName},Si.prototype.getAttributes=function(){for(var t=[],e=this._node.attributes.length,i=0;e>i;i++){var n=this._node.attributes[i];n.name&&"undefined"!=typeof n.value&&null!=n.value&&t.push({name:n.name,value:n.value})}return t},Si.prototype.getAllChildNodes=function(){for(var t=new Array,e=this._node.firstChild;null!=e;)t.push(new Si(e)),e=e.nextSibling;return t},Si.prototype.getNodeValue=function(){return this._node.nodeValue},Si.prototype.getTextContent=function(){return this._node.textContent},Si.prototype.getElementsByTagName=function(t){var e=[],i=this._node.getElementsByTagName(t);if(i)for(var n=0;n<i.length;n++)e.push(new Si(i[n]));return e};var Ei=function(t,e,i){this.Init(Ei.TYPE),this.key=t,this.value=e,this.optionMetadata=i};e.createSubclass(Ei,Dt,"DvtOptionChangeEvent"),Ei.TYPE="optionChange";var Ti=function(t){this.Init(t)};e.createSubclass(Ti,Dt,"DvtSelectionEvent"),Ti.TYPE="selection",Ti.TYPE_INPUT="selectionInput",Ti.prototype.Init=function(t,e){Ti.superclass.Init.call(this,e?e:Ti.TYPE),this._selection=t},Ti.prototype.getSelection=function(){return this._selection};var bi=function(t,e,i){var n=i===!1?bi.TYPE_INPUT:bi.TYPE;this.Init(n),this._oldValue=t,this._newValue=e};e.createSubclass(bi,Dt,"DvtValueChangeEvent"),bi.TYPE="valueChange",bi.TYPE_INPUT="valueChangeInput",bi.prototype.getOldValue=function(){return this._oldValue},bi.prototype.getNewValue=function(){return this._newValue};var Ci=function(t,e,i,n){this.Init(Ci.TYPE),this._showPopupBehavior=t,this._launcherBounds=e,this._launcherId=i,this.triggerType=n};e.createSubclass(Ci,Dt,"DvtShowPopupEvent"),Ci.TYPE="showPopup",Ci.prototype.getShowPopupBehavior=function(){return this._showPopupBehavior},Ci.prototype.getLauncherBounds=function(){return this._launcherBounds},Ci.prototype.getLauncherId=function(){return this._launcherId},Ci.prototype.setLauncherId=function(t){this._launcherId=t};var Ai=function(t,e){this.Init(Ai.TYPE),this._popupId=t,this._relatedTarget=e};e.createSubclass(Ai,Dt,"DvtHidePopupEvent"),Ai.TYPE="hidePopup",Ai.prototype.getPopupId=function(){return this._popupId},Ai.prototype.getRelatedTarget=function(){return this._relatedTarget};var Di=function(t){this.Init(Di.TYPE),this._clientBehavior=t};e.createSubclass(Di,Dt,"DvtClientBehaviorEvent"),Di.TYPE="clientBehavior",Di.prototype.getClientBehavior=function(){return this._clientBehavior};var Ii=function(t,e){this.Init(Ii.TYPE),this._nativeEvent=t,this._menuId=e};e.createSubclass(Ii,Dt,"DvtContextMenuEvent"),Ii.TYPE="contextMenu",Ii.prototype.getNativeEvent=function(){return this._nativeEvent},Ii.prototype.getMenuId=function(){return this._menuId};var xi=function(t,e,i,n){this.Init(xi.TYPE),this._menuType=t,this._clientId=e,this._destination=i,this._targetFrame=n};e.createSubclass(xi,Dt,"DvtContextMenuSelectEvent"),xi.TYPE="contextMenuSelect",xi.prototype.getMenuType=function(){return this._menuType},xi.prototype.getClientId=function(){return this._clientId},xi.prototype.getDestination=function(){return this._destination},xi.prototype.getTargetFrame=function(){return this._targetFrame};var Oi=function(t){this.Init(Oi.TYPE),this._id=t};e.createSubclass(Oi,Dt,"DvtDrillReplaceEvent"),Oi.TYPE="drillReplace",Oi.prototype.getId=function(){return this._id};var Mi=function(t,e){this.Init(t),this._category=e,e=e||[],this.categories=e instanceof Array?e:[e]};e.createSubclass(Mi,Dt,"DvtCategoryRolloverEvent"),Mi.TYPE_OVER="categoryRollOver",Mi.TYPE_OUT="categoryRollOut",Mi.prototype.getCategory=function(){return this._category};var Ri=function(t,e){this.Init(t),this._category=e};e.createSubclass(Ri,Dt,"DvtCategoryHideShowEvent"),Ri.TYPE_HIDE="hideCategory",Ri.TYPE_SHOW="showCategory",Ri.prototype.getCategory=function(){return this._category};var wi=function(t,e,i,n,r,o){this.Init(wi.TYPE),this.type=this.getType(),this._subtype=t,this._newX=e,this._newY=i,this._oldX=n,this._oldY=r,this._animator=o};e.createSubclass(wi,Dt,"DvtPanEvent"),wi.TYPE="dvtPan",wi.SUBTYPE_DRAG_PAN_BEGIN="dragPanBegin",wi.SUBTYPE_DRAG_PAN_END="dragPanEnd",wi.SUBTYPE_PANNED="panned",wi.SUBTYPE_PANNING="panning",wi.SUBTYPE_ELASTIC_ANIM_BEGIN="elasticAnimBegin",wi.SUBTYPE_ELASTIC_ANIM_END="elasticAnimEnd",wi.prototype.getSubType=function(){return this._subtype},wi.prototype.getNewX=function(){return this._newX},wi.prototype.getNewY=function(){return this._newY},wi.prototype.getOldX=function(){return this._oldX},wi.prototype.getOldY=function(){return this._oldY},wi.prototype.getAnimator=function(){return this._animator};var Pi=function(t,e,i,n,r,o,s,a){this.Init(Pi.TYPE),this.type=this.getType(),this._subtype=t,this._newZoom=e,this._oldZoom=i,this._animator=n,this._zoomToFitBounds=r,this._centerPoint=o,this._tx=s,this._ty=a};e.createSubclass(Pi,Dt,"DvtZoomEvent"),Pi.TYPE="dvtZoom",Pi.SUBTYPE_ZOOMED="zoomed",Pi.SUBTYPE_ZOOMING="zooming",Pi.SUBTYPE_ZOOM_END="zoomEnd",Pi.SUBTYPE_DRAG_ZOOM_BEGIN="dragZoomBegin",Pi.SUBTYPE_DRAG_ZOOM_END="dragZoomEnd",Pi.SUBTYPE_ZOOM_AND_CENTER="zoomAndCenter",Pi.SUBTYPE_ZOOM_TO_FIT_CALC_BOUNDS="zoomToFitCalcBounds",Pi.SUBTYPE_ZOOM_TO_FIT_BEGIN="zoomToFitBegin",Pi.SUBTYPE_ZOOM_TO_FIT_END="zoomToFitEnd",Pi.SUBTYPE_ELASTIC_ANIM_BEGIN="elasticAnimBegin",Pi.SUBTYPE_ELASTIC_ANIM_END="elasticAnimEnd",Pi.SUBTYPE_ADJUST_PAN_CONSTRAINTS="adjustPanConstraints",Pi.prototype.getSubType=function(){return this._subtype},Pi.prototype.getNewZoom=function(){return this._newZoom},Pi.prototype.getOldZoom=function(){return this._oldZoom},Pi.prototype.getAnimator=function(){return this._animator},Pi.prototype.setZoomToFitBounds=function(t){this._zoomToFitBounds=t},Pi.prototype.getZoomToFitBounds=function(){return this._zoomToFitBounds},Pi.prototype.getCenterPoint=function(){return this._centerPoint},Pi.prototype.getTx=function(){return this._tx},Pi.prototype.getTy=function(){return this._ty};var Li=function(t,e,i){this.Init(Li.TYPE),this.type=this.getType(),this._subtype=t,this._commandId=e,this._clientId=i};e.createSubclass(Li,Dt,"DvtActionEvent"),Li.TYPE="dvtAct",Li.SUBTYPE_ACTION="action",Li.SUBTYPE_SET_ANCHOR="setAnchor",Li.prototype.getSubType=function(){return this._subtype},Li.prototype.getCommandId=function(){return this._commandId},Li.prototype.getClientId=function(){return this._clientId},Li.prototype.setClientId=function(t){this._clientId=t};var Ni=function(t,e,i){this.Init(Ni.TYPE),this._id=t,this._series=e,this._group=i};e.createSubclass(Ni,Dt,"DvtDrillEvent"),Ni.TYPE="dvtDrill",Ni.prototype.getId=function(){return this._id},Ni.prototype.getSeries=function(){return this._series},Ni.prototype.getGroup=function(){return this._group};var ki={};e.createSubclass(ki,e,"DvtEventDispatcher"),ki.dispatchEvent=function(t,e,i,n){t&&t&&t.call&&t.call(e,n,i)};var Hi=function(t){this.Init(Hi.TYPE),this._isolatedRows=t};e.createSubclass(Hi,Dt,"DvtIsolateEvent"),Hi.TYPE="isolate",Hi.prototype.getIsolatedRows=function(){return this._isolatedRows};var Fi=function(t,e,i){this.Init(Fi.TYPE),this._logType=t,this._level=e,this._message=i};e.createSubclass(Fi,Dt,"DvtLogEvent"),Fi.TYPE="log",Fi.PERFORMANCE="performance",Fi.LOG="log",Fi.prototype.getLogType=function(){return this._logType},Fi.prototype.getLevel=function(){return this._level},Fi.prototype.getMessage=function(){return this._message};var Bi=function(){this.Init(Bi.TYPE)};e.createSubclass(Bi,Dt,"DvtReadyEvent"),Bi.TYPE="ready";var Ui=function(){this.Init(Ui.TYPE)};e.createSubclass(Ui,Dt,"DvtSetPropertyEvent"),Ui.TYPE="dvtSetPropertyEvent";var Gi=new Object;e.createSubclass(Gi,e,"DvtToolkitUtils"),Gi.SVG_NS="http://www.w3.org/2000/svg",Gi.XLINK_NS="http://www.w3.org/1999/xlink",Gi.createSvgDocument=function(t){var e=document.createElementNS(Gi.SVG_NS,"svg");return null!=t&&Gi.setAttrNullNS(e,"id",t),Gi.setAttrNullNS(e,"width","100%"),Gi.setAttrNullNS(e,"height","100%"),qe.isPlatformIE()&&Gi.setAttrNullNS(e,"focusable","false"),e},Gi.getDragFeedback=function(t,e){t instanceof Array||(t=[t]);var i=gi.getDragFeedbackBounds(t,e),n=Gi._getDragFeedbackSVG(t,i),r=new Object;return r.width=i.w+2*Le.DRAG_FEEDBACK_MARGIN,r.height=i.h+2*Le.DRAG_FEEDBACK_MARGIN,n&&(r.svg=n),r},Gi._getDragFeedbackSVG=function(t,e){var i=Gi.createSvgDocument("dnd"),n=Le.DRAG_FEEDBACK_MARGIN-e.x,r=Le.DRAG_FEEDBACK_MARGIN-e.y,o="translate("+n+","+r+")",s=Jt.createElement("g");Gi.setAttrNullNS(s,"transform",o),Gi.appendChildElem(i,s);for(var a=0;a<t.length;a++){var l=t[a],u=l.getImpl().getElem(),h=u.cloneNode(!0);Gi.getAttrNullNS(h,"filter")&&Gi.setAttrNullNS(h,"filter",null);var c=Jt.createElement("g");Gi.appendChildElem(s,c);for(var p=l.getPathToStage(),d=null,g=1;g<p.length;g++)d?(d=d.clone(),d.concat(p[g].getMatrix())):d=p[g].getMatrix();if(d){var f="matrix("+d.getA()+","+d.getC()+","+d.getB()+","+d.getD()+","+d.getTx()+","+d.getTy()+")";Gi.setAttrNullNS(c,"transform",f)}Gi.appendChildElem(c,h)}return i},Gi.addDomEventListener=function(t,e,i,n){t&&t.addEventListener&&t.addEventListener(e,i,n)},Gi.removeDomEventListener=function(t,e,i,n){t&&t.removeEventListener&&t.removeEventListener(e,i,n)},Gi.appendChildElem=function(t,e){return t.appendChild(e)},Gi.getAttrNS=function(t,e,i){return t.getAttributeNS(e,i)},Gi.getAttrNullNS=function(t,e){return t.getAttributeNS(null,e)},Gi.hasAttrNS=function(t,e,i){return t.hasAttributeNS(e,i)},Gi.hasAttrNullNS=function(t,e){return Gi.hasAttrNS(t,null,e)},Gi.setAttrNS=function(t,e,i,n,r){return null!=r&&n==r?void(Gi.hasAttrNS(t,e,i)&&(qe.isPlatformIE()&&qe.getVersion()<=10||qe.isBrowserChrome()&&!qe.isEnvironmentTest()&&qe.getVersion()>=34&&"text"==t.nodeName&&("x"==i||"y"==i)?t.setAttributeNS(e,i,n):Gi.removeAttrNS(t,e,i))):void t.setAttributeNS(e,i,n)},Gi.setAttrNullNS=function(t,e,i,n){Gi.setAttrNS(t,null,e,i,n)},Gi.removeAttrNS=function(t,e,i){Gi.hasAttrNS(t,e,i)&&t.removeAttributeNS(e,i)},Gi.removeAttrNullNS=function(t,e){Gi.removeAttrNS(t,null,e)},Gi.getLinkCallback=function(t,e){if(t||e){var i=function(){if(null==t)self.location=e;else{var i=window.open(e,t);i&&i.focus()}};return i}return null},Gi.roundDecimal=function(t){return qe.isEnvironmentTest()?Math.round(1e3*t)/1e3:t},Gi.getUrlById=function(t){var e=qe.isPlatformIE()?null!=document.querySelector("base"):document.URL!=document.baseURI,i=e?document.URL+"#":"#";return"url("+i+t+")"},Gi.setSvgSize=function(t,e,i){var n=t.getSvgDocument();Gi.setAttrNullNS(n,"width",e+"px"),Gi.setAttrNullNS(n,"height",i+"px")},Gi.getOuterDivSize=function(t){var e=t.getSvgDocument().parentNode,i=window.getComputedStyle(e);return new ct(parseFloat(i.width),parseFloat(i.height))},Ze.addDefaultStrings(Ze.UTIL_PREFIX,{SCALING_SUFFIX_THOUSAND:"K",SCALING_SUFFIX_MILLION:"M",SCALING_SUFFIX_BILLION:"B",SCALING_SUFFIX_TRILLION:"T",SCALING_SUFFIX_QUADRILLION:"Q",NUMBER_FORMAT_DECIMAL_SEPARATOR:".",NUMBER_FORMAT_GROUPING_SEPARATOR:",",NUMBER_FORMAT_GROUPING_SIZE:3,MONTH_JANUARY:"January",MONTH_FEBRUARY:"February",MONTH_MARCH:"March",MONTH_APRIL:"April",MONTH_MAY:"May",MONTH_JUNE:"June",MONTH_JULY:"July",MONTH_AUGUST:"August",MONTH_SEPTEMBER:"September",MONTH_OCTOBER:"October",MONTH_NOVEMBER:"November",MONTH_DECEMBER:"December",MONTH_SHORT_JANUARY:"Jan",MONTH_SHORT_FEBRUARY:"Feb",MONTH_SHORT_MARCH:"Mar",MONTH_SHORT_APRIL:"Apr",MONTH_SHORT_MAY:"May",MONTH_SHORT_JUNE:"Jun",MONTH_SHORT_JULY:"Jul",MONTH_SHORT_AUGUST:"Aug",MONTH_SHORT_SEPTEMBER:"Sep",MONTH_SHORT_OCTOBER:"Oct",MONTH_SHORT_NOVEMBER:"Nov",MONTH_SHORT_DECEMBER:"Dec",DAY_MONDAY:"Monday",DAY_TUESDAY:"Tuesday",DAY_WEDNESDAY:"Wednesday",DAY_THURSDAY:"Thursday",DAY_FRIDAY:"Friday",DAY_SATURDAY:"Saturday",DAY_SUNDAY:"Sunday",DAY_SHORT_MONDAY:"Mon",DAY_SHORT_TUESDAY:"Tue",DAY_SHORT_WEDNESDAY:"Wed",DAY_SHORT_THURSDAY:"Thu",DAY_SHORT_FRIDAY:"Fri",DAY_SHORT_SATURDAY:"Sat",DAY_SHORT_SUNDAY:"Sun",TIME_AM:"AM",TIME_PM:"PM",INVALID_DATA:"Invalid data",NO_DATA:"No data to display",CLEAR_SELECTION:"Clear Selection",EXPAND:"Expand",COLLAPSE:"Collapse",DATA_VISUALIZATION:"Data Visualization",STATE_SELECTED:"Selected",STATE_UNSELECTED:"Unselected",STATE_MAXIMIZED:"Maximized",STATE_MINIMIZED:"Minimized",STATE_EXPANDED:"Expanded",STATE_COLLAPSED:"Collapsed",STATE_ISOLATED:"Isolated",STATE_HIDDEN:"Hidden",STATE_VISIBLE:"Visible",STATE_DRILLABLE:"Drillable",ARIA_LABEL_STATE_DELIMITER:", ",ARIA_LABEL_DESC_DELIMITER:". ",COLON_SEP_LIST:"{0}: {1}",COUNT_WITH_TOTAL:"{0} of {1}",ZOOM_IN:"Zoom In",ZOOM_OUT:"Zoom Out",CHART:"Chart",DIAGRAM:"Diagram",GAUGE:"Gauge",HIERARCHY_VIEWER:"Hierarchy Viewer",LEGEND:"Legend",NBOX:"{0} Box",PICTOCHART:"Picture Chart",SUNBURST:"Sunburst",TAG_CLOUD:"Tag Cloud",THEMATIC_MAP:"Thematic Map",TIMELINE:"Timeline",TIMELINE_SERIES:"Series",TREEMAP:"Treemap"});var ji=function(){};e.createSubclass(ji,e,"DvtSvgDocumentUtils"),ji.elementFromPoint=function(t,e){for(var i=document.elementFromPoint(t,e);i;){if(i._obj&&i._obj.getObj&&i._obj.getObj())return i._obj.getObj();i=i.parentNode}return null},ji.elementFromTouch=function(t){return this.elementFromPoint(t.clientX,t.clientY)},ji.isFilterSupported=function(t){return!(qe.isPlatformIE()&&qe.getVersion()<10||qe.isBrowserSafari()&&qe.getVersion()<536||qe.isTouchDevice()&&!qe.isBrowserSafari())},ji.isEventAvailableOutsideClip=function(){return qe.isBrowserSafari()},ji.isFilterStraightLineAdjustmentNeeded=function(){return qe.isPlatformGecko()},ji.fixGeckoContainerForFilter=function(t){if(t&&qe.isPlatformGecko()){var e=t.getImpl().getElem();if(e){var i=Gi.getAttrNullNS(e,"transform");i||(i="matrix(1 0 0 1 0 0)"),Gi.setAttrNullNS(e,"transform",i)}}},ji.cancelDomEvent=function(t){t&&(t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.cancelBubble=!0,t.cancel=!0,t.returnValue=!1)},ji.addDragListeners=function(t,e,i,n,r,o){var s=qe.isTouchDevice(),a=t.getCtx(),l=qe.isEnvironmentBrowser()?document.body.style:{},u=function(t){e.call(r,t)&&(s?(document.addEventListener("touchmove",h,!0),document.addEventListener("touchend",c,!0)):(document.addEventListener("mousemove",h,!0),document.addEventListener("mouseup",c,!0),o&&document.addEventListener("click",p,!0)),ji._webkitUserSelect=l.webkitUserSelect,ji._mozUserSelect=l.MozUserSelect,l.webkitUserSelect="none",l.MozUserSelect="none")},h=function(t){var e=jt.newEvent(t,a);i.call(r,e)},c=function(t){s?(document.removeEventListener("touchmove",h,!0),document.removeEventListener("touchend",c,!0)):(document.removeEventListener("mousemove",h,!0),document.removeEventListener("mouseup",c,!0),s||setTimeout(function(){document.removeEventListener("click",p,!0)},50)),l.webkitUserSelect=ji._webkitUserSelect,l.MozUserSelect=ji._mozUserSelect;var e=jt.newEvent(t,a);n.call(r,e)},p=function(t){t.stopPropagation()};return s?t.addEvtListener(Mt.TOUCHSTART,u):t.addEvtListener(Ot.MOUSEDOWN,u),function(){s?(document.removeEventListener("touchmove",h,!0),document.removeEventListener("touchend",c,!0)):(document.removeEventListener("mousemove",h,!0),document.removeEventListener("mouseup",c,!0),document.removeEventListener("click",p,!0)),l.webkitUserSelect=ji._webkitUserSelect,l.MozUserSelect=ji._mozUserSelect}};var Vi={_cache:{}};e.createSubclass(Vi,e,"DvtSvgImageLoader"),Vi.addBubbleEventListener=function(t,e,i){return window.addEventListener?(Gi.addDomEventListener(t,e,i,!1),!0):window.attachEvent?(t.attachEvent("on"+e,i),!0):!1},Vi.loadImage=function(t,e){var i=this._cache[t];if(i){if(!i._image)return e&&e(i),i;Vi._addListenerToQueue(i._listeners,e)}else this.loadNewImage(t,e);return null},Vi.loadNewImage=function(t,e){var i=document.createElement("img"),n={_listeners:[],url:t,_image:i};e&&Vi._addListenerToQueue(n._listeners,e),this._cache[t]=n,Vi.addBubbleEventListener(i,"load",function(t){n.width=i.width,n.height=i.height,delete n._image;var e,r=n._listeners.length;for(e=0;r>e;e++)n._listeners[e]&&n._listeners[e](n);delete n._listeners}),i.src=t},Vi._addListenerToQueue=function(t,e){if(e){for(var i=0;i<t.length;i++)if(t[i]===e)return;t.push(e)}};var Yi=function(t,e){this.Init(t,e)};e.createSubclass(Yi,vi,"DvtHtmlRichTooltipManager"),Yi.prototype.Init=function(t,e){this._storedContexts=new Object,Yi.superclass.Init.call(this,t,e)},Yi.prototype.InitContent=function(t){t.innerHTML="";var e=new r(t,"DvtCustomTooltip");this._storedContexts[this._domElementId]=e},Yi.prototype.GetStoredContext=function(){return this._storedContexts[this._domElementId]},Yi.prototype.showRichElement=function(t,e,i,n){this.showRichElementAtPosition(t,e,i,n,!1)},Yi.prototype.showRichElementAtPosition=function(t,e,i,n,r){var o=this.getTooltipElem();o.style.position="absolute",o.style.zIndex=2147483647;var s=this.GetStoredContext();if(s){var a=s.getStage();a.removeChildren();var l=i.getRootDisplayable();a.addChild(l),i&&i.Render&&i.Render();var u=a.getImpl().getSVGRoot();Gi.setAttrNullNS(u,"width",i.getDisplayWidth()),Gi.setAttrNullNS(u,"height",i.getDisplayHeight()),this.PostElement(o,t,e,r,n)}},Yi.prototype.hideTooltip=function(){Yi.superclass.hideTooltip.call(this);var t=this.GetStoredContext();if(t){var e=t.getStage();e.removeChildren()}};var Wi=function(t){this._context=t};e.createSubclass(Wi,e,"DvtSvgImplFactory"),Wi.prototype.newDefs=function(){return Jt.createElement("defs")},Wi.prototype.getImageLoader=function(){return qe.isEnvironmentBrowser()?Vi:DvtJavaImageLoader},Wi.prototype.getDocumentUtils=function(){return ji},Wi.prototype.newParser=function(){return qe.isEnvironmentBrowser()?new yi:new DvtJavaXmlParser},Wi.prototype.newTooltipManager=function(t){return new vi(this._context,t)},Wi.prototype.newRichTooltipManager=function(t){return new Yi(this._context,t)};var Ki=function(){this.Init()};e.createSubclass(Ki,e,"DvtSvgFilterContext"),Ki.prototype.Init=function(){this._regionPctRect=new gt(-10,-10,120,120),this._counter=0,this._resultIdsUnder=[],this._resultIdsOver=[]},Ki.prototype.getRegionPctRect=function(){return this._regionPctRect},Ki.prototype.getResultIdsUnder=function(){return this._resultIdsUnder},Ki.prototype.getResultIdsOver=function(){return this._resultIdsOver},Ki.prototype.createResultId=function(t){return t||(t="filtRes"),t+this._counter++};var zi=function(){};e.createSubclass(zi,e,"DvtSvgFilterUtils"),zi._counter=0,zi.createFilter=function(t,e){for(var n=Jt.createElement("filter",zi.CreateFilterId()),r=new Ki,o=0;o<t.length;o++){var s=t[o];s&&zi.CreateFilterPrimitives(n,s,e,r)}var a=!1;if(e){var l=e.getElem().getBBox();if(l){var u=l.width,h=l.height;if(0==h||0==u){var c;e.getStroke&&(c=e.getStroke());var p=10;c&&(p=c.getWidth());var d=l.x,g=l.y;if(ji.isFilterStraightLineAdjustmentNeeded()&&e instanceof fe){var f=i.copy(e.getPoints());0==u&&(f[0]=f[0]+.01),0==h&&(f[1]=f[1]+.01);var _=Jt.convertPointsArray(f);Gi.setAttrNullNS(e.getElem(),"points",_)}0==h&&(h=2*p,g-=p),0==u&&(u=2*p,d-=p),Gi.setAttrNullNS(n,"x",d),Gi.setAttrNullNS(n,"y",g),Gi.setAttrNullNS(n,"width",u),Gi.setAttrNullNS(n,"height",h),Gi.setAttrNullNS(n,"filterUnits","userSpaceOnUse"),a=!0}}}a||(-10!=r.getRegionPctRect().x&&"Infinity"!=r.getRegionPctRect().x&&"-Infinity"!=r.getRegionPctRect().x&&Gi.setAttrNullNS(n,"x",r.getRegionPctRect().x+"%"),-10!=r.getRegionPctRect().y&&"Infinity"!=r.getRegionPctRect().y&&"-Infinity"!=r.getRegionPctRect().y&&Gi.setAttrNullNS(n,"y",r.getRegionPctRect().y+"%"),120!=r.getRegionPctRect().w&&"Infinity"!=r.getRegionPctRect().w&&"-Infinity"!=r.getRegionPctRect().w&&Gi.setAttrNullNS(n,"width",r.getRegionPctRect().w+"%"),120!=r.getRegionPctRect().h&&"Infinity"!=r.getRegionPctRect().h&&"-Infinity"!=r.getRegionPctRect().h&&Gi.setAttrNullNS(n,"height",r.getRegionPctRect().h+"%"));var v,m,y=r.getResultIdsUnder().length,S=r.getResultIdsOver().length,E=Jt.createElement("feMerge");if(y>0)for(m=0;y>m;m++)v=Jt.createElement("feMergeNode"),Gi.setAttrNullNS(v,"in",r.getResultIdsUnder()[m]),Gi.appendChildElem(E,v);if(v=Jt.createElement("feMergeNode"),Gi.setAttrNullNS(v,"in","SourceGraphic"),Gi.appendChildElem(E,v),S>0)for(m=0;S>m;m++)v=Jt.createElement("feMergeNode"),Gi.setAttrNullNS(v,"in",r.getResultIdsOver()[m]),Gi.appendChildElem(E,v);return Gi.appendChildElem(n,E),n},zi.CreateFilterPrimitives=function(t,e,i,n){return e instanceof nt&&$i.createFilterPrimitives(t,e,i,n),null},zi.CreateFilterId=function(){return"filt"+zi._counter++};var Xi=function(){};e.createSubclass(Xi,e,"DvtSvgGradientUtils"),Xi.createElem=function(t,e){var i,n=t instanceof ot||t instanceof et,r=Jt.createElement(n?"linearGradient":"radialGradient",e),o=t.getColors(),s=t.getAlphas(),a=t.getStops(),l=t.getBounds(),u=o.length;for(i=0;u>i;i++){var h=Jt.createElement("stop");Gi.setAttrNullNS(h,"offset",""+100*a[i]+"%");var c=o[i];if(c){var p=s[i];(qe.isEnvironmentBatik()||qe.isBrowserSafari())&&-1!==c.indexOf("rgba")?(Gi.setAttrNullNS(h,"stop-color",X.getRGB(c)),null!=p?Gi.setAttrNullNS(h,"stop-opacity",X.getAlpha(c)*p,1):Gi.setAttrNullNS(h,"stop-opacity",X.getAlpha(c),1)):(Gi.setAttrNullNS(h,"stop-color",c),null!=p&&Gi.setAttrNullNS(h,"stop-opacity",p,1))}Gi.appendChildElem(r,h)}var d=!l||0==l[0]&&0==l[1]&&0==l[2]&&0==l[3];if(n){var g=t.getAngle(),f="0%",_="0%",v="100%",m="0%",y=!0;if(d)45===g?(_="100%",
v="100%"):90===g?(_="100%",v="0%"):135===g?(f="100%",v="0%",m="100%"):270===g?(v="0%",m="100%"):0!==g&&(g=-g,Gi.setAttrNullNS(r,"gradientTransform","rotate("+Gi.roundDecimal(g)+" .5 .5)"),y=!1);else{Gi.setAttrNullNS(r,"gradientUnits","userSpaceOnUse"),f="0",_="0.5",v="1",m="0.5";var S=l[2],E=l[3],T=l[0],b=l[1];g=-g;var C="rotate("+Gi.roundDecimal(g)+" .5 .5)",A="scale("+Gi.roundDecimal(S)+" "+Gi.roundDecimal(E)+")",D="translate("+Gi.roundDecimal(T)+" "+Gi.roundDecimal(b)+")",I=A+" "+C;0==T&&0==b||(I=D+" "+I),Gi.setAttrNullNS(r,"gradientTransform",I)}y&&(Gi.setAttrNullNS(r,"x1",f),Gi.setAttrNullNS(r,"y1",_),Gi.setAttrNullNS(r,"x2",v),Gi.setAttrNullNS(r,"y2",m))}else d||(Gi.setAttrNullNS(r,"gradientUnits","userSpaceOnUse"),Gi.setAttrNullNS(r,"cx",t.getCx()),Gi.setAttrNullNS(r,"cy",t.getCy()),Gi.setAttrNullNS(r,"fx",t.getCx()),Gi.setAttrNullNS(r,"fy",t.getCy()),Gi.setAttrNullNS(r,"r",t.getRadius()));return r};var qi=function(){};e.createSubclass(qi,e,"DvtSvgImageFillUtils"),qi.createElem=function(t,e){var i=Jt.createElement("pattern",e),n=Jt.createElement("image",e),r=t.getSrc(),o=t.getBound();t.getRepeat();return o&&(Gi.setAttrNullNS(i,"x",o.x),Gi.setAttrNullNS(i,"y",o.y),Gi.setAttrNullNS(n,"x",o.x),Gi.setAttrNullNS(n,"y",o.y),Gi.setAttrNullNS(i,"width",o.w),Gi.setAttrNullNS(i,"height",o.h),Gi.setAttrNullNS(n,"width",o.w),Gi.setAttrNullNS(n,"height",o.h),Gi.setAttrNullNS(i,"patternUnits","userSpaceOnUse"),r&&Gi.setAttrNS(n,ae.XLINK_NS,"xlink:href",r)),Gi.appendChildElem(i,n),i};var Zi=function(){};e.createSubclass(Zi,e,"DvtSvgPatternFillUtils"),Zi._SM_WIDTH=8,Zi._SM_HEIGHT=8,Zi._LG_WIDTH=16,Zi._LG_HEIGHT=16,Zi.createElem=function(t,e){var i,n,r=Jt.createElement("pattern",e),o=t.getPattern(),s=Zi.IsSmallPattern(o);s?(i=Zi._SM_WIDTH,n=Zi._SM_HEIGHT):(i=Zi._LG_WIDTH,n=Zi._LG_HEIGHT),Gi.setAttrNullNS(r,"x",0),Gi.setAttrNullNS(r,"y",0),Gi.setAttrNullNS(r,"width",i),Gi.setAttrNullNS(r,"height",n),Gi.setAttrNullNS(r,"patternUnits","userSpaceOnUse");var a=t.getMatrix();if(a){var l="matrix("+a.getA()+","+a.getC()+","+a.getB()+","+a.getD()+","+a.getTx()+","+a.getTy()+")";Gi.setAttrNullNS(r,"patternTransform",l)}return Zi.CreatePatternElems(t,r),r},Zi.IsSmallPattern=function(t){return"s"===t.charAt(0)},Zi.CreatePatternElems=function(t,e){var i,n,r,o,s,a,l,u=t.getPattern(),h=t.getColor(),c=X.getRGB(h),p=X.getAlpha(h),d=t.getBackgroundColor(),g=X.getRGB(d),f=X.getAlpha(d),_=Zi.IsSmallPattern(u);_?(i=Zi._SM_WIDTH,n=Zi._SM_HEIGHT,r=Zi._SM_WIDTH,o=Zi._SM_HEIGHT):(i=Zi._LG_WIDTH,n=Zi._LG_HEIGHT,r=Zi._LG_WIDTH,o=Zi._LG_HEIGHT),g&&f>0&&(l=Jt.createElement("rect"),Gi.setAttrNullNS(l,"stroke",g),Gi.setAttrNullNS(l,"stroke-opacity",f),Gi.setAttrNullNS(l,"stroke-width",1),Gi.setAttrNullNS(l,"fill",g),Gi.setAttrNullNS(l,"fill-opacity",f),Gi.setAttrNullNS(l,"x",0),Gi.setAttrNullNS(l,"y",0),Gi.setAttrNullNS(l,"width",i),Gi.setAttrNullNS(l,"height",n),Gi.appendChildElem(e,l)),u===at.SM_DIAG_UP_LT||u===at.LG_DIAG_UP_LT?(l=Jt.createElement("path"),Gi.setAttrNullNS(l,"stroke",c),Gi.setAttrNullNS(l,"stroke-opacity",p),Gi.setAttrNullNS(l,"stroke-width",1),Gi.setAttrNullNS(l,"stroke-linecap","square"),Gi.setAttrNullNS(l,"d",Wt.moveTo(0,-o/2)+Wt.lineTo(3*r/2,o)+Wt.moveTo(-r/2,0)+Wt.lineTo(r/2,o)),Gi.appendChildElem(e,l)):u===at.SM_DIAG_UP_RT||u===at.LG_DIAG_UP_RT?(l=Jt.createElement("path"),Gi.setAttrNullNS(l,"stroke",c),Gi.setAttrNullNS(l,"stroke-opacity",p),Gi.setAttrNullNS(l,"stroke-width",1),Gi.setAttrNullNS(l,"stroke-linecap","square"),Gi.setAttrNullNS(l,"d",Wt.moveTo(-r/2,o)+Wt.lineTo(r,-o/2)+Wt.moveTo(0,3*o/2)+Wt.lineTo(3*r/2,0)),Gi.appendChildElem(e,l)):u===at.SM_CROSSHATCH||u===at.LG_CROSSHATCH?(l=Jt.createElement("path"),Gi.setAttrNullNS(l,"stroke",c),Gi.setAttrNullNS(l,"stroke-opacity",p),Gi.setAttrNullNS(l,"stroke-width",1),Gi.setAttrNullNS(l,"d","M0,0L"+i+","+n+"M"+i+",0L0,"+n),Gi.appendChildElem(e,l)):u===at.SM_CHECK||u===at.LG_CHECK?(s=r/2,a=o/2,l=Jt.createElement("path"),Gi.setAttrNullNS(l,"stroke",c),Gi.setAttrNullNS(l,"stroke-opacity",p),Gi.setAttrNullNS(l,"stroke-width",1),Gi.setAttrNullNS(l,"fill",c),Gi.setAttrNullNS(l,"fill-opacity",p),Gi.setAttrNullNS(l,"d","M"+s+",0L"+r+",0L"+r+","+a+"L"+s+","+a+"ZM0,"+a+"L"+s+","+a+"L"+s+","+o+"L0,"+o+"Z"),Gi.appendChildElem(e,l)):u===at.SM_TRIANGLE_CHECK||u===at.LG_TRIANGLE_CHECK?(l=Jt.createElement("polygon"),Gi.setAttrNullNS(l,"stroke",c),Gi.setAttrNullNS(l,"stroke-opacity",p),Gi.setAttrNullNS(l,"stroke-width",1),Gi.setAttrNullNS(l,"fill",c),Gi.setAttrNullNS(l,"fill-opacity",p),Gi.setAttrNullNS(l,"points","0,"+n+" "+i+",0 "+i+","+n),Gi.appendChildElem(e,l)):u!==at.SM_DIAMOND_CHECK&&u!==at.LG_DIAMOND_CHECK||(s=r/2,a=o/2,l=Jt.createElement("polygon"),Gi.setAttrNullNS(l,"stroke",c),Gi.setAttrNullNS(l,"stroke-opacity",p),Gi.setAttrNullNS(l,"stroke-width",1),Gi.setAttrNullNS(l,"fill",c),Gi.setAttrNullNS(l,"fill-opacity",p),Gi.setAttrNullNS(l,"points","0,"+a+" "+s+",0 "+i+","+s+" "+s+","+n),Gi.appendChildElem(e,l))};var $i=function(){};return e.createSubclass($i,e,"DvtSvgShadowUtils"),$i.RADS_PER_DEGREE=Math.PI/180,$i.createFilter=function(t,e){var i;if(!t.isLocked()){var n=new Ki;i=Jt.createElement("filter",t._Id),$i.createFilterPrimitives(i,t,e,n);var r=Jt.createElement("feMerge"),o=Jt.createElement("feMergeNode");Gi.setAttrNullNS(o,"in",n.getResultIdsUnder()[0]);var s=Jt.createElement("feMergeNode");Gi.setAttrNullNS(s,"in","SourceGraphic"),Gi.appendChildElem(i,r),Gi.appendChildElem(r,o),Gi.appendChildElem(r,s)}return i},$i.createFilterPrimitives=function(t,e,i,n){e._bInner?$i.CreateInnerFilterPrimitives(t,e,i,n):$i.CreateOuterFilterPrimitives(t,e,i,n)},$i.CreateOuterFilterPrimitives=function(t,e,i,n){var r=e._rgba,o=X.getRed(r)/255,s=X.getGreen(r)/255,a=X.getBlue(r)/255,l=X.getAlpha(r),u=e._strength,h=e._blurX,c=e._blurY,p=0,d=0;e._blurX>0&&(p=Math.max(e._blurX/3,1)),e._blurY>0&&(d=Math.max(e._blurY/3,1));var g=e._distance,f=e._angle,_=f*$i.RADS_PER_DEGREE,v=Math.cos(_)*g,m=Math.sin(_)*g,y=i.getDimensions(i.getParent());if(y){var S=Math.abs(g),E=2*h,T=2*h,b=2*c,C=2*c;g>0?(E-=S,b-=S,T+=S,C+=S):0>g&&(E+=S,b+=S,T-=S,C-=S),0>E&&(E=0),0>b&&(b=0),0>T&&(T=0),0>C&&(C=0);var A=E/y.w*100,D=T/y.w*100,I=b/y.h*100,x=C/y.h*100;n.getRegionPctRect().x>-A&&(n.getRegionPctRect().x=-A),n.getRegionPctRect().y>-I&&(n.getRegionPctRect().y=-I),n.getRegionPctRect().w<100+A+D&&(n.getRegionPctRect().w=100+A+D),n.getRegionPctRect().h<100+I+x&&(n.getRegionPctRect().h=100+I+x)}if(i instanceof fe){var O=i.getStroke().getWidth();O>1&&(n.getRegionPctRect().h=n.getRegionPctRect().h+O,n.getRegionPctRect().y=n.getRegionPctRect().y-O)}var M=Jt.createElement("feColorMatrix");Gi.setAttrNullNS(M,"in","SourceGraphic"),Gi.setAttrNullNS(M,"type","matrix"),Gi.setAttrNullNS(M,"values","0 0 0 "+o+" 0 0 0 0 "+s+" 0 0 0 0 "+a+" 0 0 0 0 "+l*u+" 0");var R=Jt.createElement("feGaussianBlur"),w=p;p!==d&&(w+=" "+d),Gi.setAttrNullNS(R,"stdDeviation",w);var P=n.createResultId("blur");Gi.setAttrNullNS(R,"result",P);var L=Jt.createElement("feOffset");Gi.setAttrNullNS(L,"dx",v),Gi.setAttrNullNS(L,"dy",m),Gi.setAttrNullNS(L,"in",P);var N=n.createResultId("offset");Gi.setAttrNullNS(L,"result",N),n.getResultIdsUnder().push(N),Gi.appendChildElem(t,M),Gi.appendChildElem(t,R),Gi.appendChildElem(t,L)},$i.CreateInnerFilterPrimitives=function(t,e,i,n){var r=e._rgba,o=X.getRed(r)/255,s=X.getGreen(r)/255,a=X.getBlue(r)/255,l=X.makeRGB(o,s,a),u=X.getAlpha(r),h=(e._blurX,e._blurY,Math.max(e._blurX/2,1)),c=Math.max(e._blurY/2,1),p=e._distance,d=e._angle,g=e._strength,f=d*$i.RADS_PER_DEGREE,_=Math.cos(f)*p,v=Math.sin(f)*p,m=Jt.createElement("feFlood");Gi.setAttrNullNS(m,"in","SourceGraphic"),Gi.setAttrNullNS(m,"flood-opacity",u),Gi.setAttrNullNS(m,"flood-color",l);var y=n.createResultId("flood");Gi.setAttrNullNS(m,"result",y);var S=Jt.createElement("feComposite");Gi.setAttrNullNS(S,"operator","out"),Gi.setAttrNullNS(S,"in",y),Gi.setAttrNullNS(S,"in2","SourceGraphic");var E=Jt.createElement("feGaussianBlur"),T=h;h!==c&&(T+=" "+c),Gi.setAttrNullNS(E,"stdDeviation",T);var b=n.createResultId("blur");Gi.setAttrNullNS(E,"result",b);var C=Jt.createElement("feColorMatrix");Gi.setAttrNullNS(C,"in",b),Gi.setAttrNullNS(C,"type","matrix"),Gi.setAttrNullNS(C,"values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 "+g+" 0");var A=n.createResultId("colMat");Gi.setAttrNullNS(C,"result",A);var D=Jt.createElement("feOffset");Gi.setAttrNullNS(D,"dx",_),Gi.setAttrNullNS(D,"dy",v),Gi.setAttrNullNS(D,"in",A);var I=n.createResultId("offset");Gi.setAttrNullNS(D,"result",I);var x=Jt.createElement("feComposite");Gi.setAttrNullNS(x,"operator","in"),Gi.setAttrNullNS(x,"in",I),Gi.setAttrNullNS(x,"in2","SourceGraphic");var O=n.createResultId("comp");Gi.setAttrNullNS(x,"result",O),n.getResultIdsOver().push(O),Gi.appendChildElem(t,m),Gi.appendChildElem(t,S),Gi.appendChildElem(t,E),Gi.appendChildElem(t,C),Gi.appendChildElem(t,D),Gi.appendChildElem(t,x)},t}),define("ojs/ojdvt-base",["ojs/ojcore","jquery","ojs/ojcomponentcore","ojs/ojvalidation","ojs/internal-deps/dvt/DvtToolkit","promise"],function(t,e,i,n,r){t.AttributeGroupHandler=function(t){this.Init(t)},t.Object.createSubclass(t.AttributeGroupHandler,t.Object,"oj.AttributeGroupHandler"),t.AttributeGroupHandler.prototype.Init=function(e){t.AttributeGroupHandler.superclass.Init.call(this),this._matchRules=e?e:{},this._assignments={},this._valueIndex=0,this.Values=this.getValueRamp();for(var i in this._matchRules){var n=this.Values.indexOf(this._matchRules[i]);-1!==n&&this.Values.splice(n,1)}},t.AttributeGroupHandler.prototype.getValueRamp=function(){return[]},t.AttributeGroupHandler.prototype.getValue=function(t){return this._matchRules[t]?this._matchRules[t]:this._assignments[t]?this._assignments[t]:(this._assignments[t]=this.Values[this._valueIndex],this._valueIndex==this.Values.length-1?this._valueIndex=0:this._valueIndex++,this._assignments[t])},t.AttributeGroupHandler.prototype.getCategoryAssignments=function(){var t=[];for(var e in this._assignments)t.push({category:e,value:this._assignments[e]});return t},t.AttributeGroupHandler.prototype.addMatchRule=function(t,e){this._matchRules[t]=e},t.ShapeAttributeGroupHandler=function(t){this.Init(t)},t.Object.createSubclass(t.ShapeAttributeGroupHandler,t.AttributeGroupHandler,"oj.ShapeAttributeGroupHandler"),t.ShapeAttributeGroupHandler._attributeValues=["square","circle","diamond","plus","triangleDown","triangleUp","human"],t.ShapeAttributeGroupHandler.prototype.getValueRamp=function(){return t.ShapeAttributeGroupHandler._attributeValues.slice()};var o=function(t,e){this._path=e,this._root=t,this._delimiter="/"};o.prototype._resolveLeafObjectAndProperty=function(t,e,i,n){for(var r={};t&&e.indexOf(i)>-1;){var o=e.substring(0,e.indexOf(i));n&&void 0===t[o]&&(t[o]={}),t=t[o],e=e.substring(e.indexOf(i)+1,e.length)}return t&&(r.object=t,r.parameter=e),r},o.prototype._resolvePath=function(t){if(void 0===this._leaf){var e=this._resolveLeafObjectAndProperty(this._root,this._path,this._delimiter,t);this._leaf=e.object,this._param=e.parameter}},o.prototype.getValue=function(){return this._resolvePath(!1),void 0===this._leaf?void 0:this._leaf[this._param]},o.prototype.setValue=function(t,e){this._resolvePath(!0),!e&&this._leaf[this._param]||(this._leaf[this._param]=t)};var s={CSS_TEXT_PROPERTIES:function(t){var e={};return t&&(t.hasClass("oj-gaugeMetricLabel")&&t.hasClass(t.parentNode,"oj-ledGauge")?(e["font-size"]=!0,e.color=!0):t.hasClass(t,"oj-chartSliceLabel")?e.color=!0:t.hasClass("oj-treemap-node-header")&&(e["font-weight"]=!0)),s._buildTextCssPropertiesObject(t,e)},CSS_BACKGROUND_PROPERTIES:function(t,e,i,n){return s._buildCssBackgroundPropertiesObject(t)},CSS_URL:function(t){return s._parseUrl(t)}};s._INHERITED_FONT_COLOR="rgb(254, 0, 254)",s._INHERITED_FONT_FAMILY="Times",s._INHERITED_FONT_SIZE="1px",s._INHERITED_FONT_WEIGHT="1",s._INHERITED_FONT_STYLE="normal",s._FONT_SIZE_BUFFER=4,s._styleCache={},s.defaultStyleProcessor=function(t,e){return t.css(e)},s._parseUrl=function(t){var e=t.css("background-image");return e&&-1!==e.indexOf("url(")?e.slice(e.indexOf("url(")+4,e.length-1).replace(/"/g,""):e},s._buildCssBackgroundPropertiesObject=function(t){var e={};return t.css("border-top-color")&&(e["border-color"]=t.css("border-top-color")),t.css("border-width")&&t.css("border-style")&&"none"!=t.css("border-style")&&(e["border-width"]=t.css("border-width")),t.css("background-color")&&(e["background-color"]=t.css("background-color")),e},s._buildTextCssPropertiesObject=function(t,e){var i={},n=t.css("font-family");return n&&n!==s._INHERITED_FONT_FAMILY&&(i["font-family"]=n.replace(/"/g,"'")),n=t.css("font-size"),!n||n.indexOf("px")>-1&&parseFloat(n)<s._FONT_SIZE_BUFFER||e["font-size"]||(i["font-size"]=n),n=t.css("font-weight"),n&&n!==s._INHERITED_FONT_WEIGHT&&!e["font-weight"]&&(i["font-weight"]=n),n=t.css("color"),n&&n!==s._INHERITED_FONT_COLOR&&!e.color&&(i.color=n),n=t.css("font-style"),n&&n!==s._INHERITED_FONT_STYLE&&(i["font-style"]=n),i},s.processStyles=function(t,i,n,r){var o=e(document.createElement("div"));o.attr("style","display:none;"),t.append(o);for(var a="",l=0;l<n.length;l++)a=a+n[l]+" ";o.attr("class",a),e(document.body).append(o);var u=e(document.createElement("div"));u.css("font-size",s._INHERITED_FONT_SIZE),u.css("color",s._INHERITED_FONT_COLOR),u.css("font-weight",s._INHERITED_FONT_WEIGHT),u.css("font-style",s._INHERITED_FONT_STYLE),o.append(u);for(var h in r){var c=r[h];c instanceof Array||(c=[c]),s._processStyle(u,i,h,c)}o.remove()},s._processStyle=function(t,i,n,r){s._styleCache[n]||(s._styleCache[n]={});for(var a=null,l=0;l<r.length;l++){var u=r[l],h=u.property;if(h){var c=s._styleCache[n][h];if("undefined"==typeof c&&(a||(a=e(document.createElement("div")),a.addClass(n),t.append(a)),c=s._resolveStyle(a,h),s._styleCache[n][h]=c),null!=c){var p=new o(i,u.path),d=s[h];if(null!=d){var g=p.getValue();if("CSS_URL"!==h){var f="";if(null!=g){for(var _ in c)-1===g.indexOf(_)&&(f+=_+":"+c[_]+";");f+=g}else for(var _ in c)f+=_+":"+c[_]+";";c=f}}p.setValue(c,null!=d)}}}},s._resolveStyle=function(t,e){var i=s[e],n=i?i(t):s.defaultStyleProcessor(t,e);return null==n||"string"==typeof n&&""==n.replace(/^\s+/g,"")?null:n},t.__registerWidget("oj.dvtBaseComponent",e.oj.baseComponent,{_ComponentCreate:function(){this._super(),this._renderCount=0,this._numDeferredObjs=0,this._optionsCopy=null,this._referenceDiv=e(document.createElement("div")),this._referenceDiv.attr("style","visibility:hidden;"),this.element.append(this._referenceDiv);var i=this.element[0].parentElement;i&&i._dvtcontext?this._context=i._dvtcontext:this._context=new r.DvtContext(this.element[0],null,this._referenceDiv[0]),this._context.setReadingDirection(this._GetReadingDirection()),this._context.setTooltipAttachedCallback(t.Components.subtreeAttached),this._context.setTooltipStyleClass("oj-dvt-tooltip"),this._context.setDatatipStyleClass("oj-dvt-datatip"),e(document.body).hasClass("oj-hicontrast")&&r.DvtAgent.setHighContrast(!0),this._component=this._CreateDvtComponent(this._context,this._HandleEvent,this),this._context.getStage().addChild(this._component),r.requireJS!==!1&&(this._setLocaleHelpers(),this._processTranslations()),this._LoadResources(),this.options._environment="jet",this.options._widgetConstructor=t.Components.getWidgetConstructor(this.element)},_AfterCreate:function(){this._super(),this.element.attr("tabIndex",0),this._Render(),"off"!=this.options.trackResize&&this._addResizeListener()},refresh:function(){this._super(),this._context.setReadingDirection(this._GetReadingDirection()),this._processTranslations(),this._Render()},getNodeBySubId:function(t){var e=this._component&&this._component.getAutomation?this._component.getAutomation():null;if(e){var i=this._ConvertLocatorToSubId(t);return e.getDomElementForSubId(i)}},getSubIdByNode:function(t){var e=this._component&&this._component.getAutomation?this._component.getAutomation():null;if(e){var i=e.getSubIdForDomElement(t);return i?this._ConvertSubIdToLocator(i):null}},_ConvertLocatorToSubId:function(t){return null},_ConvertSubIdToLocator:function(t){return null},_ProcessStyles:function(){for(var t=this._GetComponentStyleClasses(),e=0;e<t.length;e++)this.element.addClass(t[e]);s.processStyles(this.element,this.options,this._GetComponentStyleClasses(),this._GetChildStyleClasses())},_GetComponentStyleClasses:function(){return["oj-dvtbase"]},_GetChildStyleClasses:function(){var t={};return t["oj-dvt-no-data-message"]={path:"_statusMessageStyle",property:"CSS_TEXT_PROPERTIES"},t},_GetEventTypes:function(){return[]},_GetTranslationMap:function(){var e=this.options.translations,i={"DvtUtilBundle.CLEAR_SELECTION":e.labelClearSelection,"DvtUtilBundle.COLON_SEP_LIST":e.labelAndValue,"DvtUtilBundle.INVALID_DATA":e.labelInvalidData,"DvtUtilBundle.NO_DATA":e.labelNoData,"DvtUtilBundle.DATA_VISUALIZATION":e.labelDataVisualization,"DvtUtilBundle.STATE_SELECTED":e.stateSelected,"DvtUtilBundle.STATE_UNSELECTED":e.stateUnselected,"DvtUtilBundle.STATE_MAXIMIZED":e.stateMaximized,"DvtUtilBundle.STATE_MINIMIZED":e.stateMinimized,"DvtUtilBundle.STATE_EXPANDED":e.stateExpanded,"DvtUtilBundle.STATE_COLLAPSED":e.stateCollapsed,"DvtUtilBundle.STATE_ISOLATED":e.stateIsolated,"DvtUtilBundle.STATE_HIDDEN":e.stateHidden,"DvtUtilBundle.STATE_VISIBLE":e.stateVisible,"DvtUtilBundle.SCALING_SUFFIX_THOUSAND":e.labelScalingSuffixThousand,"DvtUtilBundle.SCALING_SUFFIX_MILLION":e.labelScalingSuffixMillion,"DvtUtilBundle.SCALING_SUFFIX_BILLION":e.labelScalingSuffixBillion,"DvtUtilBundle.SCALING_SUFFIX_TRILLION":e.labelScalingSuffixTrillion,"DvtUtilBundle.SCALING_SUFFIX_QUADRILLION":e.labelScalingSuffixQuadrillion},n=t.LocaleData.getMonthNames("abbreviated");return i["DvtUtilBundle.MONTH_SHORT_JANUARY"]=n[0],i["DvtUtilBundle.MONTH_SHORT_FEBRUARY"]=n[1],i["DvtUtilBundle.MONTH_SHORT_MARCH"]=n[2],i["DvtUtilBundle.MONTH_SHORT_APRIL"]=n[3],i["DvtUtilBundle.MONTH_SHORT_MAY"]=n[4],i["DvtUtilBundle.MONTH_SHORT_JUNE"]=n[5],i["DvtUtilBundle.MONTH_SHORT_JULY"]=n[6],i["DvtUtilBundle.MONTH_SHORT_AUGUST"]=n[7],i["DvtUtilBundle.MONTH_SHORT_SEPTEMBER"]=n[8],i["DvtUtilBundle.MONTH_SHORT_OCTOBER"]=n[9],i["DvtUtilBundle.MONTH_SHORT_NOVEMBER"]=n[10],i["DvtUtilBundle.MONTH_SHORT_DECEMBER"]=n[11],i},_processTranslations:function(){var t=this._GetTranslationMap();r.DvtBundle.addLocalizedStrings(t)},_setLocaleHelpers:function(){var e={};e.numberConverterFactory=t.Validation.getDefaultConverterFactory("number"),e.dateToIsoConverter=function(e){return e instanceof Date?t.IntlConverterUtils.dateToLocalIso(e):e},e.isoToDateConverter=function(e){return"string"==typeof e?t.IntlConverterUtils.isoToLocalDate(e):e},this._context.setLocaleHelpers(e)},_destroy:function(){this._context.hideTooltips(),this._component.destroy&&this._component.destroy(),this._removeResizeListener(),this.element.children().remove(),this.element.removeAttr("role").removeAttr("tabIndex");for(var t=this._GetComponentStyleClasses(),e=0;e<t.length;e++)this.element.removeClass(t[e]);this._super()},_setOptions:function(t,i){this._superApply(arguments);var n=this.options.trackResize;if("off"==n&&this._resizeListener?this._removeResizeListener():"off"==n||this._resizeListener||this._addResizeListener(),!this._bUserDrivenChange){var r=!1,o=this._GetEventTypes(),s=["highlightedCategories","selection","dataCursorPosition"];e.each(t,function(t,e){return o.indexOf(t)<0&&s.indexOf(t)<0?(r=!0,!1):void 0}),r?this._Render():(void 0!==t.highlightedCategories&&this._component.highlight(t.highlightedCategories),void 0!==t.selection&&this._component.select(t.selection),void 0!==t.dataCursorPosition&&this._component.positionDataCursor&&this._component.positionDataCursor(t.dataCursorPosition))}},_CreateDvtComponent:function(t,e,i){return null},_HandleEvent:function(t){var i=t&&t.getType?t.getType():null;i===r.DvtCategoryHideShowEvent.TYPE_HIDE||i===r.DvtCategoryHideShowEvent.TYPE_SHOW?this._UserOptionChange("hiddenCategories",t.hiddenCategories):i===r.DvtCategoryRolloverEvent.TYPE_OVER||i===r.DvtCategoryRolloverEvent.TYPE_OUT?this._UserOptionChange("highlightedCategories",t.categories):i===r.DvtOptionChangeEvent.TYPE?this._UserOptionChange(t.key,t.value,t.optionMetadata):this.options.contextMenu&&i===r.DvtComponentTouchEvent.TOUCH_HOVER_END_TYPE?this._OpenContextMenu(e.Event(t.getNativeEvent()),"touch"):"ready"===i&&0===this._numDeferredObjs&&(this._promiseResolve&&this._promiseResolve(!0),this._ready=!0,this._promiseResolve=null,this._promise=null)},_addResizeListener:function(){this._resizeListener||(this._resizeListener=this._handleResize.bind(this),t.DomUtils.addResizeListener(this.element[0],this._resizeListener,250))},_removeResizeListener:function(){this._resizeListener&&(t.DomUtils.removeResizeListener(this.element[0],this._resizeListener),this._resizeListener=null)},_handleResize:function(t,e){var i=this.element.width(),n=this.element.height();(null==this._width||null==this._height||Math.abs(i-this._width)+Math.abs(n-this._height)>=5)&&this._Render(!0)},_LoadResources:function(){},_Render:function(e){if(this._ready=!1,this._context.isReadyToRender()){if(this._width=this._IsFlowingLayoutSupported()?null:this.element.width(),this._height=this._IsFlowingLayoutSupported()?null:this.element.height(),this.options._width=this._width,this.options._height=this._height,this.options._locale=t.Config.getLocale(),this._ProcessStyles(),this._renderCount++,e)this._optionsCopy||this._renderComponent(null);else{var i=this._resolveDeferredData();0===i.length&&this._renderComponent(this.options)}this._renderNeeded=!1}else this._renderNeeded=!0},_NotifyShown:function(){this._super(),this._renderNeeded&&this._Render()},_NotifyAttached:function(){this._super(),this._renderNeeded&&this._Render()},_NotifyDetached:function(){this._super(),this._context.hideTooltips()},_NotifyHidden:function(){this._super(),this._context.hideTooltips()},_UserOptionChange:function(t,e,i){this._bUserDrivenChange=!0,this.option(t,e,{_context:{writeback:!0,optionMetadata:i,internalSet:!0}}),this._bUserDrivenChange=!1},_NotifyContextMenuGesture:function(t,e,i){"touch"!==i&&("keyboard"===i?this._OpenContextMenu(e,i,{position:{of:this._component.getKeyboardFocus()}}):this._super(t,e,i))},_GetDvtComponent:function(e){var i=t.Components.getWidgetConstructor(e)("instance");return i?i._component:null},_AddAutomationGetters:function(t){if(t){var e={};for(var i in t)this._addGetter(t,i,e);Object.defineProperties(t,e)}},_addGetter:function(t,e,i){var n="selected"==e?"is":"get",r=n+e.charAt(0).toUpperCase()+e.slice(1);i[r]={value:function(){return t[e]}}},_GetStringFromIndexPath:function(t){for(var e="",i=0;i<t.length;i++)e+="["+t[i]+"]";return e},_GetIndexPath:function(t){for(var e=[],i=0;t.indexOf("[",i)>0;){var n=t.indexOf("[",i)+1,r=t.indexOf("]",i);e.push(Number(t.substring(n,r))),i=r+1}return e},_GetFirstIndex:function(t){return Number(this._GetFirstBracketedString(t))},_GetFirstBracketedString:function(t){var e=t.indexOf("[")+1,i=t.indexOf("]");return t.substring(e,i)},_GetComponentDeferredDataPaths:function(){return{}},_resolveDeferredData:function(){this._optionsCopy=null;var t=this._GetComponentDeferredDataPaths();for(var e in t)for(var i=t[e],n=0;n<i.length;n++)if("root"===e){if(this._copyOptions(this.options,i[n]))break}else{var r=this.options[e];if(r)for(var o=0;o<r.length&&!this._copyOptions(r[o],i[n]);o++);}var s=[];if(this._numDeferredObjs=0,this._optionsCopy){var a=this;for(var e in t){var i=t[e];i.forEach(function(t){var i;if("root"===e)i=a._getPromise(a._optionsCopy,t),i&&s.push(i);else{var n=a._optionsCopy[e];if(n)for(var r=0;r<n.length;r++)i=a._getPromise(n[r],t),i&&s.push(i)}})}}return s},_copyOptions:function(t,e){if(!this._optionsCopy){var i=new o(t,e).getValue();i&&(i instanceof Function||i instanceof Promise)&&(this._optionsCopy=r.DvtJSONUtils.clone(this.options))}return null!==this._optionsCopy},_getPromise:function(t,e){var i=new o(t,e),n=i.getValue();if(n instanceof Function&&(n=Promise.resolve(n(this._GetDataContext(t)))),n&&n instanceof Promise){this._numDeferredObjs++;var r=this._renderCount,s=this;return n.then(function(t){s._renderDeferredData(r,i,t)},function(t){s._renderDeferredData(r,i,[])}),n}return null},_renderDeferredData:function(t,e,i){t===this._renderCount&&(this._numDeferredObjs--,e.setValue(i,!0),0===this._numDeferredObjs&&(this._renderComponent(this._optionsCopy),this._optionsCopy=null))},_renderComponent:function(t){var e=this._IsFlowingLayoutSupported()&&this._resizeListener;e&&this._removeResizeListener(),this._component.render(t,this._width,this._height),e&&this._addResizeListener()},_GetDataContext:function(t){return{}},_IsFlowingLayoutSupported:function(){return!1},whenReady:function(){if(this._ready)return Promise.resolve(!0);if(!this._promise){var t=this;this._promise=new Promise(function(e){t._promiseResolve=e})}return this._promise}},!0),t.ColorAttributeGroupHandler=function(i){if(this._attributeValues=[],e(document.body).hasClass("oj-hicontrast"))this._attributeValues=t.ColorAttributeGroupHandler._DEFAULT_COLORS.slice();else{if(!t.ColorAttributeGroupHandler._colors){t.ColorAttributeGroupHandler._colors=[];var n=e(document.createElement("div"));n.attr("style","display:none;"),n.attr("id","attrGps"),e(document.body).append(n);for(var r=0;r<t.ColorAttributeGroupHandler._STYLE_CLASSES.length;r++){var o=e(document.createElement("div"));o.addClass(t.ColorAttributeGroupHandler._STYLE_CLASSES[r]),n.append(o);var s=o.css("color");s&&t.ColorAttributeGroupHandler._colors.push(s)}n.remove()}t.ColorAttributeGroupHandler._colors.length>0?this._attributeValues=t.ColorAttributeGroupHandler._colors.slice():this._attributeValues=t.ColorAttributeGroupHandler._DEFAULT_COLORS.slice()}this.Init(i)},t.Object.createSubclass(t.ColorAttributeGroupHandler,t.AttributeGroupHandler,"oj.ColorAttributeGroupHandler"),t.ColorAttributeGroupHandler._DEFAULT_COLORS=["#267db3","#68c182","#fad55c","#ed6647","#8561c8","#6ddbdb","#ffb54d","#e371b2","#47bdef","#a2bf39","#a75dba","#f7f37b"],t.ColorAttributeGroupHandler._STYLE_CLASSES=["oj-dvt-category1","oj-dvt-category2","oj-dvt-category3","oj-dvt-category4","oj-dvt-category5","oj-dvt-category6","oj-dvt-category7","oj-dvt-category8","oj-dvt-category9","oj-dvt-category10","oj-dvt-category11","oj-dvt-category12"],t.ColorAttributeGroupHandler._colors=null,t.ColorAttributeGroupHandler.prototype.getValueRamp=function(){return this._attributeValues.slice()}}),define("ojs/internal-deps/dvt/DvtAxis",["./DvtToolkit"],function(t){var e=t,i=function(){};DvtObj.createSubclass(i,DvtBaseComponent,"DvtAxis"),i.newInstance=function(t,e,n){var r=new i;return r.Init(t,e,n),r},i.getDefaults=function(t){return(new s).getDefaults(t)},i.prototype.Init=function(t,e,n){i.superclass.Init.call(this,t,e,n),this.Defaults=new s,this._eventManager=new a(this),this._eventManager.addListeners(this),DvtAgent.isTouchDevice()||this._eventManager.setKeyboardHandler(new l(this._eventManager,this)),this._bounds=null},i.MINIMUM_AXIS_BUFFER=10,i.prototype.SetOptions=function(t){t?this.Options="off"==t.rendered?t:this.Defaults.calcOptions(t):this.Options||(this.Options=this.GetDefaults())},i.prototype.getPreferredSize=function(t,e,i){return this.SetOptions(t),u.getPreferredSize(this,e,i)},i.prototype.render=function(t,e,i,n,r){this.SetOptions(t),this._navigablePeers=[],this.Width=e,this.Height=i,this.removeChildren(),n||(n=0),r||(r=0);var o=new DvtRectangle(n,r,e,i);u.render(this,o)},i.prototype.__registerObject=function(t){(null!=t.getDatatip()||null!=t.getAction()||t.isDrillable())&&this._navigablePeers.push(t)},i.prototype.__getKeyboardObjects=function(){return this._navigablePeers},i.prototype.isNavigable=function(){return this._navigablePeers.length>0},i.prototype.getKeyboardFocus=function(){return null!=this._eventManager?this._eventManager.getFocus():null},i.prototype.setKeyboardFocus=function(t,e){if(null!=this._eventManager){for(var i=this.__getKeyboardObjects(),n=t.getId(),r=!1,o=0;o<i.length;o++){var s=i[o].getId();if(n instanceof Array&&s instanceof Array&&DvtArrayUtils.equals(n,s)||n===s){this._eventManager.setFocusObj(i[o]),r=!0,e&&i[o].showKeyboardFocusEffect();break}}r||this._eventManager.setFocusObj(this._eventManager.getKeyboardHandler().getDefaultNavigable(i));var a=this.getKeyboardFocus();if(a){var l=a.getDisplayable();l.setAriaProperty("label",a.getAriaLabel()),this.getCtx().setActiveElement(l)}}},i.prototype.processEvent=function(t,e){this===e&&this.dispatchEvent(t)},i.prototype.getEventManager=function(){return this._eventManager},i.prototype.getInfo=function(){return this.Info},i.prototype.__setInfo=function(t){this.Info=t},i.prototype.getWidth=function(){return this.Width},i.prototype.getHeight=function(){return this.Height},i.prototype.destroy=function(){this._eventManager&&(this._eventManager.removeListeners(this),this._eventManager.destroy(),this._eventManager=null),i.superclass.destroy.call(this)},i.prototype.__setBounds=function(t){this._bounds=t},i.prototype.__getBounds=function(){return this._bounds},i.prototype.getAutomation=function(){return new o(this)};var n={};DvtObj.createSubclass(n,DvtObj,"DvtAxisConstants"),n.TICK_LABEL="tickLabel",n.TITLE="title";var r=function(){};DvtObj.createSubclass(r,DvtObj,"DvtAbstractAxisValueFormatter"),r.prototype.format=function(t){};var o=function(t){this._axis=t,this._options=this._axis.getOptions(),this._axisInfo=this._axis.getInfo()};DvtObj.createSubclass(o,DvtAutomation,"DvtAxisAutomation"),o.prototype.GetSubIdForDomElement=function(t){var e=this._axis.getEventManager().GetLogicalObject(t);if(e&&e instanceof DvtSimpleObjPeer){if(e.getParams().type==n.TITLE)return"title";if(this._options.groups){for(var i=e.getParams().level,r=this._axisInfo.getStartIndex(e.getParams().index,i),o="",s=0;i>=s;s++)for(var a=this._axisInfo.getLabels(this._axis.getCtx(),s),l=0;l<a.length;l++){var u=this._axisInfo.getLabelIndex(a[l]);this._axisInfo.getStartIndex(u,s)<=r&&this._axisInfo.getEndIndex(u,s)>=r&&(o+="["+this._axisInfo.getPosition(u,s)+"]")}if(o.length>0)return"item"+o}}return null},o.prototype.getDomElementForSubId=function(t){if("title"==t){var e=this._axisInfo.getTitle();if(e)return e.getElem()}else if(this._axisInfo instanceof p)for(var i=t.split("[").length-1,n=i-1,r=0,o=0,s=0;n>=s;s++){var a=t.indexOf("["),l=t.indexOf("]"),u=t.substring(a+1,l);t=t.substring(l+1);for(var h,c=this._axisInfo.getLabels(this._axis.getCtx(),s),d=0;d<c.length;d++)if(h=this._axisInfo.getLabelIndex(c[d]),this._axisInfo.getStartIndex(h,s)==o){r=h;break}for(var g=r;g<c.length;g++)if(h=this._axisInfo.getLabelIndex(c[g]),this._axisInfo.getPosition(h,s)==u){if(0==t.length)return c[g].getElem();o=this._axisInfo.getStartIndex(h,s);break}}return null};var s=function(){this.Init({skyros:s.VERSION_1,alta:s.SKIN_ALTA,next:s.SKIN_NEXT})};DvtObj.createSubclass(s,DvtBaseComponentDefaults,"DvtAxisDefaults"),s.SKIN_NEXT={skin:DvtCSSStyle.SKIN_NEXT,layout:{titleGap:6}},s.SKIN_ALTA={axisLine:{lineColor:"#9E9E9E"},majorTick:{lineColor:"rgba(196,206,215,0.4)",baselineColor:"auto"},minorTick:{lineColor:"rgba(196,206,215,0.2)"},tickLabel:{style:new DvtCSSStyle("font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; white-space:normal;")},titleStyle:new DvtCSSStyle("font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 12px;")},s.VERSION_1={position:null,baselineScaling:"zero",axisLine:{lineColor:"#8A8DAC",lineWidth:1,rendered:"on"},majorTick:{lineColor:"rgba(138,141,172,0.4)",lineWidth:1,rendered:"auto",lineStyle:"solid"},minorTick:{lineColor:"rgba(138,141,172,0.20)",lineWidth:1,rendered:"off",lineStyle:"solid"},tickLabel:{scaling:"auto",style:new DvtCSSStyle("font-family: tahoma, sans-serif; font-size: 11px; color: #333333;"),rotation:"auto",rendered:"on"},titleStyle:new DvtCSSStyle("font-family: tahoma, sans-serif; font-size: 11px; color: #737373;"),startGroupOffset:0,endGroupOffset:0,layout:{titleGap:4,radialLabelGap:5,insideLabelGapWidth:4,insideLabelGapHeight:2,hierarchicalLabelGapHeight:8,hierarchicalLabelGapWidth:15},_locale:"en-us"},s.getGapSize=function(t,e,i){var n=Math.min(DvtTextUtils.getTextStringHeight(t,e.tickLabel.style)/14,1);return Math.ceil(i*n);
};var a=function(t){this.Init(t.getCtx(),t.processEvent,t),this._axis=t};DvtObj.createSubclass(a,DvtEventManager,"DvtAxisEventManager"),a.getUIParams=function(t,e,i,n){return{type:t,id:e,index:i,level:n}},a.prototype.OnClick=function(t){a.superclass.OnClick.call(this,t);var e=this.GetLogicalObject(t.target);if(e){var i=this.processActionEvent(e);i&&t.stopPropagation()}},a.prototype.HandleTouchClickInternal=function(t){var e=this.GetLogicalObject(t.target);if(e){var i=t.touchEvent,n=this.processActionEvent(e);n&&i&&i.preventDefault()}},a.prototype.processActionEvent=function(t){return t&&t.getAction&&t.getAction()?(this.FireEvent(new DvtActionEvent(DvtActionEvent.SUBTYPE_ACTION,t.getAction(),t.getId()),this._axis),!0):t instanceof d&&t.isDrillable()?(this.FireEvent(new DvtDrillEvent(t.getId(),null,t.getGroup()),this._axis),!0):!1};var l=function(t,e){this.Init(t,e)};DvtObj.createSubclass(l,DvtKeyboardHandler,"DvtAxisKeyboardHandler"),l.prototype.Init=function(t,e){l.superclass.Init.call(this,t),this._axis=e},l.prototype.processKeyDown=function(t){var e=t.keyCode,i=this._eventManager.getFocus(),n=null;if(e==DvtKeyboardEvent.TAB){i&&(DvtEventManager.consumeEvent(t),n=i);var r=this._axis.__getKeyboardObjects();r.length>0&&(DvtEventManager.consumeEvent(t),n=this.getDefaultNavigable(r))}else e==DvtKeyboardEvent.ENTER?i&&(this._eventManager.processActionEvent(i),DvtEventManager.consumeEvent(t)):n=l.superclass.processKeyDown.call(this,t);return n};var u=new Object;DvtObj.createSubclass(u,DvtObj,"DvtAxisRenderer"),u.getPreferredSize=function(t,e,i){var n=u._createAxisInfo(t,new DvtRectangle(0,0,e,i)),r=t.getCtx(),o=t.getOptions(),s=0,a="top"==o.position||"bottom"==o.position;if("off"==o.rendered||0>=e||0>=i)return a?new DvtDimension(e,0):new DvtDimension(0,i);if(o.title&&(s=DvtTextUtils.getTextStringHeight(r,o.titleStyle)+u._getTitleGap(t)),"on"==o.tickLabel.rendered&&"inside"!=o.tickLabel.position)if(a){var l=DvtTextUtils.getTextStringHeight(r,o.tickLabel.style);n instanceof c?s+=l:n instanceof f?s+=null!=n.getLabels(r,1)?2*l:l:n instanceof p&&(s=u._getGroupAxisPreferredSize(t,n,s,i,a))}else if(n instanceof c)s+=DvtTextUtils.getMaxTextDimensions(n.getLabels(r)).w;else if(n instanceof f){var h=n.getLabels(r),d=DvtTextUtils.getMaxTextDimensions(h).w,g=n.getLabels(r,1),_=null!=g?DvtTextUtils.getMaxTextDimensions(g).w:0;s+=Math.max(d,_)}else n instanceof p&&(s=u._getGroupAxisPreferredSize(t,n,s,e,a));return a?new DvtDimension(e,Math.min(s,i)):new DvtDimension(Math.min(s,e),i)},u.render=function(t,e){var i=u._createAxisInfo(t,e),n=t.getOptions();"off"!=n.rendered&&(t.__setBounds(e.clone()),u._renderTitle(t,i,e),u._renderLabels(t,i,e))},u._createAxisInfo=function(t,e){var i=h.newInstance(t.getCtx(),t.getOptions(),e);return t.__setInfo(i),i},u._getTitleGap=function(t){var e=t.getOptions();return s.getGapSize(t.getCtx(),e,e.layout.titleGap)},u._renderTitle=function(t,e,i){var r=t.getOptions();if(r.title){var o=r.position;if("radial"!=o&&"tangential"!=o){var s="top"==r.position||"bottom"==r.position,l=s?i.w:i.h,h=s?i.h:i.w,c=u._createText(t.getEventManager(),t,r.title,r.titleStyle,0,0,l,h,a.getUIParams(n.TITLE));if(c){var p=u._getTitleGap(t),d=(e.getStartOverflow()-e.getEndOverflow())/2,g=DvtAgent.isRightToLeft(t.getCtx()),f=DvtTextUtils.getTextHeight(c);c.alignCenter(),"top"==o?(c.setX(i.x+d+i.w/2),c.setY(i.y),i.y+=f+p,i.h-=f+p):"bottom"==o?(c.setX(i.x+d+i.w/2),c.setY(i.y+i.h-f),i.h-=f+p):"left"==o?(c.alignMiddle(),c.setRotation(g?Math.PI/2:3*Math.PI/2),c.setTranslate(i.x+f/2,i.y+i.h/2),i.x+=f+p,i.w-=f+p):"right"==o&&(c.alignMiddle(),c.setRotation(g?Math.PI/2:3*Math.PI/2),c.setTranslate(i.x+i.w-f/2,i.y+i.h/2),i.w-=f+p),e.setTitle(c)}}}},u._renderLabels=function(t,e,i){var n=t.getOptions();if("on"==n.tickLabel.rendered){var r=n.position;"top"==r||"bottom"==r?u._renderLabelsHoriz(t,e,i):"tangential"==r?u._renderLabelsTangent(t,e,i):u._renderLabelsVert(t,e,i),u._renderGroupSeparators(t,e,i)}},u._renderLabelsHoriz=function(t,e,i){var r=t.getCtx(),o=t.getOptions(),l=o.position,u="inside"==o.tickLabel.position,h=DvtAgent.isRightToLeft(r),c=e instanceof p,g=c&&e.getNumLevels()>1,_=g?0:null,v=e.getLabels(r,_);for(C=g?s.getGapSize(r,o,o.layout.hierarchicalLabelGapHeight):0;v;){for(var m=0,y=0,S=0;S<v.length;S++){var E=v[S];if(null!=E){var T=E instanceof DvtMultilineText||E instanceof DvtBackgroundMultilineText;if(e.isLabelRotated(_)){var b=!T||T&&!E.isWrapEnabled();if(b&&!DvtTextUtils.fitText(E,i.h,i.w,t))continue;h?E.alignLeft():E.alignRight(),g?(m=DvtTextUtils.getTextWidth(E),E.setTranslateY(i.h-m),y=Math.max(y,m)):E.setTranslateY(i.y)}else{if(!u&&DvtTextUtils.guessTextDimensions(E).h-1>i.h)continue;if(g&&"bottom"==l?E.setY(i.h):"bottom"==l?E.setY(i.y):E.setY(i.y+i.h),!g&&("bottom"==l&&!u||"top"==l&&u)?E.alignTop():g&&"top"==l?E.alignTop():E.alignBottom(),g)y=Math.max(y,DvtTextUtils.guessTextDimensions(E).h);else if(u){var C=s.getGapSize(r,o,o.layout.insideLabelGapWidth);h?E.alignRight():E.alignLeft(),E.setX(E.getX()+C*(h?-1:1))}}var A=c?e.getLabelIndex(E):S,D=e.getDatatip(A,_),I=E.getUntruncatedTextString(),x=e.getAction(A,_),O=e.isDrillable(A,_),M=e.getGroup(A,_),R=a.getUIParams(n.TICK_LABEL,E.getTextString(),A,_);t.getEventManager().associate(E,new d(t,E,M,x,O,I,D,R)),g?e.setLastRenderedLevel(_):y=Math.max(y,DvtTextUtils.guessTextDimensions(E).h),t.addChild(E)}}if(g){for(S=0;S<v.length;S++)if(E=v[S],null!=E){var w=e.isLabelRotated(_),P=_<e.getNumLevels()-1;!w&&P?(E.setY(i.h-y/2),E.alignMiddle()):E.setTranslateY(i.h-y)}i.y+=y+C,i.h-=y+C,_++,v=e.getLabels(t.getCtx(),_)}else i.y+=y,i.h-=y,v=null}if(e instanceof f){v=e.getLabels(t.getCtx());var L=e.getLabels(t.getCtx(),1),N=0;if(null!=L)for(S=0;S<L.length;S++)if(E=L[S],null!=E&&!(DvtTextUtils.guessTextDimensions(E).h-1>i.h)){t.getEventManager().associate(E,new DvtSimpleObjPeer(null,null,null,a.getUIParams(n.TICK_LABEL,E.getTextString())));var k=0,H=0,F=e.getOptions()._maxOverflowCoord,B=e.getOptions()._minOverflowCoord;if(null!=v[S]&&(N=v[S].measureDimensions().w/2,k=e._level1Overflow[S],H=e._level2Overflow[S]),0==k&&0==H){var U,G=E.getX();h?(U=F>=G+N?G+N:F,E.setX(U)):(U=G-N>=B?G-N:B,E.setX(U))}else 0>k?E.setX(B):k>0&&E.setX(F);E.alignTop(),E.setY(i.y),t.addChild(E)}}},u._renderLabelsVert=function(t,e,i){var r,o,l,u=t.getOptions(),h=u.position,g=t.getCtx(),_=DvtAgent.isRightToLeft(g),v=e instanceof c,m="inside"==u.tickLabel.position,y=e instanceof p,S=y&&e.getNumLevels()>1,E=S?0:null;r=e.getLabels(t.getCtx(),E);var T=0;S?(o=s.getGapSize(g,u,u.layout.hierarchicalLabelGapWidth),l=DvtTextUtils.getMaxTextDimensions(r).w):"radial"==h?(o=s.getGapSize(g,u,u.layout.radialLabelGap),T=i.x+i.w/2,_?T+=o+DvtTextUtils.getMaxTextDimensions(r).w:T-=o):"left"==h?(T=i.x+i.w,v&&m&&(T+=DvtTextUtils.getMaxTextDimensions(r).w)):(T=i.x,v&&!m&&(T+=DvtTextUtils.getMaxTextDimensions(r).w));for(var b=function(o,c){var p=o instanceof DvtMultilineText||o instanceof DvtBackgroundMultilineText,f=!p||p&&!o.isWrapEnabled();if(!(S&&DvtTextUtils.getMaxTextDimensions(r).w-1>i.w)&&(S||m||!f||DvtTextUtils.fitText(o,i.w,i.h,t))){c=y?e.getLabelIndex(o):c;var b=e.getDatatip(c,E),C=o.getUntruncatedTextString(),A=e.getAction(c,E),D=e.isDrillable(c,E),I=e.getGroup(c,E),x=a.getUIParams(n.TICK_LABEL,o.getTextString(),c,E);if(t.getEventManager().associate(o,new d(t,o,I,A,D,C,b,x)),S)o.alignRight(),o.setX(_?i.w:i.x+l),e.setLastRenderedLevel(E);else if(o.setX(T),v||"right"!=h?o.alignRight():o.alignLeft(),m&&(o.alignBottom(),o.setY(o.getY()-s.getGapSize(g,u,u.layout.insideLabelGapHeight))),"radial"==h){var O=o.getY();o.setY(i.y+i.h/2-O);var M=o.getDimensions(),R=.15*M.h,w=DvtPathUtils.roundedRectangle(M.x-R,M.y,M.w+2*R,M.h,2,2,2,2),P=new DvtPath(t.getCtx(),w),L=o.getCSSStyle().getStyle(DvtCSSStyle.BACKGROUND_COLOR),N=O+M.h/2>e.getEndCoord()&&"circle"==t.getOptions().polarGridShape?1:.3;L?P.setSolidFill(L):P.setSolidFill("#FFFFFF",N),t.addChild(P)}t.addChild(o)}};r;){for(var C=0;C<r.length;C++){var A=r[C];null!=A&&b(A,C)}if(!S)break;i.x+=l+o,i.w-=l+o,E++,r=e.getLabels(t.getCtx(),E),l=r?DvtTextUtils.getMaxTextDimensions(r).w:null}if(e instanceof f){var D=e.getLabels(t.getCtx(),1);if(null!=D)for(C=0;C<D.length;C++)A=D[C],null!=A&&b(A,C)}},u._renderLabelsTangent=function(t,e,i){for(var r=e.getLabels(t.getCtx()),o=0;o<r.length;o++){var s=r[o];if(null!=s){var l=i.w/2-Math.abs(s.getX()),u=i.h/2-Math.abs(s.getY());if(DvtTextUtils.fitText(s,l,u,t)){var h=e instanceof p?e.getLabelIndex(s):o,c=e.getDatatip(h),g=s.getUntruncatedTextString(),f=e.getAction(h),_=e.isDrillable(h),v=e.getGroup(h),m=a.getUIParams(n.TICK_LABEL,s.getTextString(),h);t.getEventManager().associate(s,new d(t,s,v,f,_,g,c,m)),s.setTranslateX(i.x+i.w/2),s.setTranslateY(i.y+i.h/2),t.addChild(s)}}}},u._createText=function(t,e,i,n,r,o,s,a,l){var u=new DvtOutputText(e.getCtx(),i,r,o);return u.setCSSStyle(n),DvtTextUtils.fitText(u,s,a,e)?(t.associate(u,new DvtSimpleObjPeer(u.getUntruncatedTextString(),null,null,l)),u):null},u._renderGroupSeparators=function(t,e,i){if(e instanceof p&&e.areSeparatorsRendered()){var n=e.getNumLevels();if(1>=n||e.getLastRenderedLevel()<=0)return;for(var r,o,a,l,h,c,d=t.getOptions(),g=d.position,f="top"==g||"bottom"==g,_=t.getCtx(),v=DvtAgent.isRightToLeft(_),m=e.getSeparatorColor(),y=new DvtSolidStroke(m,1,1),S=0,E=f?s.getGapSize(_,d,d.layout.hierarchicalLabelGapHeight):s.getGapSize(_,d,d.layout.hierarchicalLabelGapWidth),T=d.startGroupOffset,b=d.endGroupOffset,C=e.getLastRenderedLevel();C>=0;C--){var A=e.getLabels(t.getCtx(),C),D=DvtTextUtils.getMaxTextDimensions(A),I=e.isLabelRotated(C),x=I||!f?D.w:D.h;if(0!=x){var O=!1,M=null;if(C<e.getLastRenderedLevel())for(var R=0;R<A.length;R++){var w=A[R];if(null!=w){var P=e.getLabelIndex(w),L=0==e.getLabelAt(P,C).length;if(!L){var N=L&&0==C&&(0==P||P==A.length-1),k=w&&null==A[P-1],H=w&&null==A[P+1],F=e.getStartIndex(P,C),B=e.getEndIndex(P,C);if(f){if(w){var U;U=w instanceof DvtMultilineText||w instanceof DvtBackgroundMultilineText?w.getYAlignCoord():w.getY(),r=e.getCoordAt(F-T),o=I?U+.5*S:U-x/2-.5*S-E,a=e.getCoordAt(B+b),l=I?U+x+S+2*E:U,L&&N||0!=O||null==r||u._addSeparatorLine(t,y,r,l,r,o),null==a||N||u._addSeparatorLine(t,y,a,l,a,o)}if(!L){if(w)var G=I?DvtTextUtils.getTextHeight(w):DvtTextUtils.getTextWidth(w);r=k&&0==M?e.getStartCoord():e.getBoundedCoordAt(F-T),k&&(k=!1);var j=e.getLabelAt(P+1,C);if(a=H&&j&&j.length>0?e.getEndCoord():e.getBoundedCoordAt(B+b),h=w?v?w.getX()+.5*G:w.getX()-.5*G:e.getBoundedCoordAt(B+b),c=w?v?w.getX()-.5*G:w.getX()+.5*G:e.getBoundedCoordAt(F-T),w)if(I)u._addSeparatorLine(t,y,r,l,a,l);else{var V=v?.5*-DvtTextUtils.getTextHeight(w):.5*DvtTextUtils.getTextHeight(w),Y=v?r>h-V:h-V>r,W=v?c+V>a:a>c+V;Y&&u._addSeparatorLine(t,y,r,l,h-V,l),W&&u._addSeparatorLine(t,y,c+V,l,a,l)}}}else w&&(r=v?w.getX()-x-.5*E:w.getX()+.5*E,o=e.getCoordAt(F-T),a=v?w.getX()+.5*E:w.getX()-x-.5*E,l=e.getCoordAt(B+b),(!L&&0==O||0==P&&L&&0!=C)&&null!=o&&u._addSeparatorLine(t,y,r,o,a,o),null==l||N||u._addSeparatorLine(t,y,a,l,r,l)),L||(o=k&&0==M?0:e.getBoundedCoordAt(F-T),k&&(k=!1),j=e.getLabelAt(P+1,C),l=H&&j&&j.length>0?e.getEndCoord():e.getBoundedCoordAt(B+b),w&&u._addSeparatorLine(t,y,a,o,a,l));O=!L&&null!=w,M=null!=w||null==w&&L}}}S=x}else S=x}}},u._addSeparatorLine=function(t,e,i,n,r,o){var s=new DvtLine(t.getCtx(),i,n,r,o);s.setStroke(e),s.setPixelHinting(!0),t.addChild(s)},u._getGroupAxisPreferredSize=function(t,e,i,n,r){for(var o=t.getCtx(),a=t.getOptions(),l=e.getNumLevels(),u=r?"hierarchicalLabelGapHeight":"hierarchicalLabelGapWidth",h=l>1?s.getGapSize(o,a,a.layout[u]):0,c=0;l>c;c++){var p,d=e.getLabels(o,c);if(r){var g=DvtTextUtils.getMaxTextDimensions(d);p=e.isLabelRotated(c)?g.w:g.h}else p=DvtTextUtils.getMaxTextDimensions(d).w;if(!(n>=i+p)){0==c&&(i=n);break}i+=p+h}return 0!=c&&(i-=h),i};var h=function(){};DvtObj.createSubclass(h,DvtObj,"DvtAxisInfo"),h.newInstance=function(t,e,i){return e.timeAxisType&&"disabled"!=e.timeAxisType?new f(t,e,i):isNaN(e.dataMin)&&isNaN(e.dataMax)?new p(t,e,i):new c(t,e,i)},h.prototype.Init=function(t,e,i){this._context=t,this.Position=e.position,this._radius=e._radius,this._title=null,"top"==this.Position||"bottom"==this.Position?(this.StartCoord=i.x,this.EndCoord=i.x+i.w):"left"==this.Position||"right"==this.Position?(this.StartCoord=i.y,this.EndCoord=i.y+i.h):"radial"==this.Position?(this.StartCoord=0,this.EndCoord=this._radius):"tangential"==this.Position&&(DvtAgent.isRightToLeft(t)?(this.StartCoord=2*Math.PI,this.EndCoord=0):(this.StartCoord=0,this.EndCoord=2*Math.PI)),this.MinValue=null,this.MaxValue=null,this.GlobalMin=null,this.GlobalMax=null,this.DataMin=null,this.DataMax=null,this.MinViewportExtent=null,this.StartOverflow=0,this.EndOverflow=0,null==e.leftBuffer&&(e.leftBuffer=1/0),null==e.rightBuffer&&(e.rightBuffer=1/0),this.Options=e},h.prototype.getCtx=function(){return this._context},h.prototype.getOptions=function(){return this.Options},h.prototype.getLabels=function(t,e){return null},h.prototype.getTitle=function(){return this._title},h.prototype.setTitle=function(t){this._title=t},h.prototype.getMajorTickCoords=function(){return[]},h.prototype.getMinorTickCoords=function(){return[]},h.prototype.getBaselineCoord=function(){return null},h.prototype.getValueAt=function(t){if(null==t)return null;var e=Math.min(this.StartCoord,this.EndCoord),i=Math.max(this.StartCoord,this.EndCoord);return e>t||t>i?null:this.getUnboundedValueAt(t)},h.prototype.getCoordAt=function(t){return null==t?null:t<this.MinValue||t>this.MaxValue?null:this.getUnboundedCoordAt(t)},h.prototype.getBoundedValueAt=function(t){if(null==t)return null;var e=Math.min(this.StartCoord,this.EndCoord),i=Math.max(this.StartCoord,this.EndCoord);return e>t?t=e:t>i&&(t=i),this.getUnboundedValueAt(t)},h.prototype.getBoundedCoordAt=function(t){return null==t?null:(t<this.MinValue?t=this.MinValue:t>=this.MaxValue&&(t=this.MaxValue),this.getUnboundedCoordAt(t))},h.prototype.getUnboundedValueAt=function(t){return null},h.prototype.getUnboundedCoordAt=function(t){return null},h.prototype.getDatatip=function(t,e){return null},h.prototype.getLabelBackground=function(t,e){return null},h.prototype.getAction=function(t){return null},h.prototype.isDrillable=function(t){return null},h.prototype.getBaselineCoord=function(){return null},h.prototype.isLabelRotated=function(){return!1},h.prototype.CreateLabel=function(t,e,i,n,r){var o;if("tangential"==this.Position){var s=16/180*Math.PI,a=1/180*Math.PI,l=.5*this.getTickLabelHeight(),u=this._radius+l;(a>i||i>2*Math.PI-a)&&(u+=l);var h=Math.round(u*Math.sin(i)),c=Math.round(-u*Math.cos(i));o=n?new DvtBackgroundOutputText(t,e,h,c,n):new DvtOutputText(t,e,h,c),a>i||Math.abs(i-Math.PI)<a||i>2*Math.PI-a?o.alignCenter():i<Math.PI?o.alignLeft():o.alignRight(),Math.abs(i-Math.PI/2)<s||Math.abs(i-3*Math.PI/2)<s?o.alignMiddle():i<Math.PI/2||i>3*Math.PI/2?o.alignBottom():o.alignTop()}else r?o=n?new DvtBackgroundMultilineText(t,e,i,i,n):new DvtMultilineText(t,e,i,i):(o=n?new DvtBackgroundOutputText(t,e,i,i,n):new DvtOutputText(t,e,i,i),o.alignMiddle()),o.alignCenter();return(o instanceof DvtOutputText||o instanceof DvtMultilineText)&&o.setCSSStyle(this.Options.tickLabel.style),o},h.prototype.IsOverlapping=function(t,e){if(!t||t.length<=0)return!1;for(var i,n,r,o,s="left"==this.Position||"right"==this.Position||"radial"==this.Position,a=DvtAgent.isRightToLeft(this.getCtx()),l=this.GetTickLabelGapSize(),u=0;u<t.length;u+=e+1)if(null!=t[u])if(null!=i&&null!=n){if(s){if(r=t[u].y,o=t[u].y+t[u].h,r>=i&&n>r-l)return!0;if(i>r&&o+l>i)return!0}else{if(r=t[u].x,o=t[u].x+t[u].w,!a&&n>r-l)return!0;if(a&&o+l>i)return!0}i=r,n=o}else s?(i=t[u].y,n=t[u].y+t[u].h):(i=t[u].x,n=t[u].x+t[u].w);return!1},h.prototype.IsOverlappingDims=function(t,e){if(!t||!e)return!1;var i=t.y,n=t.y+t.h,r=t.x,o=t.x+t.w,s=e.y,a=e.y+e.h,l=e.x,u=e.x+e.w,h=l>=r&&o>=l||u>=r&&o>=u||r>=l&&u>=r||o>=l&&u>=o,c=s>=i&&n>s||i>=s&&a>=i;return h&&c},h.prototype.GetTickLabelGapSize=function(){var t=this.getTickLabelHeight(),e=this instanceof p?.24*t:.79*t,i=this instanceof p?.08*t:.28*t,n="left"==this.Position||"right"==this.Position||"radial"==this.Position;return n||this.isLabelRotated()?i:e},h.prototype.getTickLabelHeight=function(){return DvtTextUtils.getTextStringHeight(this.getCtx(),this.Options.tickLabel.style)},h.prototype.SkipLabels=function(t,e){for(var i=0,n=this.IsOverlapping(e,i);n;)i++,n=this.IsOverlapping(e,i);if(i>0){for(var r=[],o=0;o<t.length;o+=i+1)r.push(t[o]);return r}return t},h.prototype.SkipTangentialLabels=function(t,e){var i=[],n=t.length,r=null;if(n>1){for(var o,s=0;n>s;s++)e[s]&&(!o||o&&!this.IsOverlappingDims(o,e[s]))&&(r||(r=e[s]),i.push(t[s]),o=e[s]);return this.IsOverlappingDims(o,r)&&i.pop(),i}return t},h.prototype.GetLabelDims=function(t,e){for(var i=[],n=0;n<t.length;n++){var r=t[n];if(null==r)i.push(null);else{var o=r.measureDimensions(e);o.w&&o.h?i.push(o):i.push(null)}}return i},h.prototype.GuessLabelDims=function(t,e,i,n){var r=[];"undefined"==typeof i&&(i=1);for(var o=0;o<t.length;o++){var s=t[o];if(null==s)r.push(null);else{e.addChild(s);var a=DvtTextUtils.guessTextDimensions(s),l=a.w*i,u=a.h;e.removeChild(s);var h;h=this.isLabelRotated(n)?new DvtRectangle(s.getTranslateX()-u/2,s.getTranslateY()-l/2,u,l):new DvtRectangle(s.getX()-l/2,s.getY()-u/2,l,u),r.push(h)}}return r},h.prototype.getMajorTickCount=function(){return null},h.prototype.getMinorTickCount=function(){return null},h.prototype.getMajorIncrement=function(){return null},h.prototype.getMinorIncrement=function(){return null},h.prototype.getGlobalMin=function(){return this.GlobalMin},h.prototype.getGlobalMax=function(){return this.GlobalMax},h.prototype.getViewportMin=function(){return this.MinValue},h.prototype.getViewportMax=function(){return this.MaxValue},h.prototype.getDataMin=function(){return this.DataMin},h.prototype.getDataMax=function(){return this.DataMax},h.prototype.getMinimumExtent=function(){return 0},h.prototype.getStartCoord=function(){return this.StartCoord},h.prototype.getEndCoord=function(){return this.EndCoord},h.prototype.getStartOverflow=function(){return this.StartOverflow},h.prototype.getEndOverflow=function(){return this.EndOverflow},h.prototype.getGroupWidth=function(){return 0},h.prototype.getGroup=function(t,e){return null},h.prototype.linearToActual=function(t){return t},h.prototype.actualToLinear=function(t){return t};var c=function(t,e,i){this.Init(t,e,i)};DvtObj.createSubclass(c,h,"DvtDataAxisInfo"),c._MAX_NUMBER_OF_GRIDS_AUTO=10,c._MINOR_TICK_COUNT=2,c._MAX_ZOOM_FACTOR=64,c.prototype.Init=function(t,e,n){c.superclass.Init.call(this,t,e,n),"top"==this.Position||"bottom"==this.Position?("off"!=e.tickLabel.rendered&&"off"!=e.rendered&&(this.StartOverflow=Math.max(i.MINIMUM_AXIS_BUFFER-e.leftBuffer,0),this.EndOverflow=Math.max(i.MINIMUM_AXIS_BUFFER-e.rightBuffer,0)),DvtAgent.isRightToLeft(t)?(this._minCoord=this.EndCoord-this.EndOverflow,this._maxCoord=this.StartCoord+this.StartOverflow):(this._minCoord=this.StartCoord+this.StartOverflow,this._maxCoord=this.EndCoord-this.EndOverflow)):"tangential"==this.Position||"radial"==this.Position?(this._minCoord=this.StartCoord,this._maxCoord=this.EndCoord):(this._minCoord=this.EndCoord,this._maxCoord=this.StartCoord),this.DataMin=e.dataMin,this.DataMax=e.dataMax,this._isLog="log"==e.scale&&this.DataMin>0&&this.DataMax>0,this._globalMin=this.actualToLinear(e.min),this._globalMax=this.actualToLinear(e.max),this._minValue=null==e.viewportMin?this._globalMin:this.actualToLinear(e.viewportMin),this._maxValue=null==e.viewportMax?this._globalMax:this.actualToLinear(e.viewportMax),this._dataMin=this.actualToLinear(this.DataMin),this._dataMax=this.actualToLinear(this.DataMax),this._majorIncrement=this.actualToLinear(e.step),this._minorIncrement=this.actualToLinear(e.minorStep),this._minMajorIncrement=this.actualToLinear(e.minStep),this._majorTickCount=e._majorTickCount,this._minorTickCount=e._minorTickCount,this._zeroBaseline=!this._isLog&&"zero"==e.baselineScaling,this._converter=null,null!=e.tickLabel&&(this._converter=e.tickLabel.converter),this._calcAxisExtents(),this.GlobalMin=this.linearToActual(this._globalMin),this.GlobalMax=this.linearToActual(this._globalMax),this.MinValue=this.linearToActual(this._minValue),this.MaxValue=this.linearToActual(this._maxValue)},c.prototype.getMinLabel=function(){return this._zeroBaseline||"on"==this.Options._continuousExtent&&null==this.Options.min?Math.ceil(this._minValue/this._majorIncrement)*this._majorIncrement:Math.ceil((this._minValue-this._globalMin)/this._majorIncrement)*this._majorIncrement+this._globalMin},c.prototype.getLabels=function(t,e){if(e&&e>0)return null;var i=[],n=[],r=t.getStage();if(this.Options.tickLabel&&this.Options.tickLabel.scaling){var o=this.Options.tickLabel.autoPrecision?this.Options.tickLabel.autoPrecision:"on";this._axisValueFormatter=new g(t,this._minValue,this._maxValue,this._majorIncrement,this.Options.tickLabel.scaling,o)}for(var s=0;s<=this._majorTickCount;s++){var a=s*this._majorIncrement+this.getMinLabel();if(a>this._maxValue)break;var l=this._getUnboundedCoordAt(a);if(this.Options._skipHighestTick){if(a==this._maxValue)continue;if("tangential"!=this.Position&&Math.abs(l-this._maxCoord)<this.getTickLabelHeight())continue}var u;this._isLog?(a=this.linearToActual(a),this._axisValueFormatter=new g(t,a,a,a,this.Options.tickLabel.scaling,o),u=this._formatValue(a)):u=this._formatValue(a);var h=this.CreateLabel(t,u,l);i.push(h)}return"tangential"!=this.Position&&(n=this.GetLabelDims(i,r),i=this.SkipLabels(i,n)),i},c.prototype.getMajorTickCoords=function(){for(var t=[],e=0;e<=this._majorTickCount;e++){var i=e*this._majorIncrement+this.getMinLabel();if(i>this._maxValue)break;if(!this.Options._skipHighestTick||i!=this._maxValue){var n=this._getUnboundedCoordAt(i);t.push(n)}}return t},c.prototype.getMinorTickCoords=function(){for(var t=[],e=-1;e<=this._majorTickCount;e++){var i=e*this._majorIncrement+this.getMinLabel();if(this._isLog&&1==this._majorIncrement&&1==this._minorIncrement)for(var n=2;9>=n;n++){var r=i+DvtMath.log10(n);if(r>this._maxValue)break;r<this._minValue||(s=this._getUnboundedCoordAt(r),t.push(s))}else for(var n=1;n<this._minorTickCount;n++){var o=i+n*this._minorIncrement;if(o>this._maxValue)break;if(!(o<this._minValue)){var s=this._getUnboundedCoordAt(o);t.push(s)}}}return t},c.prototype.getBaselineCoord=function(){return this._isLog?this._minCoord:this.getBoundedCoordAt(0)},c.prototype.getUnboundedValueAt=function(t){if(null==t)return null;var e=(t-this._minCoord)/(this._maxCoord-this._minCoord),i=this._minValue+e*(this._maxValue-this._minValue);return this.linearToActual(i)},c.prototype.getUnboundedCoordAt=function(t){return this._getUnboundedCoordAt(this.actualToLinear(t))},c.prototype._getUnboundedCoordAt=function(t){if(null==t)return null;var e=(t-this._minValue)/(this._maxValue-this._minValue);return this._minCoord+e*(this._maxCoord-this._minCoord)},c.prototype._formatValue=function(t){if(!this._converter||!this._converter.getAsString&&!this._converter.format){if(this._axisValueFormatter)return this._axisValueFormatter.format(t);var e=DvtMath.log10(this._majorIncrement),i=Math.max(Math.ceil(-e),0);return t.toFixed(i)}return this._axisValueFormatter?this._axisValueFormatter.format(t,this._converter):this._converter.getAsString?this._converter.getAsString(t):this._converter.format?this._converter.format(t):void 0},c.prototype._calcMajorMinorIncr=function(t){this._majorIncrement||(this._majorTickCount?this._majorIncrement=(this._maxValue-this._minValue)/this._majorTickCount:this._majorIncrement=Math.max(t,this._minMajorIncrement)),this._majorTickCount||(this._majorTickCount=(this._maxValue-this._minValue)/this._majorIncrement),this._minorTickCount||(this._minorIncrement?this._minorTickCount=this._majorIncrement/this._minorIncrement:this._isLog?this._minorTickCount=this._majorIncrement:this._minorTickCount=c._MINOR_TICK_COUNT),this._minorIncrement||(this._minorIncrement=this._majorIncrement/this._minorTickCount)},c.prototype._calcAxisExtents=function(){var t="on"==this.Options._continuousExtent;this._zeroBaseline&&(this._dataMin=Math.min(0,this._dataMin),this._dataMax=Math.max(0,this._dataMax));var e=this._calcAxisScale(null!=this._globalMin?this._globalMin:this._dataMin,null!=this._globalMax?this._globalMax:this._dataMax);if(this._dataMin==this._dataMax&&(0==this._dataMin?this._dataMax+=5*e:(this._dataMin-=2*e,this._dataMax+=2*e)),null==this._globalMin){if(this._zeroBaseline&&this._dataMin>=0)this._globalMin=0;else if(t)this._globalMin=this._dataMin-.1*(this._dataMax-this._dataMin);else if(this._zeroBaseline||null==this._globalMax)this._globalMin=(Math.ceil(this._dataMin/e)-1)*e;else for(this._globalMin=this._globalMax;this._globalMin>=this._dataMin;)this._globalMin-=e;this._dataMin>=0&&(this._globalMin=Math.max(this._globalMin,0))}if(null==this._globalMax){if(this._majorTickCount)this._globalMax=this._globalMin+this._majorTickCount*e;else if(this._zeroBaseline&&this._dataMax<=0)this._globalMax=0;else if(t)this._globalMax=this._dataMax+.1*(this._dataMax-this._dataMin);else if(this._zeroBaseline)this._globalMax=(Math.floor(this._dataMax/e)+1)*e;else for(this._globalMax=this._globalMin;this._globalMax<=this._dataMax;)this._globalMax+=e;this._dataMax<=0&&(this._globalMax=Math.min(this._globalMax,0))}this._globalMax==this._globalMin&&(this._globalMax=100,this._globalMin=0,e=(this._globalMax-this._globalMin)/c._MAX_NUMBER_OF_GRIDS_AUTO),null==this._minValue&&(this._minValue=this._globalMin),null==this._maxValue&&(this._maxValue=this._globalMax),this._minValue==this._globalMin&&this._maxValue==this._globalMax||(e=this._calcAxisScale(this._minValue,this._maxValue)),this._globalMin>this._minValue&&(this._globalMin=this._minValue),this._globalMax<this._maxValue&&(this._globalMax=this._maxValue),this._calcMajorMinorIncr(e)},c.prototype._calcAxisScale=function(t,e){if(this._majorIncrement)return this._majorIncrement;var i=e-t;if(this._isLog)return Math.floor(i/8)+1;if(0==i)return 0==t?10:Math.pow(10,Math.floor(DvtMath.log10(t))-1);if(this._majorTickCount){var n=i/this._majorTickCount,r=Math.pow(10,Math.ceil(DvtMath.log10(n)-1)),o=n/r;return o=o>1&&1.5>=o?1.5:o>5?10:Math.ceil(o),o*r}var s=DvtMath.log10(i),r=Math.pow(10,Math.ceil(s)-2),a=Math.round(i/r),l=1;return l=a>=10&&14>=a?2:a>=15&&19>=a?3:a>=20&&24>=a?4:a>=25&&45>=a?5:a>=46&&80>=a?10:20,l*r},c.prototype.getMajorTickCount=function(){return this._majorTickCount},c.prototype.getMinorTickCount=function(){return this._minorTickCount},c.prototype.getMajorIncrement=function(){return this.linearToActual(this._majorIncrement)},c.prototype.getMinorIncrement=function(){return this.linearToActual(this._minorIncrement)},c.prototype.getMinimumExtent=function(){return(this._globalMax-this._globalMin)/c._MAX_ZOOM_FACTOR},c.prototype.getStartOverflow=function(){return"top"!=this.Position&&"bottom"!=this.Position||!DvtAgent.isRightToLeft(this.getCtx())?this.StartOverflow:this.EndOverflow},c.prototype.getEndOverflow=function(){return"top"!=this.Position&&"bottom"!=this.Position||!DvtAgent.isRightToLeft(this.getCtx())?this.EndOverflow:this.StartOverflow},c.prototype.linearToActual=function(t){return null==t?null:this._isLog?Math.pow(10,t):t},c.prototype.actualToLinear=function(t){return null==t?null:this._isLog?t>0?DvtMath.log10(t):null:t};var p=function(t,e,i){this.Init(t,e,i)};DvtObj.createSubclass(p,h,"DvtGroupAxisInfo"),p._MAX_LINE_WRAP=3,p.prototype.Init=function(t,e,i){p.superclass.Init.call(this,t,e,i);var n=DvtAgent.isRightToLeft(t),r="top"==this.Position||"bottom"==this.Position;if(r&&n){var o=this.StartCoord;this.StartCoord=this.EndCoord,this.EndCoord=o}this._levelsArray=[],this._groupCount=this._generateLevelsArray(e.groups,0,this._levelsArray,0),this._numLevels=this._levelsArray.length,this._areSeparatorsRendered="on"==e.groupSeparators.rendered,this._separatorColor=e.groupSeparators.color,this._lastRenderedLevel=null,this._drilling=e.drilling;var a=e.endGroupOffset>0?Number(e.endGroupOffset):0,l=e.startGroupOffset>0?Number(e.startGroupOffset):0;this.DataMin=0,this.DataMax=this._groupCount-1,this.GlobalMin=null==e.min?this.DataMin-l:e.min,this.GlobalMax=null==e.max?this.DataMax+a:e.max;var u=this.getGroupIndex(e.viewportStartGroup),h=this.getGroupIndex(e.viewportEndGroup);-1!=u&&(this.MinValue=u-l),-1!=h&&(this.MaxValue=h+a),null!=e.viewportMin&&(this.MinValue=e.viewportMin),null!=e.viewportMax&&(this.MaxValue=e.viewportMax),null==this.MinValue&&(this.MinValue=this.GlobalMin),null==this.MaxValue&&(this.MaxValue=this.GlobalMax),this.GlobalMin>this.MinValue&&(this.GlobalMin=this.MinValue),this.GlobalMax<this.MaxValue&&(this.GlobalMax=this.MaxValue),this._groupWidthRatios=e._groupWidthRatios,this._processGroupWidthRatios(),this._startBuffer=n?e.rightBuffer:e.leftBuffer,this._endBuffer=n?e.leftBuffer:e.rightBuffer,this._isLabelRotated=[];for(var c=0;c<this._numLevels;c++)this._isLabelRotated.push(!1);this._renderGridAtLabels=e._renderGridAtLabels,this._labels=null,this._maxSpace=r?i.h:i.w,e.title&&(this._maxSpace-=DvtTextUtils.getTextStringHeight(t,e.titleStyle)+s.getGapSize(t,e,e.layout.titleGap)),this._maxLineWrap=p._MAX_LINE_WRAP},p.prototype._processGroupWidthRatios=function(){if(!this._groupWidthRatios||this._groupWidthRatios.length<2)return void(this._groupWidthRatios=null);for(var t,e,i=0,n=0;n<this._groupCount;n++)t=0==n?this.MinValue:Math.max(n-.5,this.MinValue),e=n==this._groupCount-1?this.MaxValue:Math.min(n+.5,this.MaxValue),e>t&&(i+=(e-t)*this._groupWidthRatios[n]);var r=this.EndCoord-this.StartCoord;this._groupWidths=DvtArrayUtils.map(this._groupWidthRatios,function(t){return t*r/i}),this._borderValues=[];for(var n=0;n<this._groupWidthRatios.length-1;n++)this._borderValues.push(n+.5);this._borderCoords=[];var o=Math.min(Math.max(Math.round(this.MinValue),0),this._borderValues.length-1);this._borderCoords[o]=this.StartCoord+(this._borderValues[o]-this.MinValue)*this._groupWidths[o];for(var n=o+1;n<this._borderValues.length;n++)this._borderCoords[n]=this._borderCoords[n-1]+this._groupWidths[n];for(var n=o-1;n>=0;n--)this._borderCoords[n]=this._borderCoords[n+1]-this._groupWidths[n+1]},p.prototype._rotateLabels=function(t,e,i,n){var r,o,s=this.getCtx(),a=DvtAgent.isRightToLeft(s),l=this._numLevels>1;null==n&&(n=this._numLevels-1),this._isLabelRotated[n]=!0,l||this._setOverflow(i,i,t);for(var u=0;u<t.length;u++)if(r=t[u],null!=r){o=r.getX();var h=r instanceof DvtMultilineText||r instanceof DvtBackgroundMultilineText;if(h){var c=this.getGroupWidth()*(this.getEndIndex(u,n)-this.getStartIndex(u,n)+1);2*r.getLineHeight()<c?r.wrapText(this._maxSpace,r.getLineHeight()*p._MAX_LINE_WRAP,1):r.setWrapEnabled(!1)}r.setX(0),r.setY(0),a?r.setRotation(Math.PI/2):r.setRotation(3*Math.PI/2),r.setTranslateX(o)}var d=this.GuessLabelDims(t,e,null,n);if("normal"==this.Options.tickLabel.style.getStyle(DvtCSSStyle.WHITE_SPACE)){var g=this._sanitizeWrappedText(s,d,t,!0,l);g&&(d=this.GuessLabelDims(t,e,null,n))}return this.SkipLabels(t,d)},p.prototype._sanitizeWrappedText=function(t,e,i,n,r){for(var o=this._calculateMaxWrap(e,i,n),a=0,l=0;l<i.length;l++){var u=i[l];if(u){var h=u instanceof DvtMultilineText||u instanceof DvtBackgroundMultilineText;o&&h&&u.isWrapEnabled()&&u.wrapText(this._maxSpace,u.getLineHeight()*this._maxLineWrap,1),r&&(a=Math.max(a,DvtTextUtils.getTextWidth(u))),u.alignMiddle()}}if(r){var c=n?this.Options.layout.hierarchicalLabelGapHeight:this.Options.layout.hierarchicalLabelGapWidth;this._maxSpace-=a+s.getGapSize(t,this.Options,c)}return o},p.prototype._calculateMaxWrap=function(t,e,i){for(var n=!1;this.IsOverlapping(t,0)&&this._maxLineWrap>1;){n=!0;for(var r=0;r<e.length;r++){var o=e[r];if((o instanceof DvtMultilineText||o instanceof DvtBackgroundMultilineText)&&o.getLineCount()==this._maxLineWrap){var s=o.getLineHeight();i?t[r].w-=s:(t[r].y+=.5*s,t[r].h-=s)}}this._maxLineWrap--}return n},p.prototype.isLabelRotated=function(t){return null==t&&(t=this._numLevels-1),this._isLabelRotated[t]},p.prototype._setOverflow=function(t,e,i){t=Math.max(t-this._startBuffer,0),e=Math.max(e-this._endBuffer,0);var n=DvtAgent.isRightToLeft(this.getCtx());
this.StartCoord+=(t-this.StartOverflow)*(n?-1:1),this.EndCoord-=(e-this.EndOverflow)*(n?-1:1),this._processGroupWidthRatios();for(var r=0;r<this._numLevels;r++){i=this._labels[r];for(var o=0;o<i.length;o++){var s=i[o];if(s){var a=this._getLabelCoord(r,this.getLabelIndex(s));s.setX(a)}}}this.StartOverflow=t,this.EndOverflow=e},p.prototype.getLabels=function(t,e){return null==e&&(e=this._numLevels-1),this._labels||this._generateLabels(t),this._labels[e]},p.prototype._getLabelCoord=function(t,e){var i=this.getStartIndex(e,t),n=this.getEndIndex(e,t);if(null==i||null==n)return null;i<this.MinValue&&n>this.MinValue&&(i=this.MinValue),n>this.MaxValue&&i<this.MaxValue&&(n=this.MaxValue);var r=n?i+(n-i)/2:i;return this.getCoordAt(r)},p.prototype._generateLabels=function(t){var e=[];this._labels=[];for(var i,n,r,o,a,l=t.getStage(),u="top"==this.Position||"bottom"==this.Position,h=DvtAgent.isRightToLeft(t),c=this._numLevels>1,p=this.getGroupWidth(),d=this._maxSpace,g=u?"hierarchicalLabelGapHeight":"hierarchicalLabelGapWidth",f=c?s.getGapSize(t,this.Options,this.Options.layout[g]):0,_="auto"==this.Options.tickLabel.rotation&&u,v=this.Options.tickLabel.style,m="normal"==v.getStyle(DvtCSSStyle.WHITE_SPACE)&&"tangential"!=this.Position&&p>DvtTextUtils.getTextStringHeight(t,v),y=0;y<this._numLevels;y++){for(var S=this._levelsArray[y],E=0;E<S.length;E++)if(S[E]){if(i=this.getLabelAt(E,y),""==i||!i&&0!=i){e.push(null);continue}var T=this._getLabelCoord(y,E);if(null!=T){o=this.getLabelStyleAt(E,y);var b=m&&isNaN(i)&&i.indexOf(" ")>=0;a=this.CreateLabel(t,i,T,o,b);var C=p*(this.getEndIndex(E,y)-this.getStartIndex(E,y)+1),A=b&&this._isTextWrapNeeded(t,i,o,_,u?C:d);A?u?a.wrapText(C,d,1,!0):a.wrapText(d,a.getLineHeight()*this._maxLineWrap,1,!1):b&&!u&&a.setWrapEnabled(!1),a._index=E,e.push(a),n||0!=y||(n=a),0==y&&(r=a)}else e.push(null)}else e.push(null);if(m&&c){for(var D=0,I=0;I<e.length;I++)if(e[I]){var x=e[I].measureDimensions();D=Math.max(D,u?x.h:x.w)}d-=D+f}this._labels.push(e),e=[]}e=this._labels[this._numLevels-1];var O=[];if(n){if("tangential"==this.Position)return O=this.GetLabelDims(e,l),void(this._labels[0]=this.SkipTangentialLabels(e,O));var M=n.measureDimensions();if(u){var R,w;if(null!=this.Options._startOverflow&&null!=this.Options._endOverflow)R=this.Options._startOverflow,w=this.Options._endOverflow;else{var P=r.measureDimensions();R=h?M.w+M.x-this.StartCoord:this.StartCoord-M.x,w=h?this.EndCoord-P.x:P.w+P.x-this.EndCoord}(R>this._startBuffer||w>this._endBuffer)&&this._setOverflow(R,w,e)}for(y=0;y<this._numLevels;y++){e=this._labels[y];var L=this.GuessLabelDims(e,l,.3,y),N=this.GuessLabelDims(e,l,null,y);if(this.IsOverlapping(N,0)||(this._labels[y]=e),u)if(_){if(this.IsOverlapping(L,0))this._labels[y]=this._rotateLabels(e,l,M.h/2,y);else if(O=this.GetLabelDims(e,l),this.IsOverlapping(O,0))this._labels[y]=this._rotateLabels(e,l,M.h/2,y);else if(this._labels[y]=e,c){var k=0;for(I=0;I<O.length;I++)O[I]&&(k=Math.max(k,O[I].h));this._maxSpace-=k+f}}else O=this.GetLabelDims(e,l),this._labels[y]=this.SkipLabels(e,O);else{if(m){var H=this._sanitizeWrappedText(t,N,e,!1,c);H&&(N=this.GuessLabelDims(e,l,null,y))}this._labels[y]=this.SkipLabels(e,N)}}}},p.prototype.getMajorTickCoords=function(){for(var t,e=[],i="tangential"==this.Position?this.getGroupCount():this.getGroupCount()-1,n=0;n<this._levelsArray[0].length;n++)if(this._levelsArray[0][n]){var r=this.getStartIndex(n,0),o=this.getEndIndex(n,0);t=this._renderGridAtLabels?this.getCoordAt(r+.5*(o-r)):i>o+.5?this.getCoordAt(o+.5):null,null!=t&&e.push(t)}return e},p.prototype.getMinorTickCoords=function(){var t,e=[];if(!this._levelsArray[1])return e;for(var i=0;i<this._levelsArray[1].length;i++)if(this._levelsArray[1][i]){var n=this.getStartIndex(i,1),r=this.getEndIndex(i,1);t=this._renderGridAtLabels?this.getCoordAt(n+.5*(r-n)):r+.5<this.getGroupCount()-1?this.getCoordAt(r+.5):null,null!=t&&e.push(t)}return e},p.prototype.getUnboundedValueAt=function(t){if(null==t)return null;if(this._groupWidthRatios){for(var e=this._borderCoords.length,i=0;i<this._borderCoords.length;i++)if(t<=this._borderCoords[i]){e=i;break}return 0==e?this._borderValues[0]-(this._borderCoords[0]-t)/this._groupWidths[0]:this._borderValues[e-1]+(t-this._borderCoords[e-1])/this._groupWidths[e]}var n=(this.EndCoord-this.StartCoord)/(this.MaxValue-this.MinValue);return this.MinValue+(t-this.StartCoord)/n},p.prototype.getUnboundedCoordAt=function(t){if(null==t)return null;if(this._groupWidthRatios){for(var e=this._borderValues.length,i=0;i<this._borderValues.length;i++)if(t<=this._borderValues[i]){e=i;break}return 0==e?this._borderCoords[0]-this._groupWidths[0]*(this._borderValues[0]-t):this._borderCoords[e-1]+this._groupWidths[e]*(t-this._borderValues[e-1])}var n=(this.EndCoord-this.StartCoord)/(this.MaxValue-this.MinValue);return this.StartCoord+(t-this.MinValue)*n},p.prototype.getLabelAt=function(t,e){if(null==e&&(e=this._numLevels-1),t=Math.round(t),0>t)return null;var i=this._levelsArray[e]&&this._levelsArray[e][t]?this._levelsArray[e][t].item:null;return i&&(i.name?i=i.name:null!=i.id&&(i="")),i},p.prototype.getGroupAt=function(t,e){if(null==e&&(e=this._numLevels-1),t=Math.round(t),0>t)return null;var i=this._levelsArray[e]&&this._levelsArray[e][t]?this._levelsArray[e][t].item:null;if(i){if(i.id)return i.id;if(i.name||""==i.name)return i.name}return i},p.prototype.getLabelStyleAt=function(t,e){var i=this._getGroupAttribute(t,e,"labelStyle");if(i){var n=new DvtCSSStyle(i);return n.getStyle("font-size")||n.setStyle("font-size",this.Options.tickLabel.style.getStyle("font-size")),n}return null},p.prototype.getDatatip=function(t,e){return this._getGroupAttribute(t,e,"shortDesc")},p.prototype.getAction=function(t,e){return this._getGroupAttribute(t,e,"action")},p.prototype.isDrillable=function(t,e){var i=this._getGroupAttribute(t,e,"drilling");return"on"==i?!0:"off"==i?!1:"on"==this._drilling||"groupsOnly"==this._drilling},p.prototype.getGroup=function(t,e){if(0>t||t>this.getGroupCount()-1)return null;var i=[];null==e&&(e=this._numLevels-1);for(var n=this.getStartIndex(t,e),r=0;e>=r;r++)for(var o=this._levelsArray[r],s=0;s<o.length;s++)this.getStartIndex(s,r)<=n&&this.getEndIndex(s,r)>=n&&i.push(this.getGroupAt(s,r));return i.length>0?1==i.length?i[0]:i:null},p.prototype.getLabelBackground=function(t,e,i){null==i&&(i=this._numLevels-1);var n=t.getCSSStyle();if(n){var r=n.getStyle(DvtCSSStyle.BACKGROUND_COLOR),o=n.getStyle(DvtCSSStyle.BORDER_COLOR),s=n.getStyle(DvtCSSStyle.BORDER_WIDTH),a=n.getStyle(DvtCSSStyle.BORDER_RADIUS);if(null!=r||null!=o||null!=s||null!=a){var l=t.getDimensions(),u=.15*l.h;(DvtAgent.isBrowserChrome()||DvtAgent.isPlatformIE())&&t.getVertAlignment()===DvtOutputText.V_ALIGN_BOTTOM&&(l.y+=l.h/2);var h=new DvtRect(e,l.x-u,l.y,l.w+2*u,l.h),c=new DvtCSSStyle;return null!=r?c.setStyle(DvtCSSStyle.BACKGROUND_COLOR,r):h.setInvisibleFill(),c.setStyle(DvtCSSStyle.BORDER_COLOR,o),c.setStyle(DvtCSSStyle.BORDER_WIDTH,s),c.setStyle(DvtCSSStyle.BORDER_RADIUS,a),h.setCSSStyle(c),this._isLabelRotated[i]&&h.setMatrix(t.getMatrix()),h.setMouseEnabled(!1),h}return null}return null},p.prototype.getGroupIndex=function(t){if(null==t)return-1;for(var e=-1,i=0;i<this._groupCount;i++){var n=this.getGroup(i),r=t instanceof Array&&n instanceof Array?DvtArrayUtils.equals(t,n):t==n;if(r){e=i;break}}return e},p.prototype.getMinimumExtent=function(){return 1},p.prototype.getGroupWidth=function(){return Math.abs(this.EndCoord-this.StartCoord)/Math.abs(this.MaxValue-this.MinValue)},p.prototype.getGroupCount=function(){return this._groupCount},p.prototype.getNumLevels=function(){return this._numLevels},p.prototype._generateLevelsArray=function(t,e,i,n){for(var r=0;r<t.length;r++)if(i[e]||(i[e]=[]),i[e].push({item:t[r],start:n,end:n,position:r}),t[r]&&t[r].groups){var o=i[e].length-1,s=this._generateLevelsArray(t[r].groups,e+1,i,i[e][o].start);i[e][o].end=s-1,n=s}else n++;return n},p.prototype._getGroupAttribute=function(t,e,i){null==e&&(e=this._numLevels-1);var n=this._levelsArray[e]&&this._levelsArray[e][t]?this._levelsArray[e][t].item:null;return n?n[i]:null},p.prototype.areSeparatorsRendered=function(){return this._areSeparatorsRendered},p.prototype.getSeparatorColor=function(){return this._separatorColor},p.prototype.getStartIndex=function(t,e){null==e&&(e=this._numLevels-1);var i=this._levelsArray[e]&&this._levelsArray[e][t]?this._levelsArray[e][t].start:null;return i},p.prototype.getEndIndex=function(t,e){null==e&&(e=this._numLevels-1);var i=this._levelsArray[e]&&this._levelsArray[e][t]?this._levelsArray[e][t].end:null;return i},p.prototype.getPosition=function(t,e){null==e&&(e=this._numLevels-1);var i=this._levelsArray[e]&&this._levelsArray[e][t]?this._levelsArray[e][t].position:null;return i},p.prototype.isRenderGridAtLabels=function(){return this._renderGridAtLabels},p.prototype.setLastRenderedLevel=function(t){this._lastRenderedLevel=t},p.prototype.getLastRenderedLevel=function(){return this._lastRenderedLevel},p.prototype.getLabelIndex=function(t){return t._index>=0?t._index:null},p.prototype.getMaxLineWrap=function(){return this._maxLineWrap},p.prototype._isTextWrapNeeded=function(t,e,i,n,r){var o=DvtTextUtils.getTextStringWidth(t,e,i);return o>=r&&(o/this._maxLineWrap<r||!n)};var d=function(t,e,i,n,r,o,s,a){this.Init(t,e,i,n,r,o,s,a)};DvtObj.createSubclass(d,DvtSimpleObjPeer,"DvtAxisObjPeer"),d.prototype.Init=function(t,e,i,n,r,o,s,a){d.superclass.Init.call(this,o,s,null,a),this._axis=t,this._label=e,this._group=i,this._action=n,this._drillable=r,(this._action||this._drillable)&&e.setCursor(DvtSelectionEffectUtils.getSelectingCursor()),t.__registerObject(this)},d.prototype.getLabel=function(){return this._label},d.prototype.getId=function(){return this._group},d.prototype.getAction=function(){return this._action},d.prototype.isDrillable=function(){return this._drillable},d.prototype.getGroup=function(){return this._group},d.prototype.getNextNavigable=function(t){if(t.type==DvtMouseEvent.CLICK)return this;var e=this._axis.__getKeyboardObjects();return DvtKeyboardHandler.getNextNavigable(this,t,e)},d.prototype.getKeyboardBoundingBox=function(t){return this._label?this._label.getDimensions(t):new DvtRectangle(0,0,0,0)},d.prototype.getDisplayable=function(){return this._label},d.prototype.getTargetElem=function(){return this._label?this._label.getElem():null},d.prototype.showKeyboardFocusEffect=function(){if(this._isShowingKeyboardFocusEffect=!0,this._label){var t=this.getKeyboardBoundingBox();this._overlayRect=new DvtRect(this._axis.getCtx(),t.x,t.y,t.w,t.h),this._overlayRect.setSolidStroke(DvtAgent.getFocusColor()),this._overlayRect.setInvisibleFill(),this._axis.addChild(this._overlayRect)}},d.prototype.hideKeyboardFocusEffect=function(){this._isShowingKeyboardFocusEffect=!1,this._label&&(this._axis.removeChild(this._overlayRect),this._overlayRect=null)},d.prototype.isShowingKeyboardFocusEffect=function(){return this._isShowingKeyboardFocusEffect},d.prototype.getAriaLabel=function(){var t;return this.isDrillable()&&(t=[DvtBundle.getTranslation(this._axis.getOptions(),"stateDrillable",DvtBundle.UTIL_PREFIX,"STATE_DRILLABLE")]),null!=this.getDatatip()?DvtDisplayable.generateAriaLabel(this.getDatatip(),t):null!=t?DvtDisplayable.generateAriaLabel(this.getLabel().getTextString(),t):void 0};var g=function(t,e,i,n,o,s){r.call(this),this.Init(t,e,i,n,o,s)};DvtObj.createSubclass(g,r,"DvtLinearScaleAxisValueFormatter"),g.SCALE_NONE="none",g.SCALE_AUTO="auto",g.SCALE_THOUSAND="thousand",g.SCALE_MILLION="million",g.SCALE_BILLION="billion",g.SCALE_TRILLION="trillion",g.SCALE_QUADRILLION="quadrillion",g.SCALING_FACTOR_DIFFERENCE=3,g.prototype.Init=function(t,e,i,n,r,o){this._context=t,this._scales={},this._scalesOrder=[],this._factorToScaleMapping={},this.InitScales(),this.InitFormatter(e,i,n,r,o)},g.prototype.InitScales=function(){var t=function(t,e,i){var n;i&&(n=DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,i));var r={scaleFactor:e,localizedSuffix:n};this._scales[t]=r,this._scalesOrder.push(r),this._factorToScaleMapping[e]=r},e=g.SCALING_FACTOR_DIFFERENCE;t.call(this,g.SCALE_NONE,0*e),t.call(this,g.SCALE_THOUSAND,1*e,"SCALING_SUFFIX_THOUSAND"),t.call(this,g.SCALE_MILLION,2*e,"SCALING_SUFFIX_MILLION"),t.call(this,g.SCALE_BILLION,3*e,"SCALING_SUFFIX_BILLION"),t.call(this,g.SCALE_TRILLION,4*e,"SCALING_SUFFIX_TRILLION"),t.call(this,g.SCALE_QUADRILLION,5*e,"SCALING_SUFFIX_QUADRILLION"),this._scalesOrder.sort(function(t,e){return t.scaleFactor<e.scaleFactor?-1:t.scaleFactor>e.scaleFactor?1:0})},g.prototype.InitFormatter=function(t,e,i,n,r){var o,s,a=!1,l=!1;if("off"!==r&&(l=!0),s=this._getScaleFactor(n),"number"!=typeof s&&(a=!0),a){var u=Math.max(Math.abs(t),Math.abs(e)),h=this._getPowerOfTen(u);s=this._findNearestLEScaleFactor(h)}if(l===!0)if(0==i&&t==e){var c=this._getPowerOfTen(e),p=s-c;o=0>=p?Math.max(p+3,0):Math.max(p,4)}else{var d=this._getPowerOfTen(i);o=Math.max(s-d,0)}this._useAutoPrecision=l,this._scaleFactor=s,this._decimalPlaces=o},g.prototype._findNearestLEScaleFactor=function(t){var e=0;if(t<=this._scalesOrder[0].scaleFactor)e=this._scalesOrder[0].scaleFactor;else if(t>=this._scalesOrder[this._scalesOrder.length-1].scaleFactor)e=this._scalesOrder[this._scalesOrder.length-1].scaleFactor;else for(var i=this._scalesOrder.length-1,n=i;n>=0;n--)if(this._scalesOrder[n].scaleFactor<=t){e=this._scalesOrder[n].scaleFactor;break}return e},g.prototype._getScaleFactor=function(t){t||(t=g.SCALE_AUTO);var e,i=this._scales[t];return i&&(e=i.scaleFactor),e},g.prototype.format=function(t,e){var i=parseFloat(t);if(isNaN(i))return t;var n;if(this._scaleFactor>0){for(var r=0;r<this._scaleFactor;r++)i/=10;n=this._factorToScaleMapping[this._scaleFactor].localizedSuffix}if(e&&e.getAsString)i=e.getAsString(i);else if(e&&e.format)i=e.format(i);else{var o=this._context.getNumberConverter({minimumFractionDigits:this._decimalPlaces,maximumFractionDigits:this._decimalPlaces});o&&o.format?i=o.format(i):this._useAutoPrecision&&!isNaN(parseFloat(i))&&(i=parseFloat(new Number(i).toFixed(this._decimalPlaces)),i=this._formatFraction(i))}return"string"==typeof n&&0!=t&&(i+=n),i},g.prototype._formatFraction=function(t){var e=t.toString();if(-1!=e.indexOf("e"))return e;var i=".";if(i=DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,"NUMBER_FORMAT_DECIMAL_SEPARATOR"),this._decimalPlaces>0){-1==e.indexOf(".")?e+=i:e=e.replace(".",i);for(var n=e.substring(e.indexOf(i)+1).length;n<this._decimalPlaces;)e+="0",n++}return e},g.prototype._getPowerOfTen=function(t){t=t>=0?t:-t;var e=0;if(1e-15>t)return 0;if(t==1/0)return Number.MAX_VALUE;if(t>=10)for(;t>=10;)e+=1,t/=10;else if(1>t)for(;1>t;)e-=1,t*=10;return e};var f=function(t,e,i){this.Init(t,e,i)};return DvtObj.createSubclass(f,h,"DvtTimeAxisInfo"),f.TIME_SECOND=1e3,f.TIME_MINUTE=60*f.TIME_SECOND,f.TIME_HOUR=60*f.TIME_MINUTE,f.TIME_DAY=24*f.TIME_HOUR,f.TIME_MONTH_MIN=28*f.TIME_DAY,f.TIME_MONTH_MAX=31*f.TIME_DAY,f.TIME_YEAR_MIN=365*f.TIME_DAY,f.TIME_YEAR_MAX=366*f.TIME_DAY,f.prototype.Init=function(t,e,n){f.superclass.Init.call(this,t,e,n),"top"==this.Position||"bottom"==this.Position?(e._isOverview||"on"!=e.tickLabel.rendered||(this.StartOverflow=Math.max(i.MINIMUM_AXIS_BUFFER-e.leftBuffer,0),this.EndOverflow=Math.max(i.MINIMUM_AXIS_BUFFER-e.rightBuffer,0)),DvtAgent.isRightToLeft(t)?(this._startCoord=this.EndCoord-this.EndOverflow,this._endCoord=this.StartCoord+this.StartOverflow):(this._startCoord=this.StartCoord+this.StartOverflow,this._endCoord=this.EndCoord-this.EndOverflow)):(this._startCoord=this.StartCoord,this._endCoord=this.EndCoord);var r=null!=e.tickLabel?e.tickLabel.converter:null;this._label1Converter=r&&r[0]?r[0]:r,this._label2Converter=r&&r[1]?r[1]:null,this._dateToIsoConverter=t.getLocaleHelpers().dateToIsoConverter,this._groups=e.groups;var o=e.timeAxisType;this._skipGaps="skipGaps"==o,this._mixedFrequency="mixedFrequency"==o,this.DataMin=e.dataMin,this.DataMax=e.dataMax,this._groups.length>1?this._averageInterval=(this.DataMax-this.DataMin)/(this._groups.length-1):this.DataMax-this.DataMin>0?this._averageInterval=this.DataMax-this.DataMin:this._averageInterval=6*f.TIME_MINUTE,this._step=e.step;var s=e.endGroupOffset>0?e.endGroupOffset*this._averageInterval:0,a=e.startGroupOffset>0?e.startGroupOffset*this._averageInterval:0;this.GlobalMin=null!=e.min?e.min:this.DataMin-a,this.GlobalMax=null!=e.max?e.max:this.DataMax+s,null!=e.viewportStartGroup&&(this.MinValue=e.viewportStartGroup-a),null!=e.viewportEndGroup&&(this.MaxValue=e.viewportEndGroup+s),null!=e.viewportMin&&(this.MinValue=e.viewportMin),null!=e.viewportMax&&(this.MaxValue=e.viewportMax),null==this.MinValue&&(this.MinValue=this.GlobalMin),null==this.MaxValue&&(this.MaxValue=this.GlobalMax),this.GlobalMin>this.MinValue&&(this.GlobalMin=this.MinValue),this.GlobalMax<this.MaxValue&&(this.GlobalMax=this.MaxValue),this._timeRange=this.MaxValue-this.MinValue,this._level1Labels=null,this._level2Labels=null,this._level1Coords=null,this._level2Coords=null,this._isOneLevel=!0,this._level1Overflow=[],this._level2Overflow=[],this._locale=e._locale.toLowerCase(),this._monthResources=[DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,"MONTH_SHORT_JANUARY"),DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,"MONTH_SHORT_FEBRUARY"),DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,"MONTH_SHORT_MARCH"),DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,"MONTH_SHORT_APRIL"),DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,"MONTH_SHORT_MAY"),DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,"MONTH_SHORT_JUNE"),DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,"MONTH_SHORT_JULY"),DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,"MONTH_SHORT_AUGUST"),DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,"MONTH_SHORT_SEPTEMBER"),DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,"MONTH_SHORT_OCTOBER"),DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,"MONTH_SHORT_NOVEMBER"),DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,"MONTH_SHORT_DECEMBER")]},f._getAMString=function(t){var e=t.substring(0,2);if("en-au"==t||"en-ie"==t||"en-ph"==t)return"am";if("en-gb"==t)return"";switch(e){case"en":return"AM";case"ar":return"";case"el":return"";case"ko":return"";case"zh":return"";default:return""}},f._getPMString=function(t){var e=t.substring(0,2);if("en-au"==t||"en-ie"==t||"en-ph"==t)return"pm";if("en-gb"==t)return"";switch(e){case"en":return"PM";case"ar":return"";case"el":return"";case"ko":return"";case"zh":return"";default:return""}},f._getAMPMBefore=function(t){var e=t.substring(0,2);return"ko"==e||"zh"==e},f._getDMYOrder=function(t){var e=t.substring(0,2);return"en-us"==t||"en-ph"==t?"MDY":"fa"==e||"hu"==e||"ja"==e||"ko"==e||"lt"==e||"mn"==e||"zh"==e?"YMD":"DMY"},f._getYearTrailingCharacters=function(t){return 0==t.indexOf("ja")||0==t.indexOf("zh")?"":0==t.indexOf("ko")?"":""},f._getDayTrailingCharacters=function(t){return 0==t.indexOf("ja")||0==t.indexOf("zh")?"":0==t.indexOf("ko")?"":""},f.prototype.formatLabel=function(t){var e=new Date(t),i=this._formatAxisLabel(e,null,!0);return null!=i[1]?"YMD"==f._getDMYOrder(this._locale)||this._timeRange<f.TIME_MONTH_MIN&&this._step<f.TIME_DAY?i[1]+" "+i[0]:i[0]+" "+i[1]:i[0]},f.prototype._formatAxisLabelWithConverter=function(t,e,i){if(i){var n=null,r=null;if(i.getAsString?(n=i.getAsString(t),r=i.getAsString(e)):i.format&&(n=i.format(this._dateToIsoConverter?this._dateToIsoConverter(t):t),r=i.format(this._dateToIsoConverter?this._dateToIsoConverter(e):e)),r!=n)return n}return null},f.prototype._formatAxisLabel=function(t,e,i){var n=null,r=null,o="left"==this.Position||"right"==this.Position;return this._label1Converter||this._label2Converter?(this._label1Converter&&(n=this._formatAxisLabelWithConverter(t,e,this._label1Converter)),this._label2Converter&&(r=this._formatAxisLabelWithConverter(t,e,this._label2Converter)),[n,r]):(this._step>=f.TIME_YEAR_MIN||this._timeRange>=6*f.TIME_YEAR_MIN?n=this._formatDate(t,!1,!1,!0):this._step>=f.TIME_MONTH_MIN||this._timeRange>=6*f.TIME_MONTH_MIN?(null!=e&&e.getMonth()==t.getMonth()||(n=this._formatDate(t,!1,!0,!1)),null!=e&&e.getYear()==t.getYear()||(r=this._formatDate(t,!1,!1,!0))):this._step>=f.TIME_DAY||this._timeRange>=6*f.TIME_DAY?i?n=this._formatDate(t,!0,!0,!0):(null!=e&&e.getDate()==t.getDate()||(n=this._formatDate(t,!0,!1,!1)),null==e||e.getYear()!=t.getYear()?r=this._formatDate(t,!1,!0,!0):e.getMonth()!=t.getMonth()&&(r=this._formatDate(t,!1,!0,!1))):(this._step>=f.TIME_HOUR||this._timeRange>=6*f.TIME_HOUR?null!=e&&e.getHours()==t.getHours()||(n=this._formatTime(t,!1,!1)):this._step>=f.TIME_MINUTE||this._timeRange>=6*f.TIME_MINUTE?null!=e&&e.getMinutes()==t.getMinutes()||(n=this._formatTime(t,!0,!1)):null!=e&&e.getSeconds()==t.getSeconds()||(n=this._formatTime(t,!0,!0)),o?null!=e&&e.getDate()==t.getDate()||(r=this._formatDate(t,!0,!0,!1)):null==e||e.getYear()!=t.getYear()?r=this._formatDate(t,!0,!0,!0):e.getMonth()!=t.getMonth()?r=this._formatDate(t,!0,!0,!1):e.getDate()!=t.getDate()&&(r=this._formatDate(t,!0,!1,!1))),[n,r])},f.prototype._formatDate=function(t,e,i,n){var r,o="th"==this._locale.substring(0,2)&&"jet"!=this.Options._environment?t.getFullYear()+543:t.getFullYear();r=this._monthResources&&this._monthResources.length>=12?this._monthResources[t.getMonth()]:t.toString().split(" ")[1];var s=t.getDate();o+=f._getYearTrailingCharacters(this._locale),s+=f._getDayTrailingCharacters(this._locale);for(var a=f._getDMYOrder(this._locale),l="",u=0;u<a.length;u++)e&&"D"==a[u]?l+=s+" ":i&&"M"==a[u]?l+=r+" ":n&&"Y"==a[u]&&(l+=o+" ");return l.length>0?l.slice(0,l.length-1):l},f.prototype._formatTime=function(t,e,i){var n,r=t.getHours(),o=t.getMinutes(),s=t.getSeconds(),a=f._getAMString(this._locale),l=f._getPMString(this._locale),u=f._getAMPMBefore(this._locale),h=""!=a&&""!=l,c="";return DvtAgent.isRightToLeft(this.getCtx())&&(c=""),h?(12>r?(n=a,0==r&&(r=12)):(n=l,r>12&&(r-=12)),c+=r,(e||0!=o)&&(c+=":"+this._doubleDigit(o))):c+=this._doubleDigit(r)+":"+this._doubleDigit(o),i&&(c+=":"+this._doubleDigit(s)),h?u?n+" "+c:c+" "+n:c},f.prototype._doubleDigit=function(t){return 10>t?"0"+t:""+t},f.prototype._getMixedFrequencyStep=function(){return this._timeRange>=6*f.TIME_YEAR_MIN?f.TIME_YEAR_MIN:this._timeRange>=6*f.TIME_MONTH_MIN?f.TIME_MONTH_MIN:this._timeRange>=6*f.TIME_DAY?f.TIME_DAY:this._timeRange>=f.TIME_DAY?3*f.TIME_HOUR:this._timeRange>=6*f.TIME_HOUR?f.TIME_HOUR:this._timeRange>=f.TIME_HOUR?15*f.TIME_MINUTE:this._timeRange>=30*f.TIME_MINUTE?5*f.TIME_MINUTE:this._timeRange>=6*f.TIME_MINUTE?f.TIME_MINUTE:this._timeRange>=f.TIME_MINUTE?15*f.TIME_SECOND:this._timeRange>=30*f.TIME_SECOND?5*f.TIME_SECOND:f.TIME_SECOND},f._getLabelPositions=function(t,e,i){var n=new Date(t);n.setMonth(0,1),n.setHours(0,0,0,0);var r=n.getTime(),o=[];if(i>=f.TIME_YEAR_MIN&&i<=f.TIME_YEAR_MAX){for(;t>r;)r=f._addOneYear(r);for(;e>=r;)o.push(r),r=f._addOneYear(r)}else if(i>=f.TIME_MONTH_MIN&&i<=f.TIME_MONTH_MAX){for(;t>r;)r=f._addOneMonth(r);for(;e>=r;)o.push(r),r=f._addOneMonth(r)}else for(r+=Math.ceil((t-r)/i)*i;e>=r;)o.push(r),r+=i;return o},f._addOneYear=function(t){var e=new Date(t);return e.setFullYear(e.getFullYear()+1),e.getTime()},f._addOneMonth=function(t){var e=new Date(t);return e.setMonth(e.getMonth()+1),e.getTime()},f.prototype._generateLabels=function(t){var e=[],i=[],n=[],r=[],o=[],s=null,a=0,l=0,u=t.getStage(t),h=DvtAgent.isRightToLeft(t),c="left"==this.Position||"right"==this.Position,p="off"!=this.Options.zoomAndScroll,d=!0,g=0;c&&DvtAgent.isBrowserChrome()&&(g=.16*this.getTickLabelHeight());var _=[];if(null!=this._step)_=f._getLabelPositions(this.MinValue,this.MaxValue,this._step);else if(this._mixedFrequency)this._step=this._getMixedFrequencyStep(),_=f._getLabelPositions(this.MinValue,this.MaxValue,this._step);else{for(var v=0;v<this._groups.length;v++)this._groups[v]>=this.MinValue&&this._groups[v]<=this.MaxValue&&_.push(this._groups[v]);if(this._step=this._averageInterval,!this._skipGaps){var m=new DvtOutputText(t,this._formatAxisLabel(new Date(_[0]))[0],0,0),y=c?DvtTextUtils.guessTextDimensions(m).h:m.measureDimensions().w,S=(y+this.GetTickLabelGapSize())*(_.length-1),E=Math.abs(this._endCoord-this._startCoord);S>E&&(this._step=this._getMixedFrequencyStep(),_=f._getLabelPositions(this.MinValue,this.MaxValue,this._step))}}0==_.length&&(_=[this.MinValue]);for(var v=0;v<_.length;v++){var T=_[v],b=this.getCoordAt(T);if(null!=b){var C=new Date(T),A=this._formatAxisLabel(C,s),D=A[0],I=A[1];if(null!=D?(n.push({text:D,coord:null!=I?b+g:b}),r.push(b),a++):(n.push(null),r.push(null)),e.push(null),p&&d&&(b=this.MinValue?this.getCoordAt(this.MinValue):b),d=!1,null!=I){var x=this.CreateLabel(t,I,null!=I?b-g:b);o.push(b),c||(h?x.alignRight():x.alignLeft()),i.push(x),this._isOneLevel=!1,l++}else i.push(null),o.push(null);s=C}}if(a=this._skipLabelsUniform(n,e,u,!1,h),!p&&l>1&&1.5*l>a){e=i,i=null;for(var O=0;O<e.length;O++)null!=e[O]&&e[O].alignCenter();a=this._skipLabelsGreedy(e,this.GetLabelDims(e,u),!1,h)}else l=this._skipLabelsGreedy(i,this.GetLabelDims(i,u),!0,h),0==l&&(i=null);c&&null!=i&&this._skipVertLabels(e,i,u),this._level1Labels=e,this._level2Labels=i,this._level1Coords=r,this._level2Coords=o},f._isOverlapping=function(t,e,i,n,r){return i>=t&&e>i-r?!0:t>i&&n+r>t},f.prototype._getLabelOverflow=function(t,e,i,n){var r=t-(i?n?e:0:.5*e);if(r<this.Options._minOverflowCoord)return Math.floor(r-this.Options._minOverflowCoord);var o=t+(i?n?0:e:.5*e);return o>this.Options._maxOverflowCoord?Math.ceil(o-this.Options._maxOverflowCoord):0},f.prototype._skipLabelsGreedy=function(t,e,i,n){if(!e||e.length<=0)return!1;for(var r,o,s,a,l,u="left"==this.Position||"right"==this.Position,h=this.getTickLabelHeight(),c=u?.08*h:.24*h,p=0,d=Math.abs(this._endCoord-this._startCoord),g=0;g<e.length;g++)if(this._level2Overflow.push(0),null!=t[g]){l=t[g];var _=DvtTextUtils.getTextWidth(l);if(e[g].w>d)t[g]=null;else{var v=this._getLabelOverflow(l.getX(),_,i,n);this._level2Overflow[g]=v,0!=v&&(l.setX(l.getX()-v),e[g].x-=v)}}for(g=0;g<e.length;g++)null!=e[g]&&(u?(s=e[g].y,a=e[g].y+e[g].h):(s=e[g].x,a=e[g].x+e[g].w),null!=r&&null!=o&&f._isOverlapping(r,o,s,a,c)&&(t[g]=null),null!=t[g]&&(r=s,o=a,p++));return p},f.prototype._skipLabelsUniform=function(t,e,i,n){for(var r=[],o=[],s=Math.abs(this._endCoord-this._startCoord),a=0;a<t.length;a++)null!=t[a]&&(r.push(t[a]),o.push(null),this._level1Overflow.push(0));for(var l="left"==this.Position||"right"==this.Position,u=this,h=function(t){if(null==o[t])if(r[t].label=u.CreateLabel(i.getCtx(),r[t].text,r[t].coord),o[t]=r[t].label.measureDimensions(i),o[t].w>s)r[t].label=null,o[t].w=0,o[t].h=0;else{var e=u._getLabelOverflow(r[t].coord,o[t].w,!1,n);0!=e&&(r[t].coord-=e,o[t].x-=e,r[t].label.setX(r[t].label.getX()-e),u._level1Overflow[t]=e)}return l?o[t].h:o[t].w},c=(h(0)+this.GetTickLabelGapSize())*(r.length-1),p=s>0?Math.ceil(c/s)-1:0,d=!0;d;){for(var a=0;a<r.length;a++)a%(p+1)==0?(h(a),r[a].skipped=!1):r[a].skipped=!0;d=this.IsOverlapping(o,p),p++}for(var g=0,a=0;a<t.length;a++)null==t[a]||t[a].skipped||(e[a]=t[a].label,g++);return g},f.prototype._skipVertLabels=function(t,e,i){for(var n=.08*this.getTickLabelHeight(),r=function(t,e){return f._isOverlapping(t.y,t.y+t.h,e.y,e.y+e.h,n)},o=null,s=!1,a=0;a<t.length;a++)if(t[a]&&e[a]){if(t[a].alignTop(),e[a].alignBottom(),o&&r(o,e[a].measureDimensions())){s=!0;break}o=t[a].measureDimensions()}else if(t[a]||e[a]){var l=t[a]?t[a]:e[a];if(o&&r(o,l.measureDimensions())){s=!0;break}o=l.measureDimensions()}if(s){var u,h=null,c=null,p=null;for(a=0;a<t.length;a++)e[a]?(t[a]=null,e[a].alignMiddle(),u=e[a].measureDimensions(),c&&r(c,u)&&(t[h]=null),p=u):t[a]&&(u=t[a].measureDimensions(),p&&r(p,u)?t[a]=null:(c=u,h=a))}},f.prototype.getLabels=function(t,e){return e&&e>1?null:(this._level1Labels||this._generateLabels(t),1==e?this._level2Labels:this._level1Labels)},f.prototype.getMajorTickCoords=function(){var t=[];if(this._isOneLevel)for(var e=0;e<this._level1Coords.length;e++)null!=this._level1Coords[e]&&null!=this._level1Labels[e]&&t.push(this._level1Coords[e]);else for(var e=1;e<this._level2Coords.length;e++)null!=this._level2Coords[e]&&t.push(this._level2Coords[e]);return t},f.prototype.getMinorTickCoords=function(){if(this._isOneLevel)return[];for(var t=[],e=0;e<this._level1Coords.length;e++)null!=this._level1Coords[e]&&null!=this._level1Labels[e]&&t.push(this._level1Coords[e]);return t},f.prototype.getUnboundedValueAt=function(t){if(null==t)return null;var e=(t-this._startCoord)/(this._endCoord-this._startCoord);if(this._skipGaps){var i=this._timeToIndex(this.MinValue),n=this._timeToIndex(this.MaxValue);return this._indexToTime(i+e*(n-i))}return this.MinValue+e*(this.MaxValue-this.MinValue)},f.prototype.getUnboundedCoordAt=function(t){if(null==t)return null;var e;if(this._skipGaps){var i=this._timeToIndex(this.MinValue),n=this._timeToIndex(this.MaxValue),r=this._timeToIndex(t);e=(r-i)/(n-i)}else e=(t-this.MinValue)/(this.MaxValue-this.MinValue);return this._startCoord+e*(this._endCoord-this._startCoord)},f.prototype.linearToActual=function(t){return null==t?null:this._skipGaps?this._indexToTime(t):t},f.prototype.actualToLinear=function(t){return null==t?null:this._skipGaps?this._timeToIndex(t):t},f.prototype._timeToIndex=function(t){for(var e=this._groups.length,i=0;i<this._groups.length;i++)if(t<=this._groups[i]){e=i;break}var n=e-1,r=void 0!==this._groups[n]?this._groups[n]:this._groups[0]-this._averageInterval,o=void 0!==this._groups[e]?this._groups[e]:this._groups[this._groups.length-1]+this._averageInterval;return n+(t-r)/(o-r)},f.prototype._indexToTime=function(t){var e=Math.min(Math.max(Math.ceil(t),0),this._groups.length),i=e-1,n=void 0!==this._groups[i]?this._groups[i]:this._groups[0]-this._averageInterval,r=void 0!==this._groups[e]?this._groups[e]:this._groups[this._groups.length-1]+this._averageInterval;return n+(t-i)*(r-n)},f.prototype.getGroupWidth=function(){return this._skipGaps?Math.abs(this.getUnboundedCoordAt(this._indexToTime(1))-this.getUnboundedCoordAt(this._indexToTime(0))):Math.abs(this.getUnboundedCoordAt(this.MinValue+this._averageInterval)-this.getUnboundedCoordAt(this.MinValue))},f.prototype.getMinimumExtent=function(){return this._skipGaps?1:this._mixedFrequency?Math.min(this._timeRange/8,this._averageInterval):this._averageInterval},f.prototype.getStartOverflow=function(){return"top"!=this.Position&&"bottom"!=this.Position||!DvtAgent.isRightToLeft(this.getCtx())?this.StartOverflow:this.EndOverflow},f.prototype.getEndOverflow=function(){return"top"!=this.Position&&"bottom"!=this.Position||!DvtAgent.isRightToLeft(this.getCtx())?this.EndOverflow:this.StartOverflow},e}),define("ojs/internal-deps/dvt/DvtLegend",["./DvtToolkit"],function(t){var e=t,i=function(){};DvtObj.createSubclass(i,DvtBaseComponent,"DvtLegend"),i.newInstance=function(t,e,n){var r=new i;return r.Init(t,e,n),r},i.getDefaults=function(t){return(new r).getDefaults(t)},i.prototype.Init=function(t,e,n){i.superclass.Init.call(this,t,e,n),this.setId("legend1000"+Math.floor(1e9*Math.random())),this.Defaults=new r,this._eventManager=new o(this),this._eventManager.addListeners(this),this._peers=[],this._navigablePeers=[],this._bounds=null,this._titles=[]},i.prototype.SetOptions=function(t){t?(this.Options=this.Defaults.calcOptions(t),this._transferVisibilityProperties(this.Options.sections)):this.Options||(this.Options=this.GetDefaults())},i.prototype.getPreferredSize=function(t,e,i){this.SetOptions(t),this.getOptions().isLayout=!0;var n=new DvtRectangle(0,0,e,i),r=l.render(this,n);return this.getOptions().isLayout=!1,new DvtDimension(r.w,r.h)},i.prototype.render=function(t,e,i){this.SetOptions(t),isNaN(e)||isNaN(i)||(this.Width=e,this.Height=i),this.getOptions().isLayout=!1,this.removeChildren(),this._peers=[],this._navigablePeers=[],this._bounds=null,this._titles=[],DvtAgent.isTouchDevice()||this._eventManager.setKeyboardHandler(new s(this._eventManager,this)),this.UpdateAriaAttributes();var n=new DvtRectangle(0,0,this.Width,this.Height);this._contentDimensions=l.render(this,n);
var r=this.getOptions().highlightedCategories;return r&&r.length>0&&this.highlight(r),this._contentDimensions},i.prototype.highlight=function(t){this.getOptions().highlightedCategories=t&&t.length>0?t.slice():null,DvtCategoryRolloverHandler.highlight(t,this.__getObjects(),!0)},i.prototype.processEvent=function(t,e){var i=t.getType();if((i==DvtCategoryRolloverEvent.TYPE_OVER||i==DvtCategoryRolloverEvent.TYPE_OUT)&&"dim"==this.getOptions().hoverBehavior){var n=this.__getObjects();this!=e&&this.highlight(t.categories);for(var r=0;r<n.length;r++)if(n[r].getId()==t.getCategory()){this.container.scrollIntoView(n[r].getDisplayables()[0]);break}}this!=e&&i!=DvtShowPopupEvent.TYPE&&i!=DvtHidePopupEvent.TYPE||this.dispatchEvent(t)},i.prototype.getEventManager=function(){return this._eventManager},i.prototype.__registerObject=function(t){if(t.getDisplayables()[0]instanceof DvtButton)this._navigablePeers.push(t);else{var e=this.getOptions().hideAndShowBehavior;(null!=t.getDatatip()||null!=t.getAction()||t.isDrillable()||"none"!=e&&"off"!=e)&&this._navigablePeers.push(t),this._peers.push(t)}},i.prototype.__getObjects=function(){return this._peers},i.prototype.__getKeyboardObjects=function(){return this._navigablePeers},i.prototype.destroy=function(){this._eventManager&&(this._eventManager.removeListeners(this),this._eventManager.destroy(),this._eventManager=null),i.superclass.destroy.call(this)},i.prototype.__setBounds=function(t){this._bounds=t},i.prototype.__getBounds=function(){return this._bounds},i.prototype.__registerTitle=function(t){this._titles.push(t)},i.prototype.__getTitles=function(){return this._titles},i.prototype.getAutomation=function(){return new n(this)},i.prototype.getKeyboardFocus=function(){return null!=this._eventManager?this._eventManager.getFocus():null},i.prototype.setKeyboardFocus=function(t,e){if(null!=this._eventManager){for(var i=this.__getKeyboardObjects(),n=0;n<i.length;n++)if(i[n].getId()==t.getId()){this._eventManager.setFocusObj(i[n]),e&&i[n].showKeyboardFocusEffect();break}var r=this.getKeyboardFocus();if(r){var o=r.getDisplayables()[0];o.setAriaProperty("label",r.getAriaLabel()),this.getCtx().setActiveElement(o)}}},i.prototype.getDimensions=function(t){var e=new DvtRectangle(0,0,this.Width,this.Height);return t&&t!==this?this.ConvertCoordSpaceRect(e,t):e},i.prototype.getContentDimensions=function(t){return t&&t!==this?this.ConvertCoordSpaceRect(this._contentDimensions,t):this._contentDimensions},i.prototype.GetComponentDescription=function(){return DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,"LEGEND")},i.prototype._transferVisibilityProperties=function(t){if(t&&!(t.length<=0))for(var e=this.getOptions().hiddenCategories,i=0;i<t.length;i++){var n=t[i];n.sections&&(e=this._transferVisibilityProperties(n.sections));var r=n.items;if(r&&!(r.length<=0))for(var o=0;o<r.length;o++){var s=r[o],a=l.getItemCategory(s);"hidden"==s.categoryVisibility&&DvtArrayUtils.getIndex(e,a)<0&&e.push(a),s.categoryVisibility=null}}},i.prototype.UpdateAriaAttributes=function(){if(this.IsParentRoot()){var t=this.getOptions(),e=t.hideAndShowBehavior;("off"!=e&&"none"!=e||"dim"==t.hoverBehavior)&&(this.getCtx().setAriaRole("application"),this.getCtx().setAriaLabel(DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,"COLON_SEP_LIST",[DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,"DATA_VISUALIZATION"),DvtStringUtils.processAriaLabel(this.GetComponentDescription())])))}},i.prototype.isNavigable=function(){return this._navigablePeers.length>0};var n=function(t){this._legend=t,this._options=this._legend.getOptions()};DvtObj.createSubclass(n,DvtAutomation,"DvtLegendAutomation"),n.prototype.GetSubIdForDomElement=function(t){var e=this._legend.getEventManager().GetLogicalObject(t);if(e&&e instanceof a){var i=e.getData(),n=this._getIndicesFromItem(i,this._options);if(n)return"section"+n}return null},n.prototype._getIndicesFromItem=function(t,e){if(e.sections&&e.sections.length>0){for(var i=0;i<e.sections.length;i++){if(e.sections[i]==t)return"["+i+"]";var n=this._getIndicesFromItem(t,e.sections[i]);if(n)return"["+i+"]"+n}return null}if(e.items&&e.items.length>0){for(var r=0;r<e.items.length;r++)if(e.items[r]==t)return":item["+r+"]";return null}},n.prototype.getIndicesFromSeries=function(t,e){if(e.sections&&e.sections.length>0){for(var i=0;i<e.sections.length;i++){var n=this.getIndicesFromSeries(t,e.sections[i]);if(n)return"["+i+"]"+n}return null}if(e.items&&e.items.length>0){for(var r=0;r<e.items.length;r++)if(e.items[r].text==t.name)return":item["+r+"]";return null}},n.prototype.getLegendItem=function(t,e){var i=e.indexOf("["),n=e.indexOf("]");if(i>=0&&n>=0){var r=e.substring(i+1,n),o=e.indexOf(":");e=e.substring(n+1);var s=e.indexOf("["),a=e.indexOf("]");return s>=0&&a>=0?this.getLegendItem(t.sections[r],e):0==o?t.items[r]:t.sections[r]}},n.prototype.getDomElementForSubId=function(t){if(t==DvtAutomation.TOOLTIP_SUBID)return this.GetTooltipElement(this._legend);for(var e=this.getLegendItem(this._options,t),i=this._legend.__getObjects(),n=0;n<i.length;n++){var r=i[n].getData();if(e==r)return i[n].getDisplayables()[0].getElem()}return null},n.prototype.getTitle=function(){return this._options.title},n.prototype.getItem=function(t){for(var e,i=t.shift(),n=this._options;void 0!=i;)t.length>0?n=n.sections[i]:e=n.items[i],i=t.shift();return e?{text:e.text?e.text:null}:null},n.prototype.getSection=function(t){for(var e,i=t.shift(),n=this._options;void 0!=i;)t.length>0?n=n.sections[i]:e=n.sections[i],i=t.shift();var r={title:e.title?e.title:null,items:e.items?this._generateItemObjects(e.items):null,sections:e.sections?this._generateSectionObjects(e.sections):null};return r},n.prototype._generateItemObjects=function(t){for(var e=[],i=0;i<t.length;i++)e.push({text:t[i].text});return e},n.prototype._generateSectionObjects=function(t){for(var e=[],i=0;i<t.length;i++)e.push({title:t[i].title?t[i].title:null,items:t[i].items?this._generateItemObjects(t[i].items):null,sections:t[i].sections?this._generateSectionObjects(t[i].sections):null});return e};var r=function(){this.Init({skyros:r.VERSION_1,alta:r.SKIN_ALTA,next:r.SKIN_NEXT})};DvtObj.createSubclass(r,DvtBaseComponentDefaults,"DvtLegendDefaults"),r.SKIN_NEXT={skin:DvtCSSStyle.SKIN_NEXT,titleStyle:new DvtCSSStyle("color: #737373;"),_sectionTitleStyle:new DvtCSSStyle("color: #737373;"),layout:{titleGapWidth:17,titleGapHeight:9,symbolGapWidth:7,symbolGapHeight:4,rowGap:4,columnGap:10,sectionGapHeight:16,sectionGapWidth:24}},r.SKIN_ALTA={skin:DvtCSSStyle.SKIN_ALTA,textStyle:new DvtCSSStyle("font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;"),titleStyle:new DvtCSSStyle("font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 11px; color: #333333;"),_sectionTitleStyle:new DvtCSSStyle("font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 11px; color: #333333;")},r.VERSION_1={skin:DvtCSSStyle.SKIN_SKYROS,orientation:"vertical",position:null,backgroundColor:null,borderColor:null,textStyle:new DvtCSSStyle("font-family: tahoma, sans-serif; font-size: 11px; color: #333333;"),titleStyle:new DvtCSSStyle("font-family: tahoma, sans-serif; font-size: 12px; color: #003d5b;"),titleHalign:"start",hiddenCategories:[],hideAndShowBehavior:"off",hoverBehavior:"none",hoverBehaviorDelay:200,scrolling:"asNeeded",halign:"start",valign:"top",drilling:"off",_color:"#a6acb1",_markerShape:"square",_lineWidth:3,layout:{outerGapWidth:3,outerGapHeight:3,titleGapWidth:8,titleGapHeight:3,symbolGapWidth:5,symbolGapHeight:4,rowGap:0,columnGap:8,sectionGapHeight:6,sectionGapWidth:15},isLayout:!1},r.getGapSize=function(t,e){var i=Math.min(DvtTextUtils.getTextStringHeight(t.getCtx(),t.getOptions().textStyle)/14,1);return Math.ceil(e*i)};var o=function(t){this.Init(t.getCtx(),t.processEvent,t),this._legend=t};DvtObj.createSubclass(o,DvtEventManager,"DvtLegendEventManager"),o.prototype.OnClick=function(t){o.superclass.OnClick.call(this,t);var e=this.GetLogicalObject(t.target);if(e){var i=this.processHideShowEvent(e),n=this.handleClick(e,t);(i||n)&&t.stopPropagation()}},o.prototype.OnMouseOver=function(t){o.superclass.OnMouseOver.call(this,t);var e=this.GetLogicalObject(t.target);e&&this.UpdateActiveElement(e)},o.prototype.OnMouseOut=function(t){o.superclass.OnMouseOut.call(this,t);var e=this.GetLogicalObject(t.target)},o.prototype.HandleTouchClickInternal=function(t){var e=this.GetLogicalObject(t.target);if(e){var i=t.touchEvent,n=this.processHideShowEvent(e),r=this.handleClick(e,event);(n||r)&&i&&i.preventDefault()}},o.prototype.processHideShowEvent=function(t){var e=this._legend.getOptions().hideAndShowBehavior;if("none"==e||"off"==e)return!1;var i=t.getCategories?t.getCategories():null;if(!i||i.length<=0)return!1;var n=t.getCategories()[0],r=this._legend.getOptions().hiddenCategories||[];r=r.slice();for(var o=t.getDisplayables(),s=0;s<o.length;s++){var a=o[s];a instanceof DvtSimpleMarker?a.setHollow(t.getColor()):a instanceof DvtRect&&t.updateAriaLabel()}var u,h=i[0];return l.isCategoryHidden(n,this._legend)?(r.splice(DvtArrayUtils.getIndex(r,n),1),u=new DvtCategoryHideShowEvent(DvtCategoryHideShowEvent.TYPE_SHOW,h)):(r.push(n),u=new DvtCategoryHideShowEvent(DvtCategoryHideShowEvent.TYPE_HIDE,h)),u.hiddenCategories=r,this._legend.getOptions().hiddenCategories=r,this.FireEvent(u,this._legend),!0},o.prototype.handleClick=function(t,e){if(t&&t.getAction&&t.getAction())return this.FireEvent(new DvtActionEvent(DvtActionEvent.SUBTYPE_ACTION,t.getAction(),t.getId()),this._legend),!0;if(t instanceof a&&t.isDrillable()){var i=t.getId();return this.FireEvent(new DvtDrillEvent(i,i,null),this._legend),!0}var n=t instanceof DvtSimpleObjPeer?t.getParams():null;return n&&"title"==n.type&&n.isCollapsible?(this.toggleSectionCollapse(e,n.id),!0):!1},o.prototype.ProcessRolloverEvent=function(t,e,i){var n=this._legend.getOptions();if(!("none"==n.hoverBehavior||e.getDisplayables&&e.getDisplayables()[0]instanceof DvtButton)){var r=e.getCategories?e.getCategories():[];n.highlightedCategories=i?r.slice():null;var o=i?DvtCategoryRolloverEvent.TYPE_OVER:DvtCategoryRolloverEvent.TYPE_OUT,s=new DvtCategoryRolloverEvent(o,n.highlightedCategories),a=DvtStyleUtils.getTimeMilliseconds(n.hoverBehaviorDelay);this.RolloverHandler.processEvent(s,this._legend.__getObjects(),a,!0)}},o.prototype.onCollapseButtonClick=function(t,e){var i=e.getId();this.toggleSectionCollapse(t,i)},o.prototype.toggleSectionCollapse=function(t,e){for(var i=this._legend.getOptions(),n=0;n<e.length;n++)i=i.sections[e[n]];if(i.expanded="off"==i.expanded?"on":"off",t.type==DvtMouseEvent.CLICK){var r=this.GetLogicalObject(this.GetCurrentTargetForEvent(t));r.getNextNavigable&&this.setFocusObj(r.getNextNavigable(t))}var o=this._legend.getKeyboardFocus(),s=o?o.isShowingKeyboardFocusEffect():!1;this._legend.render(),o&&this._legend.setKeyboardFocus(o,s),this.hideTooltip();var a=this._legend.getContentDimensions();this.FireEvent(new DvtResizeEvent(a.w,a.h,a.x,a.y),this._legend)},o.prototype.GetTouchResponse=function(){return this._legend.getOptions()._isScrollingLegend?DvtEventManager.TOUCH_RESPONSE_TOUCH_HOLD:DvtEventManager.TOUCH_RESPONSE_TOUCH_START};var s=function(t,e){this.Init(t,e)};DvtObj.createSubclass(s,DvtKeyboardHandler,"DvtLegendKeyboardHandler"),s.prototype.Init=function(t,e){s.superclass.Init.call(this,t),this._legend=e},s.prototype.processKeyDown=function(t){var e=t.keyCode,i=this._eventManager.getFocus(),n=i&&i.getDisplayables()[0]instanceof DvtButton,r=null;if(null==i&&e==DvtKeyboardEvent.TAB){var o=this._legend.__getKeyboardObjects();o.length>0&&(DvtEventManager.consumeEvent(t),r=this.getDefaultNavigable(o))}else i&&(e==DvtKeyboardEvent.TAB?(DvtEventManager.consumeEvent(t),r=i):e==DvtKeyboardEvent.ENTER||e==DvtKeyboardEvent.SPACE?(e==DvtKeyboardEvent.ENTER&&this._eventManager.handleClick(i,t),n?this._eventManager.onCollapseButtonClick(t,i.getDisplayables()[0]):this._eventManager.processHideShowEvent(i),DvtEventManager.consumeEvent(t)):!n||e!=DvtKeyboardEvent.LEFT_ARROW&&e!=DvtKeyboardEvent.RIGHT_ARROW?r=s.superclass.processKeyDown.call(this,t):(this._eventManager.onCollapseButtonClick(t,i.getDisplayables()[0]),DvtEventManager.consumeEvent(t)));return r&&this._legend.container.scrollIntoView(r.getDisplayables()[0]),r};var a=function(t,e,i,n,r,o){this.Init(t,e,i,n,r,o)};DvtObj.createSubclass(a,DvtObj,"DvtLegendObjPeer"),a.prototype.Init=function(t,e,i,n,r,o){if(this._legend=t,this._displayables=e,this._item=i,this._category=l.getItemCategory(this._item),this._id=this._category?this._category:i.title,this._action=i.action,this._drillable=o,this._spb=i._spb,this._tooltip=n,this._datatip=r,this._isShowingKeyboardFocusEffect=!1,this._action||this._drillable)for(var s=0;s<this._displayables.length;s++)this._displayables[s].setCursor(DvtSelectionEffectUtils.getSelectingCursor())},a.associate=function(t,e,i,n,r,o){if(!t||!i)return null;var s=new a(e,t,i,n,r,o);e.__registerObject(s);for(var l=0;l<t.length;l++)e.getEventManager().associate(t[l],s);return s},a.prototype.getData=function(){return this._item},a.prototype.getColor=function(){return this._item.color},a.prototype.getId=function(){return this._id},a.prototype.getDisplayables=function(){return this._displayables},a.prototype.getCategories=function(t){return null!=this._category?[this._category]:null},a.prototype.getAction=function(){return this._action},a.prototype.isDrillable=function(){return this._drillable},a.prototype.getShowPopupBehaviors=function(){return this._spb},a.prototype.getAriaLabel=function(){var t=[],e=this._legend.getOptions(),i=this._legend.getOptions().hideAndShowBehavior,n=l.isCategoryHidden(this._category,this._legend),r=this.getData();return this._displayables[0]instanceof DvtButton?(t.push(DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,"off"==r.expanded?"STATE_COLLAPSED":"STATE_EXPANDED")),DvtDisplayable.generateAriaLabel(r.title,t)):("off"!=i&&"none"!=i&&t.push(DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,n?"STATE_HIDDEN":"STATE_VISIBLE")),this.isDrillable()&&t.push(DvtBundle.getTranslation(e,"stateDrillable",DvtBundle.UTIL_PREFIX,"STATE_DRILLABLE")),null!=r.shortDesc?DvtDisplayable.generateAriaLabel(r.shortDesc,t):t.length>0?DvtDisplayable.generateAriaLabel(r.text,t):null)},a.prototype.updateAriaLabel=function(){!DvtAgent.deferAriaCreation()&&this._displayables[0]&&this._displayables[0].setAriaProperty("label",this.getAriaLabel())},a.prototype.getNextNavigable=function(t){if(t.type==DvtMouseEvent.CLICK)return this;var e=this._legend.__getKeyboardObjects();return DvtKeyboardHandler.getNextNavigable(this,t,e,!0)},a.prototype.getKeyboardBoundingBox=function(t){return this._displayables[0]?this._displayables[0].getDimensions(t):new DvtRectangle(0,0,0,0)},a.prototype.getTargetElem=function(){return this._displayables[0]?this._displayables[0].getElem():null},a.prototype.showKeyboardFocusEffect=function(){this._isShowingKeyboardFocusEffect=!0,this._displayables[0]&&(this._displayables[0]instanceof DvtButton?this._displayables[0].drawOverState():this._displayables[0].setSolidStroke(DvtAgent.getFocusColor()))},a.prototype.hideKeyboardFocusEffect=function(){this._isShowingKeyboardFocusEffect=!1,this._displayables[0]&&(this._displayables[0]instanceof DvtButton?this._displayables[0].drawUpState():this._displayables[0].setStroke(null))},a.prototype.isShowingKeyboardFocusEffect=function(){return this._isShowingKeyboardFocusEffect},a.prototype.getTooltip=function(t){return this._tooltip},a.prototype.getDatatip=function(t){return this._datatip},a.prototype.getDatatipColor=function(t){return this._item.color};var l=new Object;return DvtObj.createSubclass(l,DvtObj,"DvtLegendRenderer"),l._MAX_LINE_WIDTH=5,l._MAX_LINE_WIDTH_WITH_MARKER=2,l._LINE_MARKER_SIZE_FACTOR=.6,l._DEFAULT_SYMBOL_SIZE=10,l._BUTTON_SIZE=12,l._FOCUS_GAP=2,l.render=function(t,e){var i=t.getOptions(),n=t.getCtx(),o=DvtAgent.isRightToLeft(n);i.isLayout||l._renderBackground(t,e);var s=new DvtSimpleScrollableContainer(n,e.w,e.h),a=new DvtContainer(n);s.getScrollingPane().addChild(a),t.addChild(s),t.container=s;var u=r.getGapSize(t,i.layout.outerGapWidth),h=r.getGapSize(t,i.layout.outerGapHeight);if(e.x+=u,e.y+=h,e.w-=2*u,e.h-=2*h,t.__setBounds(e),e.w<=0||e.h<=0)return new DvtDimension(0,0);var c=l._renderContents(t,a,new DvtRectangle(e.x,e.y,e.w,e.h));if(0==c.w||0==c.h)return new DvtDimension(0,0);s.prepareContentPane(),c.h>e.h?(c.h=e.h,i._isScrollingLegend=!0):i._isScrollingLegend=!1;var p=0,d=0,g=null!=i.hAlign?i.hAlign:i.halign;"center"==g?p=e.x-c.x+(e.w-c.w)/2:"end"==g&&(p=o?e.x-c.x:e.x-c.x+e.w-c.w);var f=null!=i.vAlign?i.vAlign:i.valign;"middle"==f?d=e.y-c.y+(e.h-c.h)/2:"bottom"==f&&(d=e.y-c.y+e.h-c.h);var _=new DvtRectangle(c.x+p-u,c.y+d-h,c.w+2*u,c.h+2*h);if(i.isLayout)return _;(p||d)&&a.setTranslate(p,d);for(var v=t.__getTitles(),m=0;m<v.length;m++)DvtLayoutUtils.align(c,v[m].halign,v[m].text,v[m].text.measureDimensions().w);return _},l._renderContents=function(t,e,i){var n=t.getOptions();i=i.clone();var o=l._renderTitle(t,e,n.title,i,null,!0);if(o){var s=o.measureDimensions(),a=r.getGapSize(t,n.layout.titleGapHeight);i.y+=s.h+a,i.h-=Math.floor(s.h+a)}var u=l._renderSections(t,e,n.sections,i,[]);return o?s.getUnion(u):u},l._renderBackground=function(t,e){var i=t.getOptions(),n=i.backgroundColor,r=i.borderColor;if(n||r){var o=new DvtRect(t.getCtx(),e.x,e.y,e.w,e.h);n?o.setSolidFill(n):o.setInvisibleFill(),r&&(o.setSolidStroke(r),o.setPixelHinting(!0)),t.addChild(o)}},l._renderTitle=function(t,e,i,n,r,o,s){var a=t.getOptions(),l=e.getCtx(),u=DvtAgent.isRightToLeft(l);if(!i)return null;var h=new DvtOutputText(l,i,n.x,n.y),c=a.titleStyle;if(r&&r.titleStyle?c=new DvtCSSStyle(r.titleStyle):r&&a._sectionTitleStyle&&(c=a._sectionTitleStyle),h.setCSSStyle(c),DvtTextUtils.fitText(h,n.w,1/0,e)){if(u&&h.setX(n.x+n.w-h.measureDimensions().w),a.isLayout)e.removeChild(h);else{var p={};if(p.isCollapsible=r&&("on"==r.collapsible||1==r.collapsible),t.getEventManager().associate(h,new DvtSimpleObjPeer(h.getUntruncatedTextString(),null,null,p)),o){var d=r&&r.titleHalign?r.titleHalign:a.titleHalign;t.__registerTitle({text:h,halign:d})}}return h}return null},l._renderSections=function(t,e,i,n,o){var s=t.getOptions();null==s.symbolWidth&&null==s.symbolHeight?(s.symbolWidth=l._DEFAULT_SYMBOL_SIZE,s.symbolHeight=l._DEFAULT_SYMBOL_SIZE):(null==s.symbolWidth?s.symbolWidth=s.symbolHeight:null==s.symbolHeight&&(s.symbolHeight=s.symbolWidth),s.symbolWidth=parseInt(s.symbolWidth),s.symbolHeight=parseInt(s.symbolHeight));for(var a,u=r.getGapSize(t,s.layout.sectionGapHeight),h=r.getGapSize(t,s.layout.titleGapHeight),c=r.getGapSize(t,s.layout.sectionGapWidth),p=l._getRowHeight(t),d="vertical"!=s.orientation,g=null,f=n.clone(),_=0;_<i.length;_++){var v=o.concat([_]),m="off"==i[_].expanded||0==i[_].expanded?h:u;d?(a=l._renderHorizontalSection(t,e,i[_],f,p),a.w>f.w?(f.w<n.w&&(n.y+=a.h+m,n.h-=a.h+m),a=a.w<=n.w?l._renderHorizontalSection(t,e,i[_],n,p):l._renderVerticalSection(t,e,i[_],n,p,v,!0),n.y+=a.h+m,n.h-=a.h+m,f=n.clone()):(f.w-=a.w+c,DvtAgent.isRightToLeft(t.getCtx())||(f.x+=a.w+c))):(a=l._renderVerticalSection(t,e,i[_],n,p,v,!1),n.y+=a.h+m,n.h-=a.h+m),g=g?g.getUnion(a):a}return g},l._createButton=function(t,e,i,n,r,o,s,u,h,c,p){var d=l._createButtonImage(t,n,r+"Enabled",o,s),g=l._createButtonImage(t,n,r+"Over",o,s),f=l._createButtonImage(t,n,r+"Down",o,s),_=new DvtButton(t,d,g,f,null,h,c,p),v=a.associate([_],e,i,u,null,!1);return _.setAriaRole("button"),v.updateAriaLabel(),_},l._createButtonImage=function(t,e,i,n,r){var o=DvtAgent.isRightToLeft(t)?"RTL":"",s=e[i+o]?e[i+o]:e[i],a=new DvtImage(t,s,n,r,l._BUTTON_SIZE,l._BUTTON_SIZE);return a.setInvisibleFill(),a},l._renderVerticalSection=function(t,e,i,n,o,s,a){if(i){var u=t.getOptions(),h=r.getGapSize(t,u.layout.symbolGapWidth),c=r.getGapSize(t,u.layout.rowGap),p=r.getGapSize(t,u.layout.columnGap),d=t.getCtx(),g=DvtAgent.isRightToLeft(d),f=n.clone();"off"!=u.scrolling&&(f.h=1/0);var _,v="on"==i.collapsible||1==i.collapsible;if(v){var m=g?f.x+f.w-l._BUTTON_SIZE:f.x;if(!u.isLayout){var y="off"==i.expanded||0==i.expanded,S=y?"closed":"open",E=DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,y?"EXPAND":"COLLAPSE",null),T=t.getEventManager(),b=l._createButton(d,t,i,u._resources,S,m,f.y,E,s,T.onCollapseButtonClick,T);e.addChild(b)}_=new DvtRectangle(m,f.y,l._BUTTON_SIZE,l._BUTTON_SIZE);var C=r.getGapSize(t,u.layout.symbolGapWidth);g||(f.x+=l._BUTTON_SIZE+C),f.w-=l._BUTTON_SIZE+C}var A=l._renderTitle(t,e,i.title,f,i,!v&&s.length<=1,s),D=A?A.measureDimensions():new DvtRectangle(g?f.x+f.w:f.x,f.y,0,0),I=_?D.getUnion(_):D;if(!i.items&&!i.sections||"off"==i.expanded||0==i.expanded)return I;if(I.h>0){var x=r.getGapSize(t,u.layout.titleGapHeight);f.y+=I.h+x,f.h-=I.h+x}if(i.sections){var O=l._renderSections(t,e,i.sections,f,s);I=I.getUnion(O)}if(!i.items)return I;var M=l._calcColumns(t,f,o,i.items,a),R=M.numCols,w=M.numRows,P=M.width,L=f.y;if(0==w||0==R)return I;var N=w*(o+c)-c,k=Math.min(R*(P+p)-p,f.w),H=new DvtRectangle(g?f.x+f.w-k:f.x,f.y,k,N);if(I=I.getUnion(H),u.isLayout)return I;for(var F=P-u.symbolWidth-h,B=0,U=1,G=i.items.length,j=0;G>j;j++){var V=i.items[j];if(l._createLegendItem(t,e,V,f,F,o,j),f.y+=o+c,B++,B===w&&U!==R&&(f.y=L,f.w-=P+p,g||(f.x+=P+p),B=0,U++),B===w)break}return I}},l._renderHorizontalSection=function(t,e,i,n,o){if(i){var s=t.getOptions(),a=s.symbolWidth,u=r.getGapSize(t,s.layout.symbolGapWidth),h=r.getGapSize(t,s.layout.columnGap),c=r.getGapSize(t,s.layout.titleGapWidth),p=i.items.length,d=DvtAgent.isRightToLeft(t.getCtx()),g=n.clone(),f=l._renderTitle(t,e,i.title,n,i,!1),_=f?f.measureDimensions():new DvtRectangle(d?n.x+n.w:n.x,n.y,0,0);if(!i.items)return _;_.w>0&&(g.w-=_.w+c,d||(g.x+=_.w+c));var v,m,y,S=[],E=n.w-g.w;for(y=0;p>y;y++)v=i.items[y],m=Math.ceil(DvtTextUtils.getTextStringWidth(t.getCtx(),v.text,s.textStyle)),E+=m+a+u+h,S.push(m);p>0&&(E-=h);var T=new DvtRectangle(d?n.x+n.w-E:n.x,n.y,E,Math.max(o,_.h));if(s.isLayout||E>n.w)return e.removeChild(f),T;var b;for(y=0;p>y;y++)v=i.items[y],l._createLegendItem(t,e,v,g,S[y],o,y),b=S[y]+a+u,g.w-=b+h,d||(g.x+=b+h);return T}},l._calcColumns=function(t,e,i,n,o){for(var s=t.getOptions(),a=0,l=0;l<n.length;l++){var u=n[l],h=DvtTextUtils.getTextStringWidth(t.getCtx(),u.text,s.textStyle);h>a&&(a=h)}var c,p,d,g=s.symbolWidth,f=r.getGapSize(t,s.layout.symbolGapWidth),_=r.getGapSize(t,s.layout.rowGap),v=r.getGapSize(t,s.layout.columnGap),m=Math.ceil(g+f+a);o?(d=Math.min(Math.floor((e.w+v)/(m+v)),n.length),c=Math.min(Math.floor((e.h+_)/(i+_)),Math.ceil(n.length/d)),d=Math.ceil(n.length/c),c=Math.ceil(n.length/d)):e.h==1/0?(d=1,c=n.length):(c=Math.min(Math.floor((e.h+_)/(i+_)),n.length),d=Math.ceil(n.length/c),c=Math.ceil(n.length/d));var y=(e.w-v*(d-1))/d;return p=Math.min(m,y),g>p?{width:0,numCols:0,numRows:0}:{width:p,numCols:d,numRows:c}},l._getRowHeight=function(t){var e=t.getOptions(),i=new DvtOutputText(t.getCtx(),"Test");i.setCSSStyle(e.textStyle),i.alignMiddle();var n=DvtTextUtils.guessTextDimensions(i).h,o=e.symbolHeight+r.getGapSize(t,e.layout.symbolGapHeight);return Math.ceil(Math.max(n,o))},l._createLegendItem=function(t,e,i,n,o,s,u){var h,c=t.getOptions(),p=t.getCtx(),d=DvtAgent.isRightToLeft(p),g=c.symbolWidth,f=r.getGapSize(t,c.layout.symbolGapWidth),_=d?n.x+n.w-g:n.x,v=d?n.x+n.w-g-f:n.x+g+f,m=l._createLegendSymbol(t,_,n.y,s,i,u),y=i.text;if(y){var S=c.textStyle;h=l._createLegendText(e,o,y,S),h&&(h.setX(v),DvtTextUtils.centerTextVertically(h,n.y+s/2),d&&h.alignRight())}e.addChild(m);var E=new DvtRect(p,d?v-o-l._FOCUS_GAP:_-l._FOCUS_GAP,n.y-l._FOCUS_GAP,g+f+o+2*l._FOCUS_GAP,s+2*l._FOCUS_GAP);E.setInvisibleFill();var T=c.hideAndShowBehavior;"none"!=T&&"off"!=T&&E.setCursor("pointer"),e.addChild(E);var b=[E,m];null!=h&&b.push(h);var C=a.associate(b,t,i,null!=h?h.getUntruncatedTextString():null,i.shortDesc,l._isItemDrillable(t,i));l.isCategoryHidden(l.getItemCategory(i),t)&&m.setHollow(C.getColor()),("none"!=T&&"off"!=T||null!=i.shortDesc)&&(E.setAriaRole("img"),C.updateAriaLabel())},l._isItemDrillable=function(t,e){return"on"==e.drilling?!0:"off"==e.drilling?!1:"on"==t.getOptions().drilling},l._createLegendText=function(t,e,i,n){var r=new DvtOutputText(t.getCtx(),i);return r.setCSSStyle(n),r=DvtTextUtils.fitText(r,e,1/0,t)?r:null},l._createLegendSymbol=function(t,e,i,n,r,o){var s=t.getOptions();r.markerShape||(r.markerShape=s._markerShape),r.color||(r.color=s._color),r.lineWidth||(r.lineWidth=s._lineWidth);var a,u=s.symbolWidth,h=s.symbolHeight,c=i+n/2,p=e+u/2,d=null!=r.type?r.type:r.symbolType;return"line"==d?(r.lineWidth=Math.min(r.lineWidth,l._MAX_LINE_WIDTH),a=l._createLine(t.getCtx(),e,i,u,n,r)):"lineWithMarker"==d?(r.lineWidth=Math.min(r.lineWidth,l._MAX_LINE_WIDTH_WITH_MARKER),a=l._createLine(t.getCtx(),e,i,u,n,r),l.isCategoryHidden(l.getItemCategory(r),t)||a.addChild(l._createMarker(t,p,c,u*l._LINE_MARKER_SIZE_FACTOR,h*l._LINE_MARKER_SIZE_FACTOR,r))):a="image"==d?l._createImage(t,e,i,u,h,n,r):l._createMarker(t,p,c,u,h,r),a},l._createImage=function(t,e,i,n,r,o,s){var a=t.getCtx(),l=i+(o-r)/2;return new DvtImage(a,s.source,e,l,n,r)},l._createMarker=function(t,e,i,n,r,o){var s,a=t.getCtx(),l=t.getOptions(),u=o.markerShape,h=o.markerColor?o.markerColor:o.color,c=o.pattern;if(c&&"none"!=c?(s=new DvtSimpleMarker(a,u,l.skin,0,0,n,r),s.setFill(new DvtPatternFill(c,h,"#FFFFFF")),s.setTranslate(e,i)):(s=new DvtSimpleMarker(a,u,l.skin,e,i,n,r),s.setSolidFill(h)),o.borderColor){var p=o._borderWidth?o._borderWidth:1;s.setSolidStroke(o.borderColor,null,p)}return"square"==u&&s.setPixelHinting(!0),s},l._createLine=function(t,e,i,n,r,o){var s=i+r/2,a=new DvtLine(t,e,s,e+n,s),l=new DvtSolidStroke(o.color,1,o.lineWidth),u=o.lineStyle;return"dashed"==u?l.setType(DvtStroke.convertTypeString(u),"4,2,4"):"dotted"==u&&l.setType(DvtStroke.convertTypeString(u),"2"),a.setStroke(l),a.setPixelHinting(!0),a},l.getItemCategory=function(t){var e=null;return e=t.categories&&t.categories.length>0?t.categories[0]:t.id?t.id:t.text},l.isCategoryHidden=function(t,e){var i=e.getOptions().hiddenCategories;return!i||i.length<=0?!1:-1!==DvtArrayUtils.getIndex(i,t)},e}),define("ojs/internal-deps/dvt/DvtOverview",["./DvtToolkit"],function(t){var e=t,i=new Object;i.supportsTouch=function(){return DvtAgent.isTouchDevice()},DvtObj.createSubclass(i,DvtObj,"DvtTimeUtils"),i.getDatePosition=function(t,e,i,n){var r=(i-t)*n,o=e-t;return 0==r||0==o?0:r/o},i.getPositionDate=function(t,e,i,n){var r=i*(e-t);return 0==r||0==n?t:r/n+t};var n=function(t,e,i){this.Init(t,e,i)};DvtObj.createSubclass(n,DvtContainer,"DvtOverview"),n.MIN_WINDOW_SIZE=10,n.DEFAULT_VERTICAL_TIMEAXIS_SIZE=40,n.DEFAULT_HORIZONTAL_TIMEAXIS_SIZE=20,n.HANDLE_PADDING_SIZE=20,n._DEFAULT_AXIS_LABEL_PADDING=5,n._DEFAULT_WINDOW_BORDER_WIDTH=1,n.prototype.Init=function(t,e,r){n.superclass.Init.call(this,t),this._callback=e,this._callbackObj=r,this.isFlashEnvironment()?this._lastChildIndex=7:this._lastChildIndex=6;var o=null!=this._callback||null!=this._callbackObj;o&&(this.EventManager=new s(this,t,e,r),this.EventManager.addListeners(this),i.supportsTouch()?(this.addEvtListener(DvtTouchEvent.TOUCHSTART,this.HandleTouchStart,!1,this),this.addEvtListener(DvtTouchEvent.TOUCHMOVE,this.HandleTouchMove,!1,this),this.addEvtListener(DvtTouchEvent.TOUCHEND,this.HandleTouchEnd,!1,this),this.addEvtListener(DvtMouseEvent.CLICK,this.HandleShapeClick,!1,this)):(this.addEvtListener(DvtMouseEvent.MOUSEOVER,this.HandleShapeMouseOver,!1,this),this.addEvtListener(DvtMouseEvent.MOUSEOUT,this.HandleShapeMouseOut,!1,this),this.addEvtListener(DvtMouseEvent.CLICK,this.HandleShapeClick,!1,this),this.addEvtListener(DvtKeyboardEvent.KEYDOWN,this.HandleKeyDown,!1,this),this.addEvtListener(DvtKeyboardEvent.KEYUP,this.HandleKeyUp,!1,this))),this._initPos=0},n.prototype.setViewportRange=function(t,e,i){null==i&&(i=this.Width);var n=this.getDatePosition(t),r=this.getDatePosition(e);if(!(n<this.getMinimumPosition()||r>this.getMaximumPosition())){var o=Math.max(r-n,this.getMinimumWindowSize());if(o>0&&n>=0&&i>=r){var s=this.getSlidingWindow();this.isHorizontalRTL()?this.setSlidingWindowPos(s,i-(n+o)):this.setSlidingWindowPos(s,n),this.setSlidingWindowSize(s,o),this.ScrollTimeAxis()}}},n.prototype.setInitialPosition=function(t){t>=this.getMinimumPosition()&&t<=this.getMaximumPosition()&&(this._initPos=t)},n.prototype.isFeatureOff=function(t){return null==this._featuresOff?!1:-1!=DvtArrayUtils.getIndex(this._featuresOff,t)},n.prototype.isAnimationOnClick=function(){return!("off"===this._animationOnClick)},n.prototype.render=function(t,e,n){if(null==t){var r=this._start,o=this._end,s=this.getSlidingWindow(),a=this.getSlidingWindowPos(s);null!=s&&0!=a&&(this._renderStart=i.getPositionDate(r,o,a,this.Width)),this.removeChildren()}if(null!=e&&null!=n&&(this.Width=e,this.Height=n),t){var l=this.Parse(t);this._applyParsedProperties(l)}var u=null!=this._callback||null!=this._callbackObj;this.createBackground(e,n),u&&this.createSlidingWindow(e,n),this.updateTimeAxis(e,n),this.parseFilledTimeRangesXML(e,n),this.updateCurrentTime(e,n),this.parseDataXML(e,n),u&&(this.createBorderAroundSlidingWindow(e,n),this.isFlashEnvironment()&&(this._resizeArrow=this.createResizeArrow()),this.updateSlidingWindow(e,n)),null!=this._initialFocusTime&&(this._initPos=Math.max(0,i.getDatePosition(this._start,this._end,this._initialFocusTime,this._width))),this._initPos>0&&this.longScrollToPos(this._initPos)},n.prototype.getParser=function(t){return new r(this)},n.prototype.Parse=function(t){var e=this.getParser(t);return e.parse(t)},n.prototype._applyParsedProperties=function(t){this._start=t.start,this._end=t.end,this._width=t.width,this._renderStart=t.renderStart,this._currentTime=t.currentTime,this._initialFocusTime=t.initialFocusTime,this._animationOnClick=t.animationOnClick,this._leftMargin=Math.max(0,t.leftMargin),this._rightMargin=Math.max(0,t.rightMargin),isNaN(this._leftMargin)&&(this._leftMargin=0),isNaN(this._rightMargin)&&(this._rightMargin=0),this._orientation=t.orientation,this._overviewPosition=t.overviewPosition,this._isRtl=t.isRtl,null!=t.featuresOff&&(this._featuresOff=t.featuresOff.split(" ")),null!=t.minimumWindowSize&&t.minimumWindowSize>0&&(this._minimumWindowSize=t.minimumWindowSize),this._borderStyles=t.borderStyles,this._timeAxisInfo=t.timeAxisInfo,null!=t.timeAxisInfo&&(this._ticks=this._timeAxisInfo.ticks),this._formattedTimeRanges=t.formattedTimeRanges,this._borderTopStyle=t.borderTopStyle,this._borderTopColor=t.borderTopColor,this._windowBackgroundColor=t.windowBackgroundColor,this._windowBackgroundAlpha=t.windowBackgroundAlpha,this._windowBorderTopStyle=t.windowBorderTopStyle,this._windowBorderRightStyle=t.windowBorderRightStyle,this._windowBorderBottomStyle=t.windowBorderBottomStyle,this._windowBorderLeftStyle=t.windowBorderLeftStyle,this._windowBorderTopColor=t.windowBorderTopColor,this._windowBorderRightColor=t.windowBorderRightColor,this._windowBorderBottomColor=t.windowBorderBottomColor,this._windowBorderLeftColor=t.windowBorderLeftColor,this._handleTextureColor=t.handleTextureColor,this._handleFillColor=t.handleFillColor,this._handleBackgroundImage=t.handleBackgroundImage,this._handleWidth=t.handleWidth,this._handleHeight=t.handleHeight,this._overviewBackgroundColor=t.overviewBackgroundColor,this._currentTimeIndicatorColor=t.currentTimeIndicatorColor,this._timeIndicatorColor=t.timeIndicatorColor,this._timeAxisBarColor=t.timeAxisBarColor,this._timeAxisBarOpacity=t.timeAxisBarOpacity,this._leftFilterPanelColor=t.leftFilterPanelColor,this._leftFilterPanelAlpha=t.leftFilterPanelAlpha,this._rightFilterPanelColor=t.rightFilterPanelColor,this._rightFilterPanelAlpha=t.rightFilterPanelAlpha},n.prototype.getDatePosition=function(t){return Math.max(0,i.getDatePosition(this._start,this._end,t,this.getOverviewSize()))+this._leftMargin},n.prototype.getPositionDate=function(t){return i.getPositionDate(this._start,this._end,Math.max(0,t-this._leftMargin),this.getOverviewSize())},n.prototype.isRTL=function(){return"true"==this._isRtl},n.prototype.isHorizontalRTL=function(){return this.isRTL()&&!this.isVertical();
},n.prototype.isVertical=function(){return"vertical"==this._orientation},n.prototype.isOverviewAbove=function(){return"above"==this._overviewPosition},n.prototype.setMargins=function(t,e){!isNaN(t)&&null!=t&&t>0&&(this._leftMargin=t),!isNaN(e)&&null!=e&&e>0&&(this._rightMargin=e)},n.prototype.getOverviewSize=function(){return this.isVertical()?this.Height-this._leftMargin-this._rightMargin:this.Width-this._leftMargin-this._rightMargin},n.prototype.getMinimumPosition=function(){return this._leftMargin},n.prototype.getMaximumPosition=function(){return this.isVertical()?this.Height-this._rightMargin:this.Width-this._rightMargin},n.prototype.getMinimumWindowSize=function(){return null!=this._minWinSize?this._minWinSize:null!=this._minimumWindowSize?(this._minWinSize=i.getDatePosition(this._start,this._end,this._start+this._minimumWindowSize,this.getOverviewSize()),this._minWinSize):n.MIN_WINDOW_SIZE},n.prototype.getGrippySize=function(){return 10},n.prototype.getHandleStart=function(){return i.supportsTouch()?this.getHandleSize()/2:0},n.prototype.getHandleSize=function(){return i.supportsTouch()?30:10},n.prototype.isHandle=function(t){var e=t.getId();return"lh"==e||"rh"==e||"lhb"==e||"rhb"==e||"grpy"==e||"lbgrh"==e||"rbgrh"==e||null!=t.getParent()&&"grpy"==t.getParent().getId()},n.prototype.getTimeAxisWidth=function(){if(null==this._timeAxisInfo)return 0;if(null==this._timeAxisWidth){var t=parseInt(this._timeAxisInfo.width,10);!isNaN(t)&&t<this.Width?this._timeAxisWidth=t:this._timeAxisWidth=n.DEFAULT_VERTICAL_TIMEAXIS_SIZE}return this._timeAxisWidth},n.prototype.getTimeAxisHeight=function(){if(null==this._timeAxisInfo)return 0;if(null==this._timeAxisHeight){var t=parseInt(this._timeAxisInfo.height,10);!isNaN(t)&&t<this.Height?this._timeAxisHeight=t:this._timeAxisHeight=n.DEFAULT_HORIZONTAL_TIMEAXIS_SIZE}return this._timeAxisHeight},n.prototype.getPageX=function(t){return i.supportsTouch()&&null!=t.targetTouches?t.targetTouches.length>0?t.targetTouches[0].pageX:null:t.pageX},n.prototype.getPageY=function(t){return i.supportsTouch()&&null!=t.targetTouches?t.targetTouches.length>0?t.targetTouches[0].pageY:null:t.pageY},n.prototype.isLeftAndRightFilterRendered=function(){return!1},n.prototype.getSlidingWindow=function(){return this.getChildAt(1)},n.prototype.getLeftBackground=function(){return this.isLeftAndRightFilterRendered()?this.getChildAt(3):null},n.prototype.getRightBackground=function(){return this.isLeftAndRightFilterRendered()?this.getChildAt(4):null},n.prototype.getLeftBackgroundHandle=function(){return this.isLeftAndRightFilterRendered()&&!this.isFeatureOff("zoom")?this.getChildAt(5):null},n.prototype.getRightBackgroundHandle=function(){return this.isLeftAndRightFilterRendered()&&!this.isFeatureOff("zoom")?this.getChildAt(6):null},n.prototype.getLeftHandle=function(){var t=this._lastChildIndex;return this.getChildAt(this.getNumChildren()-t)},n.prototype.getRightHandle=function(){var t=this._lastChildIndex-1;return this.getChildAt(this.getNumChildren()-t)},n.prototype.getLeftTopBar=function(){var t=this._lastChildIndex-2;return this.getChildAt(this.getNumChildren()-t)},n.prototype.getRightTopBar=function(){var t=this._lastChildIndex-3;return this.getChildAt(this.getNumChildren()-t)},n.prototype.getBottomBar=function(){var t=this._lastChildIndex-4;return this.getChildAt(this.getNumChildren()-t)},n.prototype.getTopBar=function(){var t=this._lastChildIndex-5;return this.getChildAt(this.getNumChildren()-t)},n.prototype.setLinePos=function(t,e,i){this.isVertical()?(-1!=e&&t.setY1(e),-1!=i&&t.setY2(i)):(-1!=e&&t.setX1(e),-1!=i&&t.setX2(i))},n.prototype.getLinePos1=function(t){return this.isVertical()?t.getY1():t.getX1()},n.prototype._findDrawable=function(t){var e=t.target;if(null!=e){var i=e.getId();if(null==i)return null;if("_border"==i.substr(i.length-7))return this.getChildAfter(e);if("tick"!=i.substr(0,4)&&"ltb"!=i&&"rtb"!=i&&"bb"!=i&&"tab"!=i)return e}return null},n.prototype.isMovable=function(t){return!("window"!=t.getId()&&"ftr"!=t.getId()&&"sta"!=t.getId()&&!this.isHandle(t))},n.prototype.isFlashEnvironment=function(){return window&&window.isFlashEnvironment},n.prototype.createBackground=function(t,e){var i=new DvtRect(this.getCtx(),0,0,t,e,"bg");return i.setSolidFill(this._overviewBackgroundColor),i.setPixelHinting(!0),this.addChild(i),i},n.prototype.createSlidingWindow=function(t,e){var n=this.isVertical();if(n)var r=new DvtRect(this.getCtx(),0,0,t,0,"window");else r=new DvtRect(this.getCtx(),0,0,0,e,"window");if(r.setSolidFill(this._windowBackgroundColor,this._windowBackgroundAlpha),r.setPixelHinting(!0),!this.isFeatureOff("zoom")){var o=this.getHandleSize(),s=this.getHandleStart(),a=this.getGrippySize();if(n){var l=(t-36)/2,u=DvtPathUtils.moveTo(l,0)+DvtPathUtils.quadTo(l+3,6,l+8,8)+DvtPathUtils.lineTo(l+28,8)+DvtPathUtils.quadTo(l+33,6,l+36,0);DvtPathUtils.closePath();var h=DvtPathUtils.moveTo(l,0)+DvtPathUtils.quadTo(l+3,-6,l+8,-8)+DvtPathUtils.lineTo(l+28,-8)+DvtPathUtils.quadTo(l+33,-6,l+36,0);DvtPathUtils.closePath();var c=new DvtRect(this.getCtx(),0,0,t,o,"lhb"),p=new DvtRect(this.getCtx(),0,0,t,o,"rhb"),d="row-resize";if(this._handleBackgroundImage)var g=this.createGrippyImage(t,a),f=this.createGrippyImage(t,a);else g=this.createGrippy(l),f=this.createGrippy(l)}else{var _=(e-36)/2;u=DvtPathUtils.moveTo(0,_)+DvtPathUtils.quadTo(6,_+3,8,_+8)+DvtPathUtils.lineTo(8,_+28)+DvtPathUtils.quadTo(6,_+33,0,_+36),DvtPathUtils.closePath(),h=DvtPathUtils.moveTo(0,_)+DvtPathUtils.quadTo(-6,_+3,-8,_+8)+DvtPathUtils.lineTo(-8,_+28)+DvtPathUtils.quadTo(-6,_+33,0,_+36),DvtPathUtils.closePath(),c=new DvtRect(this.getCtx(),0-s,0,o,e,"lhb"),p=new DvtRect(this.getCtx(),s,0,o,e,"rhb"),d="col-resize",this._handleBackgroundImage?(g=this.createGrippyImage(a,e),f=this.createGrippyImage(a,e)):(g=this.createGrippy(_),f=this.createGrippy(_))}c.setSolidFill(this._windowBackgroundColor,0),p.setSolidFill(this._windowBackgroundColor,0),c.setPixelHinting(!0),p.setPixelHinting(!0);var v=new DvtPath(this.getCtx(),u,"lh"),m=new DvtPath(this.getCtx(),h,"rh");v.setSolidFill(this._handleFillColor),v.setSolidStroke(this._handleFillColor),m.setSolidFill(this._handleFillColor),m.setSolidStroke(this._handleFillColor),this._windowBackgroundColor==this._handleFillColor&&(v.setPixelHinting(!0),m.setPixelHinting(!0)),c.setCursor(d),p.setCursor(d),v.setCursor(d),m.setCursor(d),g.setCursor(d),f.setCursor(d),r.addChild(c),r.addChild(v),r.addChild(g),r.addChild(p),r.addChild(m),r.addChild(f)}if(r.setCursor("move"),this.addChild(r),n)if(this.isRTL())var y=new DvtLine(this.getCtx(),this.getTimeAxisWidth(),0,this.getTimeAxisWidth(),e,"tab");else y=new DvtLine(this.getCtx(),t-this.getTimeAxisWidth(),0,t-this.getTimeAxisWidth(),e,"tab");else y=this.isOverviewAbove()?new DvtLine(this.getCtx(),0,this.getTimeAxisHeight(),t,this.getTimeAxisHeight(),"tab"):new DvtLine(this.getCtx(),0,e-this.getTimeAxisHeight(),t,e-this.getTimeAxisHeight(),"tab");if(y.setSolidStroke(this._timeAxisBarColor,this._timeAxisBarOpacity),y.setPixelHinting(!0),this._timeAxisTopBar=y,this.addChild(y),this.isLeftAndRightFilterRendered()){if(n)var S=new DvtRect(this.getCtx(),0,0,t,0,"lbg"),E=new DvtRect(this.getCtx(),0,0,t,0,"rbg");else S=new DvtRect(this.getCtx(),0,0,0,e,"lbg"),E=new DvtRect(this.getCtx(),0,0,0,e,"rbg");if(S.setSolidFill(this._leftFilterPanelColor,this._leftFilterPanelAlpha),this.addChild(S),E.setSolidFill(this._rightFilterPanelColor,this._rightFilterPanelAlpha),this.addChild(E),i.supportsTouch()&&void 0!=s){var o=this.getHandleStart();if(n)var T=new DvtRect(this.getCtx(),0,0,t,s,"lbgrh"),b=new DvtRect(this.getCtx(),0,0,t,s,"rbgrh");else T=new DvtRect(this.getCtx(),0,0,s,e,"lbgrh"),b=new DvtRect(this.getCtx(),0,0,s,e,"rbgrh");T.setSolidFill(this._leftFilterPanelColor,0),this.addChild(T),b.setSolidFill(this._rightFilterPanelColor,0),this.addChild(b)}}},n.prototype.createGrippyImage=function(t,e){var i=(t-this._handleWidth)/2,n=(e-this._handleHeight)/2,r=new DvtImage(this.getCtx(),this._handleBackgroundImage,i,n,this._handleWidth,this._handleHeight,"grpy");return r.setMouseEnabled(!1),r},n.prototype.createGrippy=function(t){var e=new DvtContainer(this.getCtx(),"grpy"),i=2,n=9,r=this._handleTextureColor;if(this.isVertical()){for(var o=8+t,s=3,a=0;n>a;a++){var l=new DvtLine(this.getCtx(),o+a*i,s,o+a*i+1,s,"dot1"+a);l.setSolidStroke(r),e.addChild(l),s+=i,l=new DvtLine(this.getCtx(),o+1+a*i,s,o+1+a*i+1,s,"dot2"+a),l.setSolidStroke(r),e.addChild(l),s+=i,l=new DvtLine(this.getCtx(),o+a*i,s,o+a*i+1,s,"dot3"+a),l.setSolidStroke(r),e.addChild(l),s=3}l=new DvtLine(this.getCtx(),o+n*i,s,o+n*i+1,s,"dot4"),l.setSolidStroke(r),e.addChild(l),s+=2*i,l=new DvtLine(this.getCtx(),o+n*i,s,o+n*i+1,s,"dot5"),l.setSolidStroke(r),e.addChild(l)}else{for(o=3,s=8+t,a=0;n>a;a++)l=new DvtLine(this.getCtx(),o,s+a*i,o,s+a*i+1,"dot1"+a),l.setSolidStroke(r),e.addChild(l),o+=i,l=new DvtLine(this.getCtx(),o,s+1+a*i,o,s+1+a*i+1,"dot2"+a),l.setSolidStroke(r),e.addChild(l),o+=i,l=new DvtLine(this.getCtx(),o,s+a*i,o,s+a*i+1,"dot3"+a),l.setSolidStroke(r),e.addChild(l),o=3;l=new DvtLine(this.getCtx(),o,s+n*i,o,s+n*i+1,"dot4"),l.setSolidStroke(r),e.addChild(l),o+=2*i,l=new DvtLine(this.getCtx(),o,s+n*i,o,s+n*i+1,"dot5"),l.setSolidStroke(r),e.addChild(l)}return e.setPixelHinting(!0),e},n.prototype.updateSlidingWindow=function(t,e){var n=this.isVertical(),r=this.getSlidingWindow(),o=this.getOverviewSize(),s=n?this.Height:this.Width,a=this._width,l=this._start,u=this._end,h=this._renderStart,c=i.getPositionDate(l,u,0,a),p=i.getPositionDate(l,u,s,a),d=this.getDatePosition(c),g=Math.min(s,this.getDatePosition(p)),f=this.getDatePosition(h),_=f,v=g-d;this.isHorizontalRTL()?this.setSlidingWindowPos(r,o-f-v):this.setSlidingWindowPos(r,_),this.setSlidingWindowSize(r,v),this.ScrollTimeAxis(),this._increment=this.calculateIncrement(o)},n.prototype.createBorderAroundSlidingWindow=function(t,e){var i=this.getSlidingWindow(),r=n._DEFAULT_WINDOW_BORDER_WIDTH/2;if(this.isVertical())var o=i.getY(),s=o+r,a=o+i.getHeight(),l=a-r,u=0,h=r,c=t,p=c-r,d=new DvtLine(this.getCtx(),u,s,t,s,"lh"),g=new DvtLine(this.getCtx(),u,l,t,l,"rh"),f=new DvtLine(this.getCtx(),h,0,h,o,"ltb"),_=new DvtLine(this.getCtx(),h,a,h,e,"rtb"),v=new DvtLine(this.getCtx(),p,o,p,a,"bb"),m=new DvtLine(this.getCtx(),h,o,h,a,"tb");else o=0,s=o+r,a=e,l=a-r,u=i.getX(),h=u+r,c=u+i.getWidth(),p=c-r,d=new DvtLine(this.getCtx(),h,o,h,a,"lh"),g=new DvtLine(this.getCtx(),p,o,p,a,"rh"),f=new DvtLine(this.getCtx(),0,s,u+1,s,"ltb"),_=new DvtLine(this.getCtx(),c-1,s,t,s,"rtb"),v=new DvtLine(this.getCtx(),u,l,c,l,"bb"),m=new DvtLine(this.getCtx(),u,s,c,s,"tb");d.setPixelHinting(!0),g.setPixelHinting(!0),f.setPixelHinting(!0),_.setPixelHinting(!0),v.setPixelHinting(!0),m.setPixelHinting(!0),"none"!=this._windowBorderLeftStyle&&d.setSolidStroke(this._windowBorderLeftColor),this.addChild(d),"none"!=this._windowBorderRightStyle&&g.setSolidStroke(this._windowBorderRightColor),this.addChild(g),"none"!=this._borderTopStyle&&this._borderTopColor&&(f.setSolidStroke(this._borderTopColor),_.setSolidStroke(this._borderTopColor)),this.addChild(f),this.addChild(_),"none"!=this._windowBorderBottomStyle&&v.setSolidStroke(this._windowBorderBottomColor),this.addChild(v),"none"!=this._windowBorderTopStyle&&m.setSolidStroke(this._windowBorderTopColor),this.addChild(m)},n.prototype.createResizeArrow=function(){if(this.isVertical())var t=DvtPathUtils.moveTo(6,0)+DvtPathUtils.lineTo(0,5)+DvtPathUtils.lineTo(5,5)+DvtPathUtils.lineTo(5,17)+DvtPathUtils.lineTo(0,17)+DvtPathUtils.lineTo(6,22)+DvtPathUtils.lineTo(12,17)+DvtPathUtils.lineTo(7,17)+DvtPathUtils.lineTo(7,5)+DvtPathUtils.lineTo(12,5)+DvtPathUtils.closePath();else t=DvtPathUtils.moveTo(5,0)+DvtPathUtils.lineTo(0,6)+DvtPathUtils.lineTo(5,12)+DvtPathUtils.lineTo(5,7)+DvtPathUtils.lineTo(17,7)+DvtPathUtils.lineTo(17,12)+DvtPathUtils.lineTo(22,6)+DvtPathUtils.lineTo(17,0)+DvtPathUtils.lineTo(17,4)+DvtPathUtils.lineTo(5,4)+DvtPathUtils.lineTo(5,0)+DvtPathUtils.closePath();var e=new DvtPath(this.getCtx(),t,"arr");return e.setSolidFill("#ffffff"),e.setSolidStroke("#000000"),e.setVisible(!1),this.addChild(e),e},n.prototype.setRectPos=function(t,e){this.isVertical()?t.setY(e):t.setX(e)},n.prototype.getRectPos=function(t){return this.isVertical()?t.getY():t.getX()},n.prototype.getRectSize=function(t){return this.isVertical()?t.getHeight():t.getWidth()},n.prototype.setRectSize=function(t,e){this.isVertical()?t.setHeight(e):t.setWidth(e)},n.prototype.getSlidingWindowPos=function(t){return this.isVertical()?t.getTranslateY():t.getTranslateX()},n.prototype.setSlidingWindowPos=function(t,e){if(e=Math.max(0,e),this.isVertical()?t.setTranslateY(e):t.setTranslateX(e),this.isLeftAndRightFilterRendered()){var n=this.getLeftBackground();n.setWidth(e);var r=e+this.getSlidingWindowSize(t),o=this.getRightBackground();if(o.setX(r),o.setWidth(Math.max(0,this.Width-r)),i.supportsTouch()&&!this.isFeatureOff("zoom")){var s=this.getHandleStart(),a=this.getLeftBackgroundHandle();a.setX(e-s);var l=this.getRightBackgroundHandle();l.setX(r)}}},n.prototype.getSlidingWindowSize=function(t){return this.getRectSize(t)},n.prototype.setSlidingWindowSize=function(t,e){if(e=Math.max(this.getMinimumWindowSize(),e),e=Math.min(this.isVertical()?this.Height:this.Width,e),this.setRectSize(t,e),this.isLeftAndRightFilterRendered()){var n=this.getSlidingWindowPos(t)+e,r=this.getRightBackground();if(r.setX(n),r.setWidth(Math.max(0,this.Width-n)),i.supportsTouch()&&!this.isFeatureOff("zoom")){var o=this.getRightBackgroundHandle();o.setX(n)}}if(!this.isFeatureOff("zoom")){var s=t.getChildAt(3),a=t.getChildAt(4),l=t.getChildAt(5);this.isVertical()?(a.setTranslateY(e),s.setTranslateY(e-this.getHandleSize()),l.setTranslateY(e-this.getGrippySize())):(a.setTranslateX(e),s.setTranslateX(e-this.getHandleSize()),l.setTranslateX(e-this.getGrippySize()))}},n.prototype.calculateIncrement=function(t){var e=this._width,n=this._start,r=this._end,o=i.getPositionDate(n,r,1,t),s=i.getPositionDate(n,r,2,t),a=i.getDatePosition(n,r,o,e),l=i.getDatePosition(n,r,s,e),u=l-a;return u},n.prototype.updateTimeAxis=function(t,e){if(null!=this._ticks)for(var i=this.isVertical(),r=this.getOverviewSize(),o=(this._start,this._end,0);o<this._ticks.length;o++){var s=this._ticks[o],a=parseInt(s.getAttr("time"),10),l=this.getDatePosition(a),u=s.getAttr("label"),h=0;if(o+1<this._ticks.length){var c=parseInt(this._ticks[o+1].getAttr("time"),10),p=this.getDatePosition(c);h=p-l}else h=r-l;this.isHorizontalRTL()&&(l=r-l),i&&(h=this.Width),h-=2*n._DEFAULT_AXIS_LABEL_PADDING,this.addTick(l,t,e,"tick"+o),this.addLabel(l,u,t,e,h,"label"+o)}},n.prototype.addTick=function(t,e,i,n){if(this.isVertical())var r=new DvtLine(this.getCtx(),0,t,e,t,n);else r=new DvtLine(this.getCtx(),t,0,t,i,n);var o=new DvtSolidStroke(this._timeIndicatorColor);o.setStyle(DvtStroke.DASHED,3),r.setStroke(o),r.setPixelHinting(!0),this.addChild(r)},n.prototype.addLabel=function(t,e,i,r,o,s,a){if(a=a||new DvtCSSStyle("font-weight:bold"),this.isVertical()){var l=new DvtOutputText(this.getCtx(),e,4,t,s);if(l.setCSSStyle(a),this.isRTL()){this.addChild(l);var u=l.getDimensions();this.removeChild(l),l.setX(Math.max(4,this.Width-u.w-4))}}else{if(this.isOverviewAbove())var h=2;else h=r-this.getTimeAxisHeight()+2;var c=n._DEFAULT_AXIS_LABEL_PADDING;l=new DvtOutputText(this.getCtx(),e,t+c,h,s),l.setCSSStyle(a),this.isHorizontalRTL()&&(this.addChild(l),u=l.getDimensions(),this.removeChild(l),l.setX(t-Math.min(u.w,o)-c))}DvtTextUtils.fitText(l,o,1/0,this),l._rawText=l.getUntruncatedTextString()},n.prototype.updateCurrentTime=function(t,e){if(null!=this._currentTime&&!isNaN(this._currentTime)){var i=this.getDatePosition(this._currentTime);if(this.isVertical())var n=new DvtLine(this.getCtx(),0,i,t,i,"ocd");else this.isRTL()&&(i=t-i),n=new DvtLine(this.getCtx(),i,0,i,e,"ocd");n.setSolidStroke(this._currentTimeIndicatorColor),n.setPixelHinting(!0),this.addChild(n)}},n.prototype.parseFilledTimeRangesXML=function(t,e){if(null!=this._formattedTimeRanges)for(var i=this._start,n=this._end,r=0;r<this._formattedTimeRanges.length;r++){var o=this._formattedTimeRanges[r];this.addFilledTimeRange(o,i,n,t,e)}},n.prototype.addFilledTimeRange=function(t,e,i,n,r){var o=parseInt(t.getAttr("rs"),10),s=parseInt(t.getAttr("re"),10),a=t.getAttr("c");if(null!=o&&null!=s){var l=this.getOverviewSize(),u=this.getDatePosition(o),h=this.getDatePosition(s),c=h-u;if(this.isHorizontalRTL()&&(u=l-u-c,h=l-h-c),this.isVertical())var p=new DvtRect(this.getCtx(),0,u,n-this.getTimeAxisWidth(),c,"ftr");else p=new DvtRect(this.getCtx(),u,this.isOverviewAbove()?this.getTimeAxisHeight():0,c,r-this.getTimeAxisHeight(),"ftr");null!=a&&p.setSolidFill(a,.4),p.setCursor("move"),p.setPixelHinting(!0),this.addChild(p)}},n.prototype.parseDataXML=function(t,e){},n.prototype.animateSlidingWindow=function(t,e){var n=this.getSlidingWindow(),r=n.getChildAt(3),o=n.getChildAt(4),s=n.getChildAt(5);if(void 0!=e||t!=this.getSlidingWindowPos(n)){var a=this.getLeftHandle(),l=this.getRightHandle(),u=this.getLeftTopBar(),h=this.getRightTopBar(),c=this.getBottomBar(),p=this.getTopBar();if(this.isVertical()){var d=n.getTranslateY,g=n.setTranslateY,f=n.getHeight,_=n.setHeight,v=a.getY1,m=a.setY1,y=a.getY2,S=a.setY2,E=l.getY1,T=l.setY1,b=l.getY2,C=l.setY2,A=u.getY2,D=u.setY2,I=h.getY1,x=h.setY1,O=c.getY1,M=c.setY1,R=c.getY2,w=c.setY2,P=p.getY1,L=p.setY1,N=p.getY2,k=p.setY2;if(null!=o&&null!=s)var H=o.getTranslateY,F=o.setTranslateY,B=s.getTranslateY,U=s.setTranslateY}else d=n.getTranslateX,g=n.setTranslateX,f=n.getWidth,_=n.setWidth,v=a.getX1,m=a.setX1,y=a.getX2,S=a.setX2,E=l.getX1,T=l.setX1,b=l.getX2,C=l.setX2,A=u.getX2,D=u.setX2,I=h.getX1,x=h.setX1,O=c.getX1,M=c.setX1,R=c.getX2,w=c.setX2,P=p.getX1,L=p.setX1,N=p.getX2,k=p.setX2,null!=o&&null!=s&&(H=o.getTranslateX,F=o.setTranslateX,B=s.getTranslateX,U=s.setTranslateX);var G=this.getMinimumPosition(),j=this.getMaximumPosition(),V=this.getSlidingWindowSize(n);t=void 0!=e?Math.max(G,Math.min(j-e,t)):Math.max(G,Math.min(j-V,t));var Y=this.isAnimationOnClick()?new DvtAnimator(this.getCtx(),.5,0,DvtEasing.linear):null;if(this.animateProperty(Y,n,d,g,t),void 0!=e&&(this.animateProperty(Y,n,f,_,e),null!=o&&this.animateProperty(Y,o,H,F,e),null!=r&&this.animateProperty(Y,r,H,F,e-this.getHandleSize()),null!=s&&this.animateProperty(Y,s,B,U,e-this.getGrippySize())),this.animateProperty(Y,a,v,m,t),this.animateProperty(Y,a,y,S,t),void 0!=e?(this.animateProperty(Y,l,E,T,t+e),this.animateProperty(Y,l,b,C,t+e)):(this.animateProperty(Y,l,E,T,t+V),this.animateProperty(Y,l,b,C,t+V)),this.animateProperty(Y,u,A,D,t+1),void 0!=e?this.animateProperty(Y,h,I,x,t+e-1):this.animateProperty(Y,h,I,x,t+V-1),this.animateProperty(Y,c,O,M,t),this.animateProperty(Y,p,P,L,t),void 0!=e?(this.animateProperty(Y,c,R,w,t+e),this.animateProperty(Y,p,N,k,t+e)):(this.animateProperty(Y,c,R,w,t+V),this.animateProperty(Y,p,N,k,t+V)),this.isLeftAndRightFilterRendered()){var W=this.getLeftBackground(),K=W.getWidth,z=W.setWidth;this.animateProperty(Y,W,K,z,t);var X=t+V,q=this.getRightBackground(),Z=q.getWidth,$=q.setWidth,J=q.getX,Q=q.setX;if(this.isVertical())var tt=this.Height;else tt=this.Width;if(this.animateProperty(Y,q,Z,$,tt-X),this.animateProperty(Y,q,J,Q,X),i.supportsTouch()&&!this.isFeatureOff("zoom")){var et=this.getHandleStart(),it=this.getLeftBackgroundHandle(),nt=it.getX,rt=it.setX,ot=this.getRightBackgroundHandle(),st=ot.getX,at=ot.setX;this.animateProperty(Y,it,nt,rt,t-et),this.animateProperty(Y,ot,st,at,X)}}null!=Y&&Y.play()}},n.prototype.animateProperty=function(t,e,i,n,r){null!=t?t.addProp(DvtAnimator.TYPE_NUMBER,e,i,n,r):n.call(e,r)},n.prototype.HandleShapeMouseOver=function(t){var e=this._findDrawable(t);if(e&&"bg"!=e.getId()&&"ocd"!=e.getId()){if("label"==e.getId().substr(0,5)&&(e instanceof DvtOutputText||e instanceof DvtBackgroundOutputText))return void(e.isTruncated()&&this.getCtx().getTooltipManager().showDatatip(t.pageX,t.pageY,e._rawText,"#000000"));if(null!=this._resizeArrow&&this.isHandle(e)){var i=this.getCtx().pageToStageCoords(t.pageX,t.pageY);i=this.stageToLocal(i),this.isVertical()?this._resizeArrow.setTranslate(i.x+6,i.y-10):this._resizeArrow.setTranslate(i.x-6,i.y-20),this._resizeArrow.setVisible(!0)}return"window"==e.getId()||"ftr"==e.getId()||"arr"==e.getId()||this.isHandle(e)?void(this.isFlashEnvironment()&&this.setCursor("move")):e}},n.prototype.HandleShapeMouseOut=function(t){null==this._moveDrawable&&this.setCursor("default");var e=this._findDrawable(t);if(null!=e)return this.isHandle(e)&&null!=this._resizeArrow&&this._resizeArrow.setVisible(!1),e},n.prototype.HandleShapeClick=function(t,e,i){t.stopPropagation();var n=this._findDrawable(t);if(n&&"window"!=n.getId()&&!this.isHandle(n)){if("bg"==n.getId()||"label"==n.getId().substr(0,5)||"ocd"==n.getId()||"lbg"==n.getId()||"rbg"==n.getId()){void 0==e&&(e=t.pageX),void 0==i&&(i=t.pageY);var r=this.getCtx().pageToStageCoords(e,i);if(r=this.stageToLocal(r),this.isVertical())var s=r.y,a=this.Height;else s=r.x,a=this.Width;var l=this.getSlidingWindow(),u=s-this.getRectSize(l)/2;this.animateSlidingWindow(u),this.isHorizontalRTL()&&(s=this.Width-s);var h=this.getPositionDate(s),c=new o(o.SUBTYPE_SCROLL_TIME);if(c.setTime(h),u=Math.max(0,Math.min(u,a-this.getRectSize(l))),this.isHorizontalRTL())var p=this.getPositionDate(this.Width-(u+this.getRectSize(l))),d=this.getPositionDate(this.Width-u);else p=this.getPositionDate(u),d=this.getPositionDate(u+this.getRectSize(l));return c.setNewStartTime(p),c.setNewEndTime(d),void this.dispatchEvent(c)}return n}},n.prototype.beginDragPan=function(t,e,r){var s=this._findDrawable(t);if(null!=s&&this.isMovable(s)){if("ftr"!=s.getId()&&"sta"!=s.getId()||(s=this.getSlidingWindow()),this._initX=e,this._initY=r,this.isHandle(s)){var a=this.getSlidingWindow();this.isHorizontalRTL()?(this._oldEndPos=this.Width-a.getX(),this._oldStartPos=this._oldEndPos-a.getWidth()):(this._oldStartPos=a.getX(),this._oldEndPos=this._oldStartPos+a.getWidth()),"grpy"==s.getParent().getId()&&(s=s.getParent());var l=s.getId();"grpy"==l&&(s=a.getChildBefore(s),l=s.getId()),"lh"!=l&&"rh"!=l||(s=a.getChildBefore(s),l=s.getId()),"lbgrh"==l&&(s=a.getChildAt(0)),"rbgrh"==l&&(s=a.getChildAt(a.getNumChildren()-3)),i.supportsTouch()||(this.isVertical()?(s.setY(0-n.HANDLE_PADDING_SIZE),s.setHeight(2*(s.getHeight()+n.HANDLE_PADDING_SIZE))):(s.setX(0-n.HANDLE_PADDING_SIZE),s.setWidth(2*(s.getWidth()+n.HANDLE_PADDING_SIZE)))),this.overrideCursors(s.getCursor())}this._moveDrawable=s;var u=new o(o.SUBTYPE_PRE_RANGECHANGE);return this.dispatchEvent(u),!0}return!1},n.prototype.overrideCursors=function(t){var e=this.getSlidingWindow();if(null!=e&&e.setCursor(t),this.isLeftAndRightFilterRendered()){var i=this.getLeftBackground(),n=this.getRightBackground();null!=i&&null!=n&&(i.setCursor(t),n.setCursor(t))}},n.prototype.resetCursors=function(){var t=this.getSlidingWindow();if(null!=t&&t.setCursor("move"),this.isLeftAndRightFilterRendered()){var e=this.getLeftBackground(),i=this.getRightBackground();null!=e&&null!=i&&(e.setCursor("default"),i.setCursor("default"))}},n.prototype.endDragPan=function(){null!=this._moveDrawable&&("window"==this._moveDrawable.getId()?this.finishWindowDrag(0,0):this.isHandle(this._moveDrawable)&&(this.finishHandleDrag(0,0),i.supportsTouch()||(this.isVertical()?(this._moveDrawable.setY(0),this._moveDrawable.setHeight(this.getHandleSize())):(this._moveDrawable.setX(0),this._moveDrawable.setWidth(this.getHandleSize()))),this.resetCursors()),this._moveDrawable=null,this._initX=-1)},n.prototype.contDragPan=function(t,e,i){if(null!=this._moveDrawable&&-1!=this._initX){var n=e-this._initX,r=i-this._initY;this._initX=e,this._initY=i,"window"==this._moveDrawable.getId()?this.handleWindowDragPositioning(t,n,r):"lh"==this._moveDrawable.getId()||"lhb"==this._moveDrawable.getId()?this.handleLeftHandleDragPositioning(t,n,r):"rh"!=this._moveDrawable.getId()&&"rhb"!=this._moveDrawable.getId()||this.handleRightHandleDragPositioning(t,n,r)}},n.prototype.HandleTouchStart=function(t){var e=t.touches;this._touchStartX=e[0].pageX,this._touchStartY=e[0].pageY,2==e.length&&(t.preventDefault(),this._touchStartX2=e[1].pageX,this._touchStartY2=e[1].pageY,Math.abs(this._touchStartY-this._touchStartY2)<20?this._counter=0:(this._touchStartX=null,this._touchStartY=null,this._touchStartX2=null,this._touchStartY2=null))},n.prototype.HandleTouchMove=function(t){t.preventDefault();var e=t.touches;if(null!=this._touchStartX2&&null!=this._touchStartY2){if(this._counter<50)return void this._counter++;var i=e[1].pageX-this._touchStartX2;this.handleRightHandleDragPositioning(null,i,0),this._touchStartX2=e[1].pageX,this._counter=0}else{var n=Math.abs(this._touchStartX-e[0].pageX),r=Math.abs(this._touchStartY-e[0].pageY);(n>3||r>3)&&(this._touchStartX=null,this._touchStartY=null)}},n.prototype.HandleTouchEnd=function(t){null!=this._touchStartX2&&null!=this._touchStartY2?this.finishHandleDrag(0,0):null!=this._touchStartX&&null!=this._touchStartY&&this.HandleShapeClick(t,this._touchStartX,this._touchStartY),this._touchStartX=null,this._touchStartY=null,this._touchStartX2=null,this._touchStartY2=null},n.prototype.stopDragAction=function(){this.endDragPan()},n.prototype.HandleKeyDown=function(t){var e=t.keyCode;if(e===DvtKeyboardEvent.LEFT_ARROW||e===DvtKeyboardEvent.RIGHT_ARROW){var i=t.shiftKey?this.handleRightHandleDragPositioning:this.handleWindowDragPositioning,n=e===DvtKeyboardEvent.LEFT_ARROW?-1:1;i.call(this,t,n,n)}},n.prototype.HandleKeyUp=function(t){var e=t.keyCode;if(e===DvtKeyboardEvent.LEFT_ARROW||e===DvtKeyboardEvent.RIGHT_ARROW){var i=t.shiftKey?this.finishHandleDrag:this.finishWindowDrag,n=e===DvtKeyboardEvent.LEFT_ARROW?-1:1;i.call(this,n,n)}},n.prototype.ScrollToStart=function(){var t=this.getSlidingWindow(),e=this.Width;this.isHorizontalRTL()?this.setSlidingWindowPos(t,e-this.getSlidingWindowSize(t)):this.setSlidingWindowPos(t,0),this.ScrollTimeAxis()},n.prototype.ScrollToEnd=function(){var t=this.getSlidingWindow(),e=this.Width;this.isHorizontalRTL()?this.setSlidingWindowPos(t,0):this.setSlidingWindowPos(t,e-this.getSlidingWindowSize(t)),this.ScrollTimeAxis()},n.prototype.ScrollByAmount=function(t){var e=this.getSlidingWindow(),i=t/this._increment;if(this.isVertical())var n=this.Height-e.getHeight();else n=this.Width-e.getWidth(),this.isRTL()&&(i=0-i);this.setSlidingWindowPos(e,Math.min(n,this.getSlidingWindowPos(e)+i)),this.ScrollTimeAxis()},n.prototype.longScrollToPos=function(t){var e=t/this._increment;this.isHorizontalRTL()&&(e=0-e),this.animateSlidingWindow(e)},n.prototype.ScrollToPos=function(t){var e=this.getSlidingWindow(),i=t/this._increment;this.isHorizontalRTL()&&(i=0-i),this.setSlidingWindowPos(e,i),this.ScrollTimeAxis()},n.prototype.scrollToTime=function(t){var e=Math.max(0,i.getDatePosition(this._start,this._end,t,this._width));this.longScrollToPos(e)},n.prototype.handleWindowDragPositioning=function(t,e,i){this.fireScrollEvent(o.SUBTYPE_SCROLL_POS,e,i)},n.prototype.finishWindowDrag=function(t,e){this.fireScrollEvent(o.SUBTYPE_SCROLL_END,t,e)},n.prototype.fireScrollEvent=function(t,e,i){var n=this.getSlidingWindow(),r=this.getSlidingWindowPos(n),s=this.getRectSize(n),a=this.getMinimumPosition(),l=this.getMaximumPosition();if(this.isVertical())var u=i;else u=e;if(a>=r+u)if(this.setSlidingWindowPos(n,a),this.isHorizontalRTL())var h=o.END_POS;else h=o.START_POS;else r+s+u>=l?(this.setSlidingWindowPos(n,l-s),h=this.isHorizontalRTL()?o.START_POS:o.END_POS):(this.setSlidingWindowPos(n,r+u),h=this.isHorizontalRTL()?(l-s-r-this._leftMargin)*this._increment:(r-this._leftMargin)*this._increment);this.ScrollTimeAxis();var c=new o(t);if(c.setPosition(h),this.isHorizontalRTL())var p=this.getPositionDate(this.Width-(r+this.getRectSize(n))),d=this.getPositionDate(this.Width-r);else p=this.getPositionDate(r),d=this.getPositionDate(r+this.getRectSize(n));c.setNewStartTime(p),c.setNewEndTime(d),this.dispatchEvent(c)},n.prototype.handleLeftHandleDragPositioning=function(t,e,i){this.handleLeftOrRightHandleDragPositioning(t,e,i,!0)},n.prototype.handleRightHandleDragPositioning=function(t,e,i){this.handleLeftOrRightHandleDragPositioning(t,e,i,!1)},n.prototype.handleLeftOrRightHandleDragPositioning=function(t,e,i,n){var r=this.getOverviewSize();if(this.isVertical())var s=i;else s=e;if(0!=s){var a=this.getSlidingWindow(),l=this.getSlidingWindowPos(a),u=this.getSlidingWindowSize(a);if(n){if(u-s<=this.getMinimumWindowSize())return;if(l+s<=this.getMinimumPosition())return;if(this.isVertical())var h=this.getCtx().pageToStageCoords(this.getPageX(t),this.getPageY(t)).y;else h=this.getCtx().pageToStageCoords(this.getPageX(t),this.getPageY(t)).x;if(h=this.stageToLocal(h),s>0&&l>=h)return;if(0>s&&h>=l)return;this.setSlidingWindowPos(a,l+s),this.setSlidingWindowSize(a,u-s)}else{if(u+s<=this.getMinimumWindowSize())return;if(l+u+s>=this.getMaximumPosition())return;if(h=this.isVertical()?this.getCtx().pageToStageCoords(this.getPageX(t),this.getPageY(t)).y:this.getCtx().pageToStageCoords(this.getPageX(t),this.getPageY(t)).x,h=this.stageToLocal(h),s>0&&l+u>=h)return;if(0>s&&h>=l+u)return;this.setSlidingWindowSize(a,u+s)}this.ScrollTimeAxis();var c=this.getPositionDate(this.getSlidingWindowSize(a)),p=r*(this._end-this._start)/(c-this._start);if(this.isRangeChangingSupported()){var d=new o(o.SUBTYPE_RANGECHANGING);if(d.setNewSize(p),d.setEndHandle(this.isHorizontalRTL()?n:!n),n?d.setExpand(0>s):d.setExpand(s>0),this.isHorizontalRTL())var g=this.getPositionDate(this.Width-(this.getSlidingWindowPos(a)+this.getRectSize(a))),f=this.getPositionDate(this.Width-this.getSlidingWindowPos(a));else g=this.getPositionDate(this.getSlidingWindowPos(a)),f=this.getPositionDate(this.getSlidingWindowPos(a)+this.getRectSize(a));d.setNewStartTime(g),d.setNewEndTime(f),this.dispatchEvent(d)}}},n.prototype.isRangeChangingSupported=function(){return!0},n.prototype.finishHandleDrag=function(t,e){var i=this._start,n=this._end,r=this._width,s=this.getOverviewSize(),a=this.getSlidingWindow(),l=this.getPositionDate(this.getRectSize(a)),u=s*(n-i)/(l-i),h=this.getPositionDate(this._oldStartPos),c=this.getPositionDate(this._oldEndPos);if(this.isHorizontalRTL())var p=this.getPositionDate(this.Width-(this.getSlidingWindowPos(a)+this.getRectSize(a))),d=this.getPositionDate(this.Width-this.getSlidingWindowPos(a));else p=this.getPositionDate(this.getSlidingWindowPos(a)),d=this.getPositionDate(this.getSlidingWindowPos(a)+this.getRectSize(a));var g=new o(o.SUBTYPE_RANGECHANGE);g.setOldSize(r),g.setNewSize(u),g.setOldStartTime(h),g.setOldEndTime(c),g.setNewStartTime(p),g.setNewEndTime(d),this.dispatchEvent(g)},n.prototype.ScrollTimeAxis=function(){var t=this.getSlidingWindow(),e=n._DEFAULT_WINDOW_BORDER_WIDTH/2,i=this.getSlidingWindowPos(t),r=i+e,o=i+this.getSlidingWindowSize(t),s=o-e,a=this.getLeftHandle(),l=this.getRightHandle(),u=this.getLeftTopBar(),h=this.getRightTopBar(),c=this.getBottomBar(),p=this.getTopBar();this.setLinePos(a,r,r),this.setLinePos(l,s,s),this.setLinePos(u,-1,i),this.setLinePos(h,this.getLinePos1(l),-1),this.setLinePos(c,this.getLinePos1(a),this.getLinePos1(l)),this.setLinePos(p,this.getLinePos1(a),this.getLinePos1(l))},n.prototype.dispatchEvent=function(t){DvtEventDispatcher.dispatchEvent(this._callback,this._callbackObj,this,t)},n.prototype.destroy=function(){this.EventManager&&(this.EventManager.removeListeners(this),this.EventManager.destroy(),this.EventManager=null),i.supportsTouch()?(this.removeEvtListener(DvtTouchEvent.TOUCHSTART,this.HandleTouchStart,!1,this),this.removeEvtListener(DvtTouchEvent.TOUCHMOVE,this.HandleTouchMove,!1,this),this.removeEvtListener(DvtTouchEvent.TOUCHEND,this.HandleTouchEnd,!1,this),this.removeEvtListener(DvtMouseEvent.CLICK,this.HandleShapeClick,!1,this)):(this.removeEvtListener(DvtMouseEvent.MOUSEOVER,this.HandleShapeMouseOver,!1,this),this.removeEvtListener(DvtMouseEvent.MOUSEOUT,this.HandleShapeMouseOut,!1,this),this.removeEvtListener(DvtMouseEvent.CLICK,this.HandleShapeClick,!1,this),this.removeEvtListener(DvtKeyboardEvent.KEYDOWN,this.HandleKeyDown,!1,this),
this.removeEvtListener(DvtKeyboardEvent.KEYUP,this.HandleKeyUp,!1,this)),n.superclass.destroy.call(this)};var r=function(t){this.Init(t)};DvtObj.createSubclass(r,DvtObj,"DvtOverviewParser"),r.prototype.Init=function(t){this._view=t},r.prototype.parse=function(t){var e=t,i=this.ParseRootAttributes(e);return i},r.prototype.ParseRootAttributes=function(t){var e=new Object;if(e.animationOnClick=t.animationOnClick,null!=t.startTime&&(e.start=t.startTime),null!=t.endTime&&(e.end=t.endTime),null==e.start&&(e.start=(new Date).getTime()),(null==e.end||e.end<=e.start)&&(e.end=e.start+864e5),null!=t.currentTime&&(e.currentTime=t.currentTime),null!=t.initialFocusTime&&(e.initialFocusTime=t.initialFocusTime),e.orientation="horizontal",null!=t.orientation&&(e.orientation=t.orientation),e.featuresOff=t.featuresOff,e.minimumWindowSize=t.minimumWindowSize,e.leftMargin=t.leftMargin,e.rightMargin=t.rightMargin,null!=t.viewportEndTime){var i=t.viewportEndTime,n=e.start;null!=t.viewportStartTime&&t.viewportStartTime<i&&(n=t.viewportStartTime),null!=t.viewportEndPos?e.width=this.calculateWidth(e.start,e.end,n,i,t.viewportEndPos):e.width=this.calculateWidth(e.start,e.end,n,i,this._view.Width),e.renderStart=n}else e.renderStart=e.start;return 0==e.width&&(e.width=1e3),e.overviewPosition="below",e.selectionMode="none",e.isRtl=DvtAgent.isRightToLeft(this._view.getCtx()).toString(),null!=t.rtl&&(e.isRtl=t.rtl.toString()),e.handleFillColor="#FFFFFF",e.handleTextureColor="#B3C6DB",e.windowBackgroundColor="#FFFFFF",e.windowBackgroundAlpha=1,e.windowBorderTopStyle="solid",e.windowBorderRightStyle="solid",e.windowBorderBottomStyle="solid",e.windowBorderLeftStyle="solid",e.windowBorderTopColor="#4F4F4F",e.windowBorderRightColor="#4F4F4F",e.windowBorderBottomColor="#4F4F4F",e.windowBorderLeftColor="#4F4F4F",e.overviewBackgroundColor="#E6ECF3",e.currentTimeIndicatorColor="#C000D1",e.timeIndicatorColor="#BCC7D2",e.timeAxisBarColor="#e5e5e5",e.timeAxisBarOpacity=1,e.leftFilterPanelColor="#FFFFFF",e.leftFilterPanelAlpha=.7,e.rightFilterPanelColor="#FFFFFF",e.rightFilterPanelAlpha=.7,null!=t.style&&(null!=t.style.handleFillColor&&(e.handleFillColor=t.style.handleFillColor),null!=t.style.handleTextureColor&&(e.handleTextureColor=t.style.handleTextureColor),null!=t.style.handleBackgroundImage&&(e.handleBackgroundImage=t.style.handleBackgroundImage),null!=t.style.handleWidth&&(e.handleWidth=t.style.handleWidth),null!=t.style.handleHeight&&(e.handleHeight=t.style.handleHeight),null!=t.style.windowBackgroundColor&&(e.windowBackgroundColor=t.style.windowBackgroundColor),null!=t.style.windowBackgroundAlpha&&(e.windowBackgroundAlpha=t.style.windowBackgroundAlpha),null!=t.style.windowBorderTopStyle&&(e.windowBorderTopStyle=t.style.windowBorderTopStyle),null!=t.style.windowBorderRightStyle&&(e.windowBorderRightStyle=t.style.windowBorderRightStyle),null!=t.style.windowBorderBottomStyle&&(e.windowBorderBottomStyle=t.style.windowBorderBottomStyle),null!=t.style.windowBorderLeftStyle&&(e.windowBorderLeftStyle=t.style.windowBorderLeftStyle),null!=t.style.windowBorderTopColor&&(e.windowBorderTopColor=t.style.windowBorderTopColor),null!=t.style.windowBorderRightColor&&(e.windowBorderRightColor=t.style.windowBorderRightColor),null!=t.style.windowBorderBottomColor&&(e.windowBorderBottomColor=t.style.windowBorderBottomColor),null!=t.style.windowBorderLeftColor&&(e.windowBorderLeftColor=t.style.windowBorderLeftColor),null!=t.style.overviewBackgroundColor&&(e.overviewBackgroundColor=t.style.overviewBackgroundColor),null!=t.style.currentTimeIndicatorColor&&(e.currentTimeIndicatorColor=t.style.currentTimeIndicatorColor),null!=t.style.timeIndicatorColor&&(e.timeIndicatorColor=t.style.timeIndicatorColor),null!=t.style.leftFilterPanelColor&&(e.leftFilterPanelColor=t.style.leftFilterPanelColor),null!=t.style.leftFilterPanelAlpha&&(e.leftFilterPanelAlpha=t.style.leftFilterPanelAlpha),null!=t.style.rightFilterPanelColor&&(e.rightFilterPanelColor=t.style.rightFilterPanelColor),null!=t.style.rightFilterPanelAlpha&&(e.rightFilterPanelAlpha=t.style.rightFilterPanelAlpha)),e},r.prototype.calculateWidth=function(t,e,i,n,r){var o=r*(e-t),s=n-i;return 0==o||0==s?0:o/s};var o=function(t){this.Init(o.TYPE),this._subtype=t};DvtObj.createSubclass(o,DvtBaseComponentEvent,"DvtOverviewEvent"),o.TYPE="overview",o.SUBTYPE_PRE_RANGECHANGE="dropCallback",o.SUBTYPE_SCROLL_TIME="scrollTime",o.SUBTYPE_SCROLL_POS="scrollPos",o.SUBTYPE_SCROLL_END="scrollEnd",o.SUBTYPE_RANGECHANGE="rangeChange",o.SUBTYPE_RANGECHANGING="rangeChanging",o.TIME_KEY="time",o.POS_KEY="pos",o.OLD_SIZE_KEY="oldSize",o.NEW_SIZE_KEY="newSize",o.OLD_START_TIME_KEY="oldStartTime",o.NEW_START_TIME_KEY="newStartTime",o.OLD_END_TIME_KEY="oldEndTime",o.NEW_END_TIME_KEY="newEndTime",o.EXPAND_KEY="expand",o.END_HANDLE_KEY="endHandle",o.START_POS=-1,o.END_POS=-2,o.prototype.getSubType=function(){return this._subtype},o.prototype.setTime=function(t){this.addParam(o.TIME_KEY,t)},o.prototype.getTime=function(){return this.getParamValue(o.TIME_KEY)},o.prototype.setOldSize=function(t){this.addParam(o.OLD_SIZE_KEY,t)},o.prototype.getOldSize=function(){return this.getParamValue(o.OLD_SIZE_KEY)},o.prototype.setNewSize=function(t){this.addParam(o.NEW_SIZE_KEY,t)},o.prototype.getNewSize=function(){return this.getParamValue(o.NEW_SIZE_KEY)},o.prototype.setOldStartTime=function(t){this.addParam(o.OLD_START_TIME_KEY,t)},o.prototype.getOldStartTime=function(){return this.getParamValue(o.OLD_START_TIME_KEY)},o.prototype.setNewStartTime=function(t){this.addParam(o.NEW_START_TIME_KEY,t)},o.prototype.getNewStartTime=function(){return this.getParamValue(o.NEW_START_TIME_KEY)},o.prototype.setOldEndTime=function(t){this.addParam(o.OLD_END_TIME_KEY,t)},o.prototype.getOldEndTime=function(){return this.getParamValue(o.OLD_END_TIME_KEY)},o.prototype.setNewEndTime=function(t){this.addParam(o.NEW_END_TIME_KEY,t)},o.prototype.getNewEndTime=function(){return this.getParamValue(o.NEW_END_TIME_KEY)},o.prototype.setExpand=function(t){this.addParam(o.EXPAND_KEY,t)},o.prototype.isExpand=function(){return this.getParamValue(o.EXPAND_KEY)},o.prototype.setEndHandle=function(t){this.addParam(o.END_HANDLE_KEY,t)},o.prototype.isEndHandle=function(){return this.getParamValue(o.END_HANDLE_KEY)},o.prototype.setPosition=function(t){this.addParam(o.POS_KEY,t)},o.prototype.getPosition=function(){return this.getParamValue(o.POS_KEY)};var s=function(t){this.Init(t.getCtx(),t.processEvent,t),this._overview=t};return DvtObj.createSubclass(s,DvtEventManager,"DvtOverviewEventManager"),s.prototype.addListeners=function(t){s.superclass.addListeners.call(this,t),DvtSvgDocumentUtils.addDragListeners(this._overview,this._onDragStart,this._onDragMove,this._onDragEnd,this)},s.prototype._onDragStart=function(t){return DvtAgent.isTouchDevice()?this._onTouchDragStart(t):this._onMouseDragStart(t)},s.prototype._onDragMove=function(t){return DvtAgent.isTouchDevice()?this._onTouchDragMove(t):this._onMouseDragMove(t)},s.prototype._onDragEnd=function(t){return DvtAgent.isTouchDevice()?this._onTouchDragEnd(t):this._onMouseDragEnd(t)},s.prototype._getRelativePosition=function(t,e){return this._stageAbsolutePosition||(this._stageAbsolutePosition=this._context.getStageAbsolutePosition()),new DvtPoint(t-this._stageAbsolutePosition.x,e-this._stageAbsolutePosition.y)},s.prototype._onMouseDragStart=function(t){if(t.button!=DvtMouseEvent.RIGHT_CLICK_BUTTON){var e=this._getRelativePosition(t.pageX,t.pageY);DvtEventManager.consumeEvent(t);var i=this.getCtx().getStage(),n=i.getSVGRoot().parentNode;return n.focus(),this._overview.beginDragPan(t,e.x,e.y)}return!1},s.prototype._onMouseDragMove=function(t){var e=this._getRelativePosition(t.pageX,t.pageY);return t.stopPropagation(),this._overview.contDragPan(t,e.x,e.y),!0},s.prototype._onMouseDragEnd=function(t){t.stopPropagation(),this._overview.endDragPan(),this._stageAbsolutePosition=null},s.prototype._onTouchDragStart=function(t){var e=t.touches;if(t.stopPropagation(),1==e.length){var i=this._getRelativePosition(e[0].pageX,e[0].pageY);return t.preventDefault(),this._overview.beginDragPan(t,i.x,i.y)}return!1},s.prototype._onTouchDragMove=function(t){var e=t.touches;if(1==e.length){var i=this._getRelativePosition(e[0].pageX,e[0].pageY);this._overview.contDragPan(t,i.x,i.y),t.preventDefault()}t.stopPropagation()},s.prototype._onTouchDragEnd=function(t){this._overview.endDragPan(),DvtEventManager.consumeEvent(t),this._stageAbsolutePosition=null},e}),define("ojs/internal-deps/dvt/DvtChart",["./DvtToolkit","./DvtAxis","./DvtLegend","./DvtOverview"],function(t){var e=t,i=function(t,e,i){this.Init(t,e,i)};DvtObj.createSubclass(i,DvtBaseComponent,"DvtChart"),i.newInstance=function(t,e,n){return new i(t,e,n)},i.getDefaults=function(t){return(new c).getDefaults(t)},i.prototype.Init=function(t,e,n){i.superclass.Init.call(this,t,e,n),this.Defaults=new c,this.EventManager=new s(this),this.EventManager.addListeners(this),DvtAgent.isTouchDevice()||this.EventManager.setKeyboardHandler(this.CreateKeyboardHandler(this.EventManager)),this.setId("chart1000"+Math.floor(1e9*Math.random())),this._animation=null,this.legend=null,this.xAxis=null,this.yAxis=null,this.y2Axis=null,this.overview=null,this.xScrollbar=null,this.yScrollbar=null,this.dragButtons=null,this.pieChart=null,this.Peers=[],this.SeriesStyleArray=[],this.Cache={},this._numFrontObjs=0,this._numSelectedObjsInFront=0,this._dataLabels=null,this._rawOptions=null},i.prototype.GetComponentDescription=function(){var t=this.getOptions(),e=DvtBundle.getTranslation(t,"componentName",DvtBundle.UTIL_PREFIX,"CHART"),i="",n=DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,"ARIA_LABEL_DESC_DELIMITER");return t.title.text&&(i+=this.Options.title.text,t.subtitle.text&&(i+=n+this.Options.subtitle.text)),t.footnote.text&&(i=0==i.length?this.Options.footnote.text:i.concat(n,this.Options.footnote.text)),i.length>0?DvtBundle.getTranslation(t,"labelAndValue",DvtBundle.UTIL_PREFIX,"COLON_SEP_LIST",[e,i]):e},i.prototype.SetOptions=function(t){t?(this._rawOptions=t,this.Options=this.Defaults.calcOptions(t),"horizontalBar"==this.Options.type&&(this.Options.type="bar",this.Options.orientation="horizontal"),B.processDataObject(this),DvtAgent.isEnvironmentBrowser()||(this.Options.animationOnDisplay="none",this.Options.animationOnDataChange="none")):this.Options||(this.Options=this.GetDefaults());var e=this.Options.selectionMode;"single"==e?this._selectionHandler=new DvtSelectionHandler(DvtSelectionHandler.TYPE_SINGLE):"multiple"==e?this._selectionHandler=new DvtSelectionHandler(DvtSelectionHandler.TYPE_MULTIPLE):this._selectionHandler=null,this.EventManager.setSelectionHandler(this._selectionHandler);var i=this.Options._spb;if(i){this._popupBehaviors={};for(var n in i)for(var r=i[n],o=0;o<r.length;o++){this._popupBehaviors[n]||(this._popupBehaviors[n]=[]);var s=r[o],a=s.popupId,l=s.triggerType,u=s.alignId,h=s.align;this._popupBehaviors[n].push(new DvtShowPopupBehavior(a,l,u,h))}}},i.prototype.render=function(t,e,i){var n=this.getCtx(),r=this.Options?this.Options.animationOnDataChange:"none",o="none"!=r?new M(this):null,s=this.__cacheChartFocus();this.__cleanUp(),this.SetOptions(t),isNaN(e)||isNaN(i)||(this.Width=e,this.Height=i);var a=new DvtContainer(n);this.addChild(a),J.render(this,a,new DvtRectangle(0,0,this.Width,this.Height)),K.isSpark(this)&&this.EventManager.removeListeners(this),this._animation&&(this._animationStopped=!0,this._animation.stop());var l=V.getAnimationOnDisplay(this),u=V.getAnimationDuration(this),h=new DvtRectangle(0,0,this.Width,this.Height),c=!1;if(this._container){if("none"!=r&&t)if(this._animation=DvtBlackBoxAnimationHandler.getCombinedAnimation(n,r,this._container,a,h,u),this._animation)c=!0;else if("auto"==r&&this.getPlotArea()){var p=this.__getPlotAreaSpace();this._delContainer=et.createClippedGroup(this,this._container,new DvtRectangle(0,0,p.w,p.h)),this._animation=O.createAnimation(o,this,r,u,this._delContainer),this._delContainer.getNumChildren()>0&&this.getPlotArea().addChild(this._delContainer)}}else"none"!=l&&(this._animation=DvtBlackBoxAnimationHandler.getInAnimation(n,l,a,h,u),this._animation||"auto"!=l||(this._animation=x.createAnimation(this,l,u)));this._animation&&(this.EventManager.removeListeners(this),DvtPlayable.appendOnEnd(this._animation,this._onAnimationEnd,this),this._animation.play()),c?this._oldContainer=this._container:this._container&&(this.removeChild(this._container),this._container.destroy(),this._container=null),this._container=a,this._dataCursor=J.renderDataCursor(this),this.UpdateAriaAttributes(),this.__restoreChartFocus(s),this._animation||this.RenderComplete()},i.prototype.destroy=function(){this.EventManager&&(this.EventManager.removeListeners(this),this.EventManager.destroy(),this.EventManager=null),i.superclass.destroy.call(this)},i.prototype.__cleanUp=function(){this._dataCursor&&(this.removeChild(this._dataCursor),this._dataCursor=null),this.EventManager&&this.EventManager.hideHoverFeedback(),this.Peers=[],this.xScrollbar=null,this.yScrollbar=null,this.dragButtons&&(this.removeChild(this.dragButtons),this.dragButtons.destroy(),this.dragButtons=null,this.EventManager.panButton=null,this.EventManager.zoomButton=null,this.EventManager.selectButton=null),this._plotArea=null,this._areaContainer=null,this._dataLabels=null,this.clearCache()},i.prototype.__cleanUpAxisAndPlotArea=function(){this.EventManager.hideHoverFeedback(),this.Peers=[],this._container.removeChild(this.xAxis),this._container.removeChild(this.yAxis),this._container.removeChild(this.y2Axis),this._plotArea&&this._plotArea==this._panZoomTarget?this._plotArea.setVisible(!1):this._container.removeChild(this._plotArea),this._plotArea=null,this.clearCache()},i.prototype._onAnimationEnd=function(){this._oldContainer&&(this.removeChild(this._oldContainer),this._oldContainer.destroy(),this._oldContainer=null),this._delContainer&&this._delContainer.getNumChildren()>0&&this.getPlotArea().removeChild(this._delContainer),this._delContainer=null,this._animationStopped||this.RenderComplete(),this._animation=null,this._animationStopped=null,this.EventManager.addListeners(this)},i.prototype.CreateKeyboardHandler=function(t){return new a(t,this)},i.prototype.getAutomation=function(){return new o(this)},i.prototype.getValuesAt=function(t,e){var i=this.__getPlotAreaSpace(),n=t-i.x,r=e-i.y,o=K.isPolar(this),s=K.isHorizontal(this);if(o){n-=i.w/2,r-=i.h/2;var a=Math.sqrt(n*n+r*r),l=Math.atan2(n,-r);return 0>l&&(l+=2*Math.PI),{x:this.xAxis?this.xAxis.getValueAt(l):null,y:this.yAxis?this.yAxis.getValueAt(a):null}}return{x:this.xAxis?this.xAxis.getValueAt(s?r:n):null,y:this.yAxis?this.yAxis.getValueAt(s?n:r):null,y2:this.y2Axis?this.y2Axis.getValueAt(s?n:r):null}},i.prototype.filter=function(t,e){var i="out"==e?"hidden":"visible";U.setVisibility(this,t,i),this.render(this.Options)},i.prototype.highlight=function(t){this.getOptions().highlightedCategories=DvtJSONUtils.clone(t),DvtCategoryRolloverHandler.highlight(t,this.getObjects(),"any"==this.getOptions().highlightMatch),this.legend&&this.legend.highlight(t),this.pieChart&&this.pieChart.highlight(t),this.overview&&this.overview.getBackgroundChart().highlight(t)},i.prototype.select=function(t){var e=this.getOptions();e.selection=DvtJSONUtils.clone(t);var i=B.getInitialSelection(this);U.setInitialSelection(this,i),this.pieChart&&this.pieChart.setInitialSelection()},i.prototype.positionDataCursor=function(t){var e=this.getEventManager().getDataCursorHandler();if(e){if(t){var i=this.xAxis&&null!=t.x?this.xAxis.getCoordAt(t.x):null,n=null;if(K.isBLAC(this)?this.yAxis&&null!=t.y?n=this.yAxis.getBoundedCoordAt(t.y):this.y2Axis&&null!=t.y2&&(n=this.yAxis.getBoundedCoordAt(t.y2)):n=this.yAxis&&null!=t.y?this.yAxis.getCoordAt(t.y):null,null!=i&&null!=n){var r=this.__getPlotAreaSpace(),o=et.convertAxisCoord(this,new DvtPoint(i,n),r);return void e.processMove(new DvtPoint(r.x+o.x,r.y+o.y),!0)}}e.processEnd(!0)}},i.prototype.getEventManager=function(){return this.EventManager},i.prototype.clearCache=function(){this.Cache={}},i.prototype.getFromCache=function(t){return this.Cache[t]},i.prototype.putToCache=function(t,e){this.Cache[t]=e},i.prototype.getFromCachedMap=function(t,e){var i=this.getFromCache(t);return i||(i={},this.putToCache(t,i)),i[e]},i.prototype.putToCachedMap=function(t,e,i){var n=this.getFromCache(t);n||(n={},this.putToCache(t,n)),n[e]=i},i.prototype.getFromCachedMap2D=function(t,e,i){var n=this.getFromCache(t);return n||(n=new DvtMap2D,this.putToCache(t,n)),n.get(e,i)},i.prototype.putToCachedMap2D=function(t,e,i,n){var r=this.getFromCache(t);r||(r=new DvtMap2D,this.putToCache(t,r)),r.put(e,i,n)},i.prototype.processEvent=function(t,e){var i=t.getType();if(i==DvtCategoryHideShowEvent.TYPE_HIDE||i==DvtCategoryHideShowEvent.TYPE_SHOW)this.filter(t.getCategory(),i==DvtCategoryHideShowEvent.TYPE_HIDE?"out":"in");else if(i==DvtCategoryRolloverEvent.TYPE_OVER||i==DvtCategoryRolloverEvent.TYPE_OUT)this!=e&&this.highlight(t.categories),this.legend&&this.legend!=e&&this.legend.processEvent(t,e);else if(i==DvtSelectionEvent.TYPE)t=this._processSelectionEvent(t);else if(i==DvtPanZoomEvent.TYPE)t=this._processPanZoomEvent(t);else if(i==DvtMarqueeEvent.TYPE)t=this._processMarqueeEvent(t);else if(i==DvtOverviewEvent.TYPE){var r=t.getSubType();if(r==DvtOverviewEvent.SUBTYPE_PRE_RANGECHANGE)return;var o=r==DvtOverviewEvent.SUBTYPE_SCROLL_TIME||r==DvtOverviewEvent.SUBTYPE_SCROLL_END||r==DvtOverviewEvent.SUBTYPE_RANGECHANGE;t=this._processScrollbarEvent(t.getNewStartTime(),t.getNewEndTime(),o,e)}else i==DvtSimpleScrollbarEvent.TYPE?t=this._processScrollbarEvent(t.getNewMin(),t.getNewMax(),t.getSubtype()==DvtSimpleScrollbarEvent.SUBTYPE_END,e):i==DvtShowPopupEvent.TYPE&&(t=this._processShowPopupEvent(t));if(t instanceof n){var s=this.getOptions(),a=s.selection,l=B.getCurrentSelection(this);t.getType()!=DvtSelectionEvent.TYPE_INPUT&&(s.selection=l),a=a?a:[],l=l?l:[];var u,h,c={};for(u=0;u<a.length;u++)c[a[u].id]=!0;var p={};for(h=0;h<l.length;h++)p[l[h].id]=!0;var d={};for(h=0;h<l.length;h++){var g=l[h].id;c[g]||(d[g]=!0)}var f={};for(u=0;u<a.length;u++){var _=a[u].id;p[_]||(f[_]=!0)}t.addedSet=d,t.removedSet=f}t&&this.dispatchEvent(t)},i.prototype._processSelectionEvent=function(t){var e=U.processIds(this,t.getSelection());return this._updateOverviewSelection(),new n(e,DvtSelectionEvent.TYPE)},i.prototype._processPanZoomEvent=function(t){var e=t.getSubtype(),i=e==DvtPanZoomEvent.SUBTYPE_PAN_END||e==DvtPanZoomEvent.SUBTYPE_ZOOM||e==DvtPanZoomEvent.SUBTYPE_PINCH_END,n=e==DvtPanZoomEvent.SUBTYPE_PAN_START||e==DvtPanZoomEvent.SUBTYPE_PINCH_START;DvtAgent.isTouchDevice()&&n&&this._panZoomTarget!=this._plotArea&&(this._container.removeChild(this._panZoomTarget),this._panZoomTarget=this._plotArea);var o;U.isLiveScroll(this)?(o=U.getAxisBoundsByDelta(this,t.dxMin,t.dxMax,t.dyMin,t.dyMax),n||(this._setViewport(o,i),this._setScrollbarViewport(o))):(o=U.getAxisBoundsByDelta(this,t.dxMinTotal,t.dxMaxTotal,t.dyMinTotal,t.dyMaxTotal),this._setScrollbarViewport(o),i&&this._setViewport(o,i)),i&&(J._setEventHandlers(this),this._panZoomTarget!=this._plotArea&&(this._container.removeChild(this._panZoomTarget),this._panZoomTarget=null));var s=i?r.TYPE:r.TYPE_INPUT;return K.isBLAC(this)?new r(s,o.xMin,o.xMax,o.startGroup,o.endGroup,null,null):new r(s,o.xMin,o.xMax,null,null,o.yMin,o.yMax)},i.prototype._processMarqueeEvent=function(t){var e,i=t.getSubtype(),o=this.EventManager;if(U.adjustBounds(t),o.getDragMode()==s.DRAG_MODE_SELECT){var a=o.getSelectionHandler();if(i==DvtMarqueeEvent.SUBTYPE_START)this._initSelection=t.ctrlKey?a.getSelectedIds():[];else{var l=U.getBoundedObjects(this,t);a.processInitialSelections(this._initSelection,this.getChartObjPeers()),a.processGroupSelection(l,!0)}var u=U.getSelectedObjects(this,t,a);e=U.getAxisBounds(this,t,!1);var h=i==DvtMarqueeEvent.SUBTYPE_END?DvtSelectionEvent.TYPE:DvtSelectionEvent.TYPE_INPUT,c=new n(u,h,e.xMin,e.xMax,e.startGroup,e.endGroup,e.yMin,e.yMax,e.y2Min,e.y2Max);return i==DvtMarqueeEvent.SUBTYPE_END&&this._updateOverviewSelection(),c}return o.getDragMode()==s.DRAG_MODE_ZOOM?i!=DvtMarqueeEvent.SUBTYPE_END?null:(e=U.getAxisBounds(this,t,!0),this._setViewport(e,!0),this._setScrollbarViewport(e),J._setEventHandlers(this),K.isBLAC(this)?new r(r.TYPE,e.xMin,e.xMax,e.startGroup,e.endGroup,null,null):new r(r.TYPE,e.xMin,e.xMax,null,null,e.yMin,e.yMax)):null},i.prototype._processScrollbarEvent=function(t,e,i,n){var o=n==this.yScrollbar?this.yAxis:this.xAxis;t=o.linearToActual(t),e=o.linearToActual(e),(U.isLiveScroll(this)||i)&&(n==this.yScrollbar?this._setViewport({yMin:t,yMax:e},i):this._setViewport({xMin:t,xMax:e},i));var s=i?r.TYPE:r.TYPE_INPUT;if(n==this.yScrollbar)return new r(s,null,null,null,null,t,e,null,null);var a=U.getAxisStartEndGroup(this.xAxis,t,e);return new r(s,t,e,a.startGroup,a.endGroup,null,null,null,null)},i.prototype._processShowPopupEvent=function(t){if("mouseHover"!=t.triggerType&&this.isSelectionSupported()&&this.getSelectionHandler().getSelectedCount()>0){var e=U.processIds(this,this.getSelectionHandler().getSelectedIds());t=new DvtShowPopupEvent(t.getShowPopupBehavior(),t.getLauncherBounds(),t.getLauncherId()),t.addParam(DvtBaseComponentEvent.CLIENT_ROW_KEY,e)}return t},i.prototype._updateOverviewSelection=function(){if(this.overview){var t=this.overview.getBackgroundChart();t.getOptions().selection=B.getCurrentSelection(this),t.render()}},i.prototype.changeOption=function(t,e,i){this.getOptions()[t]=e,this.dispatchEvent(new DvtOptionChangeEvent(t,e,i))},i.prototype.registerObject=function(t){this.Peers.push(t)},i.prototype.getObjects=function(){return this.Peers},i.prototype.getChartObjPeers=function(){for(var t=[],e=0;e<this.Peers.length;e++)this.Peers[e]instanceof l&&t.push(this.Peers[e]);return t},i.prototype.getRefObjPeers=function(){for(var t=[],e=0;e<this.Peers.length;e++)this.Peers[e]instanceof u&&t.push(this.Peers[e]);return t},i.prototype.getObject=function(t,e){for(var i=0;i<this.Peers.length;i++)if(this.Peers[i]instanceof l&&this.Peers[i].getSeriesIndex()==t&&this.Peers[i].getGroupIndex()==e)return this.Peers[i];return null},i.prototype.getWidth=function(){return this.Width},i.prototype.getHeight=function(){return this.Height},i.prototype.getSeriesStyleArray=function(){return this.SeriesStyleArray},i.prototype.getPlotArea=function(){return this._plotArea},i.prototype.setPlotArea=function(t){this._plotArea=t},i.prototype.getType=function(){return this.getOptions().type},i.prototype.getSkin=function(){return this.getOptions().skin},i.prototype.getGapWidthRatio=function(){var t=this.getOptions();return null===t.layout.gapWidthRatio||isNaN(t.layout.gapWidthRatio)?Math.min(this.Width/400,1):t.layout.gapWidthRatio},i.prototype.getGapHeightRatio=function(){var t=this.getOptions();return null===t.layout.gapHeightRatio||isNaN(t.layout.gapHeightRatio)?Math.min(this.Height/300,1):t.layout.gapHeightRatio},i.prototype.getSelectionHandler=function(){return this._selectionHandler},i.prototype.isSelectionSupported=function(){return!!this._selectionHandler},i.prototype.getShowPopupBehaviors=function(t){return this._popupBehaviors?this._popupBehaviors[t]:null},i.prototype.bringToFrontOfSelection=function(t){var e=t.getParent();if(e){var i=e.getNumChildren();if(i-this._numFrontObjs>1){e.removeChild(t);var n=i-this._numFrontObjs-1;e.addChildAt(t,n)}}t.isSelected()&&t.isHoverEffectShown()||this._numSelectedObjsInFront++},i.prototype.pushToBackOfSelection=function(t){this._numSelectedObjsInFront>0&&this._numSelectedObjsInFront--;var e=t.getParent();if(e){var i=e.getNumChildren(),n=i-this._numFrontObjs-1-this._numSelectedObjsInFront;n>=0&&(e.removeChild(t),e.addChildAt(t,n))}},i.prototype.setNumFrontObjs=function(t){this._numFrontObjs=t},i.prototype.getShapesForViewSwitcher=function(t){var e={};if(this._currentMarkers&&this.Peers)for(var i=0;i<this._currentMarkers.length;i++){var n=this._currentMarkers[i];if(n)for(var r=0;r<n.length;r++){var o=n[r];if(o)for(var s=0;s<this.Peers.length;s++){var a=this.Peers[s],l=a.getDisplayables();if(l&&l.length>0&&l[0]==o){var u=a.getId();if(u){var h=u.getId();if(h){e[h]=o;break}}}}}}else this.pieChart&&(e=this.pieChart.getShapesForViewSwitcher(t));return e},i.prototype._setViewport=function(t,e){null!=t.xMax&&(this.Options.xAxis.viewportMax=t.xMax),null!=t.xMin&&(this.Options.xAxis.viewportMin=t.xMin),K.isBLAC(this)?(this.Options.xAxis.viewportStartGroup=null,this.Options.xAxis.viewportEndGroup=null,this.Options._initialZoomed=!1):(null!=t.yMax&&(this.Options.yAxis.viewportMax=t.yMax),null!=t.yMin&&(this.Options.yAxis.viewportMin=t.yMin)),this.Options._duringAnimation=!e,J.rerenderAxisAndPlotArea(this,this._container)},i.prototype._setScrollbarViewport=function(t){if(this.xAxis&&null!=t.xMin&&null!=t.xMax){var e=this.xAxis.actualToLinear(t.xMin),i=this.xAxis.actualToLinear(t.xMax);this.overview&&this.overview.setViewportRange(e,i),this.xScrollbar&&this.xScrollbar.setViewportRange(e,i)}if(this.yAxis&&null!=t.yMin&&null!=t.yMax){var n=this.yAxis.actualToLinear(t.yMin),r=this.yAxis.actualToLinear(t.yMax);this.yScrollbar&&this.yScrollbar.setViewportRange(n,r)}},i.prototype.__setAxisSpace=function(t){this._axisSpace=t;var e,i;F.isAxisRendered(this,"x")?(e=.8*t.w,i=t.h-4*F.getTickLabelHeight(this,"x")):F.isAxisRendered(this,"y")?(e=t.w,i=t.h-F.getTickLabelHeight(this,"y")):(e=t.w,i=t.h),this._radius=Math.min(e,i)/2},i.prototype.__getAxisSpace=function(){return this._axisSpace},i.prototype.__setPlotAreaSpace=function(t){this._plotAreaSpace=t},i.prototype.__getPlotAreaSpace=function(){return this._plotAreaSpace},i.prototype.__setAreaContainer=function(t){this._areaContainer=t},i.prototype.__getAreaContainer=function(){return this._areaContainer},i.prototype.getRadius=function(){return this._radius},i.prototype.showDragButtons=function(){this.dragButtons&&this.dragButtons.setVisible(!0)},i.prototype.hideDragButtons=function(){this.dragButtons&&this.dragButtons.setVisible(!1)},i.prototype.addDataLabel=function(t){this.getDataLabels().push(t)},i.prototype.getDataLabels=function(){return this._dataLabels||(this._dataLabels=[]),this._dataLabels},i.prototype.__cacheChartFocus=function(){var t=this.EventManager.getFocus();if(t)var e=t.isShowingKeyboardFocusEffect();if(this.xAxis){var i=this.xAxis.getKeyboardFocus();if(i)var n=i.isShowingKeyboardFocusEffect()}if(this.legend){var r=this.legend.getKeyboardFocus();if(r)var o=r.isShowingKeyboardFocusEffect()}return{chartFocus:t,chartShowingFocusEffect:e,axisFocus:i,axisShowingFocusEffect:n,legendFocus:r,legendShowingFocusEffect:o}},i.prototype.__restoreChartFocus=function(t){if(!K.isOverview(this)&&!K.isSpark(this)){var e=[this];if(this.xAxis&&this.xAxis.isNavigable()&&e.push(this.xAxis),this.legend&&this.legend.isNavigable()&&e.push(this.legend),this.getCtx().setKeyboardFocusArray(e),t.chartFocus){for(var i=U.getKeyboardNavigables(this),n=!1,r=0;r<i.length;r++){var o=i[r].getId();if(o instanceof h&&o.equals(t.chartFocus.getId())){this.EventManager.setFocusObj(i[r]),t.chartShowingFocusEffect&&i[r].showKeyboardFocusEffect(),n=!0;break}}n||this.EventManager.setFocusObj(this.EventManager.getKeyboardHandler().getDefaultNavigable(i))}t.axisFocus&&(this.xAxis.setKeyboardFocus(t.axisFocus,t.axisShowingFocusEffect),t.axisShowingFocusEffect&&this.getCtx().setCurrentKeyboardFocus(this.xAxis)),t.legendFocus&&(this.legend.setKeyboardFocus(t.legendFocus,t.legendShowingFocusEffect),t.legendShowingFocusEffect&&this.getCtx().setCurrentKeyboardFocus(this.legend))}},i.prototype.getRawOptions=function(){return this._rawOptions},i.prototype.processActiveDataChanges=function(t){for(var e=DvtJSONUtils.clone(this.Options),i=this.Options,n=0;n<t.length;n++)this._processActiveDataChange(t[n]);this.Options=e,this.render(i)},i.prototype._processActiveDataChange=function(t){var e=t.type;"u"==e?this._processActiveDataUpdate(t):"ia"==e||"ib"==e?this._processActiveDataInsert(t):"d"==e&&this._processActiveDataDelete(t)},i.prototype._processActiveDataUpdate=function(t){for(var e=t.data,i=0;i<e.length;i++){var n=this._findDataItemById(t.id,e[i]._id);if(n)for(var r in e[i])"_id"!=r&&(n.item[r]=e[i][r])}},i.prototype._processActiveDataInsert=function(t){for(var e=t.data,n=0;n<e.length;n++){this.clearCache();var r=t.insertId,o=e[n].group,s=e[n].series,a=B.getSeriesCount(this),l=B.getGroupCount(this),u=B.getSeriesIndex(this,s),h=B.getGroupIndex(this,o);if(u>=0&&h>=0){var c=B.getSeriesItem(this,u).items;c[h]={id:t.id},i._copyActiveDataProperties(e[n],c[h])}else if(h>=0){var p=new Array(l);p[h]={id:t.id},i._copyActiveDataProperties(e[n],p[h]),this.Options.series.push({name:s,items:p})}else{var d=this._findDataItemById(r);h=d?"ia"==t.type?d.groupIndex+1:d.groupIndex:0,0>u&&(this.Options.series.push({name:s,items:new Array(l)}),u=a,a++);for(var g=0;a>g;g++){var c=B.getSeriesItem(this,g).items;c.splice(h,0,{id:t.id}),g==u&&i._copyActiveDataProperties(e[n],c[h])}this.Options.groups.splice(h,0,o)}}},i.prototype._processActiveDataDelete=function(t){this.clearCache();var e=this._findDataItemById(t.id);if(e){var i;for(var n in e.item)e.item[n]=null;e.item._deleted=!0;for(var r=B.getSeriesCount(this),o=B.getGroupCount(this),s=!0,a=0;r>a;a++)if(i=B.getDataItem(this,a,e.groupIndex),i&&!i._deleted){s=!1;break}for(var l=!0,u=0;o>u;u++)if(i=B.getDataItem(this,e.seriesIndex,u),i&&!i._deleted){l=!1;break}if(s){for(var a=0;r>a;a++){var h=B.getSeriesItem(this,a).items;h.splice(e.groupIndex,1)}this.Options.groups.splice(e.groupIndex,1)}l&&this.Options.series.splice(e.seriesIndex,1),this._processActiveDataDelete(t)}},i._copyActiveDataProperties=function(t,e){for(var i in t)e[i]=t[i]},i.prototype._findDataItemById=function(t,e){if(null==t)return null;for(var i=B.getSeriesCount(this),n=B.getGroupCount(this),r=0;i>r;r++)for(var o=0;n>o;o++){var s=B.getDataItem(this,r,o);if(null!=s&&s.id===t&&(null==e||e===s._id))return{item:s,seriesIndex:r,groupIndex:o}}return null};var n=function(t,e,i,r,o,s,a,l,u,h){n.superclass.Init.call(this,t,e),this._xMin=i,this._xMax=r,this._startGroup=o,this._endGroup=s,this._yMin=a,this._yMax=l,this._y2Min=u,this._y2Max=h,this.addedSet=null,this.removedSet=null};DvtObj.createSubclass(n,DvtSelectionEvent,"DvtChartSelectionEvent"),n.prototype.getXMin=function(){return this._xMin},n.prototype.getXMax=function(){return this._xMax},n.prototype.getStartGroup=function(){return this._startGroup},n.prototype.getEndGroup=function(){return this._endGroup},n.prototype.getYMin=function(){return this._yMin},n.prototype.getYMax=function(){return this._yMax},n.prototype.getY2Min=function(){return this._y2Min},n.prototype.getY2Max=function(){return this._y2Max};var r=function(t,e,i,n,o,s,a){r.superclass.Init.call(this,t),this._xMin=e,this._xMax=i,this._startGroup=n,this._endGroup=o,this._yMin=s,this._yMax=a};DvtObj.createSubclass(r,DvtBaseComponentEvent,"DvtChartViewportChangeEvent"),r.TYPE="viewportChange",r.TYPE_INPUT="viewportChangeInput",r.prototype.getXMin=function(){return this._xMin},r.prototype.getXMax=function(){return this._xMax},r.prototype.getStartGroup=function(){return this._startGroup},r.prototype.getEndGroup=function(){return this._endGroup},r.prototype.getYMin=function(){return this._yMin},r.prototype.getYMax=function(){return this._yMax};var o=function(t){this._chart=t,this._options=this._chart.getOptions(),this._legend=this._chart.legend,this._xAxis=this._chart.xAxis,this._yAxis=this._chart.yAxis,this._y2Axis=this._chart.y2Axis,this._legendAutomation=this._legend?this._legend.getAutomation():null,this._xAxisAutomation=this._xAxis?this._xAxis.getAutomation():null,this._yAxisAutomation=this._yAxis?this._yAxis.getAutomation():null,this._y2AxisAutomation=this._y2Axis?this._y2Axis.getAutomation():null};DvtObj.createSubclass(o,DvtAutomation,"DvtChartAutomation"),o.prototype.GetSubIdForDomElement=function(t){var e=null;if(t.isDescendantOf(this._xAxis))return e=this._xAxisAutomation.GetSubIdForDomElement(t),this._convertAxisSubIdToChartSubId(e,"xAxis");if(t.isDescendantOf(this._yAxis))return e=this._yAxisAutomation.GetSubIdForDomElement(t),
this._convertAxisSubIdToChartSubId(e,"yAxis");if(t.isDescendantOf(this._y2Axis))return e=this._y2AxisAutomation.GetSubIdForDomElement(t),this._convertAxisSubIdToChartSubId(e,"y2Axis");if(t.isDescendantOf(this._legend)){var i=this._legendAutomation.GetSubIdForDomElement(t);return this._convertLegendSubIdToChartSubId(i)}var n=this._chart.getEventManager().GetLogicalObject(t);if(n&&"pie"==this._options.type)return"dataItem["+n.getSeriesIndex()+"]";if(n instanceof l){var r=n.getSeriesIndex(),o=n.getGroupIndex();if(null!=r&&o>=0&&"funnel"!=this._options.type)return"dataItem["+r+"]["+o+"]";if(null!=r&&o==it._GROUP_INDEX&&"funnel"==this._options.type)return"dataItem["+r+"]";if(null!=r&&(null==o||0>o))return"series["+r+"]"}else if(n instanceof u){var s=n.getAxisType(),a=n.getIndex();return s&&a>=0?s+":referenceObject["+a+"]":null}return null},o.prototype._convertLegendSubIdToChartSubId=function(t){var e=this._legend.getOptions(),i=this._legendAutomation.getLegendItem(e,t);if(i){for(var n=0;n<this._options.series.length;n++){var r=this._options.series[n];if(r.name==i.text)return"series["+n+"]"}return"legend:"+t}return null},o.prototype._convertAxisSubIdToChartSubId=function(t,e){if("title"==t&&e)return e+":"+t;var i=t.substring(t.indexOf("["));return i?"group"+i:null},o.prototype.getDomElementForSubId=function(t){if(t==DvtAutomation.TOOLTIP_SUBID)return this.GetTooltipElement(this._chart,W.isDataCursorEnabled(this._chart)?C.TOOLTIP_ID:null);var e,i,n,r=t.indexOf("["),o=t.indexOf("]"),s=t.indexOf(":");if(r>0&&o>0||s>0){var a=0>s?t.substring(0,r):t.substring(0,s);if("group"==a)return this._xAxisAutomation.getDomElementForSubId(t);if("series"==a)return t=this._convertToLegendSubId(t),this._legendAutomation.getDomElementForSubId(t);if("legend"==t.substring(0,s))return t=t.substring(s+1),this._legendAutomation.getDomElementForSubId(t);var l=t.substring(r+1,o);if("xAxis"==a||"yAxis"==a||"y2Axis"==a){var u=t.substring(s+1);if("title"==u){if("xAxis"==a)return this._xAxisAutomation.getDomElementForSubId(u);if("yAxis"==a)return this._yAxisAutomation.getDomElementForSubId(u);if("y2Axis"==a)return this._y2AxisAutomation.getDomElementForSubId(u)}else if(e=u.indexOf("["),i=u.indexOf("]"),"referenceObject"==u.substring(0,e)){var h=u.substring(e+1,i);if(n=this._getRefObjPeer(h))return n.getDisplayables()[0].getElem()}}if("pie"==this._options.type){var c=this._chart.pieChart.getSliceDisplayable(l);if(c)return c.getElem()}if("funnel"==this._options.type)var p=it._GROUP_INDEX;else t=t.substring(o+1),e=t.indexOf("["),i=t.indexOf("]"),e>=0&&i>=0&&(p=t.substring(e+1,i));if(n=this._getChartObjPeer(l,p))return n.getDisplayables()[0].getElem()}return null},o.prototype._getChartObjPeer=function(t,e){for(var i=this._chart.getChartObjPeers(),n=0;n<i.length;n++){var r=i[n].getSeriesIndex(),o=i[n].getGroupIndex();if(r==t&&o==e)return i[n]}return null},o.prototype._getRefObjPeer=function(t){for(var e=this._chart.getRefObjPeers(),i=0;i<e.length;i++)if(t==e[i].getIndex())return e[i];return null},o.prototype._convertToLegendSubId=function(t){var e=t.indexOf("["),i=t.indexOf("]"),n=t.substring(e+1,i),r=this._legend.getOptions(),o=this._options.series[n],s=this._legendAutomation.getIndicesFromSeries(o,r);return"section"+s},o.prototype.getDataItem=function(t,e){"pie"!=this._options.type&&"funnel"!=this._options.type||(e=0);var i=B.getDataItem(this._chart,t,e);return i?{borderColor:V.getBorderColor(this._chart,t,e),color:V.getColor(this._chart,t,e),label:B.getDataLabel(this._chart,t,e),targetValue:B.getTargetValue(this._chart,t,e),tooltip:W.getDatatip(this._chart,t,e,!1),value:B.getValue(this._chart,t,e),open:i.open,close:i.close,high:B.getHighValue(this._chart,t,e),low:B.getLowValue(this._chart,t,e),volume:i.volume,x:B.getXValue(this._chart,t,e),y:i.y,z:i.z,min:i.min,max:i.max,group:B.getGroup(this._chart,e),series:B.getSeries(this._chart,t),selected:B.isDataSelected(this._chart,t,e)}:null},o.prototype.getGroup=function(t){return B.getGroup(this._chart,t)},o.prototype.getSeries=function(t){return this._options.series[t].name},o.prototype.getGroupCount=function(){return B.getGroupCount(this._chart)},o.prototype.getSeriesCount=function(){return this._options.series.length},o.prototype.getTitle=function(){return this._options.title.text},o.prototype.getLegend=function(){var t=this._legend.__getBounds(),e=this._chart.localToStage(new DvtPoint(t.x,t.y)),i={x:e.x,y:e.y,width:t.w,height:t.h},n={bounds:i,title:this._legend.getOptions().title};return n},o.prototype.getPlotArea=function(){var t=this._chart.__getPlotAreaSpace(),e={x:t.x,y:t.y,width:t.w,height:t.h},i={bounds:e};return i},o.prototype.getXAxis=function(){return this._getAxis("x")},o.prototype.getYAxis=function(){return this._getAxis("y")},o.prototype.getY2Axis=function(){return this._getAxis("y2")},o.prototype._getAxis=function(t){var e="x"==t?this._xAxis:"y"==t?this._yAxis:this._y2Axis;if(e){var i=e.__getBounds(),n=e.localToStage(new DvtPoint(i.x,i.y)),r={x:n.x,y:n.y,width:i.w,height:i.h},o=this._chart,s=function(i,n){var r,s=e.getOptions(),a=s.position,l=F.getTickLabelGapSize(o,t),u=K.isStandaloneXAxis(o)||K.isStandaloneYAxis(o)||K.isStandaloneY2Axis(o)?2:0;return"top"==a||"bottom"==a?(r=e.getPreferredSize(s,i,n-l-u),r.h=Math.ceil(r.h+l+u)):(r=e.getPreferredSize(s,i-l-u,n),r.w=Math.ceil(r.w+l+u)),{width:r.w,height:r.h}},a={bounds:r,title:this._options[t+"Axis"].title,getPreferredSize:s};return a}return null},DvtAutomation.prototype.IsTooltipElement=function(t){var e=t.getAttribute("id");return e&&(0==e.indexOf(C.TOOLTIP_ID)||0==e.indexOf(DvtHtmlTooltipManager._TOOLTIP_DIV_ID))},DvtBundle.addDefaultStrings(DvtBundle.CHART_PREFIX,{DEFAULT_GROUP_NAME:"Group {0}",LABEL_SERIES:"Series",LABEL_GROUP:"Group",LABEL_VALUE:"Value",LABEL_TARGET_VALUE:"Target",LABEL_X:"X",LABEL_Y:"Y",LABEL_Z:"Z",LABEL_PERCENTAGE:"Percentage",LABEL_MIN:"Min",LABEL_MAX:"Max",LABEL_HIGH:"High",LABEL_LOW:"Low",LABEL_OPEN:"Open",LABEL_CLOSE:"Close",LABEL_VOLUME:"Volume",LABEL_OTHER:"Other",MARQUEE_SELECT:"Marquee select",MARQUEE_ZOOM:"Marquee zoom",PAN:"Pan"});var s=function(t){s.superclass.Init.call(this,t.getCtx(),t.processEvent,t),this._chart=t,this._dragMode=null,this._dragButtonsVisible=DvtAgent.isTouchDevice(),this.panButton=null,this.zoomButton=null,this.selectButton=null,this._dataCursorHandler=null,this._panZoomHandler=null,this._marqueeZoomHandler=null,this._marqueeSelectHandler=null,this._stageAbsolutePosition=null};DvtObj.createSubclass(s,DvtEventManager,"DvtChartEventManager"),s.DRAG_MODE_PAN="pan",s.DRAG_MODE_ZOOM="zoom",s.DRAG_MODE_SELECT="select",s.DRAG_MODE_OFF="off",s.prototype.addListeners=function(t){DvtSvgDocumentUtils.addDragListeners(this._chart,this._onDragStart,this._onDragMove,this._onDragEnd,this),s.superclass.addListeners.call(this,t),DvtAgent.isTouchDevice()||t.addEvtListener(DvtMouseEvent.MOUSEWHEEL,this.OnMouseWheel,!1,this)},s.prototype.removeListeners=function(t){s.superclass.removeListeners.call(this,t),DvtAgent.isTouchDevice()||t.removeEvtListener(DvtMouseEvent.MOUSEWHEEL,this.OnMouseWheel,!1,this)},s.prototype.getLogicalObject=function(t){return this.GetLogicalObject(t,!0)},s.prototype._getRelativePosition=function(t,e){return this._stageAbsolutePosition||(this._stageAbsolutePosition=this._context.getStageAbsolutePosition()),new DvtPoint(t-this._stageAbsolutePosition.x,e-this._stageAbsolutePosition.y)},s.prototype._getDragHandler=function(t){return t&&"user"==this._chart.getOptions().dragMode&&K.isBLAC(this._chart)&&(this._dragMode==s.DRAG_MODE_PAN||this._dragMode==s.DRAG_MODE_ZOOM)&&(this._panZoomHandler.isWithinBounds(t)?this._dragMode=s.DRAG_MODE_PAN:this._dragMode=s.DRAG_MODE_ZOOM),this._dragMode==s.DRAG_MODE_PAN?this._panZoomHandler:this._dragMode==s.DRAG_MODE_ZOOM?this._marqueeZoomHandler:this._dragMode==s.DRAG_MODE_SELECT?this._marqueeSelectHandler:null},s.prototype._onDragStart=function(t){return DvtAgent.isTouchDevice()?this._onTouchDragStart(t):this._onMouseDragStart(t)},s.prototype._onDragMove=function(t){return DvtAgent.isTouchDevice()?this._onTouchDragMove(t):this._onMouseDragMove(t)},s.prototype._onDragEnd=function(t){return DvtAgent.isTouchDevice()?this._onTouchDragEnd(t):this._onMouseDragEnd(t)},s.prototype._onMouseDragStart=function(t){var e,i=this._getRelativePosition(t.pageX,t.pageY),n=this._getDragHandler(i),r=this.GetLogicalObject(this.GetCurrentTargetForEvent(t)),o=r&&r.isSelectable&&r.isSelectable();return!o&&0==t.button&&n&&(e=n.processDragStart(i,t.ctrlKey),e&&this._callback.call(this._callbackObj,e),this._chart.setCursor(n.getCursor(i)),this.setDragButtonsVisible(!1),this._chart!=this.getCtx().getCurrentKeyboardFocus()&&this.getCtx().setCurrentKeyboardFocus(this._chart)),e?(this._dataCursorHandler&&this._dataCursorHandler.processEnd(),!0):!1},s.prototype._onMouseDragMove=function(t){var e,i=this._getRelativePosition(t.pageX,t.pageY),n=this._getDragHandler();n&&(e=n.processDragMove(i,t.ctrlKey),e&&(this._callback.call(this._callbackObj,e),this.setDragButtonsVisible(!1))),e&&t.stopPropagation()},s.prototype._onMouseDragEnd=function(t){var e,i=this._getRelativePosition(t.pageX,t.pageY),n=this._getDragHandler();if(n){e=n.processDragEnd(i,t.ctrlKey),e&&(this._callback.call(this._callbackObj,e),this.autoToggleZoomButton()),this._chart.setCursor(n.getCursor(i));var r=this._chart.__getAxisSpace();r&&this.setDragButtonsVisible(r.containsPoint(i.x,i.y))}this._stageAbsolutePosition=null},s.prototype.OnMouseMove=function(t){s.superclass.OnMouseMove.call(this,t);var e=this._getRelativePosition(t.pageX,t.pageY);this._dataCursorHandler&&(this.GetCurrentTargetForEvent(t)instanceof DvtButton?this._dataCursorHandler.processEnd():this._dataCursorHandler.processMove(e));var i=this._getDragHandler(e);i?this._chart.setCursor(i.getCursor(e)):this._chart.setCursor("inherit")},s.prototype.OnMouseOut=function(t){s.superclass.OnMouseOut.call(this,t);var e=this._getRelativePosition(t.pageX,t.pageY),i=this._chart.__getAxisSpace();i&&this.setDragButtonsVisible(i.containsPoint(e.x,e.y)),this._dataCursorHandler&&this._dataCursorHandler.processOut(e),this._stageAbsolutePosition=null;var n=this.GetLogicalObject(t.target)},s.prototype.OnMouseWheel=function(t){if(U.isZoomable(this._chart)){var e=null!=t.wheelDelta?t.wheelDelta:0,i=this._getRelativePosition(t.pageX,t.pageY);if(this._panZoomHandler){var n=this._panZoomHandler.processMouseWheel(i,e);n&&(t.preventDefault(),t.stopPropagation(),this._callback.call(this._callbackObj,n),this._dataCursorHandler&&this._dataCursorHandler.processMove(i))}}},s.prototype.ShowFocusEffect=function(t,e){if(this._dataCursorHandler){var i=e.getDataPosition();if(i){var n=this._chart.__getPlotAreaSpace();this._dataCursorHandler.processMove(new DvtPoint(i.x+n.x,i.y+n.y))}}s.superclass.ShowFocusEffect.call(this,t,e)},s.prototype.OnBlur=function(t){this._dataCursorHandler&&this._dataCursorHandler.processEnd(),s.superclass.OnBlur.call(this,t)},s.prototype.OnClickInternal=function(t){var e=this.GetLogicalObject(t.target),i=this._getRelativePosition(t.pageX,t.pageY);this.SeriesFocusHandler&&this.SeriesFocusHandler.processSeriesFocus(i,e),e&&(this.processActionEvent(e),e.isSelectable&&e.isSelectable()||this.processDrillEvent(e))},s.prototype.OnDblClickInternal=function(t){var e=this.GetLogicalObject(t.target);e&&e.isSelectable&&e.isSelectable()&&this.processDrillEvent(e)},s.prototype.HandleTouchHoverStartInternal=function(t){var e=this.GetLogicalObject(t.target);return this.TouchManager.setTooltipEnabled(t.touch.identifier,this.getTooltipsEnabled(e)),!1},s.prototype.HandleTouchHoverMoveInternal=function(t){var e=this.GetLogicalObject(t.target);return this.TouchManager.setTooltipEnabled(t.touch.identifier,this.getTooltipsEnabled(e)),!1},s.prototype.HandleTouchHoverEndInternal=function(t){var e=this.GetLogicalObject(t.target);e&&(this.processActionEvent(e),e.isSelectable&&e.isSelectable()||this.processDrillEvent(e))},s.prototype.HandleTouchClickInternal=function(t){var e=this.GetLogicalObject(t.target);e&&(this.processActionEvent(e),e.isSelectable&&e.isSelectable()||this.processDrillEvent(e))},s.prototype.HandleTouchDblClickInternal=function(t){var e=this.GetLogicalObject(t.target);e&&e.isSelectable&&e.isSelectable()&&(t.preventDefault(),t.stopPropagation(),this.processDrillEvent(e))},s.prototype.processActionEvent=function(t){t&&t.getAction&&t.getAction()&&this.FireEvent(new DvtActionEvent(DvtActionEvent.SUBTYPE_ACTION,t.getAction(),t.getId()))},s.prototype.processDrillEvent=function(t){if(t&&t.isDrillable&&t.isDrillable()){var e=t.getId();t instanceof l?this.FireEvent(new DvtDrillEvent(e.getId?e.getId():e,t.getSeries(),t.getGroup())):t instanceof I&&this.FireEvent(new DvtDrillEvent(e.getId(),e.getSeries(),e.getGroup()))}},s.prototype.ProcessRolloverEvent=function(t,e,i){var n=this._chart.getOptions();if("dim"==U.getHoverBehavior(this._chart)){var r=e.getCategories?e.getCategories():[];n.highlightedCategories=i?r.slice():null;var o=i?DvtCategoryRolloverEvent.TYPE_OVER:DvtCategoryRolloverEvent.TYPE_OUT,s=new DvtCategoryRolloverEvent(o,n.highlightedCategories),a=V.getHoverBehaviorDelay(this._chart),l=this._chart.getObjects();this._chart.pieChart&&(l=l.concat(this._chart.pieChart.__getSlices())),this.RolloverHandler.processEvent(s,l,a,"any"==n.highlightMatch)}},s.prototype._onTouchDragStart=function(t){var e,i,n=t.touches;if(1==n.length){var r=this._getRelativePosition(n[0].pageX,n[0].pageY),o=this._getDragHandler();o?e=o.processDragStart(r,!0):this._dataCursorHandler&&(this._dataCursorHandler.processMove(r),i=!0)}else if(2==n.length&&this._panZoomHandler&&U.isZoomable(this._chart)){this.endDrag();var s=this._getRelativePosition(n[0].pageX,n[0].pageY),a=this._getRelativePosition(n[1].pageX,n[1].pageY);e=this._panZoomHandler.processPinchStart(s,a)}return e&&(this._callback.call(this._callbackObj,e),this.getCtx().getTooltipManager().hideTooltip()),e||i?(t.preventDefault(),t.stopPropagation(),this.setDragButtonsVisible(!1),!0):!1},s.prototype._onTouchDragMove=function(t){var e,i,n=t.touches;if(1==n.length){var r=this._getRelativePosition(n[0].pageX,n[0].pageY),o=this._getDragHandler();o?e=o.processDragMove(r,!0):this._dataCursorHandler&&(this._dataCursorHandler.processMove(r),i=!0)}else if(2==n.length&&this._panZoomHandler&&U.isZoomable(this._chart)){var s=this._getRelativePosition(n[0].pageX,n[0].pageY),a=this._getRelativePosition(n[1].pageX,n[1].pageY);e=this._panZoomHandler.processPinchMove(s,a)}(e||i)&&t.preventDefault(),e&&(this._callback.call(this._callbackObj,e),this.getCtx().getTooltipManager().hideTooltip())},s.prototype._onTouchDragEnd=function(t){var e,i=this.endDrag();this._panZoomHandler&&U.isZoomable(this._chart)&&(e=this._panZoomHandler.processPinchEnd(),e&&this._callback.call(this._callbackObj,e)),(i||e)&&(t.preventDefault(),this.getCtx().getTooltipManager().hideTooltip()),this._stageAbsolutePosition=null,this.setDragButtonsVisible(!0)},s.prototype.endDrag=function(){var t,e=this._getDragHandler();return e&&(t=e.processDragEnd(null,!0),t&&this._callback.call(this._callbackObj,t)),this._dataCursorHandler&&this._dataCursorHandler.processEnd(),t&&this._callback.call(this._callbackObj,t),t},s.prototype.zoomBy=function(t){if(this._panZoomHandler&&U.isZoomable(this._chart)){var e=this._panZoomHandler.zoomBy(t);e&&this._callback.call(this._callbackObj,e)}},s.prototype.panBy=function(t,e){if(this._panZoomHandler&&U.isScrollable(this._chart)){var i=this._panZoomHandler.panBy(t,e);i&&this._callback.call(this._callbackObj,i)}},s.prototype.hideHoverFeedback=function(){this.hideTooltip(),this._dataCursorHandler&&this._dataCursorHandler.processEnd()},s.prototype.hideTooltip=function(){this._dataCursorHandler&&this._dataCursorHandler.isDataCursorShown()||s.superclass.hideTooltip.call(this)},s.prototype.getTooltipsEnabled=function(t){return this._dataCursorHandler&&(t instanceof l||t instanceof u||this._dataCursorHandler.isDataCursorShown())?!1:s.superclass.getTooltipsEnabled.call(this)},s.prototype.getDataCursorHandler=function(){return this._dataCursorHandler},s.prototype.setDataCursorHandler=function(t){this._dataCursorHandler=t},s.prototype.setPanZoomHandler=function(t){this._panZoomHandler=t},s.prototype.setMarqueeZoomHandler=function(t){this._marqueeZoomHandler=t},s.prototype.setMarqueeSelectHandler=function(t){this._marqueeSelectHandler=t},s.prototype.cancelMarquee=function(t){this._dragMode==s.DRAG_MODE_ZOOM?this._marqueeZoomHandler.cancelMarquee()&&t.preventDefault():this._dragMode==s.DRAG_MODE_SELECT&&this._marqueeSelectHandler&&this._marqueeSelectHandler.cancelMarquee()&&this._chart.render()},s.prototype.getDragMode=function(){return this._dragMode},s.prototype.setDragMode=function(t){null==t?this._dragMode=this._getDefaultDragMode():this._dragMode=t,!this._chart.xAxis.isFullViewport()||this._chart.yAxis&&!this._chart.yAxis.isFullViewport()||this.autoToggleZoomButton()},s.prototype._getDefaultDragMode=function(){return DvtAgent.isTouchDevice()?s.DRAG_MODE_OFF:U.isScrollable(this._chart)?s.DRAG_MODE_PAN:"multiple"==this._chart.getOptions().selectionMode?s.DRAG_MODE_SELECT:null},s.prototype.onZoomButtonClick=function(t){this.zoomButton.isToggled()?(this.selectButton&&this.selectButton.setToggled(!1),this.setDragMode(s.DRAG_MODE_ZOOM)):this.setDragMode(null)},s.prototype.onPanButtonClick=function(t){this.panButton.isToggled()?(this.selectButton&&this.selectButton.setToggled(!1),this.setDragMode(s.DRAG_MODE_PAN)):this.setDragMode(null)},s.prototype.onSelectButtonClick=function(t){this.selectButton.isToggled()?(this.zoomButton&&this.zoomButton.setToggled(!1),this.panButton&&this.panButton.setToggled(!1),this.setDragMode(s.DRAG_MODE_SELECT)):this.setDragMode(null)},s.prototype.setDragButtonsVisible=function(t){t&&!this._dragButtonsVisible?(this._chart.showDragButtons(),this._dragButtonsVisible=!0):!t&&this._dragButtonsVisible&&(this._chart.hideDragButtons(),this._dragButtonsVisible=!1)},s.prototype.areDragButtonsVisible=function(){return this._dragButtonsVisible},s.prototype.autoToggleZoomButton=function(){!DvtAgent.isTouchDevice()&&this.zoomButton&&(this._chart.xAxis.isFullViewport()&&this._chart.yAxis.isFullViewport()?this._dragMode==s.DRAG_MODE_PAN&&(this.zoomButton.setToggled(!0),this.onZoomButtonClick(null)):this._dragMode==s.DRAG_MODE_ZOOM&&(this.zoomButton.setToggled(!1),this.onZoomButtonClick(null)))},s.prototype.GetTouchResponse=function(){return this._dragMode&&this._dragMode!=s.DRAG_MODE_OFF?DvtEventManager.TOUCH_RESPONSE_TOUCH_HOLD:this._chart.getOptions().touchResponse};var a=function(t,e){this.Init(t,e)};DvtObj.createSubclass(a,DvtKeyboardHandler,"DvtChartKeyboardHandler"),a.prototype.Init=function(t,e){a.superclass.Init.call(this,t),this._chart=e},a.prototype.isSelectionEvent=function(t){return this.isNavigationEvent(t)&&!t.ctrlKey},a.prototype.isMultiSelectEvent=function(t){return t.keyCode==DvtKeyboardEvent.SPACE&&t.ctrlKey},a.prototype.processKeyDown=function(t){var e=t.keyCode;if(e==DvtKeyboardEvent.TAB){var i=this._eventManager.getFocus();if(i)return DvtEventManager.consumeEvent(t),i;var n=U.getKeyboardNavigables(this._chart);if(n.length>0)return DvtEventManager.consumeEvent(t),this.getDefaultNavigable(n)}else if(e==DvtKeyboardEvent.ENTER){var i=this._eventManager.getFocus();if(i)return this._eventManager.processActionEvent(i),this._eventManager.processDrillEvent(i),DvtEventManager.consumeEvent(t),i}else e==DvtKeyboardEvent.ESCAPE?this._eventManager.cancelMarquee(t):e==DvtKeyboardEvent.PAGE_UP?((t.ctrlKey||t.shiftKey||K.isBLAC(this._chart))&&K.isVertical(this._chart)?this._eventManager.panBy(-.25,0):this._eventManager.panBy(0,-.25),DvtEventManager.consumeEvent(t)):e==DvtKeyboardEvent.PAGE_DOWN?((t.ctrlKey||t.shiftKey||K.isBLAC(this._chart))&&K.isVertical(this._chart)?this._eventManager.panBy(.25,0):this._eventManager.panBy(0,.25),DvtEventManager.consumeEvent(t)):DvtKeyboardEvent.isEquals(t)||DvtKeyboardEvent.isPlus(t)?this._eventManager.zoomBy(1.5):(DvtKeyboardEvent.isMinus(t)||DvtKeyboardEvent.isUnderscore(t))&&this._eventManager.zoomBy(1/1.5);return a.superclass.processKeyDown.call(this,t)},a.prototype.getDefaultNavigable=function(t){if(!t||t.length<=0)return null;for(var e,i,n,r,o=K.isPie(this._chart),s=0;s<t.length;s++)r=t[s],!e||r.getSeriesIndex()<i?(e=r,i=r.getSeriesIndex(),o||(n=r.getGroupIndex())):!o&&r.getGroupIndex()<n&&(e=r,i=r.getSeriesIndex(),n=r.getGroupIndex());return e};var l=function(t,e,i,n,r){this.Init(t,e,i,n,r)};DvtObj.createSubclass(l,DvtObj,"DvtChartObjPeer"),l.prototype.Init=function(t,e,i,n,r){this._chart=t,this._displayables=e,this._seriesIndex=isNaN(i)?-1:i,this._groupIndex=isNaN(n)?-1:n,this._dataPos=r,this._isSelected=!1,this._isShowingKeyboardFocusEffect=!1,i>=0&&(this._series=B.getSeries(t,i)),n>=0&&(this._group=B.getGroup(t,n));var o=B.getSeriesItem(t,i);o&&(this._action=o.action,this._drillable=U.isSeriesDrillable(t,i),this._stampId=o._id);var s=B.getDataItem(t,i,n);if(this._categories=B.getDataItemCategories(t,i,n),s&&(this._dataItemId=s.id,this._action=s.action,this._drillable=U.isDataItemDrillable(t,i,n),this._stampId=s._id),this._action||this._drillable)for(var a=0;a<this._displayables.length;a++)this._displayables[a].setCursor(DvtSelectionEffectUtils.getSelectingCursor());for(var l=0;l<e.length;l++){var u=e[l];u instanceof y||u.setAriaRole("img"),this._updateAriaLabel(u)}},l.associate=function(t,e,i,n,r){if(t){var o=new l(e,[t],i,n,r);e.registerObject(o),e.getEventManager().associate(t,o)}},l.prototype.getId=function(){return this._seriesIndex>=0&&this._groupIndex>=0?new h(this._dataItemId,this.getSeries(),this.getGroup()):this._seriesIndex>=0?this.getSeries():null},l.prototype.getDataItemId=function(){return this._dataItemId},l.prototype.getSeries=function(){return this._series},l.prototype.getSeriesIndex=function(){return this._seriesIndex},l.prototype.getGroup=function(){return this._group},l.prototype.getGroupIndex=function(){return this._groupIndex},l.prototype.getAction=function(){return this._action},l.prototype.isDrillable=function(){return this._drillable},l.prototype.isDoubleClickable=function(){return this.isSelectable()&&this.isDrillable()},l.prototype.getChart=function(){return this._chart},l.prototype.getSeriesType=function(){return V.getSeriesType(this._chart,this._seriesIndex)},l.prototype.getSeriesItem=function(){return B.getSeriesItem(this._chart,this._seriesIndex)},l.prototype.getDatatip=function(t){return W.getDatatip(this._chart,this._seriesIndex,this._groupIndex,!0)},l.prototype.getDatatipColor=function(){return W.getDatatipColor(this._chart,this._seriesIndex,this._groupIndex)},l.prototype.isSelectable=function(){return V.isSelectable(this.getChart(),this.getSeriesIndex(),this.getGroupIndex())},l.prototype.isSelected=function(){return this._isSelected},l.prototype.setSelected=function(t){this._isSelected=t;for(var e=0;e<this._displayables.length;e++)this._displayables[e].setSelected&&(this._displayables[e].setSelected(t),this._updateAriaLabel(this._displayables[e]))},l.prototype.showHoverEffect=function(){for(var t=0;t<this._displayables.length;t++)this._displayables[t].showHoverEffect&&this._displayables[t].showHoverEffect()},l.prototype.hideHoverEffect=function(){for(var t=0;t<this._displayables.length;t++)this._displayables[t].hideHoverEffect&&this._displayables[t].hideHoverEffect()},l.prototype.getShowPopupBehaviors=function(){return this._chart.getShowPopupBehaviors(this._stampId)},l.prototype.getDisplayables=function(){return this._displayables},l.prototype.getAriaLabel=function(){var t=[],e=this.getChart().getOptions();this.isSelectable()&&t.push(DvtBundle.getTranslation(e,this.isSelected()?"stateSelected":"stateUnselected",DvtBundle.UTIL_PREFIX,this.isSelected()?"STATE_SELECTED":"STATE_UNSELECTED")),this.isDrillable()&&t.push(DvtBundle.getTranslation(e,"stateDrillable",DvtBundle.UTIL_PREFIX,"STATE_DRILLABLE"));var i=W.getDatatip(this._chart,this._seriesIndex,this._groupIndex,!1);return null==i&&this._groupIndex<0&&t.length>0&&(i=B.getSeriesLabel(this._chart,this._seriesIndex)),DvtDisplayable.generateAriaLabel(i,t)},l.prototype._updateAriaLabel=function(t){DvtAgent.deferAriaCreation()||t.setAriaProperty("label",this.getAriaLabel())},l.prototype.getCategories=function(t){return this._categories},l.prototype.getDataPosition=function(){return this._dataPos},l.prototype.getNextNavigable=function(t){var e,i;if(e=t.keyCode,t.type==DvtMouseEvent.CLICK)return this;if(e==DvtKeyboardEvent.SPACE&&t.ctrlKey)return this;for(var n=this._chart,r=n.getChartObjPeers(),o=[],s=0;s<r.length;s++)r[s].isNavigable()&&o.push(r[s]);return K.isScatterBubble(n)?i=DvtKeyboardHandler.getNextAdjacentNavigable(this,t,o):K.isLineArea(n)||K.isStacked(n)||K.isPolar(n)?i=this._findNextNavigable(t):!K.isFunnel(n)||t.keyCode!=DvtKeyboardEvent.UP_ARROW&&t.keyCode!=DvtKeyboardEvent.DOWN_ARROW?i=DvtKeyboardHandler.getNextNavigable(this,t,o,!0):(t.keyCode=t.keyCode-1,i=DvtKeyboardHandler.getNextNavigable(this,t,o)),i},l.prototype.getKeyboardBoundingBox=function(t){return this._displayables[0]?this._displayables[0].getDimensions(t):new DvtRectangle(0,0,0,0)},l.prototype.getTargetElem=function(){return this._displayables[0]?this._displayables[0].getElem():null},l.prototype.showKeyboardFocusEffect=function(){this.isNavigable()&&(this._isShowingKeyboardFocusEffect=!0,this.showHoverEffect())},l.prototype.hideKeyboardFocusEffect=function(){this.isNavigable()&&(this._isShowingKeyboardFocusEffect=!1,this.hideHoverEffect())},l.prototype.isShowingKeyboardFocusEffect=function(){return this._isShowingKeyboardFocusEffect},l.prototype.isNavigable=function(){return-1!=this.getGroupIndex()&&-1!=this.getSeriesIndex()},l.prototype._findNextNavigable=function(t){var e,i,n=t.keyCode,r=this._chart,o=r.getCtx(),s=this.getSeriesIndex(),a=this.getGroupIndex(),l=B.getGroupCount(r),u=K.isHorizontal(r),h=K.isPolar(r),c=DvtAgent.isRightToLeft(o),p=u?c?n==DvtKeyboardEvent.LEFT_ARROW:n==DvtKeyboardEvent.RIGHT_ARROW:n==DvtKeyboardEvent.UP_ARROW,d=u?c?n==DvtKeyboardEvent.RIGHT_ARROW:n==DvtKeyboardEvent.LEFT_ARROW:n==DvtKeyboardEvent.DOWN_ARROW,g=u?n==DvtKeyboardEvent.UP_ARROW:c?n==DvtKeyboardEvent.RIGHT_ARROW:n==DvtKeyboardEvent.LEFT_ARROW,f=u?n==DvtKeyboardEvent.DOWN_ARROW:c?n==DvtKeyboardEvent.LEFT_ARROW:n==DvtKeyboardEvent.RIGHT_ARROW;if(p)i=a,e=this._findNextUpSeries(r,s,a);else if(d)i=a,e=this._findNextDownSeries(r,s,a);else if(f){e=s,i=a;do i++,h&&i>=l&&(i=0);while(null==r.getObject(e,i)&&l>i)}else if(g){e=s,i=a;do i--,h&&0>i&&(i=l-1);while(null==r.getObject(e,i)&&i>-1)}var _=r.getObject(e,i);return _&&_.isNavigable()?_:this},l.prototype._findNextUpSeries=function(t,e,i){for(var n=B.getSeriesCount(t),r=B.getCumulativeValue(t,e,i),o=null,s=null,a=0;n>a;a++)if(V.isSeriesRendered(t,a)){var l=B.getCumulativeValue(t,a,i);(l>r||l==r&&a>e)&&(null!==o&&o>l||null==o)&&(o=l,s=a)}return s},l.prototype._findNextDownSeries=function(t,e,i){for(var n=B.getSeriesCount(t),r=B.getCumulativeValue(t,e,i),o=null,s=null,a=n-1;a>=0;a--)if(V.isSeriesRendered(t,a)){var l=B.getCumulativeValue(t,a,i);(r>l||l==r&&e>a)&&(null!==o&&l>o||null==o)&&(o=l,s=a)}return s};var u=function(t,e,i,n,r){this.Init(t,e,i,n,r)};DvtObj.createSubclass(u,DvtObj,"DvtRefObjPeer"),u.prototype.Init=function(t,e,i,n,r){this._chart=t,this._displayables=e,this._refObj=i,this._categories=G.getRefObjCategories(this._refObj),this._index=n,this._axisType=r;for(var o=0;o<e.length;o++){var s=e[o];s.setAriaRole("img"),s.setAriaProperty("label",i.shortDesc)}},u.prototype.getCategories=function(){return this._categories},u.prototype.getDisplayables=function(){return this._displayables},u.prototype.getIndex=function(){return this._index},u.prototype.getAxisType=function(){return this._axisType},u.prototype.getDatatip=function(t){return W.getRefObjTooltip(this._chart,this._refObj)},u.prototype.getDatatipColor=function(){return G.getColor(this._refObj)};var h=function(t,e,i){this.Init(t,e,i)};DvtObj.createSubclass(h,DvtObj,"DvtChartDataItem"),h.prototype.Init=function(t,e,i){this._id=t,this._series=e,this._group=i},h.prototype.getId=function(){return this._id},h.prototype.getSeries=function(){return this._series},h.prototype.getGroup=function(){return this._group},h.prototype.equals=function(t){if(t instanceof h){var e=t.getGroup();return this._group instanceof Array&&e instanceof Array?DvtArrayUtils.equals(this._group,e)&&this._series===t.getSeries():this._group===e&&this._series===t.getSeries()}return!1};var c=function(){this.Init({skyros:c.VERSION_1,alta:c.SKIN_ALTA,next:c.SKIN_NEXT})};DvtObj.createSubclass(c,DvtBaseComponentDefaults,"DvtChartDefaults"),c.SKIN_NEXT={skin:DvtCSSStyle.SKIN_NEXT,styleDefaults:{dataItemGaps:"auto",markerSize:10,marqueeColor:"rgba(255,255,255,0.4)",marqueeBorderColor:"#0572ce"},yAxis:{axisLine:{rendered:"auto"}},y2Axis:{axisLine:{rendered:"auto"}},layout:{titlePlotAreaGap:16,footnoteGap:10,legendGapWidth:15,legendGapHeight:10,tickLabelGapHeight:8,tickLabelGapWidth:9}},c.SKIN_ALTA={skin:DvtCSSStyle.SKIN_ALTA,title:{style:new DvtCSSStyle("font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 13px; color: #252525;")},subtitle:{style:new DvtCSSStyle("font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; color: #252525;")},footnote:{style:new DvtCSSStyle("font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 11px;")},_statusMessageStyle:new DvtCSSStyle("font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 13px; color: #252525;"),styleDefaults:{seriesEffect:"color",colors:DvtCSSStyle.COLORS_ALTA,pieCenterLabel:{style:new DvtCSSStyle("font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;")},dataLabelStyle:new DvtCSSStyle("font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;"),stackLabelStyle:new DvtCSSStyle("font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;"),stockRisingColor:"#6b6f74",stockFallingColor:"#ED6647"}},c.VERSION_1={skin:DvtCSSStyle.SKIN_SKYROS,emptyText:null,type:"bar",stack:"off",stackLabel:"off",orientation:"vertical",polarGridShape:"circle",selectionMode:"none",hideAndShowBehavior:"none",hoverBehavior:"none",zoomAndScroll:"off",zoomDirection:"auto",initialZooming:"none",dragMode:"user",sorting:"off",otherThreshold:0,animationOnDataChange:"none",animationOnDisplay:"none",__sparkBarSpacing:"subpixel",__spark:!1,dataCursor:"auto",dataCursorBehavior:"auto",drilling:"off",highlightMatch:"all",series:[],groups:[],title:{style:new DvtCSSStyle("font-family: tahoma, sans-serif; font-size: 12px; color: #003d5b; font-weight: bold"),halign:"start"},subtitle:{style:new DvtCSSStyle("font-family: tahoma, sans-serif; font-size: 12px; color: #003d5b;")},footnote:{style:new DvtCSSStyle("font-family: tahoma, sans-serif; font-size: 10px; color: #333333;"),halign:"start"},titleSeparator:{upperColor:"#74779A",lowerColor:"#FFFFFF",rendered:"off"},touchResponse:"auto",_statusMessageStyle:new DvtCSSStyle("font-family: tahoma, sans-serif; font-size: 12px; color: #003d5b; font-weight: bold"),xAxis:{tickLabel:{rendered:"on"},majorTick:{rendered:"auto"},minorTick:{rendered:"auto"},axisLine:{rendered:"on"},scale:"linear",maxSize:.33},yAxis:{tickLabel:{rendered:"on"},majorTick:{rendered:"auto"},minorTick:{rendered:"auto"},axisLine:{rendered:"on"},scale:"linear",maxSize:.33},y2Axis:{tickLabel:{rendered:"on"},majorTick:{rendered:"auto"},minorTick:{rendered:"auto"},axisLine:{rendered:"on"},scale:"linear",maxSize:.33,alignTickMarks:"on"},plotArea:{backgroundColor:null},legend:{position:"auto",rendered:"on",maxSize:.3,layout:{gapRatio:1},seriesSection:{},referenceObjectSection:{},sections:[]},overview:{rendered:"off"},styleDefaults:{colors:DvtCSSStyle.COLORS_SKYROS,borderColor:"auto",borderWidth:"auto",patterns:["smallDiagonalRight","smallChecker","smallDiagonalLeft","smallTriangle","smallCrosshatch","smallDiamond","largeDiagonalRight","largeChecker","largeDiagonalLeft","largeTriangle","largeCrosshatch","largeDiamond"],shapes:["square","circle","diamond","plus","triangleDown","triangleUp"],seriesEffect:"gradient",threeDEffect:"off",selectionEffect:"highlight",animationDuration:1e3,animationIndicators:"all",animationUpColor:"#0099FF",
animationDownColor:"#FF3300",lineStyle:"solid",lineType:"auto",markerDisplayed:"auto",markerColor:null,markerShape:"auto",markerSize:8,marqueeColor:"rgba(255,255,255,0.5)",marqueeBorderColor:"rgba(0,0,0,0.2)",pieFeelerColor:"#BAC5D6",pieInnerRadius:0,selectedInnerColor:"#ffffff",selectedOuterColor:"#5a5a5a",pieCenterLabel:{style:new DvtCSSStyle("font-family: tahoma, sans-serif;")},sliceLabelType:"percent",otherColor:"#4b4b4b",stockRisingColor:"#006666",stockFallingColor:"#CC3300",stockRangeColor:"#B8B8B8",dataItemGaps:"0%",dataLabelStyle:new DvtCSSStyle("font-family: tahoma, sans-serif; font-size: 11px;"),dataLabelPosition:"auto",funnelBackgroundColor:"#EDEDED",x1Format:{},y1Format:{},y2Format:{},zFormat:{},_defaultSliceLabelColor:"#333333",_scrollbarHeight:3,_scrollbarTrackColor:"#F0F0F0",_scrollbarHandleColor:"#9E9E9E",hoverBehaviorDelay:200,dataCursor:{markerSize:8,markerDisplayed:"on",lineColor:"#5a5a5a",lineWidth:2,lineStyle:"solid"},groupSeparators:{rendered:"on",color:"rgba(138,141,172,0.4)"},padding:"auto",_tooltipStyle:new DvtCSSStyle("border-collapse: separate; border-spacing: 2px"),tooltipLabelStyle:new DvtCSSStyle("color: #737373; padding: 0px 2px"),tooltipValueStyle:new DvtCSSStyle("color: #333333; padding: 0px 2px"),stackLabelStyle:new DvtCSSStyle("font-family: tahoma, sans-serif; font-size: 11px;")},layout:{gapWidthRatio:null,gapHeightRatio:null,outerGapWidth:10,outerGapHeight:8,titleSubtitleGapWidth:14,titleSubtitleGapHeight:4,titleSeparatorGap:6,titlePlotAreaGap:10,footnoteGap:7,verticalAxisGap:6,legendGapWidth:10,legendGapHeight:10,tickLabelGapHeight:5,tickLabelGapWidth:7},_locale:"en-us",_resources:{}},c.getGapWidth=function(t,e){return Math.ceil(e*t.getGapWidthRatio())},c.getGapHeight=function(t,e){return Math.ceil(e*t.getGapHeightRatio())},c.isSkyrosSkin=function(t){return t.getSkin()==DvtCSSStyle.SKIN_SKYROS},c.isPostAltaSkin=function(t){return t.getSkin()!=DvtCSSStyle.SKIN_SKYROS&&t.getSkin()!=DvtCSSStyle.SKIN_ALTA};var p=function(t,e){this.Init(t,e)};DvtObj.createSubclass(p,DvtObj,"DvtDataCursorHandler"),p.prototype.Init=function(t,e){this._context=t.getCtx(),this._dataCursorShown=!1,this._dataCursor=e,this._chart=t},p.prototype.processMove=function(t,e){var i=this._chart.__getPlotAreaSpace();return i.containsPoint(t.x,t.y)?(this._showDataCursor(i,t.x,t.y,e),!0):(this._removeDataCursor(e),!1)},p.prototype.processEnd=function(t){this._removeDataCursor(t)},p.prototype.processOut=function(t,e){var i=this._chart.__getPlotAreaSpace();i.containsPoint(t.x,t.y)||this._removeDataCursor(e)},p.prototype._showDataCursor=function(t,e,i,n){if(this._context.isOffscreen())return void this._removeDataCursor(n);var r=this._dataCursor,o=this._getClosestMatch(e,i);if(null==o)return void this._removeDataCursor(n);var s=DvtGeomUtils.getCenterPoint(o.matchRegion),a=e,l=i;r.getBehavior()==C.BEHAVIOR_SNAP&&(r.isHorizontal()?l=Math.min(Math.max(s.y,t.y),t.y+t.h):a=Math.min(Math.max(s.x,t.x),t.x+t.w));var u=W.getDatatip(this._chart,o.sidx,o.gidx,!0);if(null==u)return void r.setVisible(!1);r.setVisible(!0);var h=W.getDatatipColor(this._chart,o.sidx,o.gidx),c=r.isHorizontal()?l:a;if(r.render(t,s.x,s.y,c,u,h),this._dataCursorShown=!0,!n){var p=this._chart.getValuesAt(e,i);this._chart.changeOption("dataCursorPosition",p)}},p.prototype._removeDataCursor=function(t){this._dataCursor.getVisible()&&this._dataCursor.setVisible(!1),this._context.getTooltipManager(C.TOOLTIP_ID).hideTooltip(),this._dataCursorShown=!1,t||this._chart.changeOption("dataCursorPosition",null)},p.prototype.isDataCursorShown=function(){return this._dataCursorShown},p._getClosestMatchSecondDirection=function(t,e,i,n){for(var r=null,o=1/0,s=0;s<t.length;s++){var a=t[s],l=e?a.matchRegion.x:a.matchRegion.y,u=e?a.matchRegion.x+a.matchRegion.w:a.matchRegion.y+a.matchRegion.h,h=e?i:n,c=(l+u)/2,p=Math.round(Math.abs(c-h));o>p&&(o=p,r=a)}return r},p._getClosestMatchesFirstDirection=function(t,e,i,n){for(var r=1/0,o=new Array,s=0;s<t.length;s++){var a=t[s],l=e?a.matchRegion.y:a.matchRegion.x,u=e?a.matchRegion.y+a.matchRegion.h:a.matchRegion.x+a.matchRegion.w,h=e?n:i,c=(l+u)/2,p=Math.round(Math.abs(c-h));r>=p&&(r>p&&(o=new Array),o.push(a),r=p)}return o},p.prototype._findMatches=function(){var t=this._context.getStage(),e=this._chart.getEventManager(),i=[];if(!this._chart._currentMarkers)return null;for(var n=0;n<this._chart._currentMarkers.length;n++)for(var r=this._chart._currentMarkers[n],o=r.length,s=0;o>s;s++){var a=r[s],l=e.GetLogicalObject(a),u=a.getDimensionsSelf?a.getDimensionsSelf(t):a.getDimensions(t),h={obj:a,matchRegion:u,gidx:l.getGroupIndex(),sidx:l.getSeriesIndex(),marker:null};i.push(h)}return i},p.prototype._getClosestMatch=function(t,e){var i=K.isHorizontal(this._chart),n=K.isLineArea(this._chart)&&!F.isMixedFrequency(this._chart),r=this._findMatches(),o=p._getClosestMatchesFirstDirection(r,i,t,e);if(!K.isScatterBubble(this._chart)){for(var s=1/0,a=-(1/0),l=null,u=0;u<o.length;u++){var h=o[u];s=Math.min(s,i?h.matchRegion.y:h.matchRegion.x),a=Math.max(a,i?h.matchRegion.y+h.matchRegion.h:h.matchRegion.x+h.matchRegion.w),l=h.gidx}for(var u=0;u<r.length;u++){var c=r[u],d=c.gidx;if(n)l==d&&o.push(c);else{var g=i?c.matchRegion.y:c.matchRegion.x,f=i?c.matchRegion.y+c.matchRegion.h:c.matchRegion.x+c.matchRegion.w,_=(g+f)/2;a>=_&&_>=s&&o.push(c)}}}return p._getClosestMatchSecondDirection(o,i,t,e)};var d=function(t,e,i,n,r,o,s,a,l,u){this.Init(t,null,u),this.setWedgeParams(e,i,n,r,o,s,a,l)};DvtObj.createSubclass(d,DvtPath,"DvtSelectableWedge"),d._OUTER_BORDER_WIDTH=2,d._OUTER_BORDER_WIDTH_HOVER=1.25,d._INNER_BORDER_WIDTH=1,d.prototype.Init=function(t,e,i){d.superclass.Init.call(this,t,e,i)},d.prototype.setWedgeParams=function(t,e,i,n,r,o,s,a){this._cx=t,this._cy=e,this._rx=i,this._ry=n,this._sa=r,this._ae=o,this._gap=s,this._ir=a;var l=this._makeWedgePath(0);this.setCmds(l)},d.prototype._makeWedgePath=function(t){var e,i=Math.max(this._rx-t,0),n=Math.max(this._ry-t,0),r=360==this._ae||t>i?0:this._gap+2*t,o=this._ir?this._ir+t:0,s=360==this._ae?DvtMath.degreesToRads(359.99):DvtMath.degreesToRads(this._ae),a=DvtMath.degreesToRads(this._sa),l=r/2,u=i>l?Math.asin(l/i):0,h=-s/2-a,c=Math.min(5*l,s>0?Math.abs(l/Math.sin(s/2)):0),p=0==i?c:c*n/i,d=this._cx+Math.cos(h)*c,g=this._cy+Math.sin(h)*p,f=this._cx+Math.cos(-u-a)*i,_=this._cy+Math.sin(-u-a)*n,v=this._cx+Math.cos(-a-s+u)*i,m=this._cy+Math.sin(-a-s+u)*n;if(o>0){var y=o>l?Math.asin(l/o):0,S=this._cx+Math.cos(-y-a)*o,E=this._cy+Math.sin(-y-a)*o,T=this._cx+Math.cos(-a-s+y)*o,b=this._cy+Math.sin(-a-s+y)*o;360==this._ae?(e=DvtPathUtils.moveTo(v,m),e+=DvtPathUtils.arcTo(i,n,s,1,f,_),e+=DvtPathUtils.lineTo(v,m),e+=DvtPathUtils.moveTo(S,E),e+=DvtPathUtils.arcTo(o,o,s,0,T,b)):(e=DvtPathUtils.moveTo(T,b),e+=DvtPathUtils.lineTo(v,m),e+=DvtPathUtils.arcTo(i,n,s,1,f,_),e+=DvtPathUtils.lineTo(S,E),e+=DvtPathUtils.arcTo(o,o,s,0,T,b))}else 360==this._ae?(e=DvtPathUtils.moveTo(v,m),e+=DvtPathUtils.arcTo(i,n,s,1,f,_)):(e=DvtPathUtils.moveTo(d,g),e+=DvtPathUtils.lineTo(v,m),e+=DvtPathUtils.arcTo(i,n,s,1,f,_),e+=DvtPathUtils.lineTo(d,g));return e+=DvtPathUtils.closePath()},d.prototype._initializeSelectionEffects=function(){var t=this.isSelected()?d._OUTER_BORDER_WIDTH:d._OUTER_BORDER_WIDTH_HOVER,e=this._makeWedgePath(t),i=this._makeWedgePath(t+d._INNER_BORDER_WIDTH);return this.OuterChild?(this.OuterChild.setCmds(e),void this.InnerChild.setCmds(i)):(this.OuterChild=new DvtPath(this.getCtx(),e),this.OuterChild.setInvisibleFill(),this.OuterChild.setMouseEnabled(!0),this.addChild(this.OuterChild),this.InnerChild=new DvtPath(this.getCtx(),i),this.InnerChild.setInvisibleFill(),this.InnerChild.setMouseEnabled(!0),void this.addChild(this.InnerChild))},d.prototype._showNestedBorders=function(t,e){this._initializeSelectionEffects(),e?(this.setSolidFill(t),this.setStroke(null),this.OuterChild.setSolidFill(e),this.InnerChild.setFill(this._fill)):t?(this.setSolidFill(t),this.setStroke(null),this.OuterChild.setFill(this._fill),this.InnerChild.setInvisibleFill()):(this.setFill(this._fill),this.setStroke(this._shapeStroke),this.OuterChild.setInvisibleFill(),this.InnerChild.setInvisibleFill())},d.prototype.setStyleProperties=function(t,e,i,n,r){this._fill=t,this._shapeStroke=e,this._hoverColor=DvtSelectionEffectUtils.getHoverBorderColor(i),this._innerColor=n,this._outerColor=r,this.setFill(t),e&&this.setStroke(e)},d.prototype.showHoverEffect=function(){this.IsShowingHoverEffect=!0,this._showNestedBorders(this._hoverColor,this._innerColor)},d.prototype.hideHoverEffect=function(){this.IsShowingHoverEffect=!1,this.isSelected()?this._showNestedBorders(this._outerColor,this._innerColor):this._showNestedBorders()},d.prototype.setSelected=function(t){this.IsSelected!=t&&(this.IsSelected=t,this.isHoverEffectShown()?this._showNestedBorders(this._hoverColor,this._innerColor):this.isSelected()?this._showNestedBorders(this._outerColor,this._innerColor):this._showNestedBorders())},d.prototype.UpdateSelectionEffect=function(){};var g=function(t,e,i){this._x1=Math.min(e[0],e[4]),this._x2=Math.max(e[0],e[4]),this._y1=Math.min(e[1],e[5]),this._y2=Math.max(e[1],e[5]),this.Init(t,[this._x1,this._y1,this._x2,this._y1,this._x2,this._y2,this._x1,this._y2],i)};DvtObj.createSubclass(g,DvtPolygon,"DvtSelectableRectangularPolygon"),g.OUTER_BORDER_WIDTH=2,g.OUTER_BORDER_WIDTH_HOVER=1.25,g.INNER_BORDER_WIDTH=1,g.SHAPE_EXPAND_SELECTION=1,g.prototype.setStyleProperties=function(t,e,i,n,r){this._fill=t,this._borderStroke=e,this._hoverColor=DvtSelectionEffectUtils.getHoverBorderColor(i),this._innerColor=n,this._outerColor=r,this.setFill(t),e&&this.setStroke(e)},g.prototype.setAnimationParams=function(t){this._x1=Math.min(t[0],t[4]),this._x2=Math.max(t[0],t[4]),this._y1=Math.min(t[1],t[5]),this._y2=Math.max(t[1],t[5]),this.setPoints(t),this._initializeSelectionEffects()},g.prototype.showHoverEffect=function(){this.IsShowingHoverEffect=!0,this._showNestedBorders(this._hoverColor,this._innerColor)},g.prototype.hideHoverEffect=function(){this.IsShowingHoverEffect=!1,this.isSelected()?this._showNestedBorders(this._outerColor,this._innerColor):this._showNestedBorders()},g.prototype.setSelected=function(t){this.IsSelected!=t&&(this.IsSelected=t,this.isHoverEffectShown()?this._showNestedBorders(this._hoverColor,this._innerColor):this.isSelected()?this._showNestedBorders(this._outerColor,this._innerColor):this._showNestedBorders())},g.prototype.UpdateSelectionEffect=function(){},g.prototype.getPrimaryFill=function(){return this._fill},g.prototype._initializeSelectionEffects=function(){this.setPoints(this._createPointsArray(this.isSelected()?-g.SHAPE_EXPAND_SELECTION:0));var t=this.isSelected()?g.OUTER_BORDER_WIDTH-g.SHAPE_EXPAND_SELECTION:g.OUTER_BORDER_WIDTH_HOVER,e=this._createPointsArray(t),i=this._createPointsArray(t+g.INNER_BORDER_WIDTH);return this.OuterChild?(this.OuterChild.setPoints(e),void this.InnerChild.setPoints(i)):(this.OuterChild=new DvtPolygon(this.getCtx(),e),this.OuterChild.setInvisibleFill(),this.OuterChild.setMouseEnabled(!0),this.addChild(this.OuterChild),this.InnerChild=new DvtPolygon(this.getCtx(),i),this.InnerChild.setInvisibleFill(),this.InnerChild.setMouseEnabled(!0),void this.addChild(this.InnerChild))},g.prototype._showNestedBorders=function(t,e){this._initializeSelectionEffects(),e?(this.setSolidFill(t),this.setStroke(null),this.OuterChild.setSolidFill(e),this.InnerChild.setFill(this._fill)):t?(this.setSolidFill(t),this.setStroke(null),this.OuterChild.setFill(this._fill),this.InnerChild.setInvisibleFill()):(this.setFill(this._fill),this.setStroke(this._borderStroke),this.OuterChild.setInvisibleFill(),this.InnerChild.setInvisibleFill())},g.prototype._createPointsArray=function(t){var e=this._x1+t,i=this._x2-t,n=this._y1+t,r=this._y2-t;return[e,n,i,n,i,r,e,r]};var f=function(t,e,i){this.Init(t,e,i)};DvtObj.createSubclass(f,DvtAxis,"DvtChartAxis"),f.prototype.axisToPlotArea=function(t){if("tangential"==this.getOptions().position)return t;if(null==t)return null;var e=t-this.getLeftOverflow();return Math.round(10*e)/10},f.prototype.plotAreaToAxis=function(t,e){if("tangential"==this.getOptions().position)return t;if(null==t)return null;var i=t+this.getLeftOverflow();return e===!1?i:Math.round(i)},f.prototype.linearToActual=function(t){return this.Info.linearToActual(t)},f.prototype.actualToLinear=function(t){return this.Info.actualToLinear(t)},f.prototype.getValueAt=function(t){return this.Info.getValueAt(this.plotAreaToAxis(t))},f.prototype.getCoordAt=function(t){return this.axisToPlotArea(this.Info.getCoordAt(t))},f.prototype.getBoundedValueAt=function(t){return this.Info.getBoundedValueAt(this.plotAreaToAxis(t))},f.prototype.getBoundedCoordAt=function(t){return this.axisToPlotArea(this.Info.getBoundedCoordAt(t))},f.prototype.getUnboundedValueAt=function(t){return this.Info.getUnboundedValueAt(this.plotAreaToAxis(t))},f.prototype.getUnboundedCoordAt=function(t){return this.axisToPlotArea(this.Info.getUnboundedCoordAt(t))},f.prototype.getBaselineCoord=function(){return this.axisToPlotArea(this.Info.getBaselineCoord())},f.prototype.getPosition=function(){return this.getOptions().position},f.prototype.isGroupAxis=function(){return this.Info instanceof DvtGroupAxisInfo},f.prototype.isTimeAxis=function(){return this.Info instanceof DvtTimeAxisInfo},f.prototype.isDataAxis=function(){return this.Info instanceof DvtDataAxisInfo},f.prototype.getMajorTickCoords=function(){for(var t=this.Info?this.Info.getMajorTickCoords():[],e=0;e<t.length;e++)t[e]=this.axisToPlotArea(t[e]);return t},f.prototype.getMinorTickCoords=function(){for(var t=this.Info?this.Info.getMinorTickCoords():[],e=0;e<t.length;e++)t[e]=this.axisToPlotArea(t[e]);return t},f.prototype.getBaselineCoord=function(){return this.axisToPlotArea(this.Info.getBaselineCoord())},f.prototype.getLinearGlobalMin=function(){return this.actualToLinear(this.Info.getGlobalMin())},f.prototype.getLinearGlobalMax=function(){return this.actualToLinear(this.Info.getGlobalMax())},f.prototype.getLinearViewportMin=function(){return this.actualToLinear(this.Info.getViewportMin())},f.prototype.getLinearViewportMax=function(){return this.actualToLinear(this.Info.getViewportMax())},f.prototype.getUnboundedLinearValueAt=function(t){return this.Info.actualToLinear(this.getUnboundedValueAt(t))},f.prototype.isFullViewport=function(){return this.Info.getViewportMin()==this.Info.getGlobalMin()&&this.Info.getViewportMax()==this.Info.getGlobalMax()},f.prototype.getLeftOverflow=function(){return DvtAgent.isRightToLeft(this.getCtx())?this.Info.getEndOverflow():this.Info.getStartOverflow()},f.prototype.getRightOverflow=function(){return DvtAgent.isRightToLeft(this.getCtx())?this.Info.getStartOverflow():this.Info.getEndOverflow()},f.prototype.getLength=function(){return Math.abs(this.Info.getStartCoord()-this.Info.getEndCoord())},f.prototype.getMinCoord=function(){return this.axisToPlotArea(Math.min(this.Info.getStartCoord(),this.Info.getEndCoord()))},f.prototype.getMaxCoord=function(){return this.axisToPlotArea(Math.max(this.Info.getStartCoord(),this.Info.getEndCoord()))};var _=function(t,e,i,n,r,o){this.Init(t.getCtx()),this._bHoriz=K.isHorizontal(t),this._bStacked=K.isStacked(t),this._barGapRatio=V.getBarGapRatio(t),this._dataItemGaps=V.getDataItemGaps(t),this._axisCoord=e,this._setBarCoords(i,n,r,o,!0)};DvtObj.createSubclass(_,g,"DvtChartBar"),_._INDICATOR_OFFSET=8,_._MIN_BAR_WIDTH_FOR_GAPS=5,_._MIN_BAR_WIDTH_FOR_GAPS_PIXEL_HINTING=15,_._MIN_BAR_LENGTH_FOR_GAPS=5,_._MAX_GAP_SIZE=2,_.prototype.setSelected=function(t){this.IsSelected!=t&&(this.IsSelected=t,this.isSelected()?(this._tempX1=this._x1,this._tempX2=this._x2,this._tempBaselineCoord=this._baselineCoord,this._x1=this._origX1,this._x2=this._origX2,this._baselineCoord=this._origBaselineCoord,this.setPoints(this._createPointsArray()),this._showNestedBorders(this.isHoverEffectShown()?this._hoverColor:this._outerColor,this._innerColor)):(this._x1=this._tempX1,this._x2=this._tempX2,this._baselineCoord=this._tempBaselineCoord,this.setPoints(this._createPointsArray()),this._showNestedBorders(this.isHoverEffectShown()?this._hoverColor:null)))},_.prototype.getAnimationParams=function(t){return t?this._bHoriz?[this._x2,this._x1,this._baselineCoord,this._endCoord]:[this._x1,this._x2,this._endCoord,this._baselineCoord]:[this._baselineCoord,this._endCoord,this._x1,this._x2]},_.prototype.setAnimationParams=function(t,e){if(this._setBarCoords(t[0],t[1],t[2],t[3],!1),e){var i=this.getIndicatorPosition();e.setTranslate(i.x,i.y),e.setAlpha(1),e.getParent().addChild(e)}},_.prototype.getDisplayAnimation=function(t){var e=this.getAnimationParams();this.setAnimationParams([this._axisCoord,this._axisCoord,this._x1,this._x2]);var i=new DvtCustomAnimation(this.getCtx(),this,t);return i.getAnimator().addProp(DvtAnimator.TYPE_NUMBER_ARRAY,this,this.getAnimationParams,this.setAnimationParams,e),i},_.prototype.getDeleteAnimation=function(t){var e=[this._baselineCoord,this._baselineCoord,this._x1,this._x2],i=new DvtCustomAnimation(this.getCtx(),this,t);return i.getAnimator().addProp(DvtAnimator.TYPE_NUMBER_ARRAY,this,this.getAnimationParams,this.setAnimationParams,e),i.getAnimator().addProp(DvtAnimator.TYPE_NUMBER,this,this.getAlpha,this.setAlpha,0),i},_.prototype.getInsertAnimation=function(t){this.setAlpha(0);var e=this.getDisplayAnimation(t);return e.getAnimator().addProp(DvtAnimator.TYPE_NUMBER,this,this.getAlpha,this.setAlpha,1),e},_.prototype.getIndicatorPosition=function(){var t,e,i=(this._x1+this._x2)/2;if(this._bStacked){var n=(this._endCoord+this._baselineCoord)/2;t=this._bHoriz?n:i,e=this._bHoriz?i:n}else{var r=this._endCoord>=this._baselineCoord?this._endCoord+_._INDICATOR_OFFSET:this._endCoord-_._INDICATOR_OFFSET;t=this._bHoriz?r:i,e=this._bHoriz?i:r}return new DvtPoint(t,e)},_.prototype._setBarCoords=function(t,e,i,n,r){if(this._baselineCoord=t,this._endCoord=e,this._x1=i,this._x2=n,this._origX1=this._x1,this._origX2=this._x2,this._origBaselineCoord=this._baselineCoord,this._dataItemGaps>0&&r&&!this.isSelected()){var o=Math.ceil(_._MAX_GAP_SIZE*this._dataItemGaps),s=Math.abs(this._baselineCoord-this._endCoord),a=this._x2-this._x1,l=this._axisCoord==this._baselineCoord;s>=_._MIN_BAR_LENGTH_FOR_GAPS&&this._bStacked&&!l&&(this._baselineCoord+=this._endCoord>this._baselineCoord?o:-o),a>=_._MIN_BAR_WIDTH_FOR_GAPS&&(1==DvtAgent.getDevicePixelRatio()&&this._barGapRatio>0&&a>_._MIN_BAR_WIDTH_FOR_GAPS_PIXEL_HINTING?(DvtAgent.isPlatformGecko()||this.setPixelHinting(!0),this._x1=Math.round(this._x1),this._x2=Math.round(this._x2),this._origX1=this._x1,this._origX2=this._x2,this._x2-=o):(this._x1+=o/2,this._x2-=o/2))}var u=this._createPointsArray();this.setPoints(u),this.OuterChild&&this.OuterChild.setPoints(this._createPointsArray(g.OUTER_BORDER_WIDTH)),this.InnerChild&&this.InnerChild.setPoints(this._createPointsArray(g.OUTER_BORDER_WIDTH+g.INNER_BORDER_WIDTH))},_.prototype._createPointsArray=function(t){var e=this._baselineCoord,i=this._endCoord,n=this._x1,r=this._x2;if(t>0){if(Math.abs(n-r)<2*t||Math.abs(e-i)<2*t)return[];n+=t,r-=t,e>i?(e-=t,i+=t):(e+=t,i-=t)}return this._bHoriz?[i,n,i,r,e,r,e,n]:[n,i,r,i,r,e,n,e]},_.prototype._initializeSelectionEffects=function(){var t=this.isSelected()?g.OUTER_BORDER_WIDTH:g.OUTER_BORDER_WIDTH_HOVER,e=this._createPointsArray(t),i=this._createPointsArray(t+g.INNER_BORDER_WIDTH);return this.OuterChild?(this.OuterChild.setPoints(e),void this.InnerChild.setPoints(i)):(this.OuterChild=new DvtPolygon(this.getCtx(),e),this.OuterChild.setInvisibleFill(),this.OuterChild.setMouseEnabled(!0),this.addChild(this.OuterChild),this.InnerChild=new DvtPolygon(this.getCtx(),i),this.InnerChild.setInvisibleFill(),this.InnerChild.setMouseEnabled(!0),void this.addChild(this.InnerChild))},_.prototype.getBoundingBox=function(){var t=Math.min(this._x2,this._x1),e=Math.min(this._endCoord,this._baselineCoord),i=Math.abs(this._x2-this._x1),n=Math.abs(this._endCoord-this._baselineCoord);return this._bHoriz?new DvtRectangle(e,t,n,i):new DvtRectangle(t,e,i,n)},_.prototype.getDimensionsSelf=function(t){return this.ConvertCoordSpaceRect(this.getBoundingBox(),t)};var v=function(t,e,i,n,r,o,s){this.Init(t),i=Math.max(2*Math.round(i/2),1);var a=Math.min(2*Math.ceil(v._BAR_WIDTH*i/2),i),l=Math.round(e)-i/2,u=l+i;if(null!=o&&null!=s){var h=Math.round(e)-a/2,c=h+a;this._rangeShape=new g(t,[h,o,c,o,c,s,h,s]),this.addChild(this._rangeShape)}this._changeShape=new g(t,[l,n,u,n,u,r,l,r]),this.addChild(this._changeShape),this.setPixelHinting(!0)};DvtObj.createSubclass(v,DvtContainer,"DvtChartCandlestick"),v._BAR_WIDTH=.3,v.prototype.setChangeStyle=function(t,e,i,n,r){this._changeShape.setStyleProperties(t,e,i,n,r)},v.prototype.setRangeStyle=function(t,e,i,n){this._rangeShape&&this._rangeShape.setStyleProperties(t,e,i,null,n)},v.prototype.setSelected=function(t){this._changeShape.setSelected(t),this._rangeShape&&this._rangeShape.setSelected(t)},v.prototype.showHoverEffect=function(){this._changeShape.showHoverEffect(),this._rangeShape&&this._rangeShape.showHoverEffect()},v.prototype.hideHoverEffect=function(){this._changeShape.hideHoverEffect(),this._rangeShape&&this._rangeShape.hideHoverEffect()},v.prototype.getDisplayAnimation=function(t){var e=new DvtCustomAnimation(this.getCtx(),this,t),i=this._changeShape.getPoints();if(this._changeShape.setPoints(v._getInitialPoints(i)),e.getAnimator().addProp(DvtAnimator.TYPE_NUMBER_ARRAY,this._changeShape,this._changeShape.getPoints,this._changeShape.setAnimationParams,i),this._rangeShape){var n=this._rangeShape.getPoints();this._rangeShape.setPoints(v._getInitialPoints(n)),e.getAnimator().addProp(DvtAnimator.TYPE_NUMBER_ARRAY,this._rangeShape,this._rangeShape.getPoints,this._rangeShape.setAnimationParams,n)}return e},v.prototype.getDeleteAnimation=function(t){var e=new DvtCustomAnimation(this.getCtx(),this,t),i=v._getInitialPoints(this._changeShape.getPoints());if(e.getAnimator().addProp(DvtAnimator.TYPE_NUMBER_ARRAY,this._changeShape,this._changeShape.getPoints,this._changeShape.setAnimationParams,i),this._rangeShape){var n=v._getInitialPoints(this._rangeShape.getPoints());e.getAnimator().addProp(DvtAnimator.TYPE_NUMBER_ARRAY,this._rangeShape,this._rangeShape.getPoints,this._rangeShape.setAnimationParams,n)}return e.getAnimator().addProp(DvtAnimator.TYPE_NUMBER,this,this.getAlpha,this.setAlpha,0),e},v.prototype.getInsertAnimation=function(t){this.setAlpha(0);var e=this.getDisplayAnimation(t);return e.getAnimator().addProp(DvtAnimator.TYPE_NUMBER,this,this.getAlpha,this.setAlpha,1),e},v.prototype.getUpdateAnimation=function(t,e){var i=new DvtCustomAnimation(this.getCtx(),this,t),n=this._changeShape.getPoints();this._changeShape.setPoints(e._changeShape.getPoints()),i.getAnimator().addProp(DvtAnimator.TYPE_NUMBER_ARRAY,this._changeShape,this._changeShape.getPoints,this._changeShape.setAnimationParams,n);var r=e._changeShape.isSelected()||this._changeShape.isSelected(),o=e._changeShape.getPrimaryFill().clone(),s=this._changeShape.getPrimaryFill();if(r||(this._changeShape.setFill(o),i.getAnimator().addProp(DvtAnimator.TYPE_FILL,this._changeShape,this._changeShape.getFill,this._changeShape.setFill,s)),this._rangeShape&&e._rangeShape){var a=this._rangeShape.getPoints();this._rangeShape.setPoints(e._rangeShape.getPoints()),i.getAnimator().addProp(DvtAnimator.TYPE_NUMBER_ARRAY,this._rangeShape,this._rangeShape.getPoints,this._rangeShape.setAnimationParams,a)}return i},v.prototype.UpdateSelectionEffect=function(){},v._getInitialPoints=function(t){var e=t[0],i=t[2],n=t[1],r=t[5],o=(n+r)/2;return[e,o,i,o,i,o,e,o]};var m=function(t,e,i,n,r,o){this.x=t,this.y1=e,this.y2=i,this.groupIndex=n,this.group=r,this.filtered=o};DvtObj.createSubclass(m,DvtObj,"DvtChartCoord"),m.prototype.isUpstep=function(t){return Math.abs(this.y2-t)>Math.abs(this.y1-t)},m.prototype.clone=function(){return new m(this.x,this.y1,this.y2,this.groupIndex,this.group,this.filtered)};var y=function(t,e,i,n,r,o,s,a,l,u){this.Init(t.getCtx()),this._chart=t,this._bArea=e,this._availSpace=i,this._baseline=n,this._fill=r,this._stroke=o,this._type=s,this._baseType=l?l:s,this._indicatorMap={},this.setCoords(a,u)};DvtObj.createSubclass(y,DvtContainer,"DvtChartLineArea"),y._INDICATOR_OFFSET=8,y.prototype.setCoords=function(t,e){this._arCoord=t,e&&(this._arBaseCoord=e),this.removeChildren(),this._bArea?this._renderAreas():this._renderLines(),this._positionIndicators()},y.prototype.getCoords=function(){return this._arCoord},y.prototype.getBaseCoords=function(){return this._arBaseCoord},y.prototype.getBaseline=function(){return this._baseline},y.prototype.isArea=function(){return this._bArea},y.prototype._getPointArrays=function(t,e){var i=[],n=[];i.push(n),t=y._convertToPointCoords(t);var r,o=K.isPolar(this._chart),s="centeredStepped"==e||"centeredSegmented"==e,a=s||"stepped"==e||"segmented"==e,l=V.getGroupWidth(this._chart),u=DvtAgent.isRightToLeft(this.getCtx())&&K.isVertical(this._chart)?-1:1;o&&(r=t[t.length-1]);for(var h,c,p,d,g=!1,f=0;f<t.length;f++)null!=t[f]?(h=t[f],p=t[f]._isY2,c=s?h.x-l/2*u:h.x,p&&(g&&a&&(c+=l*u),g=!g),"curved"==e&&p&&n.push(null,null),r&&a&&this._pushCoord(n,c,r.y),this._bArea||"segmented"!=e&&"centeredSegmented"!=e||(n=[],i.push(n)),this._pushCoord(n,c,h.y),r=h):(F.isMixedFrequency(this._chart)||a&&!o&&r&&!p&&(d=s?r.x+.5*l*u:r.x+l*u,this._pushCoord(n,d,r.y)),"jet"!=this._chart.getOptions()._environment&&F.isMixedFrequency(this._chart)||(n=[],i.push(n),r=null));if(a&&!o&&r&&!p&&(d=s?r.x+.5*l*u:r.x+l*u,this._pushCoord(n,d,r.y)),o&&i.length>1){var _=i.pop();i[0]=_.concat(i[0])}return i},y.prototype._pushCoord=function(t,e,i){var n=et.convertAxisCoord(this._chart,new DvtPoint(e,i),this._availSpace);t.push(Math.round(10*n.x)/10,Math.round(10*n.y)/10)},y.prototype._isRing=function(){if(!K.isPolar(this._chart)||!F.hasGroupAxis(this._chart)||this._arCoord.length<B.getGroupCount(this._chart))return!1;for(var t=0;t<this._arCoord.length;t++)if(null==this._arCoord[t].x)return!1;return!0},y.prototype._getSplineType=function(){return K.isScatterBubble(this._chart)?DvtPathUtils.SPLINE_TYPE_CARDINAL:K.isPolar(this._chart)?this._isRing()?DvtPathUtils.SPLINE_TYPE_CARDINAL_CLOSED:DvtPathUtils.SPLINE_TYPE_CARDINAL:K.isHorizontal(this._chart)?DvtPathUtils.SPLINE_TYPE_MONOTONE_HORIZONTAL:DvtPathUtils.SPLINE_TYPE_MONOTONE_VERTICAL},y.prototype._renderLines=function(){for(var t,e=this._getPointArrays(this._arCoord,this._type),i=0;i<e.length;i++){var n=e[i];if(n&&n.length>1){if("curved"==this._type){var r=y._getCurvedPathCommands(n,!1,this._getSplineType());t=new DvtPath(this.getCtx(),r),t.setFill(null)}else this._isRing()?(t=new DvtPolygon(this.getCtx(),n),t.setFill(null)):t=new DvtPolyline(this.getCtx(),n);t.setStroke(this._stroke),this.addChild(t)}}},y.prototype._renderAreas=function(){var t=this._arCoord,e=this._arBaseCoord;!K.isPolar(this._chart)&&t.length>0&&e.length>0&&(t=t.slice(0),e=e.slice(0),null!=t[0].x&&null!=e[0].x&&(y._removeAreaEdge(t,0,this._baseline),y._removeAreaEdge(e,0,this._baseline),e[0].x=t[0].x),null!=t[t.length-1].x&&null!=e[e.length-1].x&&(y._removeAreaEdge(t,t.length-1,this._baseline),y._removeAreaEdge(e,e.length-1,this._baseline),e[e.length-1].x=t[t.length-1].x));var i=this._getPointArrays(t,this._type),n=this._getPointArrays(e,this._baseType);if(i.length==n.length)for(var r,o=0;o<i.length;o++){var s=i[o],a=n[o];if(!(s.length<2)){var l="curved"==this._type,u="curved"==this._baseType;this._isRing()&&(l||s.push(s[0],s[1]),a.length>=2&&!u&&a.push(a[0],a[1]));for(var h=[],c=0;c<a.length;c+=2)h.unshift(a[c],a[c+1]);if(l||u){var p=this._getSplineType(),d=l?y._getCurvedPathCommands(s,!1,p):DvtPathUtils.polyline(s,!1);d+=u?y._getCurvedPathCommands(h,!0,p):DvtPathUtils.polyline(h,!0),d+=DvtPathUtils.closePath(),r=new DvtPath(this.getCtx(),d)}else{var g=h.concat(s);r=new DvtPolygon(this.getCtx(),g)}r.setFill(this._fill),this._stroke&&r.setStroke(this._stroke),this.addChild(r)}}},y.prototype._positionIndicators=function(){for(var t,e,i,n,r,o=0;o<this._arCoord.length;o++)r=this._arCoord[o],t=this._indicatorMap[r.groupIndex],t&&t.indicator&&(n=(r.isUpstep(this._baseline)?r.y2:r.y1)+y._INDICATOR_OFFSET*(t.direction==k.DIR_UP?-1:1),i=et.convertAxisCoord(this._chart,new DvtPoint(r.x,n),this._availSpace),e=t.indicator,e.setTranslate(i.x,i.y),e.setAlpha(1),e.getParent().addChild(e))},y.prototype.getAnimationParams=function(t){return y._coordsToAnimationParams(this._arCoord,t?t._arCoord:null,this._baseline)},y.prototype.setAnimationParams=function(t){var e=y._animationParamsToCoords(t);this.setCoords(e)},y.prototype.getBaseAnimationParams=function(t){return y._coordsToAnimationParams(this._arBaseCoord,t?t._arBaseCoord:null,this._baseline)},y.prototype.setBaseAnimationParams=function(t){this._arBaseCoord=y._animationParamsToCoords(t)},y.prototype.getCommonGroupIndices=function(t){for(var e=[],i=0;i<this._arCoord.length;i++)if(!this._arCoord[i].filtered&&null!=this._arCoord[i].x)for(var n=0;n<t._arCoord.length;n++)if(!t._arCoord[n].filtered&&null!=t._arCoord[n].x&&this._arCoord[i].group==t._arCoord[n].group){e.push(this._arCoord[i].groupIndex);break}return e},y.prototype.addIndicator=function(t,e,i){i.setAlpha(0),this._indicatorMap[t]={direction:e,indicator:i}},y.prototype.removeIndicators=function(){for(var t in this._indicatorMap){var e=this._indicatorMap[t].indicator;e&&e.getParent().removeChild(e)}this._indicatorMap={}},y._convertToPointCoords=function(t){for(var e=[],i=0;i<t.length;i++)if(!t[i].filtered)if(null==t[i].x)e.push(null);else if(e.push(new DvtPoint(t[i].x,t[i].y1)),t[i].y1!=t[i].y2){var n=new DvtPoint(t[i].x,t[i].y2);n._isY2=!0,e.push(n)}return e},y._coordsToAnimationParams=function(t,e,i){if(e&&e.length>0)if(t&&t.length>0){t=t.slice(0);for(var n,r,o,s=y._coordsToGroups(e),a=y._coordsToGroups(t),l=t.length,u=s.length-1;u>=0;u--)n=s[u],r=DvtArrayUtils.getIndex(a,n),-1==r?(0==l?(o=t[0].clone(),t[0]=t[0].clone(),y._removeCoordJump(o,t[0],i)):(o=t[l-1].clone(),t[l-1]=t[l-1].clone(),y._removeCoordJump(t[l-1],o,i)),o.groupIndex=-1,t.splice(l,0,o)):l=r}else{t=[];for(var u=0;u<e.length;u++)t.push(new m(e[u].x,i,i))}for(var h=[],c=0;c<t.length;c++)t[c].filtered||(null==t[c].x?(h.push(1/0),h.push(1/0),h.push(1/0)):(h.push(t[c].x),h.push(t[c].y1),h.push(t[c].y2)),h.push(t[c].groupIndex));return h},y._animationParamsToCoords=function(t){for(var e=[],i=0;i<t.length;i+=4)t[i]==1/0||isNaN(t[i])?e.push(new m(null,null,null,t[i+3])):e.push(new m(t[i],t[i+1],t[i+2],t[i+3]));return e},y._coordsToGroups=function(t){for(var e=[],i=0;i<t.length;i++)t[i].filtered||e.push(t[i].group);return e},y._removeCoordJump=function(t,e,i){t.isUpstep(i)?e.y1=e.y2:t.y2=t.y1},y._getCurvedPathCommands=function(t,e,i){var n=[],r=[];n.push(r);for(var o=0;o<t.length;o+=2)null==t[o]?(r=[],n.push(r)):r.push(t[o],t[o+1]);if(i==DvtPathUtils.SPLINE_TYPE_CARDINAL_CLOSED&&n.length>1){var s=n.pop();n[0]=s.concat(n[0]),i=DvtPathUtils.SPLINE_TYPE_CARDINAL}for(var a="",o=0;o<n.length;o++)r=n[o],a+=DvtPathUtils.curveThroughPoints(r,e,i),e=!0;return a},y._removeAreaEdge=function(t,e,i){var n=t[e].clone();n.isUpstep(i)?n.y1=n.y2:n.y2=n.y1,t[e]=n};var S=function(t,e,i,n,r,o){this.Init(t,e,null,i,n,r,r),o&&this.setStroke(S.DEFAULT_STROKE)};DvtObj.createSubclass(S,DvtSimpleMarker,"DvtChartLineMarker"),S.DEFAULT_STROKE=new DvtSolidStroke("none"),S.SELECTED_FILL=new DvtSolidFill("#FFFFFF"),S.SELECTED_STROKE=new DvtSolidStroke("#5A5A5A",1,1.5),S.prototype.setDataColor=function(t){this._dataColor=t,this._hoverStroke=new DvtSolidStroke(t,1,1.5)},S.prototype.getDataColor=function(){return this._dataColor},S.prototype.showHoverEffect=function(){this.IsShowingHoverEffect=!0,this.setStroke(this._hoverStroke)},S.prototype.hideHoverEffect=function(){this.IsShowingHoverEffect=!1,this.setStroke(this.isSelected()?S.SELECTED_STROKE:S.DEFAULT_STROKE)},S.prototype.setSelected=function(t){this.IsSelected!=t&&(this.IsSelected=t,this.isSelected()?(this.setFill(S.SELECTED_FILL),this.setStroke(this.isHoverEffectShown()?this._hoverStroke:S.SELECTED_STROKE)):(this.setInvisibleFill(),this.setStroke(this.isHoverEffectShown()?this._hoverStroke:S.DEFAULT_STROKE)));
},S.prototype.UpdateSelectionEffect=function(){};var E=function(t){this.Init(t.getCtx(),t.processEvent,t),this._parentChart=t,this._chart=t.overview?t.overview.getBackgroundChart():null,this._id=t.getId()+"_overview"};DvtObj.createSubclass(E,DvtOverview,"DvtChartOverview"),E.prototype._renderChart=function(t,e,n){this._chartContainer=new DvtContainer(this.getCtx()),this.addChild(this._chartContainer);var r={legend:{rendered:"off",size:null},xAxis:{viewportMin:null,viewportMax:null,viewportStartGroup:null,viewportEndGroup:null,axisLine:{rendered:"off"},size:null,maxSize:.5,title:null},yAxis:{rendered:"off",size:null},y2Axis:{rendered:"off",size:null},splitDualY:"off",title:{text:null},subtitle:{text:null},footnote:{text:null},titleSeparator:{rendered:"off"},styleDefaults:{animationIndicators:"none"},layout:{outerGapWidth:0,outerGapHeight:0},_isOverview:!0};t=DvtJSONUtils.merge(r,t),F.hasGroupAxis(this._parentChart)&&(t.xAxis.tickLabel.rendered="off"),K.isStock(this._parentChart)&&t.series&&t.series[0]&&(t.series=[t.series[0]],t.series[0].type="lineWithArea");var o=this._parentChart.getOptions().overview.content;t=DvtJSONUtils.merge(o,t),t.zoomAndScroll="off",this._chart||(this._chart=i.newInstance(this.getCtx()),this._chart.setId(this._id)),this._chartContainer.addChild(this._chart),this._chart.render(t,e,n);var s=new DvtRect(this.getCtx(),0,0,e,n);return s.setInvisibleFill(),this._chartContainer.addChild(s),this._chart.getEventManager().setKeyboardHandler(null),this._chart.__getPlotAreaSpace().h},E.prototype.createBackground=function(t,e){},E.prototype.render=function(t,e,i){t.style={overviewBackgroundColor:"rgba(0,0,0,0)",windowBackgroundColor:"rgba(0,0,0,0)",windowBorderTopColor:"#333333",windowBorderRightColor:"#333333",windowBorderBottomColor:"#333333",windowBorderLeftColor:"#333333",leftFilterPanelColor:"rgba(5,65,135,0.1)",rightFilterPanelColor:"rgba(5,65,135,0.1)",handleBackgroundImage:t.chart._resources.overviewGrippy,handleWidth:3,handleHeight:15,handleFillColor:"rgba(0,0,0,0)"},t.animationOnClick="off";var n=this._renderChart(t.chart,e,i);E.superclass.render.call(this,t,e,n)},E.prototype.destroy=function(){E.superclass.destroy.call(this),this._parentChart=null,this._chart=null},E.prototype.getBackgroundChart=function(){return this._chart},E.prototype.isLeftAndRightFilterRendered=function(){return!0},E.prototype.HandleKeyDown=function(t){},E.prototype.HandleKeyUp=function(t){};var T=function(t,e,i,n,r,o,s){this.Init(t.getCtx()),this._axisCoord=e,this._availSpace=s.clone(),this._bbox=null,this._dataItemGaps=V.getDataItemGaps(t)*T._MAX_DATA_ITEM_GAP,this._setBarCoords(i,n,r,o)};DvtObj.createSubclass(T,d,"DvtChartPolarBar"),T._MIN_BAR_LENGTH_FOR_GAPS=4,T._MAX_DATA_ITEM_GAP=3,T.prototype.getAnimationParams=function(){return[this._baselineCoord,this._endCoord,this._x1,this._x2]},T.prototype.setAnimationParams=function(t,e){this._setBarCoords(t[0],t[1],t[2],t[3])},T.prototype.getPrimaryFill=function(){return this.getFill()},T.prototype.getDisplayAnimation=function(t){var e=this.getAnimationParams();this.setAnimationParams([this._axisCoord,this._axisCoord,0,0]);var i=new DvtCustomAnimation(this.getCtx(),this,t);return i.getAnimator().addProp(DvtAnimator.TYPE_NUMBER_ARRAY,this,this.getAnimationParams,this.setAnimationParams,e),i},T.prototype.getDeleteAnimation=function(t){var e=[this._baselineCoord,this._baselineCoord,this._x1,this._x2],i=new DvtCustomAnimation(this.getCtx(),this,t);return i.getAnimator().addProp(DvtAnimator.TYPE_NUMBER_ARRAY,this,this.getAnimationParams,this.setAnimationParams,e),i.getAnimator().addProp(DvtAnimator.TYPE_NUMBER,this,this.getAlpha,this.setAlpha,0),i},T.prototype.getInsertAnimation=function(t){this.setAlpha(0);var e=this.getAnimationParams();this.setAnimationParams([this._baselineCoord,this._baselineCoord,this._x1,this._x2]);var i=new DvtCustomAnimation(this.getCtx(),this,t);return i.getAnimator().addProp(DvtAnimator.TYPE_NUMBER_ARRAY,this,this.getAnimationParams,this.setAnimationParams,e),i.getAnimator().addProp(DvtAnimator.TYPE_NUMBER,this,this.getAlpha,this.setAlpha,1),i},T.prototype._setBarCoords=function(t,e,i,n){var r=this._availSpace.x+this._availSpace.w/2,o=this._availSpace.y+this._availSpace.h/2,s=Math.max(e,t),a=Math.abs(e-t)>=T._MIN_BAR_LENGTH_FOR_GAPS&&this._axisCoord!=t?Math.min(e,t)+this._dataItemGaps:Math.min(e,t),l=360-DvtMath.radsToDegrees(Math.max(i,n))+90,u=DvtMath.radsToDegrees(Math.abs(n-i));this.setWedgeParams(r,o,s,s,l,u,this._dataItemGaps,a);var h=et.polarToCartesian(t,i,this._availSpace),c=et.polarToCartesian(t,n,this._availSpace),p=et.polarToCartesian(e,i,this._availSpace),d=et.polarToCartesian(e,n,this._availSpace),g=Math.min(h.x,c.x,p.x,d.x),f=Math.max(h.x,c.x,p.x,d.x),_=Math.min(h.y,c.y,p.y,d.y),v=Math.max(h.y,c.y,p.y,d.y);this._bbox=new DvtRectangle(g,_,f-g,v-_),this._baselineCoord=t,this._endCoord=e,this._x1=i,this._x2=n},T.prototype.getBoundingBox=function(){return this._bbox};var b=function(t,e,i,n,r,o,s){this.Init(t),this._markerSize=o,this._isInvisible=s,this._drawPath(e,i,n,r)};DvtObj.createSubclass(b,DvtPath,"DvtChartRangeMarker"),b.prototype._drawPath=function(t,e,i,n){var r=Math.atan2(n-e,i-t),o=this._markerSize/2,s=Math.PI/8,a=DvtPathUtils.moveTo(t+o*Math.cos(r+s),e+o*Math.sin(r+s))+DvtPathUtils.arcTo(o,o,2*(Math.PI-s),1,t+o*Math.cos(r-s),e+o*Math.sin(r-s))+DvtPathUtils.lineTo(i-o*Math.cos(r+s),n-o*Math.sin(r+s))+DvtPathUtils.arcTo(o,o,2*(Math.PI-s),1,i-o*Math.cos(r-s),n-o*Math.sin(r-s))+DvtPathUtils.closePath();this.setCmds(a),this._x1=t,this._y1=e,this._x2=i,this._y2=n},b.prototype.setStyleProperties=function(t,e,i,n,r){this._dataColor=i;var o=DvtSelectionEffectUtils.getHoverBorderColor(i);this._isInvisible?(this.setInvisibleFill(),this._hoverStroke=new DvtSolidStroke(o,1,1.5)):(this.setFill(t),this.setStroke(e),this.setHoverStroke(new DvtSolidStroke(n,1,1),new DvtSolidStroke(o,1,3.5)),this.setSelectedStroke(new DvtSolidStroke(n,1,1.5),new DvtSolidStroke(r,1,4.5)),this.setSelectedHoverStroke(new DvtSolidStroke(n,1,1.5),new DvtSolidStroke(o,1,4.5)))},b.prototype.getDataColor=function(){return this._dataColor},b.prototype.showHoverEffect=function(){this._isInvisible?(this.IsShowingHoverEffect=!0,this.setStroke(this._hoverStroke)):b.superclass.showHoverEffect.call(this)},b.prototype.hideHoverEffect=function(){this._isInvisible?(this.IsShowingHoverEffect=!1,this.setStroke(this.isSelected()?S.SELECTED_STROKE:S.DEFAULT_STROKE)):b.superclass.hideHoverEffect.call(this)},b.prototype.setSelected=function(t){if(this._isInvisible){if(this.IsSelected==t)return;this.IsSelected=t,this.isSelected()?(this.setFill(S.SELECTED_FILL),this.setStroke(this.isHoverEffectShown()?this._hoverStroke:S.SELECTED_STROKE)):(this.setInvisibleFill(),this.setStroke(this.isHoverEffectShown()?this._hoverStroke:S.DEFAULT_STROKE))}else b.superclass.setSelected.call(this,t)},b.prototype.UpdateSelectionEffect=function(){this._isInvisible||b.superclass.UpdateSelectionEffect.call(this)},b.prototype.getAnimationParams=function(){return[this._x1,this._y1,this._x2,this._y2]},b.prototype.setAnimationParams=function(t){this._drawPath(t[0],t[1],t[2],t[3])},b.prototype.isInvisible=function(){return this._isInvisible},b.prototype.getBoundingBox=function(){return this.getBoundingBox1().getUnion(this.getBoundingBox2())},b.prototype.getBoundingBox1=function(){return new DvtRectangle(this._x1-this._markerSize/2,this._y1-this._markerSize/2,this._markerSize,this._markerSize)},b.prototype.getBoundingBox2=function(){return new DvtRectangle(this._x2-this._markerSize/2,this._y2-this._markerSize/2,this._markerSize,this._markerSize)};var C=function(t,e,i){this.Init(t,e,i)};DvtObj.createSubclass(C,DvtContainer,"DvtDataCursor"),C.BEHAVIOR_SNAP="SNAP",C.BEHAVIOR_SMOOTH="SMOOTH",C.BEHAVIOR_AUTO="AUTO",C.TOOLTIP_ID="_dvtDataCursor",C.prototype.Init=function(t,e,i){C.superclass.Init.call(this,t),this._bHoriz=i,this._options=e,this.setMouseEnabled(!1),this.setVisible(!1);var n=e.lineWidth,r=e.lineColor,o=DvtStroke.convertTypeString(e.lineStyle),s=new DvtSolidStroke(r,1,n);if(s.setStyle(o),this._cursorLine=new DvtLine(this.getCtx(),0,0,0,0,"dcLine"),this._cursorLine.setStroke(s),this.addChild(this._cursorLine),"off"!=e.markerDisplayed){this._marker=new DvtContainer(this._context),this._marker.setMouseEnabled(!1),this.addChild(this._marker);var a=e.markerSize,l=new DvtSimpleMarker(this._context,DvtSimpleMarker.CIRCLE,null,0,0,a+4*n,a+4*n);l.setSolidFill(r),this._marker.addChild(l);var u=new DvtSimpleMarker(this._context,DvtSimpleMarker.CIRCLE,null,0,0,a+2*n,a+2*n);u.setSolidFill("white"),this._marker.addChild(u),this._markerInnerCircle=new DvtSimpleMarker(this._context,DvtSimpleMarker.CIRCLE,null,0,0,a,a),this._marker.addChild(this._markerInnerCircle)}},C.prototype.render=function(t,e,i,n,r,o){var s,a=this.isHorizontal(),l=DvtAgent.isRightToLeft(this.getCtx());if(null!=r&&""!=r){var u=this.getCtx().getStageAbsolutePosition(),h=this.getCtx().getTooltipManager(C.TOOLTIP_ID);h.showDatatip(e+u.x,i+u.y,r,o,!1),s=h.getTooltipBounds();var c,p,d=this._options.markerSize+4*this._options.lineWidth;a?(c=l?t.x-.75*s.w:t.x+t.w-s.w/4,p=n-s.h/2,!l&&d>c-e?c=e+d:l&&e-(c+s.w)<d&&(c=e-d-s.w)):(c=n-s.w/2,p=t.y-.75*s.h,i-(p+s.h)<d&&(p=i-d-s.h)),h.positionTip(c+u.x,p+u.y),s=h.getTooltipBounds(),s.x-=u.x,s.y-=u.y}if(a?(this._cursorLine.setTranslateY(n),l?(this._cursorLine.setX1(s?s.x+s.w-1:t.x),this._cursorLine.setX2(t.x+t.w)):(this._cursorLine.setX1(t.x),this._cursorLine.setX2(s?s.x+1:t.x+t.w))):(this._cursorLine.setTranslateX(n),this._cursorLine.setY1(s?s.y+s.h-1:t.y),this._cursorLine.setY2(t.y+t.h)),this._marker){this._marker.setTranslate(e,i);var g=this._options.markerColor;this._markerInnerCircle.setSolidFill(g?g:o),DvtAgent.workaroundFirefoxRepaint(this._marker)}},C.prototype.isHorizontal=function(){return this._bHoriz},C.prototype.getBehavior=function(){return this._behavior?this._behavior:C.BEHAVIOR_AUTO},C.prototype.setBehavior=function(t){this._behavior=t};var A=function(t,e,i,n,r,o,s,a,l){this.Init(t,e,i,n,r,o,s,a,l)};DvtObj.createSubclass(A,DvtPath,"DvtFunnelSlice"),A.prototype.Init=function(t,e,i,n,r,o,s,a,l){A.superclass.Init.call(this,t.getCtx()),this._chart=t;var u=t.getOptions().styleDefaults;this._seriesIndex=e,this._numDrawnSeries=i,this._funnelWidth=n,this._funnelHeight=r,this._startPercent=o,this._valuePercent=s,this._fillPercent=a,this._3dRatio="on"==u.threeDEffect?1:0,this._gap=l;var h=this._getPath();this._dataColor=V.getColor(this._chart,this._seriesIndex,0),this._backgroundColor=u.backgroundColor?u.backgroundColor:u.funnelBackgroundColor,this.setCmds(h.slice),h.bar&&(this._bar=new DvtPath(this.getCtx(),h.bar),this.addChild(this._bar),this._bar.setMouseEnabled(!1)),this._setColorProperties(h.sliceBounds),this._label=this._getSliceLabel(h.sliceBounds,h.barBounds),null!=this._label&&(this._label.setMouseEnabled(!1),this.addChild(this._label))},A._FUNNEL_3D_WIDTH_RATIO=.08,A._FUNNEL_ANGLE_2D=36,A._FUNNEL_RATIO=1/3,A._BORDER_COLOR="#FFFFFF",A._MIN_CHARS_DATA_LABEL=3,A._LINE_FRACTION=2/3,A._AREA_FRACTION=.41,A._HEIGHT_FRACTION=.28,A._LINE_FRACTION_2=.4,A._AREA_FRACTION_2=.8,A._HEIGHT_FRACTION_2=.7,A.prototype._getPath=function(){var t=DvtAgent.isRightToLeft(this.getCtx()),e=B.getSeriesCount(this._chart),i=(this._numDrawnSeries+1)*this._gap,n=DvtMath.degreesToRads(A._FUNNEL_ANGLE_2D-2*this._3dRatio),r=this._funnelWidth-e*this._gap,o=r/Math.sin(DvtMath.degreesToRads(A._FUNNEL_ANGLE_2D)),s=this._funnelHeight/Math.sin(n),a=this._3dRatio*this._funnelWidth/this._funnelHeight*A._FUNNEL_3D_WIDTH_RATIO;1e-5>a&&(a=0);var l,u,h,c,p,d,g,f,_,v,m,y,S=this._funnelHeight,E=this._funnelHeight*A._FUNNEL_RATIO;this._startPercent<A._AREA_FRACTION?(l=this._startPercent,h=S,p=this._funnelHeight*A._LINE_FRACTION,g=A._AREA_FRACTION,_=r*A._HEIGHT_FRACTION,m=r*(1-A._HEIGHT_FRACTION)):this._startPercent<A._AREA_FRACTION_2?(l=this._startPercent-A._AREA_FRACTION,h=this._funnelHeight*A._LINE_FRACTION,p=this._funnelHeight*A._LINE_FRACTION_2,g=A._AREA_FRACTION_2-A._AREA_FRACTION,_=r*(A._HEIGHT_FRACTION_2-A._HEIGHT_FRACTION),m=r*(1-A._HEIGHT_FRACTION_2)):(l=this._startPercent-A._AREA_FRACTION_2,h=this._funnelHeight*A._LINE_FRACTION_2,p=E,g=1-A._AREA_FRACTION_2,_=r*(1-A._HEIGHT_FRACTION_2),m=0),this._startPercent+this._valuePercent<A._AREA_FRACTION?(c=S,d=this._funnelHeight*A._LINE_FRACTION,u=this._startPercent+this._valuePercent,f=A._AREA_FRACTION,v=r*A._HEIGHT_FRACTION,y=r*(1-A._HEIGHT_FRACTION)):this._startPercent+this._valuePercent<A._AREA_FRACTION_2?(c=this._funnelHeight*A._LINE_FRACTION,d=this._funnelHeight*A._LINE_FRACTION_2,u=this._startPercent+this._valuePercent-A._AREA_FRACTION,f=A._AREA_FRACTION_2-A._AREA_FRACTION,v=r*(A._HEIGHT_FRACTION_2-A._HEIGHT_FRACTION),y=r*(1-A._HEIGHT_FRACTION_2)):(c=this._funnelHeight*A._LINE_FRACTION_2,d=E,u=this._startPercent+this._valuePercent-A._AREA_FRACTION_2,f=1-A._AREA_FRACTION_2,v=r*(1-A._HEIGHT_FRACTION_2),y=0);var T,b,C,D=Math.sqrt((g-l)/g*h*h+l/g*p*p),I=Math.sqrt((f-u)/f*c*c+u/f*d*d),x=.98*Math.asin(((D-p)*_/(h-p)+m)/o),O=.98*Math.asin(((I-d)*v/(c-d)+y)/o),M=(1+A._FUNNEL_RATIO)/2*this._funnelHeight+s,R=(1-A._FUNNEL_RATIO)/2*this._funnelHeight-s;t?(T=[o*Math.sin(x)+i,M-s*Math.cos(x),o*Math.sin(O)+i,M-s*Math.cos(O),o*Math.sin(O)+i,R+s*Math.cos(O),o*Math.sin(x)+i,R+s*Math.cos(x)],b=0,C=1):(T=[this._funnelWidth-i-o*Math.sin(x),M-s*Math.cos(x),this._funnelWidth-i-o*Math.sin(O),M-s*Math.cos(O),this._funnelWidth-i-o*Math.sin(O),R+s*Math.cos(O),this._funnelWidth-i-o*Math.sin(x),R+s*Math.cos(x)],b=1,C=0);var w=DvtPathUtils.moveTo(T[0],T[1]),P=null;w+=DvtPathUtils.arcTo(a*(T[1]-T[7])/2,(T[1]-T[7])/2,Math.PI,C,T[6],T[7]),w+=DvtPathUtils.arcTo(a*(T[1]-T[7])/2,(T[1]-T[7])/2,Math.PI,C,T[0],T[1]),w+=DvtPathUtils.arcTo(o,s,n,b,T[2],T[3]),w+=DvtPathUtils.arcTo(a*(T[3]-T[5])/2,(T[3]-T[5])/2,Math.PI,C,T[4],T[5]),w+=DvtPathUtils.arcTo(o,s,n,b,T[6],T[7]);var L=new DvtRectangle(Math.min(T[0],T[2]),T[5],Math.abs(T[0]-T[2]),Math.abs(T[3]-T[5]));if(null!=this._fillPercent){var N=Math.max(Math.min(this._fillPercent,1),0),k=t?-N*Math.PI:N*Math.PI;P=DvtPathUtils.moveTo(T[0],T[1]),P+=DvtPathUtils.arcTo(o,s,n,b,T[2],T[3]),P+=DvtPathUtils.arcTo(a*(T[3]-T[5])/2,(T[3]-T[5])/2,k,C,T[2]+a*(T[3]-T[5])/2*Math.sin(k),(T[5]+T[3])/2+(T[3]-T[5])/2*Math.cos(k)),P+=this._fillPercent>.95?DvtPathUtils.arcTo(o,s,n,b,T[6],T[1]+N*(T[7]-T[1])):this._fillPercent<.05?DvtPathUtils.arcTo(o,s,n,C,T[6],T[1]+N*(T[7]-T[1])):DvtPathUtils.lineTo(T[6]+a*(T[1]-T[7])/2*Math.sin(k),(T[7]+T[1])/2+(T[1]-T[7])/2*Math.cos(k)),P+=DvtPathUtils.arcTo(a*(T[1]-T[7])/2,(T[1]-T[7])/2,k,b,T[0],T[1]),P+=DvtPathUtils.closePath();var H=new DvtRectangle(Math.min(T[0],T[2]),T[5]+Math.abs(T[3]-T[5])*(1-N),Math.abs(T[0]-T[2]),Math.abs(T[3]-T[5])*N)}return{slice:w,bar:P,sliceBounds:L,barBounds:P?H:L}},A.prototype._getSliceLabel=function(t,e){var i=B.getDataLabel(this._chart,this._seriesIndex,0);if(i||(i=B.getSeriesLabel(this._chart,this._seriesIndex)),i&&"none"!=V.getDataLabelPosition(this._chart,this._seriesIndex,0)){var n=new DvtOutputText(this.getCtx(),i,0,0),r=null!=V.getPattern(this._chart,this._seriesIndex,0),o=[this._chart.getOptions().styleDefaults.dataLabelStyle,new DvtCSSStyle(this._chart.getOptions().styleDefaults.sliceLabelStyle),new DvtCSSStyle(B.getDataItem(this._chart,this._seriesIndex,0).labelStyle)],s=DvtCSSStyle.mergeStyles(o);if(n.setCSSStyle(s),DvtTextUtils.fitText(n,t.h-this._3dRatio*(.8-this._valuePercent)*50,t.w,this,A._MIN_CHARS_DATA_LABEL)){var a=n.measureDimensions(),l=this._getLabelPosition(t);if(r){var u=.15*a.h,h=DvtAgent.isRightToLeft(this.getCtx())?.5:-.5,c=DvtPathUtils.roundedRectangle(a.x-u,a.y,a.w+2*u,a.h,2,2,2,2),p=new DvtPath(this.getCtx(),c);p.setSolidFill("#FFFFFF",.9),l.translate(h*a.h,-h*a.w),p.setMatrix(l),this.addChild(p)}var d=r?"#000000":e.containsPoint(t.x,t.y+(t.h-a.w)/2)?DvtColorUtils.getContrastingTextColor(this._dataColor):DvtColorUtils.getContrastingTextColor(this._backgroundColor);return s.getStyle("color")&&!DvtAgent.isHighContrast()||n.setCSSStyle(s.setStyle("color",d)),n.setMatrix(this._getLabelPosition(t)),n.alignCenter(),n.alignMiddle(),n}}},A.prototype._getLabelPosition=function(t){var e=this._3dRatio*(t.h*this._funnelWidth/this._funnelHeight*A._FUNNEL_3D_WIDTH_RATIO/2),i=new DvtMatrix;return DvtAgent.isRightToLeft(this.getCtx())?(i.rotate(Math.PI/2),i.translate(t.x+t.w/2-e,t.y+t.h/2)):(i.rotate(3*Math.PI/2),i.translate(t.x+t.w/2+e,t.y+t.h/2)),i},A.prototype._setColorProperties=function(t){var e=j.getFunnelSliceFill(this._chart,this._seriesIndex,this._dataColor,t),i=V.getBorderColor(this._chart,this._seriesIndex,0);null==i&&this._3dRatio>0&&(i=A._BORDER_COLOR);var n=V.getBorderWidth(this._chart,this._seriesIndex,0),r=j.getFunnelSliceFill(this._chart,this._seriesIndex,this._backgroundColor,t,!0);if(this._bar?(this.setFill(r),this._bar.setFill(e)):this.setFill(e),i&&this.setSolidStroke(i,null,n),this.OriginalStroke=this.getStroke(),this._chart.isSelectionSupported()){var o=DvtSelectionEffectUtils.getHoverBorderColor(this._dataColor),s=V.getSelectedInnerColor(this._chart),a=V.getSelectedOuterColor(this._chart)?V.getSelectedOuterColor(this._chart):this._dataColor,l=null!=this._bar?this._bar:this;l.setHoverStroke(new DvtSolidStroke(o,1,2)),l.setSelectedStroke(new DvtSolidStroke(s,1,1.5),new DvtSolidStroke(a,1,4.5)),l.setSelectedHoverStroke(new DvtSolidStroke(s,1,1.5),new DvtSolidStroke(o,1,4.5)),this.setCursor(DvtSelectionEffectUtils.getSelectingCursor())}},A.prototype.getAnimationParams=function(){return[this._startPercent,this._valuePercent,this._fillPercent,this.getAlpha(),this._3dRatio]},A.prototype.setAnimationParams=function(t){this._startPercent=t[0],this._valuePercent=t[1],this._fillPercent=null!=this._fillPercent?t[2]:null,this.setAlpha(t[3]),this._3dRatio=t[4];var e=this._getPath();this.setCmds(e.slice),e.bar&&this._bar&&this._bar.setCmds(e.bar),this._label&&this._label.setMatrix(this._getLabelPosition(e.sliceBounds))},A.prototype.setSelected=function(t){if(null!=this._bar){if(this.IsSelected==t)return;this.IsSelected=t,this._bar.setSelected(t)}else A.superclass.setSelected.call(this,t);var e=this.getDimensions(),i=null!=this._bar?this._bar:this,n=3,r=e.w;t?(i.setScaleX((r-n)/r),i.setTranslateX(Math.ceil(n/2)+n/r*e.x)):(i.setScaleX(1),i.setTranslateX(0))},A.prototype.showHoverEffect=function(){null!=this._bar?this._bar.showHoverEffect():A.superclass.showHoverEffect.call(this)},A.prototype.hideHoverEffect=function(){null!=this._bar?this._bar.hideHoverEffect():A.superclass.hideHoverEffect.call(this)},A.prototype.copyShape=function(){return new A(this._chart,this._seriesIndex,this._numDrawnSeries,this._funnelWidth,this._funnelHeight,this._startPercent,this._valuePercent,this._fillPercent,this._gap)};var D=function(t,e,i,n){this.Init(t,e,i,n)};D._THREED_TILT=.59,D._THREED_DEPTH=.1,D._RADIUS=.45,D._RADIUS_LABELS=.38,DvtObj.createSubclass(D,DvtContainer,"DvtPieChart"),D.prototype.Init=function(t,e,i,n){D.superclass.Init.call(this,t.getCtx()),this.chart=t,this._options=t.getOptions(),this._frame=e.clone(),t.pieChart=this;for(var r=this.getLabelPosition(),o=B.getSeriesCount(t),s=0;o>s;s++){var a=B.getDataItem(t,s,0);!a||"center"!=r&&"none"!=r||"outsideSlice"!=a.labelPosition||(r="outsideSlice")}this._center=new DvtPoint(e.x+Math.floor(e.w/2),e.y+Math.floor(e.h/2));var l="center"==r||"none"==r?D._RADIUS:D._RADIUS_LABELS;this._radiusX=Math.floor(Math.min(e.w,e.h)*l),this._radiusY=this._radiusX,this._depth=0,this._anchorOffset=90,this.is3D()&&(this._depth=e.h*D._THREED_DEPTH,this._center.y-=Math.floor(this._depth/2),this._radiusY*=D._THREED_TILT),this._slices=this._createSlices(),this._shapesContainer=new DvtContainer(this.getCtx()),this._numFrontObjs=0,this._numSelectedObjsInFront=0},D.prototype.getOptions=function(){return this._options},D.prototype.highlight=function(t){DvtCategoryRolloverHandler.highlight(t,this._slices,"any"==this.getOptions().highlightMatch)},D.prototype._createSlices=function(){for(var t,e,i=[],n=X.getRenderedSeriesIndices(this.chart),r=X.getOtherValue(this.chart),o=0;o<n.length;o++)e=n[o],V.isDataItemRendered(this.chart,e)&&(t=new I(this,e),t.getValue()<=0||i.push(t));if(r>0){var s=new I(this);"ascending"==this.chart.getOptions().sorting?i.unshift(s):i.push(s)}return DvtAgent.isRightToLeft(this.getCtx())&&i.reverse(),i},D.prototype.setInitialSelection=function(){var t=this.chart.getSelectionHandler();if(t){for(var e=B.getInitialSelection(this.chart),i=[],n=0;n<e.length;n++)for(var r=0;r<this._slices.length;r++){var o=this._slices[r].getId();o&&(e[n].id&&o.getId()==e[n].id||o.getSeries()==e[n].series&&o.getGroup()==e[n].group)&&i.push(o)}if(X.isOtherSliceSelected(this.chart,e)){var s=X.getOtherSliceId(this.chart);i.push(s)}t.processInitialSelections(i,this._slices)}},D.prototype.render=function(){var t;if(!this.contains(this._shapesContainer)&&(this._shapesContainer||(this._shapesContainer=new DvtContainer(this.getCtx())),this.addChild(this._shapesContainer),!this.is3D()&&this.getSkin()==DvtCSSStyle.SKIN_SKYROS)){var e=DvtColorUtils.makeRGBA(78,87,101,.45);t=new DvtShadow(e,4,7,7,54,2,3,!1,!1,!1)}D._layoutSlices(this._slices,this._anchorOffset);for(var i=0;i<this._slices.length;i++)this._slices[i].preRender();var n=D._orderSlicesForRendering(this._slices);$.createPieCenterLabel(this),this._duringDisplayAnim||$.layoutLabelsAndFeelers(this);for(var i=0;i<n.length;i++)n[i].render(this._duringDisplayAnim);DvtAgent.isPlatformWebkit()||t&&this._shapesContainer.addDrawEffect(t),this.setInitialSelection(),this.highlight(V.getHighlightedCategories(this.chart))},D.prototype.getTotalValue=function(){for(var t=0,e=0;e<this._slices.length;e++){var i=this._slices[e].getValue();i>=0&&(t+=i)}return t},D._layoutSlices=function(t,e){var i,n,r,o=0,s=t?t.length:0;e>360&&(e-=360),0>e&&(e+=360);var a=0,l=0;s>0&&(l=t[0].getPieChart().getTotalValue());for(var i=0;s>i;i++){n=t[i];var u=n.getValue();a=0==l?0:Math.abs(u)/l*100,o=3.6*a,r=e-o,0>r&&(r+=360),n.setAngleStart(r),n.setAngleExtent(o),e=n.getAngleStart()}},D._orderSlicesForRendering=function(t){for(var e,i,n,r,o,s,a=[],l=t?t.length:0,u=-1,e=0;l>e;e++)if(i=t[e],n=i.getAngleStart(),r=i.getAngleExtent(),o=n+r,o>360&&(o-=360),0>o&&(o+=360),90==o||90>n&&o>90){u=e,s=o-90;break}for(var h=[],e=u;l>e;e++)h.push(t[e]);for(var e=0;u>e;e++)h.push(t[e]);for(var c=0,p=0,d=180+s,e=0;l>e;e++)if(i=h[e]){if(c+i.getAngleExtent()>d){p=e;break}a.push(i),c+=i.getAngleExtent()}for(var e=l-1;e>=p;e--)i=h[e],i&&a.push(i);return a},D.prototype.is3D=function(){return"on"==this._options.styleDefaults.threeDEffect},D.prototype.__calcMaxExplodeDistance=function(){var t=.5/D._RADIUS-1;return this._radiusX*t},D.prototype.getAnimationDuration=function(){return V.getAnimationDuration(this.chart)},D.prototype.getDisplayAnimation=function(){this._duringDisplayAnim=!0;var t=new DvtDataAnimationHandler(this.getCtx(),this),e=this.getAnimationDuration(),i=I.createFillerSlice(this,this.getTotalValue());this._slices.push(i);var n=new DvtCustomAnimation(this.getCtx(),i,e);n.getAnimator().addProp(DvtAnimator.TYPE_NUMBER_ARRAY,i,i.GetAnimationParams,i.SetAnimationParams,i.getDeletedAnimationParams()),n.setOnEnd(i._removeDeletedSlice,i),t.add(n,0);for(var r=0;r<this._slices.length-1;r++)this._slices[r].animateInsert(t);var o=new DvtCustomAnimation(this.getCtx(),this,e);o.getAnimator().addProp(DvtAnimator.TYPE_NUMBER_ARRAY,this,this._getAnimationParams,this._setAnimationParams,this._getAnimationParams()),t.add(o,0);for(var s=[],r=0;r<this._slices.length;r++)s=s.concat(this._slices[r].getLabelAndFeeler());var a=new DvtAnimFadeIn(this._context,s,e);t.add(a,0),this._setAnimationParams();var l=t.getAnimation(!0);return l.setOnEnd(this._onEnd,this),l},D.prototype._onEnd=function(){this._duringDisplayAnim=!1,this._setAnimationParams()},D.prototype.getCenter=function(){return this._center},D.prototype.getInnerRadius=function(){return this.is3D()?0:this._options.styleDefaults.pieInnerRadius*Math.min(this._radiusX,this._radiusY)*.95},D.prototype.__getFrame=function(){return this._frame},D.prototype.getRadiusX=function(){return this._radiusX},D.prototype.getRadiusY=function(){return this._radiusY},D.prototype.getDepth=function(){return this._depth},D.prototype.getSliceDisplayable=function(t){return t>=0&&t<this._slices.length?this._slices[t].getTopDisplayable():null},D.prototype.__getShapesContainer=function(){return this._shapesContainer},D.prototype.__getSlices=function(){return this._slices},D.prototype.animateUpdate=function(t,e){var i=new DvtDataAnimationHandler(this.getCtx(),this);i.constructAnimation(e.__getSlices(),this.__getSlices());var n=i.getAnimation(!0),r=new DvtCustomAnimation(this.getCtx(),this,this.getAnimationDuration());r.getAnimator().addProp(DvtAnimator.TYPE_NUMBER_ARRAY,this,this._getAnimationParams,this._setAnimationParams,this._getAnimationParams());var o=new DvtParallelPlayable(this.getCtx(),n,r);o.setOnEnd(this._setAnimationParams,this),t.add(o,0),this._setAnimationParams([e.getDepth(),e.getRadiusY(),e.getCenter().y])},D.prototype.animateInsert=function(t){},D.prototype.animateDelete=function(t,e){},D.prototype._getAnimationParams=function(){return[this._depth,this._radiusY,this._center.y]},D.prototype._setAnimationParams=function(t){this.removeChildren(),this._shapesContainer&&this._shapesContainer.destroy(),this._shapesContainer=null,t&&(this._depth=t[0],this._radiusY=t[1],this._center.y=t[2]),this.render()},D.prototype.bringToFrontOfSelection=function(t){var e=t.getPieChart()._shapesContainer;if(e){var i=e.getNumChildren();if(i-this._numFrontObjs>1){e.removeChild(t._topSurface[0]);var n=i-this._numFrontObjs-1;e.addChildAt(t._topSurface[0],n)}}},D.prototype.pushToBackOfSelection=function(t){for(var e=this._slices.length,i=0,n=0;e>n;n++)this._slices[n].isSelected()&&i++;this._numSelectedObjsInFront=i;var r=t.getPieChart()._shapesContainer;if(r){var o=r.getNumChildren(),s=o-this._numFrontObjs-1-this._numSelectedObjsInFront;s>=0&&(r.removeChild(t._topSurface[0]),r.addChildAt(t._topSurface[0],s))}},D.prototype.setNumFrontObjs=function(t){this._numFrontObjs=t},D.prototype.getShapesForViewSwitcher=function(t){var e={};if(this._slices)for(var i=0;i<this._slices.length;i++){var n=this._slices[i];if(n){var r=n.getId();if(r){var o=r.getId();if(o&&n._topSurface&&n._topSurface.length>0){var s=n._topSurface[0];e[o]=s}}}}return e},D.prototype.getLabelPosition=function(){var t=this._options.styleDefaults.sliceLabelPosition;return t||(t=this._options.styleDefaults.dataLabelPosition),D.parseLabelPosition(t)},D.prototype.getSeriesLabelPosition=function(t){var e=this.getLabelPosition(),i=B.getDataItem(this.chart,t,0);return i&&i.labelPosition&&(e=i.labelPosition),D.parseLabelPosition(e)},D.parseLabelPosition=function(t){return"center"==t||"inside"==t?"center":"outsideSlice"==t||"outside"==t?"outsideSlice":"none"==t?"none":"auto"},D.prototype.getSkin=function(){return this._options.skin};var I=function(t,e){this.Init(t,e)};DvtObj.createSubclass(I,DvtObj,"DvtPieSlice"),I.prototype.Init=function(t,e){this._pieChart=t,this._chart=t.chart,this._angleStart=0,this._angleExtent=0,this._topSurface=null,this._leftSurface=null,this._rightSurface=null,this._crustSurface=null,this._explodeOffsetX=0,this._explodeOffsetY=0,this._sliceLabel=null,this._sliceLabelString=null,this._hasFeeler=!1,this._feelerRad=null,this._feelerHoriz=null,this._outsideFeelerStart=null,this._outsideFeelerMid=null,this._outsideFeelerEnd=null,this._selected=!1,this._selecting=!1,this._centerX=this._pieChart.getCenter().x,this._centerY=this._pieChart.getCenter().y,this._radiusX=this._pieChart.getRadiusX(),this._radiusY=this._pieChart.getRadiusY(),this._depth=this._pieChart.getDepth();var i=this._chart.getOptions();if(null!=e){var n=B.getDataItem(this._chart,e,0);this._value=B.getValue(this._chart,e,0),this._explode=X.getSliceExplode(this._chart,e),this._fillColor=V.getColor(this._chart,e),this._fillPattern=V.getPattern(this._chart,e,0),this._strokeColor=V.getBorderColor(this._chart,e),this._borderWidth=V.getBorderWidth(this._chart,e),this._customLabel=n.label,this._seriesLabel=B.getSeries(this._chart,e),this._action=n.action,this._drillable=U.isDataItemDrillable(this._chart,e,0),this._showPopupBehaviors=this._chart.getShowPopupBehaviors(n._id),this._id=X.getSliceId(this._chart,e),this._seriesIndex=e,this._categories=B.getDataItemCategories(this._chart,e,0)}else this._value=X.getOtherValue(this._chart),this._explode=0,this._fillColor=i.styleDefaults.otherColor,this._fillPattern=null,this._strokeColor=i.styleDefaults.borderColor,this._borderWidth=i.styleDefaults.borderWidth,this._customLabel=null,this._seriesLabel=DvtBundle.getTranslatedString(DvtBundle.CHART_PREFIX,"LABEL_OTHER",null),this._action=null,this._drillable=!1,this._showPopupBehaviors=X.getOtherSliceShowPopupBehaviors(this._chart),this._id=X.getOtherSliceId(this._chart)},I.prototype.getPieChart=function(){return this._pieChart},I.prototype.render=function(t){for(var e=I._sortPieSurfaces(this._topSurface,this._leftSurface,this._rightSurface,this._crustSurface,this._angleStart,this._angleExtent),i=e.length,n=0;i>n;n++)for(var r=e[n],o=r.length,s=0;o>s;s++){var a=this._pieChart.__getShapesContainer();a.addChild(r[s]),r[s].render&&r[s].render()}if(this._sliceLabel&&(this._pieChart.addChild(this._sliceLabel),q.associate(this,[this._sliceLabel]),t?(this._pieChart.addChild(this._feelerRad),this._pieChart.addChild(this._feelerHoriz)):this._renderOutsideFeeler()),this._explodeSlice(),this._action||this._drillable)for(var l=this.getDisplayables(),n=0;n<l.length;n++)l[n].setCursor(DvtSelectionEffectUtils.getSelectingCursor());var u=this.getTopDisplayable();u&&(u.setAriaRole("img"),this._updateAriaLabel())},I.prototype._feelerFromPts=function(t,e){var i=new DvtLine(this._pieChart.getCtx(),t.x,t.y,e.x,e.y),n=this._pieChart.getOptions().styleDefaults.pieFeelerColor,r=new DvtSolidStroke(n);return i.setStroke(r),this._pieChart.addChild(i),i},I.prototype._renderOutsideFeeler=function(){if(this._hasFeeler){var t=this._feelerFromPts(this._outsideFeelerStart,this._outsideFeelerMid),e=this._feelerFromPts(this._outsideFeelerMid,this._outsideFeelerEnd);this._feelerRad=t,this._feelerHoriz=e}},I.prototype.preRender=function(){var t,e=this._bFillerSlice?"color":V.getSeriesEffect(this._chart),i=this.getFillColor(),n=this.getFillPattern();if("pattern"==e||null!=n)t=new DvtPatternFill(n,i),e="pattern";else if("gradient"==e){var r=this._pieChart.getSkin(),o=r==DvtCSSStyle.SKIN_SKYROS?297:270,s=this._pieChart.is3D()?"3D":"2D",a=q.getGradientColors(DvtColorUtils.getRGB(i),s,r),l=q.getGradientAlphas(DvtColorUtils.getAlpha(i),s),u=q.getGradientRatios(s,r),h=[Math.floor(this._centerX-this._radiusX),Math.floor(this._centerY-this._radiusY),Math.ceil(2*this._radiusX),Math.ceil(2*this._radiusY)];t=new DvtLinearGradientFill(o,a,l,u,h)}else t=new DvtSolidFill(i);if(this._topSurface=q.createTopSurface(this,t),this._depth>0||this._radiusX!=this._radiusY){var c="gradient"==e,p=new DvtSolidFill(DvtColorUtils.getDarker(i,.6)),d=c?q.generateLateralGradientFill(this,q.SIDE):p,g=c?q.generateLateralGradientFill(this,q.CRUST):p;this._leftSurface=q.createLateralSurface(this,q.SURFACE_LEFT,d),this._rightSurface=q.createLateralSurface(this,q.SURFACE_RIGHT,d),this._crustSurface=q.createLateralSurface(this,q.SURFACE_CRUST,g)}},I._sortPieSurfaces=function(t,e,i,n,r,o){var s=[];return e&&i&&n&&(270>=r&&r+o>270?(s.push(e),s.push(i),s.push(n)):r>270||90>=r+o?(s.push(e),s.push(n),s.push(i)):(s.push(i),s.push(n),s.push(e))),s.push(t),s},I.oppositeDirection=function(t,e,i){var n=t-e>0,r=t-i>0;return n!=r},I.prototype._explodeSlice=function(){if(0!=this._explode){var t=this._angleExtent,e=this._angleStart,i=e+t/2,n=(360-i)*DvtMath.RADS_PER_DEGREE,r=this._pieChart.is3D()?D._THREED_TILT:1,o=this._explode*this._pieChart.__calcMaxExplodeDistance();this._explodeOffsetX=Math.cos(n)*o,this._explodeOffsetY=Math.sin(n)*r*o,DvtAgent.isPlatformWebkit()&&(this._explodeOffsetX=Math.round(this._explodeOffsetX),this._explodeOffsetY=Math.round(this._explodeOffsetY))}else this._explodeOffsetX=0,this._explodeOffsetY=0;if(this._topSurface){var s=this._pieChart.is3D()&&this._topSurface[0].getSelectionOffset?this._topSurface[0].getSelectionOffset():[];
I._translateShapes(this._topSurface,s[0]?s[0]+this._explodeOffsetX:this._explodeOffsetX,s[1]?s[1]+this._explodeOffsetY:this._explodeOffsetY)}if(this._rightSurface&&I._translateShapes(this._rightSurface,this._explodeOffsetX,this._explodeOffsetY),this._leftSurface&&I._translateShapes(this._leftSurface,this._explodeOffsetX,this._explodeOffsetY),this._crustSurface&&I._translateShapes(this._crustSurface,this._explodeOffsetX,this._explodeOffsetY),this._hasFeeler){var a=this._outsideFeelerStart.x,l=this._outsideFeelerStart.y,u=a+this._explodeOffsetX,h=l+this._explodeOffsetY;this._feelerRad.setX1(u),this._feelerRad.setY1(h);var c=this._outsideFeelerMid.x,p=this._outsideFeelerMid.y;I.oppositeDirection(c,a,u)?(this._feelerRad.setX2(u),this._feelerHoriz.setX1(u)):(this._feelerRad.setX2(c),this._feelerHoriz.setX1(c)),I.oppositeDirection(p,l,h)?(this._feelerRad.setY2(h),this._feelerHoriz.setY1(h)):(this._feelerRad.setY2(p),this._feelerHoriz.setY1(p))}this._sliceLabel&&!this._hasFeeler&&this._sliceLabel.setTranslate(this._explodeOffsetX,this._explodeOffsetY)},I._translateShapes=function(t,e,i){if(t)for(var n=t.length,r=0;n>r;r++){var o=t[r];o.setTranslate(e,i)}},I.prototype.getRadiusX=function(){return this._radiusX},I.prototype.getRadiusY=function(){return this._radiusY},I.prototype.getCenter=function(){return new DvtPoint(this._centerX,this._centerY)},I.prototype.getDepth=function(){return this._depth},I.prototype.getAngleExtent=function(){return this._angleExtent},I.prototype.setAngleExtent=function(t){this._angleExtent=t},I.prototype.getAngleStart=function(){return this._angleStart},I.prototype.setAngleStart=function(t){this._angleStart=t},I.prototype.__getExplodeOffsetX=function(){return this._explodeOffsetX},I.prototype.__getExplodeOffsetY=function(){return this._explodeOffsetY},I.prototype.setOutsideFeelerPoints=function(t,e,i){this._outsideFeelerStart=t,this._outsideFeelerMid=e,this._outsideFeelerEnd=i,this._hasFeeler=!0},I.prototype.setNoOutsideFeeler=function(){this._outsideFeelerStart=null,this._outsideFeelerMid=null,this._outsideFeelerEnd=null,this._hasFeeler=!1},I.prototype.getLabelAndFeeler=function(){var t=[];return this._sliceLabel&&t.push(this._sliceLabel),this._feelerRad&&t.push(this._feelerRad),this._feelerHoriz&&t.push(this._feelerHoriz),t},I.prototype.getSliceLabel=function(){return this._sliceLabel},I.prototype.setSliceLabel=function(t){this._sliceLabel=t},I.prototype.getSliceLabelString=function(){return this._sliceLabelString},I.prototype.setSliceLabelString=function(t){this._sliceLabelString=t},I.prototype.getTopSurface=function(){return this._topSurface},I.prototype.getValue=function(){return this._value},I.prototype.getId=function(){return this._id},I.prototype.getSeriesIndex=function(){return this._seriesIndex},I.containsRect=function(t,e){return e.contains(t.x,t.y)&&e.contains(t.x+t.w,t.y)&&e.contains(t.x+t.w,t.y+t.h)&&e.contains(t.x,t.y+t.h)},I._shapeIsSelectable=function(t){return t instanceof d},I.prototype.contains=function(t,e){for(var i=this._pieChart.getInnerRadius(),n=this._pieChart.getCenter(),r=(t-n.x)/this._radiusX,o=(e-n.y)/this._radiusY,s=-Math.atan2(o,r)*(180/Math.PI);s<this._angleStart;)s+=360;for(;s-this._angleStart>=360;)s-=360;var a=Math.pow(r,2)+Math.pow(o,2),l=Math.sqrt(a)>i/this._radiusX&&1>=a,u=s<=this._angleStart+this._angleExtent;return l&&u},I.prototype.GetAnimationParams=function(){var t=DvtColorUtils.getRed(this._fillColor),e=DvtColorUtils.getGreen(this._fillColor),i=DvtColorUtils.getBlue(this._fillColor),n=DvtColorUtils.getAlpha(this._fillColor);return[this._value,this._radiusX,this._radiusY,this._explode,this._centerX,this._centerY,this._depth,t,e,i,n]},I.prototype.SetAnimationParams=function(t){this._value=t[0],this._radiusX=t[1],this._radiusY=t[2],this._explode=t[3],this._centerX=t[4],this._centerY=t[5],this._depth=t[6];var e=Math.round(t[7]),i=Math.round(t[8]),n=Math.round(t[9]),r=Math.round(t[10]);this._fillColor=DvtColorUtils.makeRGBA(e,i,n,r)},I.prototype.getDeletedAnimationParams=function(){var t=this.GetAnimationParams();return t[0]=0,t[1]=this.getInnerRadius(),t[2]=this.getInnerRadius(),t[3]=0,t},I.prototype.animateUpdate=function(t,e){var i=e.GetAnimationParams(),n=this.GetAnimationParams();if(!DvtArrayUtils.equals(i,n)){var r=new DvtCustomAnimation(this._pieChart.getCtx(),this,this.getPieChart().getAnimationDuration());r.getAnimator().addProp(DvtAnimator.TYPE_NUMBER_ARRAY,this,this.GetAnimationParams,this.SetAnimationParams,n),t.add(r,0),this.SetAnimationParams(i)}},I.prototype.animateInsert=function(t){var e=new DvtCustomAnimation(this._pieChart.getCtx(),this,this.getPieChart().getAnimationDuration());e.getAnimator().addProp(DvtAnimator.TYPE_NUMBER_ARRAY,this,this.GetAnimationParams,this.SetAnimationParams,this.GetAnimationParams()),t.add(e,0),this.SetAnimationParams(this.getDeletedAnimationParams())},I.prototype.animateDelete=function(t,e){var i=e.__getSlices(),n=this.getPieChart().__getSlices(),r=DvtArrayUtils.getIndex(n,this),o=r-1;if(o>=0){for(var s=n[o].getId(),a=0;a<i.length;a++)if(i[a].getId().equals(s)){i.splice(a+1,0,this);break}}else i.splice(0,0,this);this._pieChart=e;var l=new DvtCustomAnimation(e.getCtx(),this,this.getPieChart().getAnimationDuration());l.getAnimator().addProp(DvtAnimator.TYPE_NUMBER_ARRAY,this,this.GetAnimationParams,this.SetAnimationParams,this.getDeletedAnimationParams()),l.setOnEnd(this._removeDeletedSlice,this),t.add(l,0)},I.prototype._removeDeletedSlice=function(){var t=this.getPieChart().__getSlices(),e=DvtArrayUtils.getIndex(t,this);e>=0&&t.splice(e,1)},I.prototype.getDisplayables=function(){var t=new Array;return this._topSurface&&(t=t.concat(this._topSurface)),this._leftSurface&&(t=t.concat(this._leftSurface)),this._rightSurface&&(t=t.concat(this._rightSurface)),this._crustSurface&&(t=t.concat(this._crustSurface)),this._sliceLabel&&t.push(this._sliceLabel),this._feelerRad&&t.push(this._feelerRad),this._feelerHoriz&&t.push(this._feelerHoriz),t},I.prototype.getAriaLabel=function(){var t;t=null==this._seriesIndex?W.getOtherSliceDatatip(this._chart,this._value,!1):W.getDatatip(this._chart,this._seriesIndex,0,!1);var e=DvtBundle.getTranslatedString(DvtBundle.CHART_PREFIX,"LABEL_PERCENTAGE",null),i=$.generateSliceLabelString(this,"percent");t+="; "+DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,"COLON_SEP_LIST",[e,i]);var n=[];return this.isSelectable()&&n.push(DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,this.isSelected()?"STATE_SELECTED":"STATE_UNSELECTED")),U.isDataItemDrillable(this._chart,this._seriesIndex,this._groupIndex)&&n.push(DvtBundle.getTranslation(this._pieChart.getOptions(),"stateDrillable",DvtBundle.UTIL_PREFIX,"STATE_DRILLABLE")),DvtDisplayable.generateAriaLabel(t,n)},I.prototype._updateAriaLabel=function(){var t=this.getTopDisplayable();t&&!DvtAgent.deferAriaCreation()&&t.setAriaProperty("label",this.getAriaLabel())},I.prototype.getTopDisplayable=function(){return this._topSurface&&this._topSurface.length>0?this._topSurface[0]:null},I.prototype.isSelectable=function(){return this._chart.isSelectionSupported()},I.prototype.isSelected=function(){return this._selected},I.prototype.setSelected=function(t,e){if(this._selected=t,this._selected?this._pieChart.bringToFrontOfSelection(this):this._selecting||this._pieChart.pushToBackOfSelection(this),V.isSelectionHighlighted(this._chart))for(var i=this.getDisplayables(),n=0;n<i.length;n++)I._shapeIsSelectable(i[n])&&i[n].setSelected(t);if(V.isSelectionExploded(this._chart)){var r=t?1:0;if(e||"none"==V.getAnimationOnDataChange(this._chart))this.setExplode(r);else{var o=new DvtCustomAnimation(this._pieChart.getCtx(),this,this._pieChart.getAnimationDuration()/2);o.getAnimator().addProp(DvtAnimator.TYPE_NUMBER,this,this.getExplode,this.setExplode,r),o.play()}}this._updateAriaLabel()},I.prototype.showHoverEffect=function(){this._selecting=!0,this._pieChart.bringToFrontOfSelection(this);for(var t=this.getDisplayables(),e=0;e<t.length;e++)I._shapeIsSelectable(t[e])&&t[e].showHoverEffect()},I.prototype.hideHoverEffect=function(){this._selecting=!1,this._selected||this._pieChart.pushToBackOfSelection(this);for(var t=this.getDisplayables(),e=0;e<t.length;e++)I._shapeIsSelectable(t[e])&&t[e].hideHoverEffect()},I.prototype.getDatatip=function(t,e,i){return t==this._sliceLabel&&this._sliceLabel&&this._sliceLabel.isTruncated()?this.getSliceLabelString():this.getTooltip()},I.prototype.getDatatipColor=function(){return this.getFillColor()},I.prototype.getCategories=function(){return this._categories&&this._categories.length>0?this._categories:[this.getId().getSeries()]},I.prototype.getNextNavigable=function(t){var e=t.keyCode;if(t.type==DvtMouseEvent.CLICK)return this;if(e==DvtKeyboardEvent.SPACE&&t.ctrlKey)return this;var i=DvtAgent.isRightToLeft(this._chart.getCtx()),n=this._pieChart.__getSlices(),r=DvtArrayUtils.getIndex(n,this),o=null;return e==DvtKeyboardEvent.RIGHT_ARROW||e==DvtKeyboardEvent.DOWN_ARROW&&!i||e==DvtKeyboardEvent.UP_ARROW&&i?o=r<n.length-1?n[r+1]:n[0]:(e==DvtKeyboardEvent.LEFT_ARROW||e==DvtKeyboardEvent.DOWN_ARROW&&i||e==DvtKeyboardEvent.UP_ARROW&&!i)&&(o=0==r?n[n.length-1]:n[r-1]),o},I.prototype.getKeyboardBoundingBox=function(t){var e=this.getDisplayables();return e[0]?e[0].getDimensions(t):new DvtRectangle(0,0,0,0)},I.prototype.getTargetElem=function(){var t=this.getDisplayables();return t[0]?t[0].getElem():null},I.prototype.showKeyboardFocusEffect=function(){this._isShowingKeyboardFocusEffect=!0,this.showHoverEffect()},I.prototype.hideKeyboardFocusEffect=function(){this._isShowingKeyboardFocusEffect=!1,this.hideHoverEffect()},I.prototype.isShowingKeyboardFocusEffect=function(){return this._isShowingKeyboardFocusEffect},I.prototype.getExplode=function(){return this._explode},I.prototype.setExplode=function(t){this._explode=t,this._explodeSlice()},I.prototype.getCustomLabel=function(){return this._customLabel},I.prototype.getSeriesLabel=function(){return this._seriesLabel},I.prototype.getFillColor=function(){return this._fillColor},I.prototype.getFillPattern=function(){return this._fillPattern},I.prototype.getStrokeColor=function(){return this._strokeColor},I.prototype.getBorderWidth=function(){return this._borderWidth},I.prototype.getSliceGaps=function(){return 0==this._depth?3*V.getDataItemGaps(this._chart):0},I.prototype.getInnerRadius=function(){return this._pieChart.getInnerRadius()},I.prototype.getTooltip=function(){return null==this._seriesIndex?W.getOtherSliceDatatip(this._chart,this._value,!0):W.getDatatip(this._chart,this._seriesIndex,0,!0)},I.prototype.getAction=function(){return this._action},I.prototype.isDrillable=function(){return this._drillable},I.prototype.getShowPopupBehaviors=function(){return this._showPopupBehaviors},I.createFillerSlice=function(t,e){var i=new I(t);return i._value=e,i._bFillerSlice=!0,i._centerX=t.getCenter().x,i._centerY=t.getCenter().y,i._fillColor="rgba(255,255,255,0)",i._strokeColor="rgba(255,255,255,0)",i._id=new h(null,null,null),i};var x=function(){};DvtObj.createSubclass(x,DvtObj,"DvtAnimOnDisplay"),x.createAnimation=function(t,e,i){var n=[];if(K.isBLAC(t))x._animBarLineArea(t,i,n);else if(K.isScatterBubble(t)||K.isFunnel(t))x._animBubbleScatterFunnel(t,i,n);else if(K.isPie(t)&&t.pieChart)return t.pieChart.getDisplayAnimation();return n.length>0?new DvtParallelPlayable(t.getCtx(),n):null},x._animBarLineArea=function(t,e,i){var n=t.getChartObjPeers(),r=n?n.length:0;if(r)for(var o,s,a,l=0;r>l;l++){s=n[l],o=s.getDisplayables()[0];var u=s.getSeriesType();if(a=null,o instanceof _||o instanceof T||o instanceof v)a=o.getDisplayAnimation(e);else if(o instanceof y)a="line"==u?x._getLinePlayable(t,o,e):x._getAreaPlayable(t,o,e);else if(o instanceof DvtSimpleMarker||o instanceof b){if(o instanceof S&&!o.isSelected())continue;a=new DvtAnimFadeIn(t.getCtx(),o,e-.8,.8)}a&&i.push(a)}},x._animBubbleScatterFunnel=function(t,e,i){var n=t.getObjects(),r=n?n.length:0;if(r)for(var o,s,a,l=0;r>l;l++)s=n[l],o=s.getDisplayables()[0],o instanceof DvtSimpleMarker?a=new DvtAnimPopIn(t.getCtx(),o,!0,e):o instanceof A&&(a=x._getFunnelPlayable(t,o,e)),a&&i.push(a)},x._getAreaPlayable=function(t,e,i){var n,r=t.getCtx(),o=e.getBaseline();if(e.isArea()){for(var s=e.getBaseCoords(),a=e.getBaseAnimationParams(),l=a.slice(0),u=0;u<a.length;u++)u%4!=1&&u%4!=2||(a[u]=o);e.setBaseAnimationParams(a),n=new DvtCustomAnimation(r,e,i),n.getAnimator().addProp(DvtAnimator.TYPE_NUMBER_ARRAY,e,e.getBaseAnimationParams,e.setBaseAnimationParams,l)}for(var h=e.getCoords(),c=e.getAnimationParams(),p=c.slice(0),u=0;u<c.length;u++)u%4!=1&&u%4!=2||(c[u]=o);e.setAnimationParams(c);var d=new DvtCustomAnimation(r,e,i);d.getAnimator().addProp(DvtAnimator.TYPE_NUMBER_ARRAY,e,e.getAnimationParams,e.setAnimationParams,p);var g=new DvtParallelPlayable(t.getCtx(),n,d);return g.setOnEnd(function(){e.setCoords(h,s)}),g},x._getFunnelPlayable=function(t,e,i){var n=t.getCtx(),r=e.getAnimationParams(),o=r.slice(0),s=r.slice(0);r[0]=0,r[2]=0,o[2]=0,e.setAnimationParams(r);var a=new DvtCustomAnimation(n,e,i/2);a.getAnimator().addProp(DvtAnimator.TYPE_NUMBER_ARRAY,e,e.getAnimationParams,e.setAnimationParams,o);var l=new DvtCustomAnimation(n,e,i/2);return l.getAnimator().addProp(DvtAnimator.TYPE_NUMBER_ARRAY,e,e.getAnimationParams,e.setAnimationParams,s),new DvtSequentialPlayable(n,[a,l])},x._getLinePlayable=function(t,e,i){var n=e.getCoords(),r=e.getAnimationParams(),o=r.slice(0);x._getMeanPoints(r),e.setAnimationParams(r);var s=new DvtCustomAnimation(t.getCtx(),e,i);return s.getAnimator().addProp(DvtAnimator.TYPE_NUMBER_ARRAY,e,e.getAnimationParams,e.setAnimationParams,o),s.setOnEnd(function(){e.setCoords(n)}),s},x._getMeanPoints=function(t){var e,i=0,n=Number.MAX_VALUE,r=Number.MIN_VALUE,o=t.length;for(e=0;o>e;e++){var s=t[e];e%4!=0&&e%4!=3&&s!=1/0&&(n>s&&(n=s),s>r&&(r=s),i+=s)}for(o>8?(i-=2*n,i-=2*r,i/=o/2-4):i/=o/2,e=0;o>e;e++)e%4!=1&&e%4!=2||(t[e]=i)};var O=function(){};DvtObj.createSubclass(O,DvtObj,"DvtAnimOnDC"),O.createAnimation=function(t,e,i,n,r){if(!O._canAnimate(t,e))return null;var o=e.getCtx(),s=[],a=[];K.isPie(e)?(s.push(t.pieChart),a.push(e.pieChart)):O._buildAnimLists(o,s,t,a,e,n);var l,u=new DvtDataAnimationHandler(o,r);u.constructAnimation(s,a),u.getNumPlayables()>0&&(l=u.getAnimation(!0));var h=e.getDataLabels();if(l&&h.length>0){for(var c=0;c<h.length;c++)h[c].setAlpha(0);l=new DvtSequentialPlayable(o,l,new DvtAnimFadeIn(o,h,n/4))}return l},O._buildAnimLists=function(t,e,i,n,r,o){var s,a,l,u,h,c=i.getChartObjPeers(),p=e;for(s=0;2>s;s++){for(a=0;a<c.length;a++){if(l=c[a],u=l.getDisplayables()[0],h=null,u instanceof A)h=new H(l,o);else if(u instanceof _||u instanceof T)h=new w(l,o);else if(u instanceof y)h=new P(l,o);else if(u instanceof DvtSimpleMarker){if(u instanceof S&&!u.isSelected())continue;h=new L(l,o)}else if(u instanceof b){if(u.isInvisible()&&!u.isSelected())continue;h=new N(l,o)}else u instanceof v&&(h=new R(l,o));h&&(p.push(h),h.setOldChart(i))}p=n,c=r.getChartObjPeers()}},O._canAnimate=function(t,e){return K.isPie(t)&&K.isPie(e)?t&&e:K.isPolar(t)!=K.isPolar(e)?!1:K.isBLAC(t)&&K.isBLAC(e)?!0:K.isScatterBubble(t)&&K.isScatterBubble(e)?!0:t.getType()==e.getType()};var M=function(t){this.Options=t.Options,this.Peers=t.Peers,this.SeriesStyleArray=t.SeriesStyleArray,this.Cache=t.Cache,this.pieChart=t.pieChart};DvtObj.createSubclass(M,i,"DvtDCChart");var R=function(t,e){this.Init(t,e)};DvtObj.createSubclass(R,DvtObj,"DvtDCChartAbstract"),R.prototype.animateUpdate=function(t,e){var i=e._shape;this._shape&&this._shape.getUpdateAnimation&&t.add(this._shape.getUpdateAnimation(this._updateDuration,i),1)},R.prototype.animateInsert=function(t){if(this._shape&&this._shape.getInsertAnimation)t.add(this._shape.getInsertAnimation(this._insertDuration),2);else{var e=new DvtAnimFadeIn(this._shape.getCtx(),this._shape,this._insertDuration);t.add(e,0)}},R.prototype.animateDelete=function(t,e){if(e.addChild(this._shape),this._shape&&this._shape.getDeleteAnimation)t.add(this._shape.getDeleteAnimation(this._deleteDuration),0);else{var i=new DvtAnimFadeOut(this._shape.getCtx(),this._shape,this._deleteDuration);t.add(i,0)}},R.prototype.getId=function(){return this._animId},R.prototype.Init=function(t,e){this._peer=t,this._updateDuration=.75*e,this._insertDuration=.5*e,this._deleteDuration=.5*e,this._shape=t.getDisplayables()[0],this._animId=t.getSeries()+"/"+t.getGroup()},R.prototype.setOldChart=function(t){this._oldChart=t};var w=function(t,e){this.Init(t,e)};DvtObj.createSubclass(w,R,"DvtDCChart2DBar"),w.prototype.Init=function(t,e){w.superclass.Init.call(this,t,e),this._indicator=null,this._animId+="/bar"},w.prototype.animateInsert=function(t){var e=this._shape.getInsertAnimation(this._insertDuration);t.add(e,2)},w.prototype.animateDelete=function(t,e){e.addChild(this._shape);var i=this._shape.getDeleteAnimation(this._deleteDuration);t.add(i,0)},w.prototype.animateUpdate=function(t,e){var i=this._oldChart,n=this._peer.getChart(),r=K.isHorizontal(i)!=K.isHorizontal(n),o=e._getAnimationParams(r),s=this._getAnimationParams(),a=e._shape.isSelected()||this._shape.isSelected(),l=e._shape.getPrimaryFill().clone(),u=this._shape.getPrimaryFill();if(!DvtArrayUtils.equals(o,s)||!l.equals(u)){var h=this._peer.getSeriesIndex(),c=e._peer.getSeriesIndex(),p=this._peer.getGroupIndex(),d=e._peer.getGroupIndex();"none"!==V.getAnimationIndicators(n)&&(this._indicator=k.makeIndicator(i,c,d,n,h,p)),this._setAnimationParams(o),a||this._shape.setFill(l);var g=new DvtCustomAnimation(this._shape.getCtx(),this,this._updateDuration);g.getAnimator().addProp(DvtAnimator.TYPE_NUMBER_ARRAY,this,this._getAnimationParams,this._setAnimationParams,s),a||g.getAnimator().addProp(DvtAnimator.TYPE_FILL,this._shape,this._shape.getFill,this._shape.setFill,u),this._indicator&&(g.setOnEnd(this._onEndAnimation,this),this._indicator.setAlpha(0)),t.add(g,1)}},w.prototype._getAnimationParams=function(t){return this._shape.getAnimationParams(t)},w.prototype._setAnimationParams=function(t){this._shape.setAnimationParams(t,this._indicator)},w.prototype._onEndAnimation=function(){this._indicator.getParent().removeChild(this._indicator),this._indicator=null};var P=function(t,e){this.Init(t,e)};DvtObj.createSubclass(P,R,"DvtDCChartLineArea"),P.prototype.animateUpdate=function(t,e){this._baseCoords=this._shape.getBaseCoords(),this._coords=this._shape.getCoords();var i,n=this._shape.isArea(),r=this._oldChart,o=this._chart,s=this._peer.getSeriesIndex(),a=e._peer.getSeriesIndex(),l=this._shape.getCommonGroupIndices(e._shape),u=e._shape.getCommonGroupIndices(this._shape);if(n){var h=e._getBaseAnimationParams(this._shape),c=this._getBaseAnimationParams(e._shape);P._matchGroupIndices(h,c),DvtArrayUtils.equals(h,c)||(this._setBaseAnimationParams(h),i=new DvtCustomAnimation(this._context,this,this._updateDuration),i.getAnimator().addProp(DvtAnimator.TYPE_NUMBER_ARRAY,this,this._getBaseAnimationParams,this._setBaseAnimationParams,c))}var p,d=e._getAnimationParams(this._shape),g=this._getAnimationParams(e._shape);if(P._matchGroupIndices(d,g),DvtArrayUtils.equals(d,g)||(this._setAnimationParams(d),p=new DvtCustomAnimation(this._context,this,this._updateDuration),p.getAnimator().addProp(DvtAnimator.TYPE_NUMBER_ARRAY,this,this._getAnimationParams,this._setAnimationParams,g)),"none"!==V.getAnimationIndicators(o)&&(!n||"lineWithArea"!=this._peer.getSeriesType()))for(var f,_,v=0;v<l.length;v++)f=k.getDirection(r,a,u[v],o,s,l[v]),_=k.makeIndicator(r,a,u[v],o,s,l[v]),_&&this._shape.addIndicator(l[v],f,_);if(i||p){var m=new DvtParallelPlayable(this._context,i,p);m.setOnEnd(this._onAnimationEnd,this),t.add(m,1)}},P.prototype.animateInsert=function(t){this._shape.setAlpha(0);var e=new DvtAnimFadeIn(this._context,this._shape,this._insertDuration);t.add(e,2)},P.prototype.animateDelete=function(t,e){var i,n=V.getSeriesType(this._oldChart,this._peer.getSeriesIndex());if("area"==n){var r=this._chart.__getAreaContainer();if(this._deletedAreas=this._shape.getParent().getParent(),!r)return;r.addChild(this._deletedAreas),i=new DvtAnimFadeOut(this._context,this._deletedAreas,this._deleteDuration),i.setOnEnd(this._removeDeletedAreas,this),t.add(i,0)}else e.addChild(this._shape),i=new DvtAnimFadeOut(this._context,this._shape,this._deleteDuration),t.add(i,0)},P.prototype._removeDeletedAreas=function(){var t=this._chart.__getAreaContainer();t&&t.removeChild(this._deletedAreas)},P.prototype._getAnimationParams=function(t){return this._shape.getAnimationParams(t)},P.prototype._setAnimationParams=function(t){this._shape.setAnimationParams(t)},P.prototype._getBaseAnimationParams=function(t){return this._shape.getBaseAnimationParams(t)},P.prototype._setBaseAnimationParams=function(t){this._shape.setBaseAnimationParams(t)},P.prototype._onAnimationEnd=function(){this._shape.removeIndicators(),this._shape.setCoords(this._coords,this._baseCoords)},P._matchGroupIndices=function(t,e){for(var i=3;i<t.length;i+=4)t[i]=e[i]},P.prototype.Init=function(t,e){P.superclass.Init.call(this,t,e),this._context=this._shape.getCtx(),this._chart=this._peer.getChart(),this._animId+="/"+(this._shape.isArea()?"area":"line")};var L=function(t,e){this.Init(t,e)};DvtObj.createSubclass(L,R,"DvtDCChartMarker"),L.prototype.animateUpdate=function(t,e){var i=e._shape.getCenterDimensions(),n=this._shape.getCenterDimensions();if(!n.equals(i)){this._shape.setCenterDimensions(i);var r=new DvtCustomAnimation(this._shape.getCtx(),this,this._updateDuration);r.getAnimator().addProp(DvtAnimator.TYPE_RECTANGLE,this._shape,this._shape.getCenterDimensions,this._shape.setCenterDimensions,n);var o=this._peer.getChart();if(this.isValueChange(e)&&"none"!=V.getAnimationIndicators(o)&&K.isScatterBubble(o)){var s=e._shape;s.setSolidFill("#FFFF2B",.9),s.setCenterDimensions(i),this._peer.getChart().getPlotArea().addChild(s),r.getAnimator().addProp(DvtAnimator.TYPE_RECTANGLE,s,s.getCenterDimensions,s.setCenterDimensions,n),r.getAnimator().addProp(DvtAnimator.TYPE_NUMBER,s,s.getAlpha,s.setAlpha,0),this._overlay=s,r.setOnEnd(this._onEndAnimation,this)}t.add(r,1)}},L.prototype.animateInsert=function(t){this._shape.setAlpha(0);var e=new DvtAnimFadeIn(this._shape.getCtx(),this._shape,this._insertDuration);t.add(e,2)},L.prototype.animateDelete=function(t,e){e.addChild(this._shape);var i=new DvtAnimFadeOut(this._shape.getCtx(),this._shape,this._deleteDuration);t.add(i,0)},L.prototype.isValueChange=function(t){var e=!1;if(t){var i=t._peer.getSeriesIndex(),n=t._peer.getGroupIndex(),r=this._peer.getSeriesIndex(),o=this._peer.getGroupIndex(),s=t._oldChart.getOptions(),a=this._peer.getChart().getOptions(),l=s.series[i].items[n].x,u=s.series[i].items[n].y,h=s.series[i].items[n].z,c=a.series[r].items[o].x,p=a.series[r].items[o].y,d=a.series[r].items[o].z;e=c!==l||p!==u||d!==h}return e},L.prototype._onEndAnimation=function(){this._overlay&&(this._peer.getChart().getPlotArea().removeChild(this._overlay),this._overlay=null)},L.prototype.Init=function(t,e){L.superclass.Init.call(this,t,e),this._animId+="/marker"};var N=function(t,e){this.Init(t,e)};DvtObj.createSubclass(N,R,"DvtDCChartRangeMarker"),N.prototype.Init=function(t,e){N.superclass.Init.call(this,t,e),this._animId+="/rangeMarker"},N.prototype.animateInsert=function(t){this._shape.setAlpha(0);var e=new DvtAnimFadeIn(this._shape.getCtx(),this._shape,this._insertDuration);t.add(e,2)},N.prototype.animateDelete=function(t,e){e.addChild(this._shape);var i=new DvtAnimFadeOut(this._shape.getCtx(),this._shape,this._deleteDuration);t.add(i,0)},N.prototype.animateUpdate=function(t,e){var i=e._shape.getAnimationParams(),n=this._shape.getAnimationParams();this._shape.setAnimationParams(i);var r=new DvtCustomAnimation(this._shape.getCtx(),this,this._updateDuration);r.getAnimator().addProp(DvtAnimator.TYPE_NUMBER_ARRAY,this._shape,this._shape.getAnimationParams,this._shape.setAnimationParams,n),t.add(r,1)};var k=new Object;DvtObj.createSubclass(k,DvtObj,"DvtDCChartUtils"),k.DIR_UP=0,k.DIR_DOWN=1,k.DIR_NOCHANGE=2,k.makeIndicator=function(t,e,i,n,r,o){if(K.isPolar(n))return null;var s=k.getDirection(t,e,i,n,r,o);if(s==k.DIR_NOCHANGE)return null;var a=s===k.DIR_DOWN,l=a?V.getAnimationDownColor(n):V.getAnimationUpColor(n),u=k._drawIndicator(n.getCtx(),a,K.isHorizontal(n),l);return n.getPlotArea().addChild(u),u},k.getDirection=function(t,e,i,n,r,o){var s=B.getValue(t,e,i),a=B.getValue(n,r,o);return null==a||null==s||a==s?k.DIR_NOCHANGE:a>s?k.DIR_UP:k.DIR_DOWN},k._drawIndicator=function(t,e,i,n){var r;if(i){var o=DvtAgent.isRightToLeft(t)?!e:e;r=o?"M3.5,-5L3.5,5L-3.5,0L3.5,-5":"M-3.5,-5L-3.5,5L3.5,0L-3.5,-5"}else r=e?"M-5,-3.5L5,-3.5L0,3.5L-5,-3.5Z":"M-5,3.5L5,3.5L0,-3.5L-5,3.5Z";var s=new DvtPath(t,r);return s.setSolidFill(n),s};var H=function(t,e){this.Init(t,e)};DvtObj.createSubclass(H,R,"DvtDCFunnelSlice"),H.prototype.animateUpdate=function(t,e){var i=this._shape,n=e._shape.getAnimationParams(),r=i.getAnimationParams(),o=e._shape.getFill().clone(),s=this._shape.getFill();if(!DvtArrayUtils.equals(n,r)||!o.equals(s)){i.setAnimationParams(n),this._shape.setFill(o);var a=new DvtCustomAnimation(i.getCtx(),this,this._updateDuration);a.getAnimator().addProp(DvtAnimator.TYPE_NUMBER_ARRAY,i,i.getAnimationParams,i.setAnimationParams,r),a.getAnimator().addProp(DvtAnimator.TYPE_FILL,this._shape,this._shape.getFill,this._shape.setFill,s),this._indicator&&a.setOnEnd(this._onEndAnimation,this),t.add(a,1)}},H.prototype.animateInsert=function(t){var e=this._shape,i=e.getAnimationParams(),n=i.slice(0);n[0]+=n[1]/2,n[1]=0,n[3]=0,e.setAnimationParams(n);var r=new DvtCustomAnimation(e.getCtx(),this,this._insertDuration);r.getAnimator().addProp(DvtAnimator.TYPE_NUMBER_ARRAY,e,e.getAnimationParams,e.setAnimationParams,i),t.add(r,2)},H.prototype.animateDelete=function(t,e){var i=this._shape;e.addChild(i);var n=i.getAnimationParams(),r=n.slice(0);r[0]+=n[1]/2,r[1]=0,r[3]=0;var o=new DvtCustomAnimation(i.getCtx(),this,this._deleteDuration);o.getAnimator().addProp(DvtAnimator.TYPE_NUMBER_ARRAY,i,i.getAnimationParams,i.setAnimationParams,r),t.add(o,0)},H.prototype.Init=function(t,e){H.superclass.Init.call(this,t,e),this._animId+="/funnel"};var F=new Object;DvtObj.createSubclass(F,DvtObj,"DvtChartAxisUtils"),F.getXAxisPosition=function(t){return K.isPolar(t)?"tangential":K.isHorizontal(t)?DvtAgent.isRightToLeft(t.getCtx())?"right":"left":"bottom"},F.getBaselineScaling=function(t,e){var i=e+"Axis",n=t.getOptions()[i].baselineScaling;return!n||"zero"!=n&&"min"!=n?K.isStock(t)?"min":"zero":n},F.getYAxisPosition=function(t){var e=t.getOptions().yAxis.position;return K.isPolar(t)?"radial":K.isHorizontal(t)?!e||"top"!=e&&"bottom"!=e?"bottom":e:(K.isStock(t)&&(e=e?e:"end"),DvtAgent.isRightToLeft(t.getCtx())?e&&"end"==e?"left":"right":e&&"end"==e?"right":"left")},F.getY2AxisPosition=function(t){var e=t.getOptions().y2Axis.position;return K.isHorizontal(t)?!e||"top"!=e&&"bottom"!=e?"top":e:DvtAgent.isRightToLeft(t.getCtx())?e&&"start"==e?"right":"left":e&&"start"==e?"left":"right"},F.hasTimeAxis=function(t){return K.isBLAC(t)&&"disabled"!=F.getTimeAxisType(t)},F.hasGroupAxis=function(t){return K.isBLAC(t)&&"disabled"==F.getTimeAxisType(t)},F.getTimeAxisType=function(t){var e=t.getOptions().timeAxisType;return e&&"auto"!=e&&K.isBLAC(t)&&!K.isPolar(t)?e:K.isStock(t)?"skipGaps":"disabled"},F.isMixedFrequency=function(t){return"mixedFrequency"==F.getTimeAxisType(t)},F.getAxisOffset=function(t){var e="axisOffset",i=t.getFromCache(e);if(null!=i)return i;var n=t.getOptions().styleDefaults.groupSeparators;if(F.hasGroupAxis(t)&&B.getNumLevels(t)>1&&"on"==n.rendered)i=.5;else if(K.hasBarSeries(t)||K.hasCenteredSeries(t)||K.hasCandlestickSeries(t)||K.isBLAC(t)&&1==B.getGroupCount(t))i=.5;else if(!c.isPostAltaSkin(t)||K.isSpark(t)||U.isScrollable(t)||K.isOverview(t))i=0;else{var r=K.isHorizontal(t)?.2:.5;i=r-r/Math.sqrt(B.getGroupCount(t))}return t.putToCache(e,i),i},F.isGridShifted=function(t){if(!K.isBLAC(t))return!1;for(var e=B.getSeriesCount(t),i=0;e>i;i++)if(V.isSeriesRendered(t,i)){var n=V.getSeriesType(t,i),r=V.getLineType(t,i);if("bar"!=n&&"centeredSegmented"!=r&&"centeredStepped"!=r)return!1}return!0},F.isGridPolygonal=function(t){return!K.isBLAC(t)||K.hasBarSeries(t)?!1:"polygon"==t.getOptions().polarGridShape},F.isAxisRendered=function(t,e){if("y"==e&&K.hasY2DataOnly(t))return!1;if("y2"==e&&!K.hasY2Data(t))return!1;var i=t.getOptions(),n=i[e+"Axis"];return"off"==n.rendered?!1:!("off"==n.tickLabel.rendered&&!n.title)},F.isAxisLineRendered=function(t,e){var i=t.getOptions()[e+"Axis"];return"off"==i.rendered||"off"==i.axisLine.rendered?!1:"auto"!=i.axisLine.rendered||"x"==e||!K.isBLAC(t)||K.isPolar(t)},F.isMajorTickRendered=function(t,e){var i=t.getOptions()[e+"Axis"];return"off"==i.rendered||"off"==i.majorTick.rendered?!1:"auto"!=i.majorTick.rendered||"x"!=e||!K.isBLAC(t)||K.isPolar(t)},F.isMinorTickRendered=function(t,e){var i=t.getOptions()[e+"Axis"];return"off"==i.rendered||"off"==i.minorTick.rendered?!1:"on"==i.minorTick.rendered?!0:F.isLog(t,e)},F.isLog=function(t,e){var i=t.getOptions()[e+"Axis"],n=B.getMinMaxValue(t,e,!0);return"log"==i.scale&&n.min>0&&n.max>0},F.getTickLabelHeight=function(t,e){var i=t.getOptions(),n=i[e+"Axis"],r=n.tickLabel.style;return r instanceof DvtCSSStyle||(r=new DvtCSSStyle(r)),r.mergeUnder(DvtAxis.getDefaults(i.skin).tickLabel.style),DvtTextUtils.getTextStringHeight(t.getCtx(),r)},F.getTickLabelGapSize=function(t,e){if(F.isTickLabelInside(t,e))return 0;var i=t.getOptions(),n=K.isHorizontal(t),r=F.getGapScalingFactor(t,e),o=Math.ceil(i.layout.tickLabelGapWidth*r),s=Math.ceil(i.layout.tickLabelGapHeight*r);return"x"==e?n?o:s:n?s:o},F.getGapScalingFactor=function(t,e){return F.isAxisRendered(t,e)?F.getTickLabelHeight(t,e)/14:0},F.isTickLabelInside=function(t,e){return K.isPolar(t)||K.isScatterBubble(t)||K.isBLAC(t)&&"x"==e?!1:"inside"==t.getOptions()[e+"Axis"].tickLabel.position},F.getXAxisViewportMinMax=function(t,e){var i=t.getOptions().xAxis,n=F.hasGroupAxis(t),r=F.getAxisOffset(t);if(e)var o=F.getXAxisGlobalMinMax(t);var s=null;null!=i.viewportMin?s=i.viewportMin:null!=i.viewportStartGroup?s=n?B.getGroupIndex(t,i.viewportStartGroup)-r:i.viewportStartGroup:e&&(s=o.min);var a=null;return null!=i.viewportMax?a=i.viewportMax:null!=i.viewportEndGroup?a=n?B.getGroupIndex(t,i.viewportEndGroup)+r:i.viewportEndGroup:e&&(a=o.max),{min:s,max:a}},F.getXAxisGlobalMinMax=function(t){var e=t.getOptions().xAxis,i=F.hasGroupAxis(t),n=F.getAxisOffset(t);if(!i)var r=B.getMinMaxValue(t,"x");var o=null;o=null!=e.min?e.min:i?0-n:r.min;var s=null;return s=null!=e.max?e.max:i?B.getGroupCount(t)-1+n:r.max,{min:o,max:s}},F.applyInitialZooming=function(t,e){var i=t.getOptions(),n=i.xAxis,r=i.initialZooming;if(K.isBLAC(t)&&"off"!=i.zoomAndScroll&&"none"!=r){i._initialZoomed&&("last"==r?n.viewportMin=null:n.viewportMax=null);var o=F.getXAxisViewportMinMax(t,!1),s=o.min,a=o.max;if(!("last"==r&&null!=s||"first"==r&&null!=a)){var l=K.isHorizontal(t)?e.h:e.w,u=Math.floor(l/(2*F.getTickLabelHeight(t,"x")))+F.getAxisOffset(t),h=B.getGroupCount(t)-1;if(!(u>=h)){var c,p;if(F.hasGroupAxis(t))c=0,p=h;else{var d=B.getMinMaxValue(t,"x");c=d.min,p=d.max}var g=u/h*(p-c);"last"==i.initialZooming?(null==a&&(a=p),n.viewportMin=Math.max(a-g,c)):(null==s&&(s=c),n.viewportMax=Math.min(s+g,p)),i._initialZoomed=!0}}}},F.getGroupWidthRatios=function(t){if(!K.hasBarSeries(t)&&!K.hasCandlestickSeries(t))return null;var e=t.getOptions(),i=V.getBarGapRatio(t);if(i>=1)return e._averageGroupZ=1/0,null;e._averageGroupZ=0;for(var n,r,o,s=B.getGroupCount(t),a=K.isSplitDualY(t),l=B.getStackCategories(t,"bar"),u=[],h=0;s>h;h++){for(n=0,o=0;o<l.y.length;o++)n+=B.getBarCategoryZ(t,l.y[o],h,!1);for(r=0,o=0;o<l.y2.length;o++)r+=B.getBarCategoryZ(t,l.y2[o],h,!0);u.push(a?Math.max(n,r):n+r)}var c=DvtArrayUtils.reduce(u,function(t,e){return t+e}),p=c*i/(1-i),d=DvtArrayUtils.map(u,function(t){return t+p/s});return e._averageGroupZ=(c+p)/s,d};var B=new Object;DvtObj.createSubclass(B,DvtObj,"DvtChartDataUtils"),B.hasData=function(t){var e=t.getOptions();if(!e||!e.series||e.series.length<1)return!1;for(var i=1,n=B.getSeriesCount(t),r=0;n>r;r++){
var o=B.getSeriesItem(t,r);if(o&&o.items&&o.items.length>=i)return!0}return!1},B.hasInvalidData=function(t){return!B.hasData(t)||B.hasInvalidTimeData(t)},B.hasInvalidTimeData=function(t){if(K.isFunnel(t)||K.isPie(t))return!1;var e=t.getOptions(),i=B.getGroupCount(t);if(!e||!e.series||e.series.length<1)return!0;if(1>i)return!0;var n,r,o=B.getSeriesCount(t);if(F.isMixedFrequency(t))for(n=0;o>n;n++)for(r=0;i>r;r++){var s=B.getDataItem(t,n,r);if(s&&(null==s.x||isNaN(s.x)))return!0}else if(F.hasTimeAxis(t))for(r=0;i>r;r++){var a=B.getGroup(t,r);if(null==a||isNaN(a))return!0}return!1},B.hasSeriesData=function(t,e){var i=B.getSeriesItem(t,e),n=i.items;if(n)for(var r=0;r<n.length;r++)if(null!=n[r])return!0;return!1},B.processDataObject=function(t){if(B.hasData(t)){var e=t.getOptions();K.isValidType(t)||(e.type="bar");var i=K.isStock(t);i&&(e._hasVolume=!1,B.getSeriesCount(t)>1&&(e.series=e.series.slice(0,1)));for(var n=0,r=t.getSeriesStyleArray(),o=B.getSeriesCount(t),s=0;o>s;s++){var a=B.getSeries(t,s);null!=a&&DvtArrayUtils.getIndex(r,a)<0&&r.push(a);var l=B.getSeriesItem(t,s);if(l&&l.items&&l.items.length>n&&(n=l.items.length),"hidden"==l.visibility){var u=V.getHiddenCategories(t);DvtArrayUtils.getIndex(u,a)<0&&u.push(a)}if(l.visibility=null,l&&l.items)for(var h=l.items,c=0;c<h.length;c++)h[c]&&(!isNaN(h[c])&&h[c]?h[c]=Number(h[c]):(!F.isMixedFrequency(t)&&h[c].x&&(h[c].x=Number(h[c].x)),h[c].y&&(h[c].y=Number(h[c].y)),h[c].z&&(h[c].z=Number(h[c].z)),h[c].value&&(h[c].value=Number(h[c].value)),h[c].targetValue&&(h[c].targetValue=Number(h[c].targetValue)),h[c].open&&(h[c].open=Number(h[c].open)),h[c].close&&(h[c].close=Number(h[c].close)),h[c].low&&(h[c].low=Number(h[c].low)),h[c].high&&(h[c].high=Number(h[c].high)),h[c].volume&&(h[c].volume=Number(h[c].volume),e._hasVolume=!0)))}if(i&&B.hasVolumeSeries(t)&&!K.isOverview(t)){var p=DvtJSONUtils.clone(B.getSeriesItem(t,0));p.assignedToY2="on",p.type="bar",p.categories=B.getSeriesCategories(t,0),p.id="_volume",p._selectable="off",p.items=[];for(var d=0;d<l.items.length;d++){var g={};g.color=V.getStockVolumeColor(t,0,d),g.x=l.items[d].x,g.value=l.items[d].volume,p.items.push(g)}e.series.push(p)}for(var f=G.getRefObjs(t),s=0;s<f.length;s++){var h=f[s].items;if(h)for(var c=0;c<h.length;c++){var _=h[c];_&&(isNaN(_)?(!F.isMixedFrequency(t)&&_.x&&(_.x=Number(_.x)),_.max&&(_.max=Number(_.max)),_.min&&(_.min=Number(_.min)),_.value&&(_.value=Number(_.value))):h[c]=Number(_))}}var e=t.getOptions();e.groups||(e.groups=new Array);for(var v=B.getGroupCount(t),s=0;n-v>s;s++){var m=DvtBundle.getTranslation(e,"labelDefaultGroupName",DvtBundle.CHART_PREFIX,"DEFAULT_GROUP_NAME",e.groups.length+1);e.groups.push(m)}t.putToCache("groupsArray",null),B._processTimeAxis(t);var y=e.sorting;if(y="on"==y?"descending":"ascending"!=y&&"descending"!=y?"off":y,K.isBLAC(t)&&F.hasGroupAxis(t)&&"off"!=y&&1==B.getNumLevels(t)){for(var S=B.getGroups(t),E={},c=0;c<S.length;c++){for(var T=0,s=0;o>=s;s++)if(V.isSeriesRendered(t,s)&&!B.isAssignedToY2(t,s)){var b=B.getValue(t,s,c);T+=null==b||isNaN(b)?0:b}E[S[c]]={index:c,total:T,group:e.groups[c]}}"ascending"==y?S.sort(function(t,e){return E[t].total-E[e].total}):S.sort(function(t,e){return E[e].total-E[t].total});for(var s=0;o>s;s++){for(var C=[],c=0;c<S.length;c++)C.push(B.getDataItem(t,s,E[S[c]].index));e.series[s].items=C}for(var A=[],c=0;c<S.length;c++)A.push(E[S[c]].group);e.groups=A,t.clearCache()}B._sanitizeAxis(e.xAxis),B._sanitizeAxis(e.yAxis),B._sanitizeAxis(e.y2Axis)}},B._sanitizeAxis=function(t){t.min==t.max&&(t.min=null,t.max=null)},B._sanitizeDateTime=function(t,e){var i=null,n=t.getLocaleHelpers.isoToDateConverter;if(n){try{i=n(e)}catch(r){i=null}null!=i&&(i=i.getTime())}return null==i&&(i=Date.parse(e)),isNaN(i)&&(i=Number(e)),i},B._processTimeAxis=function(t){var e,i,n=t.getCtx(),r=t.getOptions(),o=B.getSeriesCount(t),s=B.getGroupCount(t);if(F.isMixedFrequency(t))for(e=0;o>e;e++)for(i=0;s>i;i++){var a=B.getDataItem(t,e,i);null!=a&&"string"==typeof a.x&&null!=a.x&&(a.x=B._sanitizeDateTime(n,a.x))}else if(F.hasTimeAxis(t)){for(i=0;s>i;i++){var l=B.getGroup(t,i);null!=l&&(r.groups[i]=B._sanitizeDateTime(n,l))}t.putToCache("groupsArray",null)}if(F.hasTimeAxis(t)){var u=r.xAxis;null!=u.dataMin&&(u.dataMin=B._sanitizeDateTime(n,u.dataMin)),null!=u.dataMax&&(u.dataMax=B._sanitizeDateTime(n,u.dataMax)),null!=u.min&&(u.min=B._sanitizeDateTime(n,u.min)),null!=u.max&&(u.max=B._sanitizeDateTime(n,u.max)),null!=u.viewportMin&&(u.viewportMin=B._sanitizeDateTime(n,u.viewportMin)),null!=u.viewportMax&&(u.viewportMax=B._sanitizeDateTime(n,u.viewportMax)),null!=u.viewportStartGroup&&(u.viewportStartGroup=B._sanitizeDateTime(n,u.viewportStartGroup)),null!=u.viewportEndGroup&&(u.viewportEndGroup=B._sanitizeDateTime(n,u.viewportEndGroup));for(var h=G.getRefObjs(t),c=0;c<h.length;c++){var p=h[c].items;if(p)for(var d=0;d<p.length;d++)null!=p[d].x&&(p[d].x=B._sanitizeDateTime(n,p[d].x))}}},B.getSeriesCount=function(t){return t.getOptions().series.length},B.getY2SeriesCount=function(t,e,i){for(var n=0,r=B.getSeriesCount(t),o=0;r>o;o++)e&&V.getSeriesType(t,o)!=e||(i||V.isSeriesRendered(t,o))&&B.isAssignedToY2(t,o)&&n++;return n},B.getSeries=function(t,e){var i=B.getSeriesItem(t,e);return i?i.id?i.id:i.name||""==i.name?i.name:String(e):null},B.getSeriesLabel=function(t,e){var i=B.getSeriesItem(t,e);return i&&(i.name||""==i.name)?i.name:null},B.getSeriesIndex=function(t,e){for(var i=B.getSeriesCount(t),n=0;i>n;n++){var r=B.getSeries(t,n);if(r==e)return n}return-1},B.getSeriesStyleIndex=function(t,e){if(e){var i=t.getSeriesStyleArray();return DvtArrayUtils.getIndex(i,e)}return B.getSeriesIndex(t,e)},B.getSeriesItem=function(t,e){if(isNaN(e)||null==e)return null;var i=t.getOptions();return i.series&&i.series.length>e?i.series[e]:void 0},B.getDataItem=function(t,e,i){if(isNaN(i)||null==i||0>i)return null;var n=B.getSeriesItem(t,e);return n&&n.items&&n.items.length>i?n.items[i]:null},B.getGroupCount=function(t){return B._getGroupsArray(t).length},B.getGroup=function(t,e){if(e>=0&&e<B.getGroupCount(t)){var i=B._getGroupsArray(t)[e];if(i)return i.id?i.id:i.name||""==i.name?i.name:i}return null},B.getGroupIndex=function(t,e){for(var i=B.getGroups(t),n=0;n<i.length;n++)if(e instanceof Array&&i[n]instanceof Array?DvtArrayUtils.equals(e,i[n]):e==i[n])return n;return-1},B.getGroupLabel=function(t,e){if(e>=0&&e<B.getGroupCount(t)){var i=B._getGroupsArray(t)[e];if(i)return i.name?i.name:null!=i.id?"":i}return null},B.getGroups=function(t){for(var e=B.getGroupCount(t),i=[],n=0;e>n;n++)i.push(B.getGroup(t,n));return i},B._getGroupsArray=function(t){var e=t.getOptions(),i="groupsArray",n=t.getFromCache(i);if(!n){n=[],e.groups&&(n=B._getNestedGroups(e.groups,n));for(var r=0;r<n.length;r++)1==n[r].id.length&&(n[r].id=n[r].id[0],n[r].name=n[r].name[0]);t.putToCache(i,n)}return n},B._getNestedGroups=function(t,e){if(t){for(var i=0;i<t.length;i++){var n=t[i],r=n.id?n.id:n.name?n.name:n,o=n.name?n.name:n;if("object"==typeof r&&(r=null),"object"==typeof o&&(o=null),n.groups){var s=B._getNestedGroups(n.groups,[]);s||(s=[{id:[],name:[]}]);for(var a=0;a<s.length;a++)s[a].id.unshift(r),s[a].name.unshift(o);e=e.concat(s)}else e.push({id:[r],name:[o]})}return e}},B.getNumLevels=function(t){for(var e=B._getGroupsArray(t),i=0,n=0;n<e.length;n++){var r=e[n];if(r&&r.id){var o=DvtArrayUtils.isArray(r.id)?r.id.length:1;i=Math.max(i,o)}}return i},B.getValue=function(t,e,i){var n="value",r=t.getFromCachedMap2D(n,e,i);if(void 0!==r)return r;r=null;var o=B.getDataItem(t,e,i);return null!=o&&(isNaN(o)?K.isStock(t)&&null!=o.close?r=o.close:null!=o.value?r=o.value:null!=o.y&&(r=o.y):r=o),t.putToCachedMap2D(n,e,i,r),r},B.getCumulativeValue=function(t,e,i,n){var r=n?"cumValueH":"cumValue",o=t.getFromCachedMap2D(r,e,i);if(void 0!==o)return o;if(K.isStacked(t)){var s=V.getSeriesType(t,e),a=B.isAssignedToY2(t,e),l=B.getValue(t,e,i),u="bar"==s?0>l:B.isSeriesNegative(t,e);o=0;for(var h=B.getStackCategory(t,e),c=0;e>=c;c++)if((n||V.isDataItemRendered(t,c,i))&&s==V.getSeriesType(t,c)&&a==B.isAssignedToY2(t,c)&&B.getStackCategory(t,c)==h){var p=B.getValue(t,c,i),d="bar"==s?0>p:B.isSeriesNegative(t,c);(u&&d||!u&&!d)&&(o+=null==p||isNaN(p)?0:p)}}else o=B.getValue(t,e,i);return t.putToCachedMap2D(r,e,i,o),o},B.getLowValue=function(t,e,i){var n=B.getDataItem(t,e,i);return null==n?null:"candlestick"==V.getSeriesType(t,e)?null==n.low&&null!=n.close?null!=n.open?Math.min(n.close,n.open):n.close:n.low:null!=n.low&&null==n.close?n.low:null},B.getHighValue=function(t,e,i){var n=B.getDataItem(t,e,i);return null==n?null:"candlestick"==V.getSeriesType(t,e)?null==n.high?null!=n.open?Math.max(n.close,n.open):n.close:n.high:null!=n.high&&null==n.close?n.high:null},B.getXValue=function(t,e,i){if(F.hasGroupAxis(t))return i;var n=B.getDataItem(t,e,i);if(null==n)return null;var r=n.x;return isNaN(r)?B.getGroupLabel(t,i):r},B.getTargetValue=function(t,e){var i=B.getDataItem(t,e,0);return isNaN(i)&&null!=i?i.targetValue:null},B.getZValue=function(t,e,i,n){var r=B.getDataItem(t,e,i);return isNaN(r)&&null!=r&&null!=r.z?r.z:n},B.isStockValueRising=function(t,e,i){var n=B.getDataItem(t,e,i);return n?n.open<=n.close:!0},B.getSeriesCategories=function(t,e){var i=B.getSeriesItem(t,e),n=B.getSeries(t,e);return i&&i.categories?i.categories:n?[n]:[]},B.getDataItemCategories=function(t,e,i){var n=B.getDataItem(t,e,i);return n&&n.categories?n.categories:B.getSeriesCategories(t,e)},B.isXValInViewport=function(t,e){if(isNaN(e)||null==e)return!1;var i=F.getXAxisViewportMinMax(t,!0);return!(null!=i.min&&e<i.min||null!=i.max&&e>i.max)},B.isXInViewport=function(t,e,i){var n="isXInViewport",r=t.getFromCachedMap2D(n,e,i);if(null==r){var o=B.getXValue(t,e,i);r=B.isXValInViewport(t,o),t.putToCachedMap2D(n,e,i,r)}return r},B.isRefObjInViewport=function(t,e,i){var n=G.getXValue(t,e,i),r="isRefObjInViewport",o=t.getFromCachedMap2D(r,n);if(null==o){var s=G.getXValue(t,e,i-1),a=G.getXValue(t,e,i+1);o=B.isXValInViewport(t,n)||B.isXValInViewport(t,s)||B.isXValInViewport(t,a),t.putToCachedMap2D(r,n,o)}return o},B.isBLACItemInViewport=function(t,e,i){return V.isDataItemRendered(t,e,i)?B.isXInViewport(t,e,i)||B.isXInViewport(t,e,i-1)||B.isXInViewport(t,e,i+1):!1},B.isMarkerInViewport=function(t,e,i,n){if(!V.isDataItemRendered(t,e,i))return!1;var r=B.getMarkerPosition(t,e,i,n),o=V.getMarkerSize(t,e,i);return n&&r&&o?n.intersects(new DvtRectangle(r.x-o/2,r.y-o/2,o,o)):!0},B.getViewportGroupCount=function(t){var e=F.getXAxisViewportMinMax(t,!0),i=F.getXAxisGlobalMinMax(t),n=(e.max-e.min)/(i.max-i.min);return isNaN(n)?1:n*B.getGroupCount(t)},B._computeYAlongLine=function(t,e,i,n,r,o){t&&(i=DvtMath.log10(i),r=DvtMath.log10(r));var s=i+(r-i)*(o-e)/(n-e);return t?Math.pow(10,s):s},B._getViewportEdgeYValues=function(t,e){var i=B.getSeriesItem(t,e),n=i.items;if(!n)return{min:null,max:null};for(var r,o,s,a,l,u,h="withoutRescale"==U.getHideAndShowBehavior(t),c=F.getXAxisViewportMinMax(t,!0),p=c.min,d=c.max,g=F.isLog(t,B.isAssignedToY2(t,e)?"y2":"y"),f=0;f<n.length;f++)(h||V.isDataItemRendered(t,e,f))&&(r=B.getXValue(t,e,f),o=B.getCumulativeValue(t,e,f,h),null!=s&&(null!=p&&p>s&&r>p&&(l=B._computeYAlongLine(g,s,a,r,o,p)),null!=d&&d>s&&r>d&&(u=B._computeYAlongLine(g,s,a,r,o,d))),s=r,a=o);return{min:l,max:u}},B.getMinMaxValue=function(t,e,i){var n=e+(i?"MinMaxDO":"MinMax"),r=t.getFromCache(n);if(r)return r;var o=!i&&"z"!=e&&F.isLog(t,e),s="y2"==e;s&&(e="y");for(var a="y"==e,l=!i&&a&&K.isBLAC(t),u="withoutRescale"==U.getHideAndShowBehavior(t)||"x"==e&&F.hasTimeAxis(t),h=-(1/0),c=1/0,p=B.getSeriesCount(t),d=0;p>d;d++){var g=B.getSeriesItem(t,d),f=a&&(V.isRangeSeries(t,d)||"candlestick"==V.getSeriesType(t,d));if(u||V.isSeriesRendered(t,d)){var _=B.isAssignedToY2(t,d);if(!a||s==_){var v=g.items;if(v){for(var m=0;m<v.length;m++)if(u||V.isDataItemRendered(t,d,m)){"object"!=typeof v[m]&&(v[m]={y:v[m]});var y=v[m],S=null;if(a?f||(S=B.getCumulativeValue(t,d,m,u)):"x"==e&&F.hasTimeAxis(t)&&!F.isMixedFrequency(t)?(S=B.getGroupLabel(t,m),null!=y&&(y.x=S)):null!=y&&(S=y[e]),!l||B.isXInViewport(t,d,m)){if(!f&&null!=S&&!isNaN(S)){var E=0;K.isBubble(t)&&!i&&y.markerSize>0&&(a?E=y._yAxisRadius:"x"==e&&(E=y._xAxisRadius)),h=Math.max(h,o?S*Math.pow(10,E):S+E),c=Math.min(c,o?S/Math.pow(10,E):S-E)}if(f){var T=B.getHighValue(t,d,m),b=B.getLowValue(t,d,m);h=Math.max(h,T,b),c=Math.min(c,T,b)}}}var C=null;if("x"==e?C=G.getAxisRefObjs(t,"x"):s?C=G.getAxisRefObjs(t,"y2"):a&&(C=G.getAxisRefObjs(t,"y")),null!=C)for(var A=0;A<C.length;A++){var D=C[A],I=D.items,x="withRescale"==U.getHideAndShowBehavior(t)&&"hidden"==D.visibility;if(!x)if(I&&!x){for(var O=0;O<I.length;O++)if(null!=I[O]&&(!l||B.isRefObjInViewport(t,I,O))){var b=G.getLowValue(I[O]),T=G.getHighValue(I[O]),M=isNaN(I[O])?I[O].value:I[O];null!=b&&isFinite(b)&&(c=Math.min(c,b),h=Math.max(h,b)),null!=T&&isFinite(T)&&(c=Math.min(c,T),h=Math.max(h,T)),null!=M&&isFinite(M)&&(c=Math.min(c,M),h=Math.max(h,M))}}else{var b=G.getLowValue(D),T=G.getHighValue(D),M=D.value;null!=b&&isFinite(b)&&(c=Math.min(c,b),h=Math.max(h,b)),null!=T&&isFinite(T)&&(c=Math.min(c,T),h=Math.max(h,T)),null!=M&&isFinite(M)&&(c=Math.min(c,M),h=Math.max(h,M))}}if(l){var R=B._getViewportEdgeYValues(t,d);null!=R.min&&(c=Math.min(c,R.min),h=Math.max(h,R.min)),null!=R.max&&(c=Math.min(c,R.max),h=Math.max(h,R.max))}}}}}return r={min:c,max:h},t.putToCache(n,r),r},B.isAssignedToY2=function(t,e){var i=B.getSeriesItem(t,e);return!(!i||"on"!=i.assignedToY2||!K.isDualY(t))},B.getInitialSelection=function(t){var e=t.getOptions().selection;e||(e=[]);for(var i=t.getChartObjPeers(),n=0;n<e.length;n++){var r;if("string"==typeof e[n]?(r=e[n],e[n]={id:r}):r=e[n].id,!(null==r||e[n].series&&e[n].group))for(var o=0;o<i.length;o++){var s=i[o];if(r==s.getDataItemId()){e[n].series=s.getSeries(),e[n].group=s.getGroup();break}}}return e},B.getCurrentSelection=function(t){var e=[],i=t.getSelectionHandler();if(i)for(var n=i.getSelectedIds(),r=0;r<n.length;r++){var o=n[r];e.push({series:o.getSeries(),group:o.getGroup(),id:o.getId()})}return e},B.hasVolumeSeries=function(t){var e=t.getOptions()._hasVolume;return e?e:!1},B.isDataSelected=function(t,e,i){var n=B.getDataItem(t,e,i).id,r=B.getSeries(t,e),o=B.getGroup(t,i),s=t.getOptions().selection;s||(s=[]);for(var a=0;a<s.length;a++){if(null!=n&&(n==s[a]||n==s[a].id))return!0;if(r==s[a].series&&o==s[a].group)return!0}return!1},B.getDataLabel=function(t,e,i,n,r){var o,s=B.getDefaultDataLabel(t,e,i,n,r),a=t.getOptions().dataLabel;if(a&&!r){var l=B.getDataContext(t,e,i);l.label=s,o=a(l)}return o?o:s},B.getDefaultDataLabel=function(t,e,i,n,r){var o;if(r)o=B.getCumulativeValue(t,e,i);else{var s=B.getDataItem(t,e,i);if(!s)return null;o=s.label,"low"==n?o=o instanceof Array?o[0]:o:"high"==n&&(o=o instanceof Array?o[1]:null)}if(null!=o){if("number"==typeof o){var a,l,u,h=B.isAssignedToY2(t,e),c=h&&t.y2Axis?t.y2Axis:t.yAxis;if(c){var p=c.getInfo();a=p.getGlobalMin(),l=p.getGlobalMax(),u=p.getMajorIncrement()}var d=W.getValueFormat(t,"label");return W.formatValue(t.getCtx(),d,o,a,l,u)}return o}return null},B.getStackCategory=function(t,e){return K.isStacked(t)?B.getSeriesItem(t,e).stackCategory:B.getSeries(t,e)},B.getStackCategories=function(t,e,i){for(var n=[],r=[],o=0;o<B.getSeriesCount(t);o++)if(V.isSeriesRendered(t,o)||i){if(e){var s=V.getSeriesType(t,o);if("candlestick"==s&&(s="bar"),e!=s)continue}var a=B.getStackCategory(t,o);B.isAssignedToY2(t,o)?-1==DvtArrayUtils.getIndex(r,a)&&r.push(a):-1==DvtArrayUtils.getIndex(n,a)&&n.push(a)}return{y:n,y2:r}},B.getBarCategoryZ=function(t,e,i,n){for(var r=0,o=0;o<B.getSeriesCount(t);o++)if(("bar"==V.getSeriesType(t,o)||"candlestick"==V.getSeriesType(t,o))&&B.getStackCategory(t,o)==e&&V.isSeriesRendered(t,o)){var s=B.isAssignedToY2(t,o);(n&&s||!n&&!s)&&(r=Math.max(r,B.getZValue(t,o,i,1)))}return r},B.getBarInfo=function(t,e,i,n){var r,o,s=K.isHorizontal(t),a=K.isStacked(t),l=DvtAgent.isRightToLeft(t.getCtx()),u=t.xAxis,h=V.isRangeSeries(t,e),c=V.getBarCategoryOffsetMap(t,i,a),p=B.getXValue(t,e,i),d=u.getUnboundedCoordAt(p),g=B.isAssignedToY2(t,e),f=g?t.y2Axis:t.yAxis,_=f.getBaselineCoord();if(h){var v=B.getLowValue(t,e,i),m=B.getHighValue(t,e,i);if(null==v||isNaN(v)||null==m||isNaN(m))return null;if(r=f.getBoundedCoordAt(v),o=f.getBoundedCoordAt(m),r==o&&null==f.getCoordAt(v))return null}else{var y=B.getValue(t,e,i),S=B.getCumulativeValue(t,e,i);if(null==y||isNaN(y))return null;if(r=f.getBoundedCoordAt(S),o=a?f.getBoundedCoordAt(S-y):_,r==o&&null==f.getCoordAt(S))return null}var E=B.getStackCategory(t,e),T=V.getBarWidth(t,e,i),b=a?V.getBarStackWidth(t,E,i,g):T;if("pixel"==V.getBarSpacing(t)&&DvtAgent.isPlatformGecko()){var C=T/(1-V.getBarGapRatio(t));T>1&&2>C-T&&(T--,b=T)}var A=c[g?"y2":"y"][E]+.5*(b-T),D=l&&!s?d-A-T:d+A,I=D+T,x=(D+I)/2,O=h?(r+o)/2:r,M=et.convertAxisCoord(t,new DvtPoint(x,O),n);return{x1:D,x2:I,axisCoord:_,baseCoord:o,yCoord:r,dataPos:M,barWidth:T}},B.getMarkerPosition=function(t,e,i,n){var r,o,s=t.xAxis,a=B.isAssignedToY2(t,e)?t.y2Axis:t.yAxis,l=K.isPolar(t),u=V.isRangeSeries(t,e),h=B.getXValue(t,e,i),c=B.getCumulativeValue(t,e,i);if(K.isBubble(t)){if(l&&c<a.getInfo().getViewportMin())return null;r=l?s.getCoordAt(h):s.getUnboundedCoordAt(h),o=a.getUnboundedCoordAt(c)}else if(u){var p=a.getCoordAt(B.getLowValue(t,e,i)),d=a.getCoordAt(B.getHighValue(t,e,i));r=s.getCoordAt(B.getXValue(t,e,i)),o=(p+d)/2}else r=s.getCoordAt(h),o=a.getCoordAt(c);if(null==r||null==o)return null;var g=et.convertAxisCoord(t,new DvtPoint(r,o),n);return g},B.isSeriesNegative=function(t,e){for(var i=B.getGroupCount(t),n=0;i>n;n++){var r=B.getValue(t,e,n);if(r>0)return!1}return!0},B.getDataContext=function(t,e,i){var n=B.getDataItem(t,e,i),r=t.getRawOptions(),o={id:n.id,series:B.getSeries(t,e),group:B.getGroup(t,i),data:r.series[e].items[i],seriesData:r.series[e],groupData:B._getGroupsDataArray(t)[i],component:t.getOptions()._widgetConstructor,value:B.getValue(t,e,i),targetValue:B.getTargetValue(t,e,i),x:B.getXValue(t,e,i),y:B.getValue(t,e,i),z:B.getZValue(t,e,i),low:B.getLowValue(t,e,i),high:B.getHighValue(t,e,i),color:V.getColor(t,e,i),open:n.open,close:n.close,volume:n.volume,totalValue:K.isPie(t)?t.pieChart.getTotalValue():null};return o},B._getGroupsDataArray=function(t){var e="groupsDataArray",i=t.getFromCache(e);if(!i){var n=t.getRawOptions();i=B._getNestedGroupsData(n.groups),t.putToCache(e,i)}return i},B._getNestedGroupsData=function(t){if(!t)return[];for(var e=[],i=0;i<t.length;i++){var n=t[i];if(n.groups){for(var r=B._getNestedGroupsData(n.groups),o=0;o<r.length;o++)r[o].unshift(n);e=e.concat(r)}else e.push([n])}return e},B.isBarStackLabeled=function(t,e,i){for(var n=B.getStackCategory(t,e),r=B.getValue(t,e,i)<0,o=B.getSeriesCount(t),s=e+1;o>s;s++)if(n==B.getStackCategory(t,s)&&r==B.getValue(t,s,i)<0&&"bar"==V.getSeriesType(t,s)&&B.isBLACItemInViewport(t,s,i))return!1;return!0};var U=new Object;DvtObj.createSubclass(U,DvtObj,"DvtChartEventUtils"),U.getHideAndShowBehavior=function(t){return t.getOptions().hideAndShowBehavior},U.getHoverBehavior=function(t){return t.getOptions().hoverBehavior},U.setVisibility=function(t,e,i){var n=G.getRefObj(t,e);null!=n&&(n.visibility=i);var r=V.getHiddenCategories(t),o=DvtArrayUtils.getIndex(r,e);"hidden"==i&&0>o?r.push(e):"visible"==i&&o>=0&&r.splice(o,1);var s=t.getOptions();if(s&&s.legend&&s.legend.sections){for(var a=0;a<s.legend.sections.length;a++){var l=s.legend.sections[a];if(l&&l.items)for(var u=0;u<l.items.length;u++)l.items[u].id==e&&(l.items[u].categoryVisibility=i)}return!0}return!1},U.isScrollable=function(t){return K.isScrollSupported(t)?"off"!=t.getOptions().zoomAndScroll:!1},U.isZoomable=function(t){if(!K.isScrollSupported(t))return!1;var e=t.getOptions().zoomAndScroll;return"live"==e||"delayed"==e},U.getZoomDirection=function(t){return K.isScatterBubble(t)?t.getOptions().zoomDirection:"auto"},U.isLiveScroll=function(t){if(!K.isScrollSupported(t))return!1;var e=t.getOptions().zoomAndScroll;return"live"==e||"liveScrollOnly"==e},U.isDelayedScroll=function(t){if(!K.isScrollSupported(t))return!1;var e=t.getOptions().zoomAndScroll;return"delayed"==e||"delayedScrollOnly"==e},U.processIds=function(t,e){for(var i=[],n=0;n<e.length;n++){var r=e[n];if(r.getSeries()==X.OTHER_SLICE_SERIES_ID){var o=X.getOtherSliceIds(t);i=i.concat(o)}else i.push(r)}return i},U.adjustBounds=function(t){null!=t.x&&(t.x-=1),null!=t.w&&(t.w+=2),null!=t.y&&(t.y-=1),null!=t.h&&(t.h+=2)},U.getSelectedObjects=function(t,e,i){if(!t.getFromCache("dataFiltered"))return i.getSelectedIds();var n=[],r="dataPositions",o=t.getFromCache(r);if(!o){o=[];for(var s=0;s<B.getSeriesCount(t);s++)for(var a=0;a<B.getGroupCount(t);a++){var l;l="bar"==V.getSeriesType(t,s)?B.getBarInfo(t,s,a).dataPos:B.getMarkerPosition(t,s,a),l&&(l=t.getPlotArea().localToStage(l),o.push({seriesIndex:s,groupIndex:a,pos:l}))}t.putToCache(r,o)}for(var u=0;u<o.length;u++){var l=o[u].pos;if(l){var c=null==e.x||l.x>=e.x&&l.x<=e.x+e.w,p=null==e.y||l.y>=e.y&&l.y<=e.y+e.h;c&&p&&n.push(new h(null,B.getSeries(t,o[u].seriesIndex),B.getGroup(t,o[u].groupIndex)))}}return n},U.getBoundedObjects=function(t,e){for(var i=t.getChartObjPeers(),n=[],r=0;r<i.length;r++){var o=i[r],s=o.getDataPosition();if(s){s=t.getPlotArea().localToStage(s);var a=null==e.x||s.x>=e.x&&s.x<=e.x+e.w,l=null==e.y||s.y>=e.y&&s.y<=e.y+e.h;a&&l&&n.push(o)}}return n},U.getAxisBounds=function(t,e,i){var n=t.getPlotArea(),r=n.stageToLocal(new DvtPoint(e.x,e.y)),o=n.stageToLocal(new DvtPoint(e.x+e.w,e.y+e.h));null==e.x&&(r.x=null,o.x=null),null==e.y&&(r.y=null,o.y=null);var s=U._convertToAxisCoord(t,r.x,o.x,r.y,o.y),a={},l={},u={},h={};return t.xAxis&&(a=U._getAxisMinMax(t.xAxis,s.xMin,s.xMax,i),h=U.getAxisStartEndGroup(t.xAxis,a.min,a.max)),t.yAxis&&(l=U._getAxisMinMax(t.yAxis,s.yMin,s.yMax,i)),t.y2Axis&&(u=U._getAxisMinMax(t.y2Axis,s.yMin,s.yMax,i)),{xMin:a.min,xMax:a.max,yMin:l.min,yMax:l.max,y2Min:u.min,y2Max:u.max,startGroup:h.startGroup,endGroup:h.endGroup}},U._getAxisMinMax=function(t,e,i,n){if(null==e||null==i)return{min:null,max:null};var r=t.getUnboundedLinearValueAt(e),o=t.getUnboundedLinearValueAt(i);if(n){var s=t.getInfo().getMinimumExtent();if(s>o-r){var a=(o+r)/2;o=a+s/2,r=a-s/2}return U._limitToGlobal(t,r,o)}return U._getActualMinMax(t,r,o)},U.getAxisBoundsByDelta=function(t,e,i,n,r){var o=U._convertToAxisCoord(t,e,i,n,r),s=U.getZoomDirection(t),a={},l={},u={},h={};return t.xAxis&&"y"!=s&&(a=U._getAxisMinMaxByDelta(t.xAxis,o.xMin,o.xMax),h=U.getAxisStartEndGroup(t.xAxis,a.min,a.max)),t.yAxis&&"x"!=s&&(l=U._getAxisMinMaxByDelta(t.yAxis,o.yMin,o.yMax)),t.y2Axis&&(u=U._getAxisMinMaxByDelta(t.y2Axis,o.yMin,o.yMax)),{xMin:a.min,xMax:a.max,yMin:l.min,yMax:l.max,y2Min:u.min,y2Max:u.max,startGroup:h.startGroup,endGroup:h.endGroup}},U._getAxisMinMaxByDelta=function(t,e,i){var n=t.getLinearViewportMin(),r=t.getLinearViewportMax();if(i==e&&t.isFullViewport())return U._getActualMinMax(t,n,r);var o=t.getUnboundedLinearValueAt(e)-t.getUnboundedLinearValueAt(0),s=t.getUnboundedLinearValueAt(i)-t.getUnboundedLinearValueAt(0),a=1,l=r+s-(n+o),u=t.getInfo().getMinimumExtent();return e!=i&&u>l&&(a=(r-n-u)/(o-s)),n+=o*a,r+=s*a,U._limitToGlobal(t,n,r)},U._convertToAxisCoord=function(t,e,i,n,r){var o={},s=DvtAgent.isRightToLeft(t.getCtx());return K.isHorizontal(t)?(o.xMin=n,o.xMax=r,o.yMin=s?i:e,o.yMax=s?e:i):(o.xMin=s?i:e,o.xMax=s?e:i,o.yMin=r,o.yMax=n),o},U._limitToGlobal=function(t,e,i){var n=t.getLinearGlobalMin(),r=t.getLinearGlobalMax();return i-e>=r-n?(e=n,i=r):n>e?(i+=n-e,e=n):i>r&&(e-=i-r,i=r),U._getActualMinMax(t,e,i)},U._getActualMinMax=function(t,e,i){return{min:t.linearToActual(e),max:t.linearToActual(i)}},U.getAxisStartEndGroup=function(t,e,i){if(t.isGroupAxis()&&null!=e&&null!=i){var n=Math.ceil(e),r=Math.floor(i);if(r>=n){var o=t.getInfo().getGroup(n),s=t.getInfo().getGroup(r);return{startGroup:o,endGroup:s}}}return{startGroup:null,endGroup:null}},U.setInitialSelection=function(t,e){var i=t.getSelectionHandler();if(i){for(var n=t.getChartObjPeers(),r=[],o=0;o<e.length;o++)for(var s=0;s<n.length;s++){var a=n[s];a.getSeries()!==e[o].series||a.getGroup()!==e[o].group||r.push(a.getId())}i.processInitialSelections(r,n)}},U.getKeyboardNavigables=function(t){var e=[];if(K.isPie(t))for(var i=t.pieChart.__getSlices(),n=0;n<i.length;n++)V.isSeriesRendered(t,i[n].getSeriesIndex())&&e.push(i[n]);else for(var r=t.getChartObjPeers(),n=0;n<r.length;n++)r[n].isNavigable()&&e.push(r[n]);return e},U.isSeriesDrillable=function(t,e){var i=B.getSeriesItem(t,e),n=null!=i?i.drilling:"inherit";return"on"==n?!0:"off"==n?!1:(n=t.getOptions().drilling,"on"==n||"seriesOnly"==n)},U.isDataItemDrillable=function(t,e,i){var n=B.getDataItem(t,e,i),r=null!=n?n.drilling:"inherit";return"on"==r?!0:"off"==r?!1:(r=t.getOptions().drilling,"on"==r)};var G=new Object;DvtObj.createSubclass(G,DvtObj,"DvtChartRefObjUtils"),G.getRefObjs=function(t){var e=G.getAxisRefObjs(t,"x"),i=G.getAxisRefObjs(t,"y"),n=G.getAxisRefObjs(t,"y2");return e.concat(i,n)},G.getAxisRefObjs=function(t,e){var i=t.getOptions();return i&&i[e+"Axis"]&&i[e+"Axis"].referenceObjects?i[e+"Axis"].referenceObjects:[]},G.getType=function(t){return"area"==t.type?"area":"line"},G.getLocation=function(t){return"front"==t.location?"front":"back"},G.getColor=function(t){return t.color?t.color:"#333333"},G.getLineWidth=function(t){return t.lineWidth?t.lineWidth:1},G.getLineType=function(t){return t.lineType?t.lineType:"straight"},G.isObjectRendered=function(t,e){var i=V.getHiddenCategories(t);if(i.length>0){var n=G.getRefObjCategories(e);if(n&&DvtArrayUtils.hasAnyItem(i,n))return!1}return!("hidden"==e.visibility)},G.getId=function(t){return null!=t.id?t.id:t.text},G.getRefObjCategories=function(t){return t.categories?t.categories:[G.getId(t)]},G.getRefObj=function(t,e){for(var i=G.getRefObjs(t),n=0;n<i.length;n++)if(G.getId(i[n])==e)return i[n]},G.getLowValue=function(t){return null==t?null:null!=t.min?t.min:t.low},G.getHighValue=function(t){return null==t?null:null!=t.max?t.max:t.high},G.getXValue=function(t,e,i){return e[i]&&!isNaN(e[i].x)?e[i].x:F.hasTimeAxis(t)&&!F.isMixedFrequency(t)?B.getGroupLabel(t,i):i};var j=new Object;DvtObj.createSubclass(j,DvtObj,"DvtChartSeriesEffectUtils"),j.getBarFill=function(t,e,i,n,r){var o=V.getColor(t,e,i),s=V.getPattern(t,e,i),a=V.getSeriesEffect(t);if(s)return new DvtPatternFill(s,o);if("gradient"==a&&r>3){var l,u,h=n?270:0;return j._useAltaGradients(t)?(l=[DvtColorUtils.adjustHSL(o,0,-.09,.04),DvtColorUtils.adjustHSL(o,0,-.04,-.05)],u=[0,1]):(l=[DvtColorUtils.getPastel(o,.15),DvtColorUtils.getPastel(o,.45),DvtColorUtils.getPastel(o,.25),o,DvtColorUtils.getPastel(o,.15),DvtColorUtils.getDarker(o,.9)],u=[0,.15,.3,.65,.85,1]),new DvtLinearGradientFill(h,l,null,u)}return new DvtSolidFill(o)},j.getAreaFill=function(t,e){var i,n="lineWithArea"==V.getSeriesType(t,e),r=B.getSeriesItem(t,e);r&&r.areaColor?i=r.areaColor:(i=V.getColor(t,e),n&&(i=DvtColorUtils.setAlpha(i,.2)));var o=V.getPattern(t,e),s=V.getSeriesEffect(t);if(o)return new DvtPatternFill(o,i);if("gradient"==s){var a,l,u=K.isHorizontal(t)?180:270;if(n){var h=DvtColorUtils.getAlpha(i);a=[DvtColorUtils.setAlpha(i,Math.min(h+.2,1)),DvtColorUtils.setAlpha(i,Math.max(h-.15,0))],l=[0,1]}else j._useAltaGradients(t)?(a=[DvtColorUtils.adjustHSL(i,0,-.09,.04),DvtColorUtils.adjustHSL(i,0,-.04,-.05)],l=[0,1]):K.isSpark(t)?(a=[DvtColorUtils.getDarker(i,.5),i,DvtColorUtils.getPastel(i,.5)],l=[0,.5,1]):(a=[DvtColorUtils.getPastel(i,.5),i,DvtColorUtils.getDarker(i,.7)],l=[0,.5,1]);return new DvtLinearGradientFill(u,a,null,l)}return new DvtSolidFill(i)},j.getMarkerFill=function(t,e,i){var n=V.getMarkerColor(t,e,i),r=V.getPattern(t,e,i);if(r)return new DvtPatternFill(r,n);if(K.isBubble(t)){var o=V.getSeriesEffect(t);if("gradient"==o){if(j._useAltaGradients(t)){var s=[DvtColorUtils.adjustHSL(n,0,-.09,.04),DvtColorUtils.adjustHSL(n,0,-.04,-.05)],a=[0,1];return new DvtLinearGradientFill(270,s,null,a)}var l=V.getMarkerShape(t,e,i);if("human"==l){var u=[DvtColorUtils.getPastel(n,.2),DvtColorUtils.getPastel(n,.1),n,DvtColorUtils.getDarker(n,.8)],h=[0,.3,.7,1];return new DvtLinearGradientFill(315,u,null,h)}var c=[DvtColorUtils.getPastel(n,.15),n,DvtColorUtils.getDarker(n,.9),DvtColorUtils.getDarker(n,.8)],p=[0,.5,.75,1];return new DvtRadialGradientFill(c,null,p)}}return new DvtSolidFill(n)},j.getFunnelSliceFill=function(t,e,i,n,r){var o=V.getPattern(t,e,0),s=V.getSeriesEffect(t);if(o&&!r){var a=new DvtPatternFill(o,i);return"vertical"==t.getOptions().orientation&&(DvtAgent.isRightToLeft(t.getCtx())?a.setMatrix(new DvtMatrix(0,-1,1,0)):a.setMatrix(new DvtMatrix(0,1,-1,0))),a}if("gradient"==s){var l,u,h=90;return"on"==t.getOptions().styleDefaults.threeDEffect?(l=[DvtColorUtils.adjustHSL(i,0,0,-.1),DvtColorUtils.adjustHSL(i,0,0,.12),i],u=[0,.65,1]):(l=[DvtColorUtils.adjustHSL(i,0,-.09,.04),DvtColorUtils.adjustHSL(i,0,-.04,-.05)],u=[0,1]),new DvtLinearGradientFill(h,l,null,u,[n.x,n.y,n.w,n.h])}return new DvtSolidFill(i)},j._useAltaGradients=function(t){return!c.isSkyrosSkin(t)};var V=new Object;DvtObj.createSubclass(V,DvtObj,"DvtChartStyleUtils"),V._SERIES_TYPE_RAMP=["bar","line","area"],V.getSeriesType=function(t,e){if(!K.isBLAC(t))return"auto";var i=B.getSeriesItem(t,e),n=i?i.type:null;if(K.isStock(t)||"candlestick"!=n||(n="auto"),n&&"auto"!=n)return n;if(K.isBar(t))return"bar";if(K.isLine(t))return"line";if(K.isArea(t))return"area";if(K.isLineWithArea(t))return"lineWithArea";if(K.isStock(t))return"candlestick";if(K.isCombo(t)){var r=B.getSeries(t,e),o=B.getSeriesStyleIndex(t,r),s=o%V._SERIES_TYPE_RAMP.length;return V._SERIES_TYPE_RAMP[s]}},V.isRangeSeries=function(t,e){var i="isRange",n=t.getFromCachedMap(i,e);if(null!=n)return n;n=!1;var r=V.getSeriesType(t,e);if("bar"==r||"area"==r)for(var o=0;o<B.getGroupCount(t);o++)if(null!=B.getLowValue(t,e,o)||null!=B.getHighValue(t,e,o)){n=!0;break}return t.putToCachedMap(i,e,n),n},V.getSeriesEffect=function(t){var e=t.getOptions();return e.styleDefaults.seriesEffect},V.getColor=function(t,e,i){var n=B.getDataItem(t,e,i);if(n&&n.color)return n.color;if("candlestick"==V.getSeriesType(t,e))return V.getStockItemColor(t,e,i);var r=B.getSeriesItem(t,e);if(r&&r.color)return r.color;var o=t.getOptions(),s=o.styleDefaults.colors,a=B.getSeries(t,e),l=B.getSeriesStyleIndex(t,a),u=l%s.length;return o.styleDefaults.colors[u]},V.getStockItemColor=function(t,e,i){var n=t.getOptions();return B.isStockValueRising(t,e,i)?n.styleDefaults.stockRisingColor:n.styleDefaults.stockFallingColor},V.getStockVolumeColor=function(t,e,i){var n=B.getDataItem(t,e,i);if(n&&n.color)return n.color;var r=t.getOptions();return r.styleDefaults.stockVolumeColor?r.styleDefaults.stockVolumeColor:V.getStockItemColor(t,e,i)},V.getSplitterPosition=function(t){var e=t.getOptions(),i=e.splitterPosition;return null!=i?i:K.isStock(t)?.8:.5},V.getPattern=function(t,e,i){var n=B.getDataItem(t,e,i);if(n&&n.pattern&&"auto"!=n.pattern)return n.pattern;var r=V.getSeriesType(t,e);if(("line"==r||"area"==r)&&null!=i)return null;var o=B.getSeriesItem(t,e);if(o&&o.pattern&&"auto"!=o.pattern)return o.pattern;if("pattern"==V.getSeriesEffect(t)){if(K.isStock&&"candlestick"==V.getSeriesType(t,e)){var s=B.isStockValueRising(t,e,i),a=DvtAgent.isRightToLeft(t.getCtx());return s?a?"smallDiagonalLeft":"smallDiagonalRight":a?"smallDiagonalRight":"smallDiagonalLeft"}var l=t.getOptions(),u=l.styleDefaults.patterns,h=B.getSeries(t,e),c=B.getSeriesStyleIndex(t,h),p=c%u.length;return l.styleDefaults.patterns[p]}return null},V.getMarkerBorderColor=function(t,e,i){var n=V.getBorderColor(t,e,i);if(n)return n;if(V.getDataItemGaps(t)>0&&"lineWithArea"!=V.getSeriesType(t,e))return V.getBackgroundColor(t,!0);if(K.isBubble(t)&&!c.isSkyrosSkin(t)&&"gradient"!=V.getSeriesEffect(t)){var r=V.getMarkerColor(t,e,i);if(r)return DvtColorUtils.adjustHSL(r,0,.15,-.25)}return null},V.getBorderColor=function(t,e,i){var n=B.getDataItem(t,e,i);if(n&&n.borderColor)return n.borderColor;var r=B.getSeriesItem(t,e);if(r&&r.borderColor)return r.borderColor;var o=t.getOptions(),s=o.styleDefaults;return"auto"!=s.borderColor?s.borderColor:null},V.getBorderWidth=function(t,e,i){
var n=B.getDataItem(t,e,i);if(n&&n.borderWidth)return n.borderWidth;var r=B.getSeriesItem(t,e);if(r&&r.borderWidth)return r.borderWidth;var o=t.getOptions().styleDefaults;return"auto"!=o.borderWidth?o.borderWidth:K.isScatterBubble(t)||K.isLineArea(t)?1.25:1},V.getMarkerColor=function(t,e,i){if(!V.isMarkerDisplayed(t,e,i))return V.getColor(t,e,i);var n=B.getDataItem(t,e,i);if(n&&n.color)return n.color;var r=B.getSeriesItem(t,e);if(r&&r.markerColor)return r.markerColor;var o=t.getOptions(),s=o.styleDefaults.markerColor;return s?s:V.getColor(t,e,i)},V.getMarkerShape=function(t,e,i){var n=t.getOptions(),r=n.styleDefaults.markerShape,o=B.getSeriesItem(t,e);o&&o.markerShape&&(r=o.markerShape);var s=B.getDataItem(t,e,i);if(s&&s.markerShape&&(r=s.markerShape),"auto"==r)if("bubble"==t.getType()||V.isRangeSeries(t,e))r="circle";else{var a=B.getSeries(t,e),l=B.getSeriesStyleIndex(t,a),u=n.styleDefaults.shapes,h=l%u.length;r=u[h]}return r},V.getMarkerSize=function(t,e,i){var n,r=B.getDataItem(t,e,i),o=B.getSeriesItem(t,e),s=t.getOptions();return n=r&&Number(r.markerSize)?Number(r.markerSize):o&&Number(o.markerSize)?Number(o.markerSize):Number(s.styleDefaults.markerSize),K.isOverview(t)&&(n=Math.ceil(.6*n)),n},V.isMarkerDisplayed=function(t,e,i){var n,r=B.getDataItem(t,e,i),o=B.getSeriesItem(t,e);return n=r&&null!=r.markerDisplayed?r.markerDisplayed:o&&null!=o.markerDisplayed?o.markerDisplayed:t.getOptions().styleDefaults.markerDisplayed,"on"==n?!0:"off"==n?!1:K.isScatterBubble(t)||"none"==V.getLineType(t,e)},V.getLineWidth=function(t,e){var i,n=B.getSeriesItem(t,e),r=t.getOptions();return i=n&&n.lineWidth?n.lineWidth:r.styleDefaults.lineWidth?r.styleDefaults.lineWidth:"lineWithArea"==V.getSeriesType(t,e)?2:3,K.isOverview(t)&&(i=Math.ceil(.6*i)),i},V.getLineStyle=function(t,e){var i=B.getSeriesItem(t,e);if(i&&i.lineStyle)return i.lineStyle;var n=t.getOptions();return n.styleDefaults.lineStyle},V.getLineType=function(t,e){var i,n=B.getSeriesItem(t,e);return i=n&&n.lineType?n.lineType:t.getOptions().styleDefaults.lineType,"auto"==i&&(i=K.isScatterBubble(t)?"none":"straight"),(K.isPolar(t)||K.isScatterBubble(t))&&("centeredSegmented"==i&&(i="segmented"),"centeredStepped"==i&&(i="stepped")),i},V.getBarSpacing=function(t){var e=t.getOptions();return e.__sparkBarSpacing},V.getBarGapRatio=function(t){var e=t.getOptions().styleDefaults.barGapRatio;if("string"==typeof e&&"%"==e.slice(-1)&&(e=Number(e.slice(0,-1))/100),null!=e&&!isNaN(e))return e;var i=B.getStackCategories(t,"bar"),n=i.y.length,r=i.y2.length,o=K.isSplitDualY(t)?Math.max(n,r):n+r;return e=K.isPolar(t)?1==o?0:.25:1==o?.37+.26/B.getViewportGroupCount(t):.25},V.getMaxBarWidth=function(t){var e=t.getOptions().styleDefaults.maxBarWidth;return null==e||K.isPolar(t)?1/0:e},V.getBarWidth=function(t,e,i){var n=B.getZValue(t,e,i,1)/t.getOptions()._averageGroupZ;return Math.min(n*V.getGroupWidth(t),V.getMaxBarWidth(t))},V.getBarStackWidth=function(t,e,i,n){var r=B.getBarCategoryZ(t,e,i,n)/t.getOptions()._averageGroupZ;return Math.min(r*V.getGroupWidth(t),V.getMaxBarWidth(t))},V.getBarCategoryOffsetMap=function(t,e,i){var n,r,o=B.getStackCategories(t,"bar"),s=F.isMixedFrequency(t),a=K.isSplitDualY(t),l={},u={},h=0,c=0;if(i){for(r=0;r<o.y.length;r++)n=V.getBarStackWidth(t,o.y[r],e,!1),s?l[o.y[r]]=-.5*n:(l[o.y[r]]=h,h+=n);for(a||(c=h),r=0;r<o.y2.length;r++)n=V.getBarStackWidth(t,o.y2[r],e,!0),s?u[o.y2[r]]=-.5*n:(u[o.y2[r]]=c,c+=n);a||(h=c)}else for(var r=0;r<B.getSeriesCount(t);r++)if(("bar"==V.getSeriesType(t,r)||"candlestick"==V.getSeriesType(t,r))&&V.isSeriesRendered(t,r)){var p=B.isAssignedToY2(t,r),d=B.getStackCategory(t,r);n=V.getBarWidth(t,r,e),p?s?u[d]=-.5*n:(u[d]=c,c+=n):s?l[d]=-.5*n:(l[d]=h,h+=n)}for(var d in l)l[d]-=a||i?h/2:(h+c)/2;for(var d in u)u[d]-=a||i?c/2:(h+c)/2-h;return{y:l,y2:u}},V.getDataItemGaps=function(t){var e=t.getOptions();if(K.isFunnel(t)&&"on"==e.styleDefaults.funnelSliceGaps)return 1;if(null!=e.styleDefaults.sliceGaps)return e.styleDefaults.sliceGaps;var i=e.styleDefaults.dataItemGaps;"auto"==i&&(i="on"==e.styleDefaults.threeDEffect?"0%":"50%");var n=i&&i.indexOf?i.indexOf("%"):-1;return n>=0?(i=i.substring(0,n),i/100):0},V.isSelectable=function(t,e,i){var n=B.getSeriesItem(t,e);return n&&"off"==n._selectable?!1:t.isSelectionSupported()&&e>=0&&i>=0},V.isSeriesRendered=function(t,e){var i=V.getHiddenCategories(t);return!(i.length>0&&DvtArrayUtils.hasAnyItem(i,B.getSeriesCategories(t,e)))},V.isDataItemRendered=function(t,e,i){if(!V.isSeriesRendered(t,e))return!1;(K.isPie(t)||K.isFunnel(t))&&(i=0);var n=V.getHiddenCategories(t);return!(n.length>0&&DvtArrayUtils.hasAnyItem(n,B.getDataItemCategories(t,e,i)))},V.getAnimationOnDisplay=function(t){return t.getOptions().animationOnDisplay},V.getAnimationOnDataChange=function(t){return t.getOptions().animationOnDataChange},V.getAnimationDuration=function(t){return DvtStyleUtils.getTimeMilliseconds(t.getOptions().styleDefaults.animationDuration)/1e3},V.getAnimationIndicators=function(t){return t.getOptions().styleDefaults.animationIndicators},V.getAnimationUpColor=function(t){return t.getOptions().styleDefaults.animationUpColor},V.getAnimationDownColor=function(t){return t.getOptions().styleDefaults.animationDownColor},V.getHiddenCategories=function(t){var e=t.getOptions();return e.hiddenCategories||(e.hiddenCategories=[]),e.hiddenCategories},V.getHighlightedCategories=function(t){var e=t.getOptions();return e.highlightedCategories||(e.highlightedCategories=[]),e.highlightedCategories},V.getSelectedInnerColor=function(t){return t.getOptions().styleDefaults.selectedInnerColor},V.getSelectedOuterColor=function(t){return t.getOptions().styleDefaults.selectedOuterColor},V.isSelectionHighlighted=function(t){var e=t.getOptions().styleDefaults.selectionEffect;return"highlight"==e||"highlightAndExplode"==e},V.isSelectionExploded=function(t){var e=t.getOptions().styleDefaults.selectionEffect;return"explode"==e||"highlightAndExplode"==e},V.getDataLabelStyle=function(t,e,i,n,r,o){var s,a=[];return!n||"bar"!=V.getSeriesType(t,e)&&!K.isBubble(t)||"center"!=r&&"inBottom"!=r&&"inTop"!=r&&"inRight"!=r&&"inLeft"!=r?a.push(new DvtCSSStyle("color: #333333;")):(s=null!=V.getPattern(t,e,i)?"#000000":DvtColorUtils.getContrastingTextColor(n),a.push(new DvtCSSStyle("color: "+s+";"))),a.push(V._parseLowHighArray(t.getOptions().styleDefaults.dataLabelStyle,o)),a.push(new DvtCSSStyle(V._parseLowHighArray(B.getDataItem(t,e,i).labelStyle,o))),s&&DvtAgent.isHighContrast()&&a.push(new DvtCSSStyle("color: "+s+";")),DvtCSSStyle.mergeStyles(a)},V.getDataLabelPosition=function(t,e,i,n,r){var o,s=B.getDataItem(t,e,i);if(r)o="outsideBarEdge";else if(o=s.labelPosition,o||(o=t.getOptions().styleDefaults.dataLabelPosition),o=V._parseLowHighArray(o,n),"none"==o)return"none";var a=DvtAgent.isRightToLeft(t.getCtx()),l=K.isHorizontal(t),u=K.isPolar(t);if(K.isFunnel(t))return"center";if("bar"==V.getSeriesType(t,e)){if("center"==o||u)return"center";var h=K.isStacked(t);if("insideBarEdge"!=o){if(h&&!r)return"center";"outsideBarEdge"!=o&&(o="insideBarEdge")}if("insideBarEdge"==o&&!h){var c,p=t.getOptions().styleDefaults.dataLabelStyle;if(l){var d=B.getDataLabel(t,e,i,n);c=DvtTextUtils.getTextStringWidth(t.getCtx(),d,p)}else c=DvtTextUtils.getTextStringHeight(t.getCtx(),p);var g=B.getBarInfo(t,e,i),f=Math.abs(g.baseCoord-g.yCoord);c>=f&&(o="outsideBarEdge")}var _;return _="low"==n?s.low<=s.high:"high"==n?s.high<s.low:B.getValue(t,e,i)<0,"outsideBarEdge"==o?l?!_&&!a||_&&a?"right":"left":_?"bottom":"top":l?!_&&!a||_&&a?"inRight":"inLeft":_?"inBottom":"inTop"}if("center"==o)return"center";if("belowMarker"==o)return"bottom";if("aboveMarker"==o)return"top";if("afterMarker"!=o&&"beforeMarker"!=o){if(K.isBubble(t))return"center";if("low"!=n||u)if("high"!=n||u)o="afterMarker";else{if(!l)return"top";o="afterMarker"}else{if(!l)return"bottom";o="beforeMarker"}}return!a&&"afterMarker"==o||a&&"beforeMarker"==o?"right":"left"},V._parseLowHighArray=function(t,e){return t instanceof Array?"high"==e?t[1]:t[0]:t},V.isOverviewRendered=function(t){var e=t.getOptions();return K.isOverviewSupported(t)&&"off"!=e.overview.rendered},V.getOverviewHeight=function(t){var e=t.getOptions(),i=e.overview.height;return null==i&&(i=F.hasTimeAxis(t)?.25:.2),V.getSizeInPixels(i,t.getHeight())},V.getSizeInPixels=function(t,e){if("string"==typeof t){if("%"==t.slice(-1))return e*Number(t.slice(0,-1))/100;if("px"==t.slice(-2))return Number(t.slice(0,-2));t=Number(t)}return isNaN(t)?0:1>=t?e*t:t},V.getBackgroundColor=function(t,e){var i=t.getOptions();return i.plotArea.backgroundColor?i.plotArea.backgroundColor:e?"#FFFFFF":null},V.getHoverBehaviorDelay=function(t){var e=t.getOptions().styleDefaults.hoverBehaviorDelay;return e?(e=DvtStyleUtils.getTimeMilliseconds(e),K.isScatterBubble(t)||K.isLine(t)?.75*e:1.25*e):0},V.optimizeMarkerStroke=function(t){return K.isScatterBubble(t)},V.getGroupWidth=function(t){var e="groupWidth",i=t.getFromCache(e);return null==i&&(i=t.xAxis.getInfo().getGroupWidth(),t.putToCache(e,i)),i},V.isStackLabelRendered=function(t){var e=t.getOptions();return!(!K.isStacked(t)||"on"!=e.stackLabel)};var Y=new Object;DvtObj.createSubclass(Y,DvtObj,"DvtChartTextUtils"),Y.createText=function(t,e,i,n,r,o,s,a){var l=new DvtOutputText(e.getCtx(),i,r,o);return l.setCSSStyle(n),DvtTextUtils.fitText(l,s,a,e)?(t.associate(l,new DvtSimpleObjPeer(l.getUntruncatedTextString())),l):null},Y.areTitlesRendered=function(t){var e=t.getOptions();return e.title.text||e.subtitle.text||e.footnote.text};var W=new Object;DvtObj.createSubclass(W,DvtObj,"DvtChartTooltipUtils"),W.getDatatipColor=function(t,e,i){return K.isStock(t)?V.getColor(t,0,i):V.getColor(t,e,i)},W.getDatatip=function(t,e,i,n){if(K.isSpark(t)||K.isOverview(t))return null;if(0>e||0>i)return null;var r=B.getDataItem(t,e,i),o=t.getOptions().tooltip;if(n&&o){var s=t.getCtx().getTooltipManager(W.isDataCursorEnabled(t)?C.TOOLTIP_ID:null),a=B.getDataContext(t,e,i);if(K.isPie(t)){var l=t.pieChart.__getSlices()[e];a.label=l.getSliceLabelString()}else a.label=B.getDataLabel(t,e,i);return s.getCustomTooltip(o,a)}if(r&&null!=r.shortDesc)return r.shortDesc;var u="";return K.isStock(t)?u+=W.getStockDatatip(t,0,i,n):(u=W._addSeriesDatatip(u,t,e,i,n),u=W._addGroupDatatip(u,t,e,i,n),u=W._addValueDatatip(u,t,e,i,n)),W._processDatatip(u,t,n)},W.getOtherSliceDatatip=function(t,e,i){var n=DvtBundle.getTranslatedString(DvtBundle.CHART_PREFIX,"LABEL_OTHER",null),r=t.getOptions().tooltip;if(i&&r){var o={id:n,series:n,group:B.getGroup(t,0),value:e};return t.getCtx().getTooltipManager().getCustomTooltip(r,o)}var s="";return s=W._addDatatipRow(s,t,"series","SERIES",n,i),s=W._addGroupDatatip(s,t,0,0,i),s=W._addDatatipRow(s,t,"value","VALUE",e,i),W._processDatatip(s,t,i)},W._processDatatip=function(t,e,i){return""==t?null:i?DvtHtmlTooltipManager.createStartTag("table",e.getOptions().styleDefaults._tooltipStyle)+t+"</table>":t},W.getRefObjTooltip=function(t,e){var i=t.getOptions().tooltip;if(i&&null!=e.id){var n=t.getCtx().getTooltipManager(W.isDataCursorEnabled(t)?C.TOOLTIP_ID:null),r={id:G.getId(e),label:e.text,value:e.value,low:G.getLowValue(e),high:G.getHighValue(e),color:G.getColor(e)};return n.getCustomTooltip(i,r)}return e.shortDesc},W.getStockDatatip=function(t,e,i,n){var r=B.getDataItem(t,e,i),o=W._addGroupDatatip("",t,e,i,n);return r&&(o=W._addDatatipRow(o,t,"open","OPEN",r.open,n),o=W._addDatatipRow(o,t,"close","CLOSE",r.close,n),o=W._addDatatipRow(o,t,"high","HIGH",r.high,n),o=W._addDatatipRow(o,t,"low","LOW",r.low,n),o=W._addDatatipRow(o,t,"volume","VOLUME",r.volume,n)),o},W._addSeriesDatatip=function(t,e,i,n,r){var o=B.getSeriesLabel(e,i);return W._addDatatipRow(t,e,"series","SERIES",o,r)},W._addGroupDatatip=function(t,e,i,n,r){var o;if(F.hasTimeAxis(e)){var s=W.getValueFormat(e,"group"),a=B.getXValue(e,i,n);o=W.formatDateValue(s,new Date(a)),null==o&&(o=e.xAxis.getInfo().formatLabel(a))}else o=B.getGroupLabel(e,n);var l=B.getNumLevels(e),u="GROUP";if(1!=l&&DvtArrayUtils.isArray(o))for(var h=l-1;h>=0;h--)t=W._addDatatipRow(t,e,"group",u,o[h],r,h),o[h]&&(u=null);else t=W._addDatatipRow(t,e,"group",u,o,r);return t},W._addValueDatatip=function(t,e,i,n,r){var o=B.getValue(e,i,n),s=B.getXValue(e,i,n),a=B.getZValue(e,i,n),l=B.getLowValue(e,i,n),u=B.getHighValue(e,i,n);if(K.isScatterBubble(e))t=W._addDatatipRow(t,e,"x","X",s,r),t=W._addDatatipRow(t,e,"y","Y",o,r),K.isBubble(e)&&(t=W._addDatatipRow(t,e,"z","Z",a,r));else if(K.isPie(e))t=W._addDatatipRow(t,e,"value","VALUE",o,r);else if(K.isFunnel(e)){t=W._addDatatipRow(t,e,"value","VALUE",o,r);var h=B.getTargetValue(e,i);null!=h&&(t=W._addDatatipRow(t,e,"targetValue","TARGET_VALUE",h,r))}else if(K.isBLAC(e)){var c=B.isAssignedToY2(e,i)?"y2":"y";null!=l||null!=u?(t=W._addDatatipRow(t,e,"high","HIGH",u,r),t=W._addDatatipRow(t,e,"low","LOW",l,r),null!=a&&(t=W._addDatatipRow(t,e,"z","Z",a,r))):null!=a?(t=W._addDatatipRow(t,e,c,"Y",o,r),t=W._addDatatipRow(t,e,"z","Z",a,r)):t=W._addDatatipRow(t,e,c,"VALUE",o,r)}return t},W._addDatatipRow=function(t,e,i,n,r,o,s){if(null==r||""===r)return t;var a=e.getOptions().styleDefaults,l=W.getValueFormat(e,i),u=l.tooltipDisplay;if(u&&"auto"!=u||("series"==i&&"none"==a.seriesTooltipType||"group"==i&&("none"==a.groupTooltipType||K.isPie(e)||K.isFunnel(e))||"series"!=i&&"group"!=i&&"label"!=i&&"none"==a.valueTooltipType)&&(u="off"),"off"==u)return t;var h;if("string"==typeof l.tooltipLabel?h=l.tooltipLabel:DvtArrayUtils.isArray(l.tooltipLabel)&&(h=l.tooltipLabel[s?s:0]),null==h&&(h=null==n?"":"GROUP"==n&&F.hasTimeAxis(e)?DvtBundle.getTranslation(e.getOptions(),"labelDate",DvtBundle.CHART_PREFIX,"LABEL_GROUP"):DvtBundle.getTranslatedString(DvtBundle.CHART_PREFIX,"LABEL_"+n,"")),"series"!=i&&"group"!=i&&(r=W.formatValue(e.getCtx(),l,r)),o){var c=DvtAgent.isRightToLeft(e.getCtx());return a.tooltipLabelStyle.setStyle(DvtCSSStyle.TEXT_ALIGN,c?"left":"right"),a.tooltipValueStyle.setStyle(DvtCSSStyle.TEXT_ALIGN,c?"right":"left"),t+"<tr>"+DvtHtmlTooltipManager.createStartTag("td",a.tooltipLabelStyle)+h+"</td>"+DvtHtmlTooltipManager.createStartTag("td",a.tooltipValueStyle)+r+"</td></tr>"}return t.length>0&&(t+="<br>"),t+DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,"COLON_SEP_LIST",[h,r])},W.getValueFormat=function(t,e){var i=t.getOptions().valueFormats;if(!i)return{};for(var n=0;n<i.length;n++)if(i[n].type==e)return i[n];return"group"==e&&F.hasTimeAxis(t)?W.getValueFormat(t,"x"):"y"!=e&&"y2"!=e&&"min"!=e&&"max"!=e||!K.isBLAC(t)?{}:W.getValueFormat(t,"value")},W.formatValue=function(t,e,i,n,r,o){var s,a="auto",l="on";e.scaling&&(a=e.scaling),e.autoPrecision&&(l=e.autoPrecision),e.converter&&(s=e.converter),n=null!=n?n:i,r=null!=r?r:i,o=null!=o?o:0;var u=new DvtLinearScaleAxisValueFormatter(t,n,r,o,a,l);return s&&(s.getAsString||s.format)?u.format(i,s):u.format(i)},W.formatDateValue=function(t,e){var i=t.converter;return i?i.getAsString?i.getAsString(e):i.format?i.format(e):null:null},W.isDataCursorEnabled=function(t){if(K.isPie(t)||K.isFunnel(t)||K.isPolar(t))return!1;var e=t.getOptions();return"on"==e.dataCursor?!0:"off"==e.dataCursor?!1:DvtAgent.isTouchDevice()&&K.isLineArea(t)},W.getDataCursorBehavior=function(t){var e=t.getOptions().dataCursorBehavior;return"snap"==e?C.BEHAVIOR_SNAP:"smooth"==e?C.BEHAVIOR_SMOOTH:K.isLineArea(t)?C.BEHAVIOR_SMOOTH:C.BEHAVIOR_SNAP};var K=new Object;DvtObj.createSubclass(K,DvtObj,"DvtChartTypeUtils"),K._SUPPORTED_TYPES=["bar","line","area","lineWithArea","combo","pie","bubble","scatter","funnel","stock"],K.isValidType=function(t){return DvtArrayUtils.getIndex(K._SUPPORTED_TYPES,t.getType())>=0},K.isSpark=function(t){return t.getOptions().__spark},K.isOverview=function(t){return t.getOptions()._isOverview},K.isCombo=function(t){return"combo"==t.getType()},K.isVertical=function(t){return!K.isHorizontal(t)&&!K.isPolar(t)},K.isHorizontal=function(t){return"horizontal"==t.getOptions().orientation&&!K.isPolar(t)&&!K.isStock(t)&&(K.isBLAC(t)||K.isFunnel(t))},K.isPolar=function(t){return"polar"==t.getOptions().coordinateSystem},K.isStacked=function(t){var e=t.getOptions();return"on"!=e.stack||F.isMixedFrequency(t)?!1:K.isBLAC(t)},K.isBar=function(t){return"bar"==t.getType()},K.isStock=function(t){return"stock"==t.getType()},K.isLine=function(t){return"line"==t.getType()},K.isLineWithArea=function(t){return"lineWithArea"==t.getType()},K.isArea=function(t){return"area"==t.getType()},K.isScatter=function(t){return"scatter"==t.getType()},K.isBubble=function(t){return"bubble"==t.getType()},K.isPie=function(t){return"pie"==t.getType()},K.isFunnel=function(t){return"funnel"==t.getType()},K.isDualY=function(t){return K.hasAxes(t)&&!K.isScatterBubble(t)&&!K.isPolar(t)},K.isSplitDualY=function(t){return K.isStock(t)&&B.hasVolumeSeries(t)&&!K.isOverview(t)?!0:"on"==t.getOptions().splitDualY&&K.hasY2Data(t)&&!K.hasY2DataOnly(t)},K.isBLAC=function(t){var e=t.getType();return"bar"==e||"line"==e||"area"==e||"lineWithArea"==e||"combo"==e||"stock"==e},K.isScatterBubble=function(t){var e=t.getType();return"scatter"==e||"bubble"==e},K.isLineArea=function(t){var e=t.getType();return"line"==e||"area"==e||"lineWithArea"==e},K.isScrollSupported=function(t){return!K.isPie(t)&&!K.isFunnel(t)&&!K.isPolar(t)},K.isOverviewSupported=function(t){return K.isBLAC(t)&&K.isVertical(t)},K.isHorizScrollbarSupported=function(t){var e=U.getZoomDirection(t);return K.isPolar(t)?!1:K.isBLAC(t)&&K.isVertical(t)||K.isScatterBubble(t)&&"y"!=e},K.isVertScrollbarSupported=function(t){var e=U.getZoomDirection(t);return K.isPolar(t)?!1:K.isBLAC(t)&&K.isHorizontal(t)||K.isScatterBubble(t)&&"x"!=e},K.hasAxes=function(t){return!("pie"==t.getType()||"funnel"==t.getType())},K.hasY2DataOnly=function(t){return K.isDualY(t)?B.getY2SeriesCount(t,null,!0)==B.getSeriesCount(t):!1},K.hasY2Data=function(t,e){return K.isDualY(t)?B.getY2SeriesCount(t,null,!0)>0:!1},K.hasY2BarData=function(t){return K.hasY2Data(t,"bar")},K.hasBarSeries=function(t){return K._hasSeriesType(t,"bar")},K.hasCandlestickSeries=function(t){return K._hasSeriesType(t,"candlestick")},K.hasLineSeries=function(t){return K._hasSeriesType(t,"line")},K.hasAreaSeries=function(t){return K._hasSeriesType(t,"area")},K.hasLineWithAreaSeries=function(t){return K._hasSeriesType(t,"lineWithArea")},K._hasSeriesType=function(t,e){if(K.isBLAC(t))for(var i=B.getSeriesCount(t),n=0;i>n;n++)if(V.isSeriesRendered(t,n)&&V.getSeriesType(t,n)==e)return!0;return!1},K.hasCenteredSeries=function(t){if(!K.isBLAC(t))return!1;for(var e=B.getSeriesCount(t),i=0;e>i;i++)if(V.isSeriesRendered(t,i)&&"bar"!=V.getSeriesType(t,i)){var n=V.getLineType(t,i);if("centeredSegmented"==n||"centeredStepped"==n)return!0}return!1},K.hasUncenteredSeries=function(t){if(!K.isBLAC(t))return!1;for(var e=B.getSeriesCount(t),i=0;e>i;i++)if(V.isSeriesRendered(t,i)&&"bar"!=V.getSeriesType(t,i)){var n=V.getLineType(t,i);if("segmented"==n||"stepped"==n)return!0}return!1},K.isStandalonePlotArea=function(t){var e=t.getOptions();return Y.areTitlesRendered(t)?!1:"off"!=e.legend.rendered?!1:F.isAxisRendered(t,"x")?!1:F.isAxisRendered(t,"y")?!1:!F.isAxisRendered(t,"y2")},K.isStandaloneXAxis=function(t){var e=t.getOptions();return Y.areTitlesRendered(t)?!1:"off"!=e.legend.rendered?!1:"off"!=e.plotArea.rendered?!1:F.isAxisRendered(t,"y")?!1:!F.isAxisRendered(t,"y2")},K.isStandaloneYAxis=function(t){var e=t.getOptions();return Y.areTitlesRendered(t)?!1:"off"!=e.legend.rendered?!1:F.isAxisRendered(t,"x")?!1:"off"!=e.plotArea.rendered?!1:!F.isAxisRendered(t,"y2")},K.isStandaloneY2Axis=function(t){var e=t.getOptions();return Y.areTitlesRendered(t)?!1:"off"!=e.legend.rendered?!1:F.isAxisRendered(t,"x")?!1:F.isAxisRendered(t,"y")?!1:"off"==e.plotArea.rendered};var z=new Object;DvtObj.createSubclass(z,DvtObj,"DvtChartMarkerUtils"),z._MIN_RADIUS=2.5,z._MAX_RADIUS_PERCENT=.125,z._DEFAULT_MARKER_SIZE_PERCENT=.2,z.calcBubbleSizes=function(t,e,i){var n,r,o=K.isPolar(t),s=B.getMinMaxValue(t,"z"),a=s.min,l=s.max,u=z._getAxisValueRange(t,"x"),h=z._getAxisValueRange(t,"y");o?(n=1/0,r=t.getRadius()):(n=e-2.4*F.getTickLabelHeight(t,"y"),r=i-1.6*F.getTickLabelHeight(t,"x"));var c=Math.PI*Math.pow(z._MIN_RADIUS,2),p=z._MAX_RADIUS_PERCENT*Math.min(e,i),d=Math.PI*Math.pow(p,2),g=z._adjustBubbleSizeRangeForCount(t,c,d,a,l);c=g.minArea,d=g.maxArea,g=z._adjustBubbleSizeRangeForDataRange(t,c,d,a,l),c=g.minArea,d=g.maxArea;var f=l-a,_=d-c,v=2*Math.sqrt(d/Math.PI);n-=.75*v,r-=.75*v;for(var m=B.getSeriesCount(t),y=0;m>y;y++)if(V.isSeriesRendered(t,y))for(var S=B.getSeriesItem(t,y),E=S.items?S.items.length:0,T=0;E>T;T++){var b=S.items[T];if(b&&b.z){if(f>0){var C=(b.z-a)/f,A=c+C*_;b.markerSize=2*Math.sqrt(A/Math.PI)}else b.markerSize=z._DEFAULT_MARKER_SIZE_PERCENT*Math.min(e,i);u>0?b._xAxisRadius=b.markerSize/n*.5*u:b._xAxisRadius=o?0:29,h>0?b._yAxisRadius=b.markerSize/r*.5*h:b._yAxisRadius=29}}},z._getAxisValueRange=function(t,e){var i=t.getOptions()[e+"Axis"],n=F.isLog(t,e),r=!n&&"zero"==F.getBaselineScaling(t,e),o=B.getMinMaxValue(t,e,!0),s=i.min;null==s&&(s=r?Math.min(0,o.min):o.min);var a=i.max;return null==a&&(a=r?Math.max(0,o.max):o.max),n&&a>0&&s>0?a==s?6:DvtMath.log10(a/s):a==s?60:a-s},z._adjustBubbleSizeRangeForCount=function(t,e,i,n,r){for(var o=0,s=0,a=B.getSeriesCount(t),l=0;a>l;l++)if(V.isSeriesRendered(t,l))for(var u=B.getSeriesItem(t,l),h=u.items.length,c=0;h>c;c++){var p=u.items[l];p&&p.z&&(o++,s+=p.z)}var d=(s/o-n)/(r-n),g=15,f=45,_=30,v=180,m=.15,y=g+Math.floor((1-d)*(f-g)),S=_+Math.floor((1-d)*(v-_)),E=(1-m)/(S-y);o>=S?i=e+m*(i-e):o>=y&&(i-=E*(o-y)*(i-e));var T=5,b=20,C=30,A=100,D=.005,I=T+Math.floor((1-d)*(b-T)),x=C+Math.floor((1-d)*(A-C)),O=D/(x-I);return I>o?e+=D*(i-e):x>o&&(e+=(D-O*(o-I))*(i-e)),{minArea:e,maxArea:i}},z._adjustBubbleSizeRangeForDataRange=function(t,e,i,n,r){var o=r-n;if(0!=o){var s=i/e,a=s;if(r>0&&n>0?a=r/n:0>n&&0>r&&(a=n/r),s>a){var l=a,u=i/l-e;u>0&&(e+=u)}}else e=i;return{minArea:e,maxArea:i}},z.sortMarkers=function(t){t.sort(z._compareSize)},z._compareSize=function(t,e){var i=t.getSize?t.getSize():t.size,n=e.getSize?e.getSize():e.size;return i>n?-1:n>i?1:0},z.checkPixelMap=function(t,e,i,n){var r=n/2,o=Math.max(Math.floor(e-r),0),s=Math.max(Math.floor(i-r),0),a=Math.max(Math.ceil(e+r),0),l=Math.max(Math.ceil(i+r),0);return t.isObscured(o,s,a,l)},z.updatePixelMap=function(t,e,i,n,r){var o=.4*n,s=Math.max(Math.round(e-o),0),a=Math.max(Math.round(e+o),0),l=Math.max(Math.round(i-o),0),u=Math.max(Math.round(i+o),0);t.obscure(s,l,a,u,r)};var X=new Object;DvtObj.createSubclass(X,DvtObj,"DvtPieChartUtils"),X.OTHER_SLICE_SERIES_ID="_dvtOther",X.getSliceId=function(t,e){var i=B.getDataItem(t,e,0),n=i?i.id:null,r=B.getSeries(t,e),o=B.getGroup(t,0);return new h(n,r,o)},X.getOtherSliceId=function(t){var e=B.getGroup(t,0);return new h(null,X.OTHER_SLICE_SERIES_ID,e)},X.getRenderedSeriesIndices=function(t){return X._getSeriesIndicesArrays(t).rendered},X.hasOtherSeries=function(t){return X._getSeriesIndicesArrays(t).other.length>0},X.getOtherValue=function(t){for(var e=X._getSeriesIndicesArrays(t).other,i=0,n=0;n<e.length;n++){var r=e[n];if(V.isSeriesRendered(t,r)){var o=B.getValue(t,r,0);o>0&&(i+=o)}}return i},X.getOtherSliceIds=function(t){for(var e=X._getSeriesIndicesArrays(t).other,i=[],n=0;n<e.length;n++){var r=e[n];i.push(X.getSliceId(t,r))}return i},X.isOtherSliceSelected=function(t,e){for(var i=X.getOtherSliceIds(t),n=0;n<i.length;n++){for(var r=i[n],o=!1,s=0;s<e.length;s++)if(e[s].id&&r.getId()===e[s].id||r.getSeries()===e[s].series&&r.getGroup()===e[s].group){o=!0;break}if(!o)return!1}return!0},X._getSeriesIndicesArrays=function(t){for(var e=[],i=[],n=B.getSeriesCount(t),r=t.getOptions(),o=r.otherThreshold*X.getTotalValue(t),s=0;n>s;s++){var a=B.getValue(t,s,0);o>0&&o>a?i.push(s):e.push(s)}return"ascending"==r.sorting?e.sort(function(e,i){return B.getValue(t,e,0)-B.getValue(t,i,0)}):"on"!=r.sorting&&"descending"!=r.sorting||e.sort(function(e,i){return B.getValue(t,i,0)-B.getValue(t,e,0)}),{rendered:e,other:i}},X.getTotalValue=function(t){for(var e=B.getSeriesCount(t),i=0,n=0;e>n;n++){var r=B.getValue(t,n,0);r>0&&(i+=r)}return i},X.getSliceExplode=function(t,e){var i=B.getSeriesItem(t,e);return i&&i.pieSliceExplode?i.pieSliceExplode:0},X.getOtherSliceShowPopupBehaviors=function(t){var e=X.getOtherSliceIds(t);if(e&&e.length>=1){var i=e[0],n=B.getSeriesIndex(t,i.getSeries()),r=B.getDataItem(t,n,0)._id;return t.getShowPopupBehaviors(r)}};var q=function(){};DvtObj.createSubclass(q,DvtObj,"DvtPieRenderUtils"),q.TWOD="2D",q.THREED="3D",q.CRUST="CRUST",q.SIDE="SIDE",q.BORDER="BORDER",q.SURFACE_CRUST=0,q.SURFACE_LEFT=1,q.SURFACE_RIGHT=2,q.SURFACE_TOP=3,q.reflectAngleOverYAxis=function(t,e,i,n,r){var o=DvtMath.degreesToRads(360-t),s=Math.cos(o),a=Math.sin(o);return{x:e+s*n,y:i+a*r}},q.getGradientColors=function(t,e,i){if(i&&i!=DvtCSSStyle.SKIN_SKYROS){if(e==q.TWOD||e==q.THREED)return[DvtColorUtils.adjustHSL(t,0,-.04,-.05),DvtColorUtils.adjustHSL(t,0,-.09,.04)];if(e==q.CRUST)return[DvtColorUtils.adjustHSL(t,0,-.04,-.05),DvtColorUtils.adjustHSL(t,0,0,-.14)];if(e==q.SIDE)return[DvtColorUtils.adjustHSL(t,0,-.1,.06),DvtColorUtils.adjustHSL(t,0,-.04,-.05)]}else{if(e==q.TWOD){var n=[];return n[0]=DvtColorUtils.getRGB(DvtColorUtils.getPastel(t,.1)),n[1]=n[0],n[2]=DvtColorUtils.getRGB(DvtColorUtils.getDarker(t,.9)),n}if(e==q.BORDER)return["#FFFFFF","#000000","#000000"];var r=DvtColorUtils.getRGB(DvtColorUtils.getDarker(t,.88)),o=DvtColorUtils.getRGB(DvtColorUtils.getPastel(t,.05)),s=DvtColorUtils.getRGB(DvtColorUtils.getPastel(t,.15)),a=DvtColorUtils.getRGB(DvtColorUtils.getPastel(t,.35));if(e==q.CRUST)return[r,s,a,r];if("SIDE"==e)return[r,a];if("3D"==e)return[a,s,r,o,a]}},q.getGradientAlphas=function(t,e){var i=null==t||isNaN(t)||0==t?1:t;return e==q.TWOD?[i,i,i]:e==q.BORDER?[i/1.59375,i/5.3125,i/(255/96)]:e==q.THREED?[i,i,i,i,i]:e==q.CRUST?[i,i,i,i]:e==q.SIDE?[i,i]:void 0},q.getGradientRatios=function(t,e){return e&&e!=DvtCSSStyle.SKIN_SKYROS?[0,1]:t==q.TWOD?[.2,.5,1]:t==q.BORDER?[0,.5,1]:t==q.THREED?[0,.29,.55,.84,1]:t==q.CRUST?[0,.43,.91,1]:t==q.SIDE?[0,1]:void 0},q.createTopSurface=function(t,e){var i=t.getPieChart(),n=i.getCtx(),r=t.getCenter(),o=t.getInnerRadius(),s=i.is3D()||t.getSliceGaps()>Math.sin(DvtMath.degreesToRads(t.getAngleExtent()))*t._radiusX+1?null:t.getSliceGaps(),a=new d(n,r.x,r.y,t._radiusX,t._radiusY,t.getAngleStart(),t.getAngleExtent(),s,o),l=V.getSelectedInnerColor(i.chart),u=V.getSelectedOuterColor(i.chart),h=new DvtSolidStroke(t.getStrokeColor(),null,t.getBorderWidth());a.setStyleProperties(e,h,t.getFillColor(),l,u);var c=[a];if(!t.getStrokeColor()&&i.getSkin()==DvtCSSStyle.SKIN_SKYROS&&i.is3D()&&t.getDepth()>0&&"gradient"==V.getSeriesEffect(i.chart)&&(t.getAngleStart()>=180||t.getAngleStart()+t.getAngleExtent()>=180||360==t.getAngleExtent())){var p=q._createGradientPieBorder(t,e);p.setTranslate(t.__getExplodeOffsetX(),t.__getExplodeOffsetY()),c.push(p)}return q.associate(t,c),c},q.associate=function(t,e){if(e)for(var i=0;i<e.length;i++)t.getPieChart().chart.getEventManager().associate(e[i],t)},q._createGradientPieBorder=function(t,e){var i=q.BORDER,n=q.getGradientColors(null,i),r=q.getGradientAlphas(null,i),o=q.getGradientRatios(i),s=e.getBounds(),a=120,l=new DvtLinearGradientStroke(a,n,r,o,s);l.setWidth(1);var u=t.getAngleStart(),h=t.getAngleExtent(),c=180>u?180-u:0,p=c>0?180:u,d=h-c;p+d>360&&(d=360-p);var g=t.getPieChart(),f=t.getCenter(),_=new DvtArc(g.getCtx(),f.x,f.y,g.getRadiusX(),g.getRadiusY(),p,d,DvtArc.OPEN);return _.setStroke(l),_},q.createLateralSurface=function(t,e,i){if(0==t.getAngleExtent())return[];var n=DvtColorUtils.getAlpha(t.getFillColor()),r=[];if(n>0)if(e==q.SURFACE_LEFT||e==q.SURFACE_RIGHT)r.push(q._generateLateralShape(t,e,null,i));else if(e==q.SURFACE_CRUST)for(var o=q._createCrustPathCommands(t),s=o.length,a=0;s>a;a++)r.push(q._generateLateralShape(t,e,o[a],i));return q.associate(t,r),r},q.generateLateralGradientFill=function(t,e){var i=t.getPieChart(),n=i.getSkin(),r=e==q.CRUST?t.getDepth():0,o=n==DvtCSSStyle.SKIN_SKYROS?0:270,s=q.getGradientColors(DvtColorUtils.getRGB(t.getFillColor()),e,n),a=q.getGradientAlphas(DvtColorUtils.getAlpha(t.getFillColor()),e),l=q.getGradientRatios(e,n),u=null;return n==DvtCSSStyle.SKIN_SKYROS&&(u=[Math.floor(t.getCenter().x-i.getRadiusX()),Math.floor(t.getCenter().y-i.getRadiusY())+r,Math.ceil(2*i.getRadiusX()),Math.ceil(2*i.getRadiusY())]),new DvtLinearGradientFill(o,s,a,l,u)},q._generateLateralShape=function(t,e,i,n){var r=t.getPieChart(),o=r.getCtx();if(e==q.SURFACE_LEFT||e==q.SURFACE_RIGHT){for(var s=t.getAngleStart(),a=t.getAngleExtent(),l=t.getCenter().x,u=t.getCenter().y,h=t._radiusX,c=t._radiusY,p=t.getDepth(),d=e==q.SURFACE_LEFT?q.reflectAngleOverYAxis(s+a,l,u,h,c):q.reflectAngleOverYAxis(s,l,u,h,c),g=q._generateInnerPoints(l,u,d.x,d.y,p),f=[],_=0;_<g.length;_++)f.push(g[_].x,g[_].y);var v=new DvtPolygon(o,f);return v.setFill(n),t.getStrokeColor()&&v.setSolidStroke(t.getStrokeColor()),v}if(i){var m=new DvtPath(o,null);return m.setCmds(i),m.setTranslate(t.__getExplodeOffsetX(),t.__getExplodeOffsetY()),m.setFill(n),t.getStrokeColor()&&m.setSolidStroke(t.getStrokeColor()),m}return null},q._createCrustPathCommands=function(t){var e=t.getAngleStart(),i=t.getAngleExtent(),n=e+i,r=t.getCenter().x,o=t.getCenter().y,s=t._radiusX,a=t._radiusY,l=t.getDepth(),u=[];return 180>e&&n>360?(u.push(q._makeOuterPath(r,o,s,a,l,e,180-e)),u.push(q._makeOuterPath(r,o,s,a,l,360,n-360)),u.push(q._makeOuterPath(r,o,s,a,l,180,180))):n>360?(u.push(q._makeOuterPath(r,o,s,a,l,e,360-e)),u.push(q._makeOuterPath(r,o,s,a,l,360,n-360))):180>e&&n>180?(u.push(q._makeOuterPath(r,o,s,a,l,e,180-e)),u.push(q._makeOuterPath(r,o,s,a,l,180,n-180))):u.push(q._makeOuterPath(r,o,s,a,l,e,i)),u},q._makeOuterPath=function(t,e,i,n,r,o,s){var a=DvtMath.degreesToRads(s),l=-(DvtMath.degreesToRads(o)+a),u=q.reflectAngleOverYAxis(o,t,e,i,n),h=t+Math.cos(l)*i,c=e+Math.sin(l)*n,p=DvtPathUtils.moveTo(u.x,u.y);return p+=DvtPathUtils.arcTo(i,n,a,0,h,c),p+=DvtPathUtils.lineTo(h,c+r),p+=DvtPathUtils.arcTo(i,n,a,1,u.x,u.y+r),p+=DvtPathUtils.lineTo(u.x,u.y)},q._generateInnerPoints=function(t,e,i,n,r){var o=[];return o.push({x:t,y:e}),o.push({x:i,y:n}),o.push({x:i,y:n+r}),o.push({x:t,y:e+r}),o};var Z=function(){this._init()};DvtObj.createSubclass(Z,DvtObj,"DvtPieLabelInfo"),Z.prototype._init=function(){this._sliceLabel=null,this._slice=null,this._angle=-1,this._position=-1,this._width=-1,this._height=-1,this._x=-1,this._y=-1,this._initialNumLines=-1,this._hasFeeler=!1,this._maxY=-1,this._minY=-1},Z.prototype.getAngle=function(){return this._angle},Z.prototype.setAngle=function(t){this._angle=t},Z.prototype.getHeight=function(){return this._height},Z.prototype.setHeight=function(t){this._height=t},Z.prototype.getInitialNumLines=function(){return this._initialNumLines},Z.prototype.setInitialNumLines=function(t){this._initialNumLines=t},Z.prototype.getMaxY=function(){return this._maxY},Z.prototype.setMaxY=function(t){this._maxY=t},Z.prototype.getMinY=function(){return this._minY},Z.prototype.setMinY=function(t){this._minY=t},Z.prototype.boundY=function(t){return this._minY<=this._maxY&&(t=Math.max(t,this._minY),t=Math.min(t,this._maxY)),t},Z.prototype.hasFeeler=function(){return this._hasFeeler},Z.prototype.setHasFeeler=function(t){this._hasFeeler=t},Z.prototype.getPosition=function(){return this._position},Z.prototype.setPosition=function(t){this._position=t},Z.prototype.getSlice=function(){return this._slice},Z.prototype.setSlice=function(t){this._slice=t},Z.prototype.getSliceLabel=function(){return this._sliceLabel},Z.prototype.setSliceLabel=function(t){this._sliceLabel=t},Z.prototype.getWidth=function(){return this._width},Z.prototype.setWidth=function(t){this._width=t},Z.prototype.getX=function(){return this._x},Z.prototype.setX=function(t){this._x=t},Z.prototype.getY=function(){return this._y},Z.prototype.setY=function(t){this._y=t};var $=function(){};DvtObj.createSubclass($,DvtObj,"DvtPieLabelUtils"),$._MAX_LINES_PER_LABEL=3,$._COLLISION_MARGIN=1,$._LEFT_SIDE_LABELS=1,$._RIGHT_SIDE_LABELS=2,$._OUTSIDE_LABEL_DISTANCE=1.04,$._FEELER_RAD_MINSIZE=.1,$._FEELER_HORIZ_MINSIZE=.1,
$._LABEL_TO_FEELER_OFFSET=.5,$._LABEL_TO_FEELER_DISTANCE=3,$._NO_COLLISION=0,$._HALF_COLLISION=1,$._ALL_COLLISION=2,$.layoutLabelsAndFeelers=function(t){var e=t.getLabelPosition();$._layoutInsideLabels(t,"auto"==e),$._layoutOutsideLabelsAndFeelers(t)},$._layoutInsideLabels=function(t,e){for(var i=t.__getSlices(),n=0;n<i.length;n++){var r=i[n],o=t.getSeriesLabelPosition(r.getSeriesIndex());if("none"!=o&&"outsideSlice"!=o){var s=r.getAngleStart()+r.getAngleExtent()/2,a=r.getInnerRadius(),l=r.getCenter(),u=0,h=0,c=$._createLabel(r,!0);if(1==i.length)u=l.x,h=l.y;else{var p=Math.max(.45,.65-.45*a/Math.max(r.getRadiusY(),.001)),d=q.reflectAngleOverYAxis(s,l.x,l.y,a+(r.getRadiusX()-a)*p,a+(r.getRadiusY()-a)*p);u=d.x,h=d.y}c.setX(u),c.setY(h),c.alignMiddle(),c.alignCenter();for(var g=DvtTextUtils.guessTextDimensions(c),f=u,_=u,v=h-g.h/2,m=h+g.h/2;r.contains(f,v)&&r.contains(f,m);)f--;for(;r.contains(_,v)&&r.contains(_,m);)_++;f=Math.ceil(f+3),_=Math.floor(_-3);var y=2*Math.min(u-f,_-u);if(y<g.w&&(c.setX((f+_)/2),y=_-f),e&&"center"!=o){var S=c.getDimensions().w;y>S?r.setSliceLabel(c):r.setSliceLabel(null)}else{var E=t.getCtx().getStage(),T=$._isTextLabel(t,r)?null:c.getTextString().length;DvtTextUtils.fitText(c,y,g.h,E,T)&&(E.removeChild(c),r.setSliceLabel(c))}null!=r.getSliceLabel()&&r.setNoOutsideFeeler()}}},$._layoutOutsideLabelsAndFeelers=function(t){var e=[],i=[],n=$._generateInitialLayout(t);e=n[0],i=n[1];var r=$._refineInitialLayout(t,e,$._LEFT_SIDE_LABELS),o=$._refineInitialLayout(t,i,$._RIGHT_SIDE_LABELS);r==$._HALF_COLLISION&&o!=$._NO_COLLISION&&$._columnLabels(t,e,!0,!0,!0),r!=$._NO_COLLISION&&o==$._HALF_COLLISION&&$._columnLabels(t,i,!1,!0,!0),$._setLabelsAndFeelers(t,e,$._LEFT_SIDE_LABELS),$._setLabelsAndFeelers(t,i,$._RIGHT_SIDE_LABELS)},$._createLabel=function(t,e){var i=t.getPieChart(),n=i.getCtx(),r=e?new DvtOutputText(n):new DvtMultilineText(n),o=i.getOptions().styleDefaults,s=[o.dataLabelStyle,new DvtCSSStyle(o.sliceLabelStyle)],a=B.getDataItem(i.chart,t.getSeriesIndex(),0);a&&s.push(new DvtCSSStyle(a.labelStyle));var l=DvtCSSStyle.mergeStyles(s),u=null!=l.getStyle("color");if(!e||u&&!DvtAgent.isHighContrast())u||l.setStyle("color",o._defaultSliceLabelColor);else{var h=DvtColorUtils.getContrastingTextColor(t.getFillColor());l.setStyle("color",h)}r.setCSSStyle(l);var c=$.generateSliceLabelString(t,o.sliceLabelType);return r.setTextString(c),t.setSliceLabelString(c),r},$.createPieCenterLabel=function(t){var e=t.getOptions(),i=e.pieCenterLabel,n=t.getLabelPosition();if(i){var r=i.style,o=t.getRadiusX(),s=t.getInnerRadius()>0?t.getInnerRadius():"outsideSlice"==n?.9*o:.5*o,a=t.getCenter(),l=new DvtMultilineText(t.getCtx()),u=new DvtRectangle(a.x,a.y,s*Math.sqrt(2),s*Math.sqrt(2));if(l.setCSSStyle(new DvtCSSStyle(r)),l.setTextString(i.text),DvtTextUtils.fitText(l,u.w,u.h,t)){var h=l.getDimensions();l.setY(u.y-h.h/2),l.setX(u.x),l.alignCenter(),l.isTruncated()&&t.chart.getEventManager().associate(l,new DvtSimpleObjPeer(l.getTextString())),t.addChild(l)}}},$.generateSliceLabelString=function(t,e){var i,n=$.getDefaultSliceLabelString(t,e),r=t.getPieChart().getOptions().dataLabel;if(r){var o=B.getDataContext(t._chart,t.getSeriesIndex(),0);o.label=n,i=r(o)}return i?i:n},$.getDefaultSliceLabelString=function(t,e){var i=t.getPieChart(),n=t.getCustomLabel(),r=W.getValueFormat(i.chart,"label");if(null!=n)return"number"==typeof n?W.formatValue(i.getCtx(),r,n):n;var o=t.getValue(),s=i.getTotalValue(),a=0==s?0:o/s,l=.01>a?3:.1>a?2:1>a?1:0;2*i.getRadiusX()<150&&(l=Math.max(l-1,0));var u=i.getCtx().getNumberConverter({style:"percent",maximumFractionDigits:l,minimumFractionDigits:l}),h="";u&&u.getAsString?h=u.getAsString(a):u&&u.format?h=u.format(a):(a*=100,h=W.formatValue(i.getCtx(),{},a,null,null,100==a?1:Math.pow(10,-1*l))+"%");var c=W.formatValue(i.getCtx(),r,o),p=t.getSeriesLabel();return"percent"==e?h:"number"==e?c:"text"==e?p:"textAndPercent"==e?p+", "+h:null},$._refineInitialLayout=function(t,e,i){if(e&&e.length>0){for(var n,r=t.__getFrame().y,o=!1,s=!1,a=!1,l=0,u=!1,h=u,c=!1,p=i==$._LEFT_SIDE_LABELS,d=0;d<e.length;d++)n=e[d],h=u,n.getPosition()>90&&(u=!0),l=n.getY()+n.getHeight(),c=r-n.getY()>$._COLLISION_MARGIN,c&&(u?u&&!h?s=!0:a=!0:o=!0),l>r&&(r=l);return o&&a||s?($._columnLabels(t,e,p,!0,!0),$._ALL_COLLISION):o?($._columnLabels(t,e,p,!0,!1),$._HALF_COLLISION):a?($._columnLabels(t,e,p,!1,!0),$._HALF_COLLISION):$._NO_COLLISION}},$._setLabelsAndFeelers=function(t,e,i){if(!(null==e||e.length<=0)){var n,r,o,s,a,l=i==$._LEFT_SIDE_LABELS,u=1/0;for(n=0;n<e.length;n++)s=e[n],r=s.getSlice(),s.hasFeeler()?(a=$._calculateFeeler(s,r,l),u=Math.min(u,a)):r.setNoOutsideFeeler();for(n=0;n<e.length;n++){s=e[n],r=s.getSlice(),o=s.getSliceLabel(),s.hasFeeler()&&(l?s.setX(s.getX()+u):s.setX(s.getX()-u),$._calculateFeeler(s,r,l),o.setMaxLines(1)),o.setY(s.getY()),o.setX(s.getX());var h=t.__getFrame();s.getY()<h.y||s.getY()+s.getHeight()>h.y+h.h?(r.setSliceLabel(null),r.setNoOutsideFeeler()):($._truncateSliceLabel(t,r,s,l),0==s.getWidth()||0==s.getHeight()?(r.setSliceLabel(null),r.setNoOutsideFeeler()):r.setSliceLabel(o))}}},$._calculateFeeler=function(t,e,i){var n,r=t.getX(),o=t.getY()+t.getHeight()*$._LABEL_TO_FEELER_OFFSET,s=$._FEELER_HORIZ_MINSIZE*e.getRadiusX();i?(r+=$._LABEL_TO_FEELER_DISTANCE,n=r+s):(r-=$._LABEL_TO_FEELER_DISTANCE,n=r-s);var a={x:0,y:0},l={x:n,y:o},u={x:r,y:o},h=t.getAngle(),c=$._adjustForDepth(h,e.getDepth());a=q.reflectAngleOverYAxis(h,e.getCenter().x,e.getCenter().y+c,e.getRadiusX(),e.getRadiusY());var p=DvtMath.degreesToRads(t.getPosition()),d=Math.abs(Math.atan2(l.x-a.x,a.y-l.y)),g=(a.y-l.y)*Math.tan(p);return(p>Math.PI/2&&d>Math.PI/2&&p>d||p<Math.PI/2&&d<Math.PI/2&&d>p)&&(i?l.x=a.x-g:l.x=a.x+g),e.setOutsideFeelerPoints(a,l,u),Math.abs(u.x-l.x)-s},$._adjustForDepth=function(t,e){var i=0,n=189,r=351;return t>n&&r>t&&(i=e),i},$._getMiddleLabel=function(t){for(var e=91,i=-1,n=0;n<t.length;n++){var r=t[n].getPosition();Math.abs(r-90)<e&&(e=Math.abs(r-90),i=n)}return i},$._setOptimalLabelPosition=function(t,e,i,n){e.setX(i);var r=t.getRadiusY()*(1+$._FEELER_RAD_MINSIZE),o=DvtMath.degreesToRads(e.getPosition()),s=r*Math.cos(o),a=$._adjustForDepth(e.getAngle(),t.getDepth()),l=t.getCenter().y-s-e.getHeight()*$._LABEL_TO_FEELER_OFFSET+a;e.setY(e.boundY(l))},$._getRadFeelerAngle=function(t,e,i){var n=t.getSlice(),r=n.getCenter(),o=t.getAngle(),s=$._adjustForDepth(o,n.getDepth()),a=q.reflectAngleOverYAxis(o,r.x,r.y+s,n.getRadiusX(),n.getRadiusY());return Math.atan2(Math.abs(e-a.x),a.y-i)},$._columnLabels=function(t,e,i,n,r){var o,s,a,l,u=t.__getFrame(),h=u.y,c=u.y+u.h,p=0,d=t.getCenter().x,g=t.getRadiusX()*(1+$._FEELER_RAD_MINSIZE+$._FEELER_HORIZ_MINSIZE);for(i?(d-=g,l=d+t.getRadiusX()*$._FEELER_HORIZ_MINSIZE):(d+=g,l=d-t.getRadiusX()*$._FEELER_HORIZ_MINSIZE),o=0;o<e.length;o++)s=e[o],p=DvtMath.degreesToRads(s.getPosition()),a=$._getRadFeelerAngle(s,l,h),a-p>.45*Math.PI?(e.splice(o,1),o--):(e[o].setMinY(h),h+=e[o].getHeight());for(o=e.length-1;o>=0;o--)s=e[o],p=DvtMath.degreesToRads(s.getPosition()),a=$._getRadFeelerAngle(s,l,c),p-a>.45*Math.PI?e.splice(o,1):(c-=e[o].getHeight(),e[o].setMaxY(c));var f=$._getMiddleLabel(e),_=e[f];$._setOptimalLabelPosition(t,_,d,i),_.setHasFeeler(!0),n&&!r&&_.getMinY()+_.getHeight()>t.getCenter().y&&(r=!0),r&&!n&&_.getMaxY()<t.getCenter().y&&(n=!0);var v,m,y=_.getY(),S=_.getY()+_.getHeight();if(n)for(o=f-1;o>=0;o--)s=e[o],m=s.getHeight(),$._setOptimalLabelPosition(t,s,d,i),s.setHasFeeler(!0),v=s.getY(),y>v+m?y=v:y-=m,s.setY(y);if(r)for(o=f+1;o<e.length;o++)s=e[o],m=s.getHeight(),$._setOptimalLabelPosition(t,s,d,i),s.setHasFeeler(!0),v=s.getY(),v>S?S=v+m:S+=m,s.setY(S-m)},$._truncateSliceLabel=function(t,e,i,n){var r,o=i.getSliceLabel(),s=o.getCSSStyle(),a=0,l=t.getNumChildren(),u=!1;t.contains(o)||(t.addChild(o),u=!0),o.setCSSStyle(s);var h=e.getSliceLabelString();o.setTextString(h),u&&t.removeChildAt(l);var c=t.__getFrame();return a=n?i.getX()-c.x:c.x+c.w-i.getX(),r=$._getTextDimension(t,e,o,a,i.getInitialNumLines()),i.setWidth(r.x),i.getHeight()!=r.y?(i.setHeight(r.y),!0):!1},$._generateInitialLayout=function(t){for(var e=new Array(2),i=[],n=[],r=t.__getSlices(),o=t.__getFrame(),s=0;s<r.length;s++){var a=r[s],l=t.getSeriesLabelPosition(a.getSeriesIndex());if(null==a.getSliceLabel()&&"none"!=l&&"center"!=l){var u=$._createLabel(a,!1),h=a.getAngleStart()+a.getAngleExtent()/2;h>360&&(h-=360),0>h&&(h+=360);var c,p=q.reflectAngleOverYAxis(h,t.getCenter().x,t.getCenter().y,t.getRadiusX()*$._OUTSIDE_LABEL_DISTANCE,t.getRadiusY()*$._OUTSIDE_LABEL_DISTANCE);c=h>=90&&270>h?p.x-o.x:o.x+o.w-p.x;var d=$._getTextDimension(t,a,u,c,$._MAX_LINES_PER_LABEL),g=15;180-g>h&&h>g?p.y-=1*d.y:g>h||h>360-g?(p.y-=.5*d.y,p.x+=.2*d.y):h>180-g&&180+g>h&&(p.y-=.5*d.y,p.x-=.2*d.y);var f=$._adjustForDepth(h,t.getDepth());if(p.y+=f,1==r.length&&(p.x-=d.x/2),!(p.y<o.y||p.y+d.y>o.y+o.h)){var _;h>=90&&270>h?(u.alignRight(),_=h-90,$._createLabelInfo(a,u,h,_,d,p,i)):(_=90>=h?Math.abs(90-h):180-(h-270),$._createLabelInfo(a,u,h,_,d,p,n))}}}return e[0]=i,e[1]=n,e},$._createLabelInfo=function(t,e,i,n,r,o,s){for(var a,l=-1,u=e,h=0;h<s.length;h++)if(a=s[h],a.getPosition()>n){l=h;break}-1==l&&(l=s.length),a=new Z,a.setPosition(n),a.setAngle(i),a.setSliceLabel(u),a.setSlice(t),a.setWidth(r.x),a.setHeight(r.y),a.setX(o.x),a.setY(o.y),s.splice(l,0,a)},$._getTextDimension=function(t,e,i,n,r){i.setMaxLines(r);var o=$._isTextLabel(t,e)?null:i.getTextString().length;if(DvtTextUtils.fitText(i,n,1/0,t,o)){t.addChild(i);var s=i.getDimensions();return t.removeChild(i),{x:s.w,y:s.h}}return{x:0,y:0}},$._isTextLabel=function(t,e){var i=e.getCustomLabel();return-1!=t.getOptions().styleDefaults.sliceLabelType.indexOf("text")||null!=i&&"number"!=typeof i};var J=new Object;DvtObj.createSubclass(J,DvtObj,"DvtChartRenderer"),J._BUTTON_SIZE=16,J._BUTTON_PADDING=5,J._BUTTON_CORNER_DIST=4,J._BUTTON_OPACITY=.8,J._MOUSE_WHEEL_ZOOM_RATE_SLOW=.05,J._MOUSE_WHEEL_ZOOM_RATE_FAST=.2,J.render=function(t,e,i){if(J._renderBackground(t,e,i),B.hasInvalidData(t))J.renderEmptyText(t,e,i);else{K.isOverview(t)||(t.getOptions()._maxOverflowCoord=i.x+i.w,t.getOptions()._minOverflowCoord=i.x),J._addOuterGaps(t,i);var n=i.clone();J._renderTitles(t,e,i),J._adjustAvailSpace(i),tt.render(t,e,i),J._adjustAvailSpace(i);var r=J._prerenderHorizScrollbar(t,e,i),o=J._prerenderVertScrollbar(t,e,i);J._adjustAvailSpace(i),t.__setAxisSpace(i.clone()),Q.render(t,e,i),J._adjustAvailSpace(i),J._positionLegend(t.legend,i),t.__setPlotAreaSpace(i.clone()),J._setEventHandlers(t),J._renderScrollbars(t,r,o),J._updateTitles(t,e,n,i),J._renderPlotArea(t,e,i),K.isPolar(t)&&e.addChild(t.yAxis),J._renderDragButtons(t,e)}},J._setEventHandlers=function(t){var e=t.getOptions(),i=t.getEventManager();if(K.hasAxes(t)&&!K.isOverview(t)){var n,r,o=new DvtRectangle(0,0,t.getWidth(),t.getHeight()),s=t.__getPlotAreaSpace(),a=t.__getAxisSpace(),l=new DvtRectangle(s.x,a.y,s.w,a.h),u=new DvtRectangle(a.x,s.y,a.w,s.h),h=new DvtSolidFill(e.styleDefaults.marqueeColor),c=new DvtSolidStroke(e.styleDefaults.marqueeBorderColor);if(U.isScrollable(t)){var p=U.isDelayedScroll(t)?J._MOUSE_WHEEL_ZOOM_RATE_FAST:J._MOUSE_WHEEL_ZOOM_RATE_SLOW;if(r=new DvtPanZoomHandler(t,s,o,p),r.setPanCursor(e._resources.panCursorUp,e._resources.panCursorDown),i.setPanZoomHandler(r),U.isZoomable(t)){var d=U.getZoomDirection(t);n=K.isHorizontal(t)||"y"==d?new DvtMarqueeHandler(t,s,o,h,c,!1,!0,null,u):K.isBLAC(t)||"x"==d?new DvtMarqueeHandler(t,s,o,h,c,!0,!1,l,null):new DvtMarqueeHandler(t,s,o,h,c,!0,!0,l,u),i.setMarqueeZoomHandler(n)}}"multiple"==e.selectionMode&&(n=new DvtMarqueeHandler(t,s,o,h,c,!0,!0,l,u),i.setMarqueeSelectHandler(n))}},J.rerenderAxisAndPlotArea=function(t,e){if(!B.hasInvalidData(t)){var i=t.__getAxisSpace().clone(),n=t.getSelectionHandler();if(n)var r=n.getSelectedIds();var o=t.__cacheChartFocus();t.__cleanUpAxisAndPlotArea(),Q.render(t,e,i),J._adjustAvailSpace(i),t.__setPlotAreaSpace(i.clone()),J._renderPlotArea(t,e,i),n&&n.processInitialSelections(r,t.getChartObjPeers()),t.getEventManager().autoToggleZoomButton(),J.positionDragButtons(t),t.highlight(V.getHighlightedCategories(t)),t.__restoreChartFocus(o)}},J._renderBackground=function(t,e,i){var n=new DvtRect(t.getCtx(),i.x,i.y,i.w,i.h);n.setInvisibleFill(),e.addChild(n)},J._addOuterGaps=function(t,e){var i=t.getOptions(),n=c.getGapWidth(t,i.layout.outerGapWidth),r=c.getGapHeight(t,i.layout.outerGapHeight);("none"==i.styleDefaults.padding||K.isStandalonePlotArea(t)||K.isStandaloneXAxis(t)||K.isStandaloneYAxis(t)||K.isStandaloneY2Axis(t))&&(n=Math.min(n,1),r=Math.min(r,1)),e.x+=n,e.w-=2*n,e.y+=r,e.h-=2*r},J._renderTitles=function(t,e,i){var n=t.getOptions();if(n.title.text){var r,o,s=Y.createText(t.getEventManager(),e,n.title.text,n.title.style,i.x,i.y,i.w,i.h),a=null!=n.title.hAlign?n.title.hAlign:n.title.halign,l="plotArea"==a.substring(0,8);if(s?(o=s.getDimensions(),r=o.h,s.setAriaProperty("hidden",null)):(r=0,o=new DvtRectangle(0,0,0,0)),n.subtitle.text){var u=new DvtOutputText(t.getCtx(),n.subtitle.text,i.x,i.y);if(u){u.setCSSStyle(n.subtitle.style),e.addChild(u);var h=u.measureDimensions(),p=c.getGapWidth(t,n.layout.titleSubtitleGapWidth),d=o.w+p+h.w;if(d>i.w||l)p=c.getGapHeight(t,n.layout.titleSubtitleGapHeight),u.setY(i.y+r+p),DvtTextUtils.fitText(u,i.w,i.h,e)&&(h=u.measureDimensions(),r+=h.h+p,DvtAgent.isRightToLeft(t.getCtx())&&(u&&u.setX(i.w-h.w),s&&s.setX(i.w-o.w)));else{var g=o.h-h.h;u.setY(g+i.y),s&&(DvtLayoutUtils.align(i,a,s,d),DvtAgent.isRightToLeft(t.getCtx())?(u.setX(s.getX()),s&&s.setX(s.getX()+h.w+p)):u.setX(s.getX()+d-h.w))}u.setAriaProperty("hidden",null),t.getEventManager().associate(u,new DvtSimpleObjPeer(u.getUntruncatedTextString()))}}else DvtLayoutUtils.align(i,a,s,o.w);l&&(t.putToCache("title",s),t.putToCache("subtitle",u));var f="on"==n.titleSeparator.rendered?n.layout.titleSeparatorGap:n.layout.titlePlotAreaGap;if(i.y+=r+c.getGapHeight(t,f),i.h-=r+c.getGapHeight(t,f),"on"==n.titleSeparator.rendered){var _=new DvtLine(t.getCtx(),i.x,i.y,i.x+i.w,i.y),v=new DvtLine(t.getCtx(),i.x,i.y+1,i.x+i.w,i.y+1);_.setSolidStroke(n.titleSeparator.upperColor),v.setSolidStroke(n.titleSeparator.lowerColor),e.addChild(_),e.addChild(v);var m=2+c.getGapHeight(t,n.layout.titlePlotAreaGap);i.y+=m,i.h-=m}}if(n.footnote.text){var y=Y.createText(t.getEventManager(),e,n.footnote.text,n.footnote.style,i.x,0,i.w,i.h),S=null!=n.footnote.hAlign?n.footnote.hAlign:n.footnote.halign,E="plotArea"==S.substring(0,8);if(y){var T=y.getDimensions();y.setY(i.y+i.h-T.h),i.h-=T.h+c.getGapHeight(t,n.layout.footnoteGap),DvtLayoutUtils.align(i,S,y,T.w),y.setAriaProperty("hidden",null)}E&&t.putToCache("footnote",y)}},J._updateTitles=function(t,e,i,n){var r=t.getOptions(),o=null!=r.title.hAlign?r.title.hAlign:r.title.halign,s=null!=r.footnote.hAlign?r.footnote.hAlign:r.footnote.halign,a=r.title.text&&"plotArea"==o.substring(0,8),l=r.footnote.text&&"plotArea"==s.substring(0,8);if(i.x=n.x,i.w=n.w,a){var u,h=t.getFromCache("title"),c=t.getFromCache("subtitle"),p=h.getDimensions();J._alignTextToPlotArea(e,i,o,h,p.w),c&&(u=c.getDimensions(),J._alignTextToPlotArea(e,i,o,c,u.w))}if(l){var d=t.getFromCache("footnote"),g=d.getDimensions();J._alignTextToPlotArea(e,i,s,d,g.w)}},J._alignTextToPlotArea=function(t,e,i,n,r){DvtTextUtils.fitText(n,e.w,e.h,t)&&("plotAreaStart"==i?DvtLayoutUtils.align(e,"start",n,r):"plotAreaCenter"==i?DvtLayoutUtils.align(e,"center",n,r):"plotAreaEnd"==i&&DvtLayoutUtils.align(e,"end",n,r))},J._renderPlotArea=function(t,e,i){if(K.hasAxes(t)){var n=new DvtContainer(t.getCtx());n.setTranslate(i.x,i.y),e.addChild(n),t.setPlotArea(n);var r=new DvtRectangle(0,0,i.w,i.h);et.render(t,n,r)}else if(K.isPie(t)){var o=new D(t,i);o.__getSlices().length>0?(e.addChild(o),t.setPlotArea(o),o.render()):J.renderEmptyText(t,e,i)}else K.isFunnel(t)&&it.render(t,e,i);i.w=0,i.h=0},J.renderEmptyText=function(t,e,i){var n=t.getOptions();if(B.hasInvalidTimeData(t)&&B.hasData(t))var r=DvtBundle.getTranslation(n,"labelInvalidData",DvtBundle.UTIL_PREFIX,"INVALID_DATA");else r=n.emptyText,r||(r=DvtBundle.getTranslation(n,"labelNoData",DvtBundle.UTIL_PREFIX,"NO_DATA"));DvtTextUtils.renderEmptyText(e,r,new DvtRectangle(i.x,i.y,i.w,i.h),t.getEventManager(),n._statusMessageStyle)},J._prerenderHorizScrollbar=function(t,e,i){var n=i.w,r=0;return U.isScrollable(t)&&K.isHorizScrollbarSupported(t)?V.isOverviewRendered(t)?(r=Math.min(V.getOverviewHeight(t),i.h),r>0&&(t.overview=new E(t),e.addChild(t.overview),DvtLayoutUtils.position(i,"bottom",t.overview,n,r,10))):(r=t.getOptions().styleDefaults._scrollbarHeight,t.xScrollbar=new DvtSimpleScrollbar(t.getCtx(),t.processEvent,t),e.addChild(t.xScrollbar),DvtLayoutUtils.position(i,"bottom",t.xScrollbar,n,r,8),t.overview=null):t.overview=null,new DvtDimension(n,r)},J._prerenderVertScrollbar=function(t,e,i){var n=0,r=i.h;if(U.isScrollable(t)&&K.isVertScrollbarSupported(t)){n=t.getOptions().styleDefaults._scrollbarHeight;var o=new DvtSimpleScrollbar(t.getCtx(),t.processEvent,t);e.addChild(o),DvtLayoutUtils.position(i,DvtAgent.isRightToLeft(t.getCtx())?"right":"left",o,n,r,8),K.isHorizontal(t)?t.xScrollbar=o:t.yScrollbar=o}return new DvtDimension(n,r)},J._renderScrollbars=function(t,e,i){var n=t.getOptions(),r={color:n.styleDefaults._scrollbarHandleColor,backgroundColor:n.styleDefaults._scrollbarTrackColor},o=t.__getPlotAreaSpace();if(t.xScrollbar&&(r.min=t.xAxis.getLinearGlobalMin(),r.max=t.xAxis.getLinearGlobalMax(),K.isHorizontal(t)?(r.isHorizontal=!1,r.isReversed=!1,t.xScrollbar.setTranslateY(o.y),t.xScrollbar.render(r,i.w,o.h)):(r.isHorizontal=!0,r.isReversed=DvtAgent.isRightToLeft(t.getCtx()),t.xScrollbar.setTranslateX(o.x),t.xScrollbar.render(r,o.w,e.h)),t.xScrollbar.setViewportRange(t.xAxis.getLinearViewportMin(),t.xAxis.getLinearViewportMax())),t.yScrollbar&&(r.min=t.yAxis.getLinearGlobalMin(),r.max=t.yAxis.getLinearGlobalMax(),r.isHorizontal=!1,r.isReversed=!0,t.yScrollbar.setTranslateY(o.y),t.yScrollbar.render(r,i.w,o.h),t.yScrollbar.setViewportRange(t.yAxis.getLinearViewportMin(),t.yAxis.getLinearViewportMax())),t.overview){var s={startTime:t.xAxis.getLinearGlobalMin(),endTime:t.xAxis.getLinearGlobalMax(),viewportStartTime:t.xAxis.getLinearViewportMin(),viewportEndTime:t.xAxis.getLinearViewportMax(),minimumWindowSize:t.xAxis.getInfo().getMinimumExtent(),chart:DvtJSONUtils.clone(n)};U.isZoomable(t)||(s.featuresOff="zoom"),s.chart._minOverflowCoord=n._minOverflowCoord-o.x,s.chart._maxOverflowCoord=n._maxOverflowCoord-o.x,t.overview.setTranslateX(o.x),t.overview.render(s,o.w,e.h),t.overview.setViewportRange(t.xAxis.getLinearViewportMin(),t.xAxis.getLinearViewportMax())}},J._positionLegend=function(t,e){if(t){var i=t.getDimensions(),n=t.getOptions().orientation;"vertical"==n&&i.h<=e.h?t.setTranslateY(Math.round(e.y+e.h/2-i.h/2)):"horizontal"==n&&i.w<=e.w&&t.setTranslateX(Math.round(e.x+e.w/2-i.w/2))}},J._renderDragButtons=function(t,e){var i=t.getOptions(),n=t.getEventManager(),r=i.dragMode;if("user"!=r)return void("pan"==r?n.setDragMode(s.DRAG_MODE_PAN):"zoom"==r?n.setDragMode(s.DRAG_MODE_ZOOM):"select"==r?n.setDragMode(s.DRAG_MODE_SELECT):n.setDragMode(s.DRAG_MODE_OFF));if(K.hasAxes(t)&&!K.isOverview(t)){var o=DvtAgent.isTouchDevice(),a=U.isScrollable(t);t.dragButtons=new DvtContainer(t.getCtx());var l,u,h=i._resources;"multiple"==i.selectionMode&&(o||a)&&(u=a&&(o||U.isZoomable(t))?"end":"solo",n.selectButton=J._createDragButton(t,t.dragButtons,h.selectUp,h.selectDown,n.onSelectButtonClick,n,u),l=DvtBundle.getTranslation(i,"tooltipSelect",DvtBundle.CHART_PREFIX,"MARQUEE_SELECT"),n.selectButton.setTooltip(l),n.associate(n.selectButton,n.selectButton)),a&&(u=null==n.selectButton?"solo":"start",o?(n.panButton=J._createDragButton(t,t.dragButtons,h.panUp,h.panDown,n.onPanButtonClick,n,u),l=DvtBundle.getTranslation(i,"tooltipPan",DvtBundle.CHART_PREFIX,"PAN"),n.panButton.setTooltip(l),n.associate(n.panButton,n.panButton)):U.isZoomable(t)&&K.isScatterBubble(t)&&(n.zoomButton=J._createDragButton(t,t.dragButtons,h.zoomUp,h.zoomDown,n.onZoomButtonClick,n,u),l=DvtBundle.getTranslation(i,"tooltipZoom",DvtBundle.CHART_PREFIX,"MARQUEE_ZOOM"),n.zoomButton.setTooltip(l),n.associate(n.zoomButton,n.zoomButton))),J.positionDragButtons(t),n.setDragMode(null),t.dragButtons.getNumChildren()>0&&(t.addChild(t.dragButtons),o?a&&(n.panButton.setToggled(!0),n.onPanButtonClick(null)):t.hideDragButtons(),t.dragButtons.setCursor("default"))}},J._positionDragButton=function(t,e,i){var n;DvtAgent.isRightToLeft(t.getCtx())?(n=i.x+J._BUTTON_PADDING,i.x+=J._BUTTON_SIZE+2*J._BUTTON_PADDING):n=i.x+i.w-J._BUTTON_SIZE-J._BUTTON_PADDING,i.w-=J._BUTTON_SIZE+2*J._BUTTON_PADDING,e.setTranslate(n,i.y+J._BUTTON_PADDING)},J.positionDragButtons=function(t){var e=t.__getPlotAreaSpace().clone();e.x+=J._BUTTON_CORNER_DIST,e.w-=2*J._BUTTON_CORNER_DIST,e.y+=J._BUTTON_CORNER_DIST;var i=t.getEventManager();i.selectButton&&J._positionDragButton(t,i.selectButton,e),i.panButton&&J._positionDragButton(t,i.panButton,e),i.zoomButton&&J._positionDragButton(t,i.zoomButton,e)},J._createDragButtonBackground=function(t,e){var i=2,n=2,r=DvtAgent.isRightToLeft(t);"start"==e?r?i=0:n=0:"end"==e&&(r?n=0:i=0);var o=i,s=n,a=-J._BUTTON_PADDING,l=J._BUTTON_SIZE+2*J._BUTTON_PADDING,u=DvtPathUtils.roundedRectangle(a,a,l,l,o,n,s,i),h=new DvtPath(t,u);return DvtAgent.getDevicePixelRatio()>1?(h.setSolidStroke("#D8DEE3",1,1),h.setPixelHinting(!0)):h.setSolidStroke("#B8BDC1",1,1),h},J._createDragButton=function(t,e,i,n,r,o,s){var a=t.getCtx(),l=J._createDragButtonBackground(a,s);l.setSolidFill("#FFFFFF",J._BUTTON_OPACITY),l.addChild(new DvtImage(a,i,0,0,J._BUTTON_SIZE,J._BUTTON_SIZE));var u=J._createDragButtonBackground(a,s);u.setSolidFill("#E2E3E4",J._BUTTON_OPACITY),u.addChild(new DvtImage(a,i,0,0,J._BUTTON_SIZE,J._BUTTON_SIZE));var h=J._createDragButtonBackground(a,s);h.setFill(new DvtLinearGradientFill(90,["#0527CE","#0586F0"],[J._BUTTON_OPACITY,J._BUTTON_OPACITY])),h.addChild(new DvtImage(a,n,0,0,J._BUTTON_SIZE,J._BUTTON_SIZE));var c=J._createDragButtonBackground(a,s);c.setSolidFill("#0586F0",J._BUTTON_OPACITY),c.addChild(new DvtImage(a,n,0,0,J._BUTTON_SIZE,J._BUTTON_SIZE));var p=new DvtButton(a,l,u,h,null,null,r,o);if(p.setOverDownState(c),p.setToggleEnabled(!0),e.addChild(p),p.addEvtListener(DvtMouseEvent.MOUSEDOWN,function(t){t.stopPropagation()}),DvtAgent.isTouchDevice()){var d,g=DvtAgent.isRightToLeft(a),f=2*J._BUTTON_PADDING;d="solo"==s?new DvtRect(a,-f,-f,J._BUTTON_SIZE+2*f,J._BUTTON_SIZE+2*f):"start"==s&&!g||"end"==s&&g?new DvtRect(a,-f,-f,J._BUTTON_SIZE+1.5*f,J._BUTTON_SIZE+2*f):new DvtRect(a,-.5*f,-f,J._BUTTON_SIZE+1.5*f,J._BUTTON_SIZE+2*f),d.setInvisibleFill(),p.addChild(d)}return p},J._adjustAvailSpace=function(t){t.x=Math.round(t.x),t.y=Math.round(t.y),t.w=Math.round(t.w),t.h=Math.round(t.h)},J.renderDataCursor=function(t){var e=null,i=t.getOptions(),n=t.getEventManager();if(W.isDataCursorEnabled(t)){e=new C(t.getCtx(),i.styleDefaults.dataCursor,K.isHorizontal(t)),e.setBehavior(W.getDataCursorBehavior(t)),t.addChild(e);var r=new p(t,e);n.setDataCursorHandler(r),t.positionDataCursor(i.dataCursorPosition)}else n.setDataCursorHandler(null);return e};var Q=new Object;DvtObj.createSubclass(Q,DvtObj,"DvtChartAxisRenderer"),Q.render=function(t,e,i){K.hasAxes(t)&&(F.applyInitialZooming(t,i),K.isBubble(t)&&z.calcBubbleSizes(t,i.w,i.h),K.isPolar(t)?Q._renderPolar(t,e,i):Q._renderCartesian(t,e,i))},Q._renderCartesian=function(t,e,i){var n=t.getOptions(),r=K.isHorizontal(t),o=K.isSplitDualY(t),s=i.clone(),a=F.getYAxisPosition(t),l=F.getY2AxisPosition(t);Q._addAxisGaps(t,i),o&&a==l&&(n.yAxis._skipHighestTick=r,n.y2Axis._skipHighestTick=!r);var u=Q._createYAxis(t,e,i,s),h=Q._createY2Axis(t,e,i,s),c=!o&&"on"==n.y2Axis.alignTickMarks&&null==n.y2Axis.step;c&&u&&h&&(Q._alignYAxes(u,h),r||(h.dim=Q._getPreferredSize(t,h.axis,t.y2Axis,h.options,"y2",i,s)));var p=F.getTickLabelGapSize(t,"y"),d=F.getTickLabelGapSize(t,"y2");if(o&&a==l){var g;r?(g=Math.max(u.dim.h+p,h.dim.h+d),u.dim.h=g-p,h.dim.h=g-d):(g=Math.max(u.dim.w+p,h.dim.w+d),u.dim.w=g-p,h.dim.w=g-d),Q._positionAxis(i.clone(),u,p),Q._positionAxis(i,h,d)}else Q._positionAxis(i,u,p),Q._positionAxis(i,h,d);var f=B.getGroupCount(t);if("pixel"==V.getBarSpacing(t)&&K.isBar(t)&&i.w>f){var _=Math.floor(i.w/f)*f;i.x+=(i.w-_)/2,i.w=_}var v=Q._createXAxis(t,e,i,s);v.axis.render(v.options,v.dim.w,v.dim.h),Q._positionAxis(i,v,F.getTickLabelGapSize(t,"x"));var m=V.getSplitterPosition(t),y=DvtAgent.isRightToLeft(t.getCtx()),S=Q._getSplitAvailSpace(i,m,r,r&&y),E=Q._getSplitAvailSpace(i,1-m,r,!r||!y);r?(u&&(u.axis.setTranslateX(i.x),o?u.axis.render(u.options,S.w,u.dim.h,S.x,0):u.axis.render(u.options,i.w,u.dim.h)),c&&u&&h&&Q._alignYAxes(u,h),h&&(h.axis.setTranslateX(i.x),o?h.axis.render(h.options,E.w,h.dim.h,E.x,0):h.axis.render(h.options,i.w,h.dim.h)),Q._setOverflow(i,u,v)):(u&&(o?u.axis.render(u.options,u.dim.w,S.h,0,S.y):u.axis.render(u.options,u.dim.w,i.h)),c&&u&&h&&Q._alignYAxes(u,h),h&&(o?h.axis.render(h.options,h.dim.w,E.h,0,E.y):h.axis.render(h.options,h.dim.w,i.h)),Q._setOverflow(i,v,u,h)),Q._storeAxes(t,v,u,h)},Q._renderPolar=function(t,e,i){var n=Q._createXAxis(t,e,i,i);n.axis.setTranslateX(i.x),n.axis.setTranslateY(i.y),n.axis.render(n.options,i.w,i.h);var r=Q._createYAxis(t,e,i,i);r.axis.setTranslateX(i.x),r.axis.setTranslateY(i.y),r.axis.render(r.options,i.w,i.h),Q._storeAxes(t,n,r)},Q._createXAxis=function(t,e,i,n){var r=t.getOptions(),o=F.getXAxisPosition(t),s=DvtJSONUtils.clone(r.xAxis);s.position=o,s.isStandalone=K.isStandaloneXAxis(t),s.groupSeparators=r.styleDefaults.groupSeparators,Q._addCommonAxisAttributes(s,"x",t),s.groups=r.groups,s._groupWidthRatios=F.getGroupWidthRatios(t),s.timeAxisType=F.getTimeAxisType(t),s._environment=r._environment,s._locale=r._locale,s.drilling=r.drilling;var a="top"==o||"bottom"==o,l=F.isGridShifted(t);if("tangential"==o&&F.hasGroupAxis(t))l?(s.startGroupOffset=.5,s.endGroupOffset=.5):s.endGroupOffset=1;else{var u=F.getAxisOffset(t);if(s.startGroupOffset=u,s.endGroupOffset=u,K.hasUncenteredSeries(t)&&(s.endGroupOffset+=1),!U.isScrollable(t)&&!K.isOverview(t)){var h=B.getGroupCount(t);F.isAxisRendered(t,"y")&&F.isTickLabelInside(t,"y")&&(s[(a?"start":"end")+"GroupOffset"]+=.04*h),F.isAxisRendered(t,"y2")&&F.isTickLabelInside(t,"y2")&&(s[(a?"end":"start")+"GroupOffset"]+=.04*h)}}s.leftBuffer=a?i.x-n.x:0,s.rightBuffer=a?n.w+n.x-(i.w+i.x):0,s._renderGridAtLabels=!l||F.hasTimeAxis(t);var c=new f(t.getCtx(),t.processEvent,t);e.addChild(c);var p=Q._getPreferredSize(t,c,t.xAxis,s,"x",i,n);return s._minOverflowCoord=r._minOverflowCoord-i.x,s._maxOverflowCoord=r._maxOverflowCoord-i.x,{axis:c,options:s,dim:p}},Q._createYAxis=function(t,e,i,n){var r=t.getOptions();if(K.hasY2DataOnly(t))return null;var o=DvtJSONUtils.clone(r.yAxis);o.position=F.getYAxisPosition(t),o.isStandalone=K.isStandaloneYAxis(t),Q._addCommonAxisAttributes(o,"y",t),Q._addCommonYAxisAttributes(o,t);var s=new f(t.getCtx(),t.processEvent,t);e.addChild(s);var a=Q._getPreferredSize(t,s,t.yAxis,o,"y",i,n);return Q._adjustYAxisForLabels(s,o,t,"y"),r.yAxis.min=o.min,r.yAxis.max=o.max,{axis:s,options:o,dim:a}},Q._createY2Axis=function(t,e,i,n){var r=t.getOptions();if(K.hasY2Data(t)){var o=DvtJSONUtils.clone(r.y2Axis);o.position=F.getY2AxisPosition(t),o.isStandalone=K.isStandaloneY2Axis(t),Q._addCommonAxisAttributes(o,"y2",t),Q._addCommonYAxisAttributes(o,t);var s=new f(t.getCtx(),t.processEvent,t);e.addChild(s);var a=Q._getPreferredSize(t,s,t.y2Axis,o,"y2",i,n);return Q._adjustYAxisForLabels(s,o,t,"y2"),r.y2Axis.min=o.min,r.y2Axis.max=o.max,{axis:s,options:o,dim:a}}},Q._addCommonAxisAttributes=function(t,e,i){var n=i.getOptions();if(t.skin=n.skin,t.tickLabel.position=F.isTickLabelInside(i,e)?"inside":"outside",t.baselineScaling=F.getBaselineScaling(i,e),(F.isTickLabelInside(i,e)||"tangential"==t.position)&&(t._skipHighestTick=!0),t.zoomAndScroll=K.isPolar(i)?"off":n.zoomAndScroll,t._isOverview=K.isOverview(i),"x"!=e||!F.hasGroupAxis(i)){var r=B.getMinMaxValue(i,e);t.dataMin=null!=t.dataMin?t.dataMin:r.min,t.dataMax=null!=t.dataMax?t.dataMax:r.max}K.isPolar(i)&&(t.polarGridShape=F.isGridPolygonal(i)?"polygon":"circle",t._radius=i.getRadius())},Q._addCommonYAxisAttributes=function(t,e){if(t.timeAxisType="disabled",U.isLiveScroll(e)&&K.isBLAC(e)&&!K.isPolar(e)&&(t._continuousExtent="on"),t.isStandalone)t.leftBuffer=0,t.rightBuffer=0;else if(K.isSplitDualY(e))t.leftBuffer=1/0,t.rightBuffer=1/0;else{var i=DvtAgent.isRightToLeft(e.getCtx());t.leftBuffer=i?0:DvtAxis.MINIMUM_AXIS_BUFFER,t.rightBuffer=i?DvtAxis.MINIMUM_AXIS_BUFFER:0}},Q._adjustYAxisForLabels=function(t,e,i,n){var r=i.getOptions(),o=r.styleDefaults.dataLabelPosition,s=V.isStackLabelRendered(i);if(K.hasBarSeries(i)&&("outsideBarEdge"==o||s)){var a=r.styleDefaults.dataLabelStyle,l=r.styleDefaults.stackLabelStyle,u=t.getInfo(),h=DvtTextUtils.getTextStringHeight(i.getCtx(),s?l:a),c=0;if("log"==e.scale){var p=t.getUnboundedValueAt(t.getUnboundedCoordAt(u.getDataMax())-h);c=p-u.getDataMax()}else{var d=1;K.isSplitDualY(i)&&(d="y"==n?V.getSplitterPosition(i):1-V.getSplitterPosition(i));var g=Math.abs(u.getEndCoord()-u.getStartCoord())*d;c=Math.abs(u.getViewportMax()-u.getViewportMin())/g*h}K.isHorizontal(i)&&(c*=4),u.getDataMin()-u.getGlobalMin()<c&&u.getDataMin()<0&&(e.dataMin-=c),u.getGlobalMax()-u.getDataMax()<c&&u.getDataMax()>0&&(e.dataMax+=c)}},Q._getPreferredSize=function(t,e,i,n,r,o,s){var a=n.isStandalone,l=n.position,u="top"==l||"bottom"==l;if("radial"==l||"tangential"==l)return new DvtDimension(0,0);if("off"==n.rendered)return u?new DvtDimension(o.w,0):new DvtDimension(0,o.h);var h=F.getTickLabelGapSize(t,r);if(a)return u?new DvtDimension(o.w,o.h-h):new DvtDimension(o.w-h,o.h);var c=n.size;if(null!=c)return u?new DvtDimension(o.w,V.getSizeInPixels(c,s.h)-h):new DvtDimension(V.getSizeInPixels(c,s.w)-h,o.h);if(t.getOptions()._duringAnimation){if(u){var p=DvtAgent.isRightToLeft(t.getCtx());return n._startOverflow=p?i.getRightOverflow():i.getLeftOverflow(),n._endOverflow=p?i.getLeftOverflow():i.getRightOverflow(),new DvtDimension(o.w,i.getHeight())}return new DvtDimension(i.getWidth(),o.h)}var d=n.maxSize;return u?e.getPreferredSize(n,o.w,V.getSizeInPixels(d,s.h)-h):e.getPreferredSize(n,V.getSizeInPixels(d,s.w)-h,o.h)},Q._addAxisGaps=function(t,e){var i=K.isHorizontal(t),n=F.getYAxisPosition(t),r=F.getY2AxisPosition(t),o=F.isAxisRendered(t,"x"),s=F.isAxisRendered(t,"y"),a=F.isAxisRendered(t,"y2"),l=t.getOptions().layout.verticalAxisGap;l*=i?F.getGapScalingFactor(t,"x"):Math.max(F.getGapScalingFactor(t,"y"),F.getGapScalingFactor(t,"y2")),l=Math.ceil(l),(!i||"top"==n&&s||"top"==r&&a)&&i||(e.y+=l,e.h-=l),(!i||"bottom"==n&&s||"bottom"==r&&a)&&(i||o)||(e.h-=l)},Q._positionAxis=function(t,e,i){e&&DvtLayoutUtils.position(t,e.options.position,e.axis,e.dim.w,e.dim.h,i)},Q._alignYAxes=function(t,e){var i=t.axis.getInfo();if(i){var n=i.getMajorTickCount(),r=i.getMinorTickCount(),o=e.options;o._majorTickCount=n,o._minorTickCount=r}},Q._getSplitAvailSpace=function(t,e,i,n){var r=t.clone();return i?(r.w=t.w*e,r.x=n?t.w*(1-e):0):(r.h=t.h*e,r.y=n?t.h*(1-e):0),r},Q._setOverflow=function(t,e,i,n){if(e){var r=e.axis.getLeftOverflow(),o=e.axis.getRightOverflow();t.x+=r,t.w-=r+o,i&&i.axis.setTranslateX(i.axis.getTranslateX()+("left"==i.options.position?r:-o)),n&&n.axis.setTranslateX(n.axis.getTranslateX()+("left"==n.options.position?r:-o))}},Q._storeAxes=function(t,e,i,n){t.xAxis&&(t.xAxis.destroy(),t.removeChild(t.xAxis)),t.yAxis&&(t.yAxis.destroy(),t.removeChild(t.yAxis)),t.y2Axis&&(t.y2Axis.destroy(),t.removeChild(t.y2Axis)),t.xAxis=e.axis,t.yAxis=i?i.axis:null,t.y2Axis=n?n.axis:null};var tt=new Object;DvtObj.createSubclass(tt,DvtObj,"DvtChartLegendRenderer"),tt.render=function(t,e,i){var n=t.getOptions(),r=n.legend.position;if("on"==n.legend.rendered){var o=DvtJSONUtils.clone(n.legend);delete o.position,o.skin=n.skin,o.hideAndShowBehavior=U.getHideAndShowBehavior(t),o.hoverBehavior=U.getHoverBehavior(t),o.hoverBehaviorDelay=V.getHoverBehaviorDelay(t),o.hiddenCategories=V.getHiddenCategories(t),o.highlightedCategories=V.getHighlightedCategories(t),
"auto"==r&&(r=i.w>=i.h?"end":"bottom");var s="top"==r||"bottom"==r;if(o.orientation=s?"horizontal":"vertical","start"==r&&(o.halign="end"),"start"!=r&&"end"!=r||(o.valign="middle"),"top"==r&&(o.valign="bottom"),"top"!=r&&"bottom"!=r||(o.halign="center"),tt._addLegendData(t,o),0!=o.sections.length){var a=DvtLegend.newInstance(t.getCtx(),t.processEvent,t);null!=t.getId()&&a.setId(t.getId()+"legend"),e.addChild(a);var l;if(null!=o.size)l=s?new DvtDimension(i.w,V.getSizeInPixels(o.size,i.h)):new DvtDimension(V.getSizeInPixels(o.size,i.w),i.h);else{var u=s?i.w:V.getSizeInPixels(o.maxSize,i.w),h=s?V.getSizeInPixels(o.maxSize,i.h):i.h;l=a.getPreferredSize(o,u,h)}a.render(o,l.w,l.h);var p=s?c.getGapHeight(t,n.layout.legendGapHeight):c.getGapWidth(t,n.layout.legendGapWidth);DvtLayoutUtils.position(i,r,a,l.w,l.h,p);var d=a.__getBounds(),g=a.localToStage(new DvtPoint(d.x,d.y));if(d.x=g.x,d.y=g.y,!K.isOverview(t)){var f=DvtAgent.isRightToLeft(t.getCtx());"end"==r?f?n._minOverflowCoord=g.x+d.w+p/2:n._maxOverflowCoord=g.x-p/2:"start"==r&&(f?n._maxOverflowCoord=g.x-p/2:n._minOverflowCoord=g.x+d.w+p/2)}t.legend&&(t.legend.destroy(),e.removeChild(t.legend)),t.legend=a}}},tt._addLegendData=function(t,e){var i=tt._getSeriesItems(t,"vertical"==e.orientation);if(i.length>0){var n=e.seriesSection;n.items=i,e.sections.unshift(n)}var r=tt._getRefObjItems(t);if(r.length>0){var o=e.referenceObjectSection;o.items=r,e.referenceObjectTitle&&(o.title=e.referenceObjectTitle),e.sections.push(o)}},tt._getSeriesItems=function(t,e){var i,n,r=[];if("pie"==t.getType()){for(var o=X.getRenderedSeriesIndices(t),s=0;s<o.length;s++)n=o[s],i=tt._createLegendItem(t,n),i&&r.push(i);X.hasOtherSeries(t)&&(i={id:X.OTHER_SLICE_SERIES_ID,text:DvtBundle.getTranslation(t.getOptions(),"labelOther",DvtBundle.CHART_PREFIX,"LABEL_OTHER"),categoryVisibility:DvtArrayUtils.getIndex(V.getHiddenCategories(t),X.OTHER_SLICE_SERIES_ID)>=0?"hidden":"visible",symbolType:"marker",color:t.getOptions().styleDefaults.otherColor,borderColor:t.getOptions().styleDefaults.borderColor},r.push(i))}else{var a={},l={},u=B.getSeriesCount(t);for(n=0;u>n;n++)if(i=tt._createLegendItem(t,n)){var h=B.getStackCategory(t,n);B.isAssignedToY2(t,n)?l[h]?l[h].push(i):l[h]=[i]:a[h]?a[h].push(i):a[h]=[i]}var c=B.getStackCategories(t,null,!0),p=K.isStacked(t)&&K.isVertical(t)&&e;r=tt._getSeriesItemsForAxis(a,c.y,p,r),r=tt._getSeriesItemsForAxis(l,c.y2,p,r)}return r},tt._getSeriesItemsForAxis=function(t,e,i,n){for(var r,o=0;o<e.length;o++)r=t[e[o]],r&&(n=i?n.concat(r.reverse()):n.concat(r));return n},tt._createLegendItem=function(t,e){var i=B.getSeriesItem(t,e),n=t.getType(),r=V.getSeriesType(t,e),o=V.getLineType(t,e),s=i.displayInLegend;if(!i||"off"==s)return null;if("on"!=s&&(K.isFunnel(t)||K.isStock(t)))return null;if("on"!=s&&!B.hasSeriesData(t,e))return null;var a=B.getSeriesLabel(t,e);if("on"!=s&&(!a||DvtStringUtils.trim(a).length<=0))return null;var l={id:B.getSeries(t,e),text:a,categories:B.getSeriesCategories(t,e),categoryVisibility:V.isSeriesRendered(t,e)?"visible":"hidden"};return"line"==r||"lineWithArea"==r||"scatter"==n||"bubble"==n?(l.lineStyle=V.getLineStyle(t,e),l.lineWidth=V.getLineWidth(t,e),V.isMarkerDisplayed(t,e)?(l.symbolType="none"==o?"marker":"lineWithMarker",l.markerShape=V.getMarkerShape(t,e),l.markerColor=V.getMarkerColor(t,e)):l.symbolType="line"):(l.symbolType="marker","none"==V.getLineType(t,e)&&(l.markerShape=V.getMarkerShape(t,e))),l.color=V.getColor(t,e),l.borderColor=V.getBorderColor(t,e),l.pattern=V.getPattern(t,e),l.action=i.action,l._spb=t.getShowPopupBehaviors(i._id),l.drilling=U.isSeriesDrillable(t,e)?"on":"off",l.shortDesc=i.shortDesc,l},tt._getRefObjItems=function(t){var e=G.getRefObjs(t);if(e.length<=0)return[];for(var i=[],n=0;n<e.length;n++){var r=e[n];if(r&&"on"==r.displayInLegend&&r.text){var o=G.getType(r);i.push({symbolType:"area"==o?"square":"line",text:r.text,color:G.getColor(r),lineStyle:r.lineStyle,lineWidth:G.getLineWidth(r),categories:G.getRefObjCategories(r),categoryVisibility:G.isObjectRendered(t,r)?"visible":"hidden",shortDesc:r.shortDesc})}}return i};var et=new Object;DvtObj.createSubclass(et,DvtObj,"DvtPlotAreaRenderer"),et._MIN_TOUCH_MARKER_SIZE=16,et._MARKER_DATA_LABEL_GAP=4,et._MIN_CHARS_DATA_LABEL=3,et._FILTER_THRESHOLD_SCATTER_BUBBLE=1e4,et.render=function(t,e,i){"off"==t.getOptions().plotArea.rendered?et._renderAxisLines(t,e,i):i.w>0&&i.h>0&&(t._currentMarkers=new Array,t._currentAreas=new Array,et._renderBackgroundObjects(t,e,i),et._renderTicks(t,e,i),et._renderForegroundObjects(t,e,i))},et._renderBackgroundObjects=function(t,e,i){var n=t.getOptions(),r=et._getBackgroundShape(t,i),o=V.getBackgroundColor(t);if(o?r.setSolidFill(o):r.setInvisibleFill(),e.addChild(r),n.xAxis.referenceObjects||n.yAxis.referenceObjects||n.y2Axis.referenceObjects){var s=et.createClippedGroup(t,e,i);nt.renderBackgroundObjects(t,s,i)}if(K.isBLAC(t)){var a=new DvtContainer(t.getCtx());e.addChild(a),t.__setAreaContainer(a),K.hasAreaSeries(t)&&et._renderAreas(t,a,i,!1)}},et._getBackgroundShape=function(t,e){var i,n=t.getCtx();if(K.isPolar(t)){var r=e.x+e.w/2,o=e.y+e.h/2;if(F.isGridPolygonal(t)){var s=DvtPolygonUtils.getRegularPolygonPoints(r,o,B.getGroupCount(t),t.getRadius(),0);i=new DvtPolygon(n,s)}else i=new DvtCircle(n,r,o,t.getRadius())}else i=new DvtRect(n,e.x,e.y,e.w,e.h);return i},et._renderTicks=function(t,e,i){t.xAxis&&F.isMinorTickRendered(t,"x")&&et._renderMinorTicks(t,e,t.xAxis,i),t.yAxis&&F.isMinorTickRendered(t,"y")&&et._renderMinorTicks(t,e,t.yAxis,i),t.y2Axis&&F.isMinorTickRendered(t,"y2")&&et._renderMinorTicks(t,e,t.y2Axis,i),t.xAxis&&F.isMajorTickRendered(t,"x")&&et._renderMajorTicks(t,e,t.xAxis,i),t.yAxis&&F.isMajorTickRendered(t,"y")&&et._renderMajorTicks(t,e,t.yAxis,i),t.y2Axis&&F.isMajorTickRendered(t,"y2")&&et._renderMajorTicks(t,e,t.y2Axis,i)},et._renderAxisLines=function(t,e,i){t.xAxis&&t.yAxis&&F.isAxisLineRendered(t,"x")&&et._renderAxisLine(t,e,t.xAxis,t.yAxis,i),t.xAxis&&t.y2Axis&&F.isAxisLineRendered(t,"x")&&(t.yAxis&&!K.isSplitDualY(t)||et._renderAxisLine(t,e,t.xAxis,t.y2Axis,i)),t.yAxis&&t.xAxis&&F.isAxisLineRendered(t,"y")&&et._renderAxisLine(t,e,t.yAxis,t.xAxis,i),t.y2Axis&&t.xAxis&&F.isAxisLineRendered(t,"y2")&&et._renderAxisLine(t,e,t.y2Axis,t.xAxis,i)},et._renderMajorTicks=function(t,e,i,n){et._renderGridlines(t,e,i.getOptions().majorTick,i.getPosition(),i.getMajorTickCoords(),i.getBaselineCoord(),n)},et._renderMinorTicks=function(t,e,i,n){et._renderGridlines(t,e,i.getOptions().minorTick,i.getPosition(),i.getMinorTickCoords(),null,n)},et._renderAxisLine=function(t,e,i,n,r){var o=i.getOptions(),s=o.position,a="bottom"==s||"right"==s||"tangential"==s?n.getMaxCoord():n.getMinCoord();et._renderGridlines(t,e,o.axisLine,n.getPosition(),[a],null,r)},et._renderGridlines=function(t,e,i,n,r,o,s){var a=i.lineColor,l=new DvtSolidStroke(a,1,i.lineWidth);i.lineStyle&&l.setStyle(DvtStroke.convertTypeString(i.lineStyle));var u=l.clone();if("inherit"!=i.baselineColor){var h;h="auto"==i.baselineColor?DvtColorUtils.getDarker(a,.4):i.baselineColor,u.setColor(h)}u.setWidth(null!=i.baselineWidth?i.baselineWidth:i.lineWidth),u.setStyle(DvtStroke.convertTypeString(i.baselineStyle?i.baselineStyle:i.lineStyle));for(var c=0;c<r.length;c++){var p=null!=o&&r[c]==o?u:l;et._renderGridline(t,e,n,r[c],p,s)}},et._renderGridline=function(t,e,i,n,r,o){var s,a=e.getCtx(),l=!DvtAgent.isTouchDevice()||DvtAgent.getDevicePixelRatio()>1;if("radial"==i){if(F.isGridPolygonal(t)){var u=DvtPolygonUtils.getRegularPolygonPoints(0,0,B.getGroupCount(t),n,0);s=new DvtPolygon(a,u)}else s=new DvtCircle(a,0,0,n);s.setInvisibleFill(),s.setTranslate(o.x+o.w/2,o.y+o.h/2)}else"tangential"==i?(s=new DvtLine(a,0,0,t.getRadius()*Math.sin(n),-t.getRadius()*Math.cos(n)),n%Math.PI/2<.01&&l&&s.setPixelHinting(!0),s.setTranslate(o.x+o.w/2,o.y+o.h/2)):(s="top"==i||"bottom"==i?new DvtLine(a,n,o.y,n,o.y+o.h):new DvtLine(a,o.x,n,o.x+o.w,n),l&&s.setPixelHinting(!0));s.setStroke(r),s.setMouseEnabled(!1),e.addChild(s)},et._renderForegroundObjects=function(t,e,i){var n=t.getOptions(),r=K.isBLAC(t),o=K.hasBarSeries(t),s=K.hasLineSeries(t),a=K.hasCandlestickSeries(t),l=K.hasLineWithAreaSeries(t),u=et.createClippedGroup(t,e,i);et._renderAxisLines(t,e,i);var h=n.plotArea.borderColor,c=n.plotArea.borderWidth;if(h&&0!=c){var p=et._getBackgroundShape(t,i);p.setInvisibleFill(),p.setSolidStroke(h,null,c),p.setMouseEnabled(!1),e.addChild(p)}r?(l&&et._renderAreas(t,e,i,!0),o&&et._renderBars(t,u,i),s&&et._renderLines(t,e,u,i),a&&et._renderStock(t,u,i)):K.isScatterBubble(t)&&et._renderScatterBubble(t,e,u,!0,i),(n.xAxis.referenceObjects||n.yAxis.referenceObjects||n.y2Axis.referenceObjects)&&(u=et.createClippedGroup(t,e,i),nt.renderForegroundObjects(t,u,i));var d=B.getInitialSelection(t);U.setInitialSelection(t,d),t.highlight(V.getHighlightedCategories(t))},et._renderDataLabel=function(t,e,i,n,r,o,s,a){if(!K.isOverview(t)){var l=B.getDataLabel(t,n,r,s,a);if(null!=l){var u=V.getDataLabelPosition(t,n,r,s,a);if("none"!=u){var h=new DvtOutputText(t.getCtx(),l,0,0);h.setMouseEnabled(!1);var c=a?t.getOptions().styleDefaults.stackLabelStyle:V.getDataLabelStyle(t,n,r,o,u,s);h.setCSSStyle(c),h.setY(i.y+i.h/2),h.setX(i.x+i.w/2),h.alignCenter(),h.alignMiddle();var p=h.measureDimensions();if("left"==u)h.setX(i.x-p.w/2-et._MARKER_DATA_LABEL_GAP);else if("right"==u)h.setX(i.x+i.w+p.w/2+et._MARKER_DATA_LABEL_GAP);else if("top"==u)h.setY(i.y-p.h/2);else if("bottom"==u)h.setY(i.y+i.h+p.h/2+et._MARKER_DATA_LABEL_GAP/2);else{if("bar"==V.getSeriesType(t,n)){if(p.w>i.w||p.h>i.h)return;"inLeft"==u?h.setX(i.x+p.w/2+et._MARKER_DATA_LABEL_GAP):"inRight"==u?h.setX(i.x+i.w-p.w/2-et._MARKER_DATA_LABEL_GAP):"inTop"==u?h.setY(i.y+p.h/2+et._MARKER_DATA_LABEL_GAP):"inBottom"==u&&h.setY(i.y+i.h-p.h/2-et._MARKER_DATA_LABEL_GAP/2)}else if(K.isBubble(t)){i.x+=et._MARKER_DATA_LABEL_GAP,i.y+=et._MARKER_DATA_LABEL_GAP,i.h-=2*et._MARKER_DATA_LABEL_GAP,i.w-=2*et._MARKER_DATA_LABEL_GAP;var d=h.getOptimalFontSize(i);if(h.setFontSize(d),!DvtTextUtils.fitText(h,i.w,i.h,e,et._MIN_CHARS_DATA_LABEL))return}var g=null!=V.getPattern(t,n,r);if(g){p=h.getDimensions();var f=.15*p.h,_=DvtPathUtils.roundedRectangle(p.x-f,p.y,p.w+2*f,p.h,2,2,2,2),v=new DvtPath(t.getCtx(),_);v.setSolidFill("#FFFFFF",.9),e.addChild(v)}}V.optimizeMarkerStroke(t)&&h.setSolidStroke("none"),e.addChild(h),t.addDataLabel(h)}}}},et._renderDataLabelForMarker=function(t,e,i){var n=t.getEventManager().getLogicalObject(i),r=n.getSeriesIndex(),o=n.getGroupIndex();if(i instanceof DvtSimpleMarker){var s=new DvtRectangle(i.getCx()-i.getWidth()/2,i.getCy()-i.getHeight()/2,i.getWidth(),i.getHeight());et._renderDataLabel(t,e,s,r,o,i.getDataColor())}else i instanceof b&&(et._renderDataLabel(t,e,i.getBoundingBox1(),r,o,i.getDataColor(),"low"),et._renderDataLabel(t,e,i.getBoundingBox2(),r,o,i.getDataColor(),"high"))},et._renderScatterBubble=function(t,e,i,n,r){et._filterScatterBubble(t,n,r);for(var o=V.getMarkerBorderColor(t),s=V.getBorderWidth(t),a=new DvtSolidStroke(o,null,s),l=[],u=B.getSeriesCount(t),h=0;u>h;h++){"none"!=V.getLineType(t,h)&&et._renderLinesForSeries(t,i,h,r);var c=et._getMarkersForSeries(t,h,r,a);l=l.concat(c)}n&&z.sortMarkers(l),K.isBubble(t)?et._addMarkersToContainer(t,i,l,a):et._addMarkersToContainer(t,e,l,a)},et._renderMarkersForSeries=function(t,e,i,n){var r,o=V.getMarkerBorderColor(t,i),s=V.getBorderWidth(t,i),a=new DvtSolidStroke(o,null,s);r=V.isRangeSeries(t,i)?et._getRangeMarkersForSeries(t,i,n):et._getMarkersForSeries(t,i,n,a),et._addMarkersToContainer(t,e,r,a)},et._addMarkersToContainer=function(t,e,i,n){var r=e,o=V.optimizeMarkerStroke(t);o&&(r=new DvtContainer(t.getCtx()),r.setStroke(n),e.addChild(r));for(var s=0;s<i.length;s++)r.addChild(i[s]),et._renderDataLabelForMarker(t,r,i[s]);t._currentMarkers.push(i)},et._getMarkerInfo=function(t,e,i,n){var r=t.getOptions(),o=B.getValue(t,e,i);if(null==o||isNaN(o))return null;if(et._isDataItemFiltered(t,e,i))return null;var s=B.getGroupCount(t),a=V.isMarkerDisplayed(t,e,i);if(!a)if("jet"!=r._environment&&F.isMixedFrequency(t))2>s&&(a=!0);else{var l=s-1,u=K.isPolar(t),h=u&&l>0&&0==i?l:i-1,c=u&&l>0&&i==l?0:i+1,p=B.getValue(t,e,h),d=B.getValue(t,e,c);null!=p&&!isNaN(p)||null!=d&&!isNaN(d)||(a=!0)}if(!a){if(K.isSpark(t))return null;if((r._duringAnimation||K.isOverview(t))&&!B.isDataSelected(t,e,i))return null}if(!B.isMarkerInViewport(t,e,i,n))return null;var g=B.getMarkerPosition(t,e,i,n);if(!g)return null;var f=V.getMarkerShape(t,e,i),_=V.getMarkerSize(t,e,i);return{seriesIndex:e,groupIndex:i,x:g.x,y:g.y,shape:f,size:_,markerDisplayed:a}},et._getMarkersForSeries=function(t,e,i,n){if(!V.isSeriesRendered(t,e))return[];for(var r=DvtAgent.isTouchDevice(),o=t.getCtx(),s=V.optimizeMarkerStroke(t),a=s?n.getColor():null,u=s?n.getWidth():null,h=[],c=B.getGroupCount(t),p=0;c>p;p++){var d=et._getMarkerInfo(t,e,p,i);if(d){var g=null,f=V.getMarkerColor(t,e,p);if(d.markerDisplayed){g=new DvtSimpleMarker(o,d.shape,t.getSkin(),d.x,d.y,d.size,d.size),V.isSelectable(t,e,p)&&g.setCursor(DvtSelectionEffectUtils.getSelectingCursor()),g.setFill(j.getMarkerFill(t,e,p));var _=V.getMarkerBorderColor(t,e,p),v=V.getBorderWidth(t,e,p);_==a&&v==u||g.setSolidStroke(_,null,v),g.setDataColor(f,!0);var m=DvtSelectionEffectUtils.getHoverBorderColor(f),y=V.getSelectedInnerColor(t),E=V.getSelectedOuterColor(t);g.setHoverStroke(new DvtSolidStroke(y,1,1),new DvtSolidStroke(m,1,3.5)),g.setSelectedStroke(new DvtSolidStroke(y,1,1.5),new DvtSolidStroke(E,1,4.5)),g.setSelectedHoverStroke(new DvtSolidStroke(y,1,1.5),new DvtSolidStroke(m,1,4.5)),r&&d.size<et._MIN_TOUCH_MARKER_SIZE&&et._addMarkerHitArea(g,d.x,d.y,s)}else V.isSelectable(t,e,p)?(g=new S(o,d.shape,d.x,d.y,d.size,s),g.setCursor(DvtSelectionEffectUtils.getSelectingCursor()),r&&et._addMarkerHitArea(g,d.x,d.y,s)):(r&&(d.size=et._MIN_TOUCH_MARKER_SIZE),g=new S(o,DvtSimpleMarker.SQUARE,d.x,d.y,d.size,s)),null!=g&&(g.setInvisibleFill(),g.setDataColor(f));null!=g&&(h.push(g),l.associate(g,t,e,p,d))}}return h},et._addMarkerHitArea=function(t,e,i,n){var r=new DvtRect(t.getCtx(),e-et._MIN_TOUCH_MARKER_SIZE/2,i-et._MIN_TOUCH_MARKER_SIZE/2,et._MIN_TOUCH_MARKER_SIZE,et._MIN_TOUCH_MARKER_SIZE);n&&r.setSolidStroke("none"),r.setInvisibleFill(),t.addChild(r)},et._getRangeMarkersForSeries=function(t,e,i){if(!V.isSeriesRendered(t,e))return[];for(var n=DvtAgent.isTouchDevice(),r=t.getCtx(),o=t.xAxis,s=B.isAssignedToY2(t,e)?t.y2Axis:t.yAxis,a=t.getOptions(),u=B.getGroupCount(t),h=[],c=0;u>c;c++)if(!et._isDataItemFiltered(t,e,c)&&V.isDataItemRendered(t,e,c)){var p=o.getCoordAt(B.getXValue(t,e,c)),d=s.getUnboundedCoordAt(B.getLowValue(t,e,c)),g=s.getUnboundedCoordAt(B.getHighValue(t,e,c));if(null!=p&&null!=d&&null!=g){var f=V.isMarkerDisplayed(t,e,c);if(!f){var _=u-1,v=K.isPolar(t),m=v&&_>0&&0==c?_:c-1,y=v&&_>0&&c==_?0:c+1,S=B.getLowValue(t,e,m),E=B.getHighValue(t,e,m),T=B.getLowValue(t,e,y),C=B.getHighValue(t,e,m);null==S&&null==E&&null==T&&null==C&&(f=!0)}if(!(a._duringAnimation||K.isOverview(t)||K.isSpark(t))||f||B.isDataSelected(t,e,c)){var A=et.convertAxisCoord(t,new DvtPoint(p,d),i),D=et.convertAxisCoord(t,new DvtPoint(p,g),i),I=new DvtPoint((A.x+D.x)/2,(A.y+D.y)/2),x=V.getMarkerSize(t,e,c),O=new b(r,A.x,A.y,D.x,D.y,x,!f),M=j.getMarkerFill(t,e,c),R=V.getMarkerBorderColor(t,e,c),w=V.getBorderWidth(t,e,c),P=new DvtSolidStroke(R,null,w),L=V.getMarkerColor(t,e,c),N=V.getSelectedInnerColor(t),k=V.getSelectedOuterColor(t);O.setStyleProperties(M,P,L,N,k),V.isSelectable(t,e,c)&&O.setCursor(DvtSelectionEffectUtils.getSelectingCursor());var H=new DvtLine(r,A.x,A.y,D.x,D.y);H.setSolidStroke("rgba(0,0,0,0)",null,n?Math.max(x,et._MIN_TOUCH_MARKER_SIZE):x),O.addChild(H),h.push(O),l.associate(O,t,e,c,I)}}}return h},et._renderBars=function(t,e,i){for(var n=K.isHorizontal(t),r=K.isPolar(t),o=K.isStock(t),s="pixel"==V.getBarSpacing(t),a=DvtAgent.isRightToLeft(t.getCtx()),u=V.isStackLabelRendered(t),h=0;h<B.getGroupCount(t);h++)for(var c=0;c<B.getSeriesCount(t);c++)if(B.isBLACItemInViewport(t,c,h)&&"bar"==V.getSeriesType(t,c)){var p=B.getBarInfo(t,c,h,i);if(null!=p){var d=p.yCoord,g=p.baseCoord,f=p.axisCoord,v=p.x1,m=p.x2,y=p.barWidth,S=!1;Math.abs(d-g)<1&&(V.isRangeSeries(t,c)?d--:(S=!0,d=d>g||n&&!a&&d==g?g+3:g-3));var E;E=r?new T(t,f,g,d,v,m,i):new _(t,f,g,d,v,m),e.addChild(E),V.isSelectable(t,c,h)&&E.setCursor(DvtSelectionEffectUtils.getSelectingCursor());var b,C=null;if(S)b=DvtSolidFill.invisibleFill();else{b=j.getBarFill(t,c,h,n,y);var A=V.getBorderColor(t,c,h),D=V.getBorderWidth(t,c,h);A&&(C=new DvtSolidStroke(A,null,D))}var I=V.getColor(t,c,h),x=V.getSelectedInnerColor(t),O=V.getSelectedOuterColor(t);E.setStyleProperties(b,C,I,x,O),s&&E.setPixelHinting(!0),l.associate(E,t,c,h,p.dataPos),V.isRangeSeries(t,c)?(et._renderDataLabel(t,e,E.getBoundingBox(),c,h,I,"low"),et._renderDataLabel(t,e,E.getBoundingBox(),c,h,I,"high")):et._renderDataLabel(t,e,E.getBoundingBox(),c,h,I);var M=new Array;M.push(E),o&&0!=c||t._currentMarkers.push(M),u&&B.isBarStackLabeled(t,c,h)&&et._renderDataLabel(t,e,E.getBoundingBox(),c,h,null,null,!0)}}},et._renderStock=function(t,e,i){var n=t.getOptions(),r=t.xAxis,o=t.yAxis;if("candlestick"==V.getSeriesType(t,0))for(var s=0;s<B.getGroupCount(t);s++)if(B.isBLACItemInViewport(t,0,s)){var a,u,h,c=B.getXValue(t,0,s),p=B.getDataItem(t,0,s),d=null;p&&(a=p.open,u=p.close,h=p.low,d=p.high);var g=null!=h&&null!=d;if(null!=a&&null!=u){var f,_=r.getUnboundedCoordAt(c),m=V.getBarWidth(t,0,s),y=o.getBoundedCoordAt(a),S=o.getBoundedCoordAt(u),E=null;g&&(f=o.getBoundedCoordAt(h),E=o.getBoundedCoordAt(d));var T=new v(t.getCtx(),_,m,y,S,f,E);e.addChild(T),V.isSelectable(t,0,s)&&T.setCursor(DvtSelectionEffectUtils.getSelectingCursor());var b=j.getBarFill(t,0,s,!1,m),C=null,A=V.getBorderColor(t,0,s),D=V.getBorderWidth(t,0,s);A?C=new DvtSolidStroke(A,null,D):b instanceof DvtPatternFill&&(C=new DvtSolidStroke(b.getColor(),null,D));var I=V.getColor(t,0,s),x=V.getSelectedInnerColor(t),O=V.getSelectedOuterColor(t),M=n.styleDefaults.stockRangeColor;T.setChangeStyle(b,C,I,x,O),T.setRangeStyle(new DvtSolidFill(M),C,M,O);var R=new DvtPoint(_,(y+S)/2);l.associate(T,t,0,s,R);var w=new Array;w.push(T._changeShape),t._currentMarkers.push(w)}}},et._renderLines=function(t,e,i,n){var r,o=[],s=B.getSeriesCount(t);for(r=0;s>r;r++)V.isSeriesRendered(t,r)&&"line"==V.getSeriesType(t,r)&&o.push(r);for(var a=0;a<o.length;a++)r=o[a],"none"!=V.getLineType(t,r)&&(K.isPolar(t)||et._filterPointsForSeries(t,r),et._renderLinesForSeries(t,i,r,n));for(a=0;a<o.length;a++)et._renderMarkersForSeries(t,e,o[a],n)},et._renderAreas=function(t,e,i,n){for(var r=B.getSeriesCount(t),o=n?"lineWithArea":"area",s=[],a=[],l=0;r>l;l++)V.isSeriesRendered(t,l)&&V.getSeriesType(t,l)==o&&(B.isAssignedToY2(t,l)?a.push(l):s.push(l));s.length>0&&et._renderAreasForAxis(t,e,s,t.yAxis.getBaselineCoord(),i,n),a.length>0&&et._renderAreasForAxis(t,e,a,t.y2Axis.getBaselineCoord(),i,n)},et._renderAreasForAxis=function(t,e,i,n,r,o){for(var s=K.isStacked(t),a=K.isPolar(t),u=et.createClippedGroup(t,e,r),h={},c={},p={},d={},g=[],f=B.getGroupCount(t),_=0;f>_;_++)g.push(new m(null,n,n,_,B.getGroup(t,_),!0));for(var v=0;v<i.length;v++){var S=i[v],E=B.getStackCategory(t,S),T=B.isSeriesNegative(t,S),b=h[E],C=c[E],A=p[E],D=d[E];if("none"!=V.getLineType(t,S)){var I=j.getAreaFill(t,S),x=V.getBorderColor(t,S),O=V.getBorderWidth(t,S),M=x?new DvtSolidStroke(x,null,O):null,R=V.getLineType(t,S);a||et._filterPointsForSeries(t,S);var w,P,L,N=V.isRangeSeries(t,S);N?(w=et._getCoordsForSeries(t,S,r,"high"),P=et._getCoordsForSeries(t,S,r,"low"),L=R):T?(w=et._getAreaCoordsForSeries(t,S,r,A?A:g),P=A?A:[],L=D):(w=et._getAreaCoordsForSeries(t,S,r,b?b:g),P=b?b:[],L=C);var k=new y(t,!0,r,n,I,M,R,w,L,P);u.addChild(k),t._currentAreas.push(k),l.associate(k,t,S),T?(p[E]=w,d[E]=R):(h[E]=w,c[E]=R),s||((o||V.getDataItemGaps(t)>0&&!x)&&et._renderLinesForSeries(t,u,S,r,!o),o||et._renderMarkersForSeries(t,e,S,r),v+1<i.length&&(u=et.createClippedGroup(t,e,r)))}else et._renderMarkersForSeries(t,e,S,r)}for(v=0;v<i.length;v++)if(S=i[v],"none"!=V.getLineType(t,S)){var H=V.getBorderColor(t,S)||V.getBorderColor(t,S+1);s&&(o||V.getDataItemGaps(t)>0&&!H)&&et._renderLinesForSeries(t,u,S,r,!o),(s||o)&&et._renderMarkersForSeries(t,e,S,r)}},et._getAreaCoordsForSeries=function(t,e,i,n){for(var r=et._getCoordsForSeries(t,e,i),o=[],s=0;s<n.length;s++)o.push(n[s].clone());for(var a=r.length-1,l=K.isPolar(t),s=0;s<r.length;s++)if(null!=r[s].x){var u=o[r[s].groupIndex],h=l&&0==s?a:s-1,c=l&&s==a?0:s+1;h>=0&&null!=r[h].x&&(u.y1=r[s].y1),a>=c&&null!=r[c].x&&(u.y2=r[s].y2),u.x=r[s].x,u.filtered=u.y1==u.y2?r[s].filtered:!1}return o},et._renderLinesForSeries=function(t,e,i,n,r){var o;if(r){var s=2.5*V.getDataItemGaps(t);o=new DvtSolidStroke(V.getBackgroundColor(t,!0),1,s)}else{var a=V.getColor(t,i),u=V.getLineWidth(t,i),h=DvtStroke.convertTypeString(V.getLineStyle(t,i));o=new DvtSolidStroke(a,1,u),o.setStyle(h)}var c=B.isAssignedToY2(t,i)?t.y2Axis.getBaselineCoord():t.yAxis.getBaselineCoord(),p=V.getLineType(t,i),d=function(r){var s=et._getCoordsForSeries(t,i,n,r),a=new y(t,!1,n,c,null,o,p,s);e.addChild(a),l.associate(a,t,i)},g=V.isRangeSeries(t,i);g?(d("high"),d("low")):d("value")},et._filterScatterBubble=function(t,e,i){var n=B.getSeriesCount(t),r=B.getGroupCount(t);if(!(n*r<et._FILTER_THRESHOLD_SCATTER_BUBBLE)){for(var o,s=[],a=0;n>a;a++)if(V.isSeriesRendered(t,a))for(var l=0;r>l;l++)o=et._getMarkerInfo(t,a,l,i),null!=o&&s.push(o);if(!(s.length<et._FILTER_THRESHOLD_SCATTER_BUBBLE)){e&&z.sortMarkers(s);for(var u=new DvtPixelMap(25,new DvtPixelMap(5,new DvtPixelMap)),h=s.length,c=h-1;c>=0;c--){o=s[c];var p=V.getColor(t,o.seriesIndex,o.groupIndex),d=o.markerDisplayed?DvtColorUtils.getAlpha(p):0,g=B.getDataItem(t,o.seriesIndex,o.groupIndex),f=z.checkPixelMap(u,o.x,o.y,o.size);f?g._filtered=!0:d>0&&(z.updatePixelMap(u,o.x,o.y,o.size,d),g._filtered=!1)}t.putToCache("dataFiltered",!0)}}},et._filterPointsForSeries=function(t,e){var i=t.__getPlotAreaSpace().w,n=B.getSeriesItem(t,e).items,r=t.xAxis.getInfo(),o=(r.getDataMax()-r.getDataMin())/(r.getViewportMax()-r.getViewportMin()),s=Math.round(2*(n.length/o)/i);if(2>=s)for(var a=0;a<n.length;a++)p=n[a],p&&(p._filtered=!1);else{for(var l,u,h,c,p,d,g=!1,a=0;a<n.length;a+=s){l=-1,u=-(1/0),h=-1,c=1/0;for(var f=a;f<Math.min(a+s,n.length);f++)d=B.getValue(t,e,f),p=n[f],null!=d&&null!=p&&(d>u&&(l=f,u=d),c>d&&(h=f,c=d),p._filtered=!0,g=!0);for(var f=a;f<Math.min(a+s,n.length);f++)p=n[f],null!=p&&(f!=l&&f!=h||(p._filtered=!1))}t.putToCache("dataFiltered",g)}},et._isDataItemFiltered=function(t,e,i){var n=B.getDataItem(t,e,i);return!(!n||!n._filtered)},et._getCoordsForSeries=function(t,e,i,n){var r=t.xAxis,o=t.yAxis;B.isAssignedToY2(t,e)&&(o=t.y2Axis);for(var s=[],a=0;a<B.getGroupCount(t);a++){var l=B.getGroup(t,a),u=B.getValue(t,e,a),h=B.getXValue(t,e,a),c=null;if("low"==n?c=B.getLowValue(t,e,a):"high"==n?c=B.getHighValue(t,e,a):null==u||isNaN(u)||(c=B.getCumulativeValue(t,e,a)),null!=c&&!isNaN(c)&&B.isBLACItemInViewport(t,e,a)){K.isPolar(t)&&(c=Math.max(c,o.getInfo().getViewportMin()));var p=r.getUnboundedCoordAt(h),d=o.getUnboundedCoordAt(c),g=new m(p,d,d,a,l,et._isDataItemFiltered(t,e,a));s.push(g)}else s.push(new m(null,null,null,a,l,!1))}return s},et.createClippedGroup=function(t,e,i){var n=new DvtContainer(e.getCtx());e.addChild(n);var r=new DvtClipPath(t.getId()),o=et._extendClipGroup(t);if(K.isPolar(t)){var s=i.x+i.w/2,a=i.y+i.h/2;if(F.isGridPolygonal(t)){var l=DvtPolygonUtils.getRegularPolygonPoints(s,a,B.getGroupCount(t),t.getRadius(),0);r.addPolygon(l)}else r.addCircle(s,a,t.getRadius())}else K.isHorizontal(t)?r.addRect(i.x-o,i.y,i.w+2*o,i.h):r.addRect(i.x,i.y-o,i.w,i.h+2*o);return n.setClipPath(r),n},et.polarToCartesian=function(t,e,i){var n=i.x+i.w/2+t*Math.sin(e),r=i.y+i.h/2-t*Math.cos(e);return new DvtPoint(n,r)},et.convertAxisCoord=function(t,e,i){if(K.isPolar(t)){var n=et.polarToCartesian(e.y,e.x,i);return new DvtPoint(n.x,n.y)}return K.isHorizontal(t)?new DvtPoint(e.y,e.x):new DvtPoint(e.x,e.y)},et._extendClipGroup=function(t){var e=K.hasLineSeries(t)||K.hasLineWithAreaSeries(t);if(e){var i=V.getLineWidth(t),n=function(t){var e=t.getInfo(),n=e.getCoordAt(e.getGlobalMax()),r=e.getCoordAt(e.getDataMax()),o=e.getCoordAt(e.getGlobalMin()),s=e.getCoordAt(e.getDataMin());return null!=n&&null!=r&&i/2>=r-n?!0:null!=o&&null!=s&&i/2>=o-s};if(t.yAxis&&n(t.yAxis)||t.y2Axis&&n(t.y2Axis))return Math.ceil(i/2)}return 0};var it=new Object;DvtObj.createSubclass(it,DvtObj,"DvtFunnelRenderer"),it._DEFAULT_3D_GAP_RATIO=1/36,it._DEFAULT_2D_GAP_RATIO=1/70,it._MAX_WIDTH_FOR_GAPS=.25,it._GROUP_INDEX=0,it.render=function(t,e,i){var n=new DvtContainer(t.getCtx());n.setTranslate(i.x,i.y),e.addChild(n),t.setPlotArea(n);var r;if("horizontal"==t.getOptions().orientation)r=new DvtRectangle(0,0,i.w,i.h);else{var o=new DvtMatrix,s=DvtAgent.isRightToLeft(t.getCtx())?-1:1;o.translate(-i.h/2,-i.w/2),o.rotate(s*Math.PI/2),o.translate(i.x+i.w/2,i.y+i.h/2),r=new DvtRectangle(0,0,i.h,i.w),n.setMatrix(o)}it._renderFunnelSlices(t,n,r)||J.renderEmptyText(t,e,i);var a=B.getInitialSelection(t);U.setInitialSelection(t,a),t.highlight(V.getHighlightedCategories(t))},it._renderFunnelSlices=function(t,e,i){for(var n=t.getOptions(),r=B.getSeriesCount(t),o=V.getDataItemGaps(t),s=("on"==n.styleDefaults.threeDEffect?it._DEFAULT_3D_GAP_RATIO:it._DEFAULT_2D_GAP_RATIO)*i.w,a=Math.min(it._MAX_WIDTH_FOR_GAPS*i.w/(r-1),s),u=o*a,h=0,c=0,p=0,d=0;r>d;d++)if(V.isDataItemRendered(t,d)){var g=B.getTargetValue(t,d);null==g&&(g=B.getValue(t,d,it._GROUP_INDEX)),0>=g||(h+=g)}if(0==h)return!1;for(var d=r-1;d>=0;d--)if(V.isDataItemRendered(t,d)){var g=B.getValue(t,d,it._GROUP_INDEX),f=B.getTargetValue(t,d);if(!(0>=g&&null==f||null!=f&&0>=f)){var _;null!=f?(p+=f/h,_=new A(t,d,c,i.w,i.h,1-p,f/h,g/f,u)):(p+=g/h,_=new A(t,d,c,i.w,i.h,1-p,g/h,null,u)),c++,e.addChild(_),l.associate(_,t,d,it._GROUP_INDEX)}}return!0};var nt=new Object;DvtObj.createSubclass(nt,DvtObj,"DvtRefObjRenderer"),nt.renderBackgroundObjects=function(t,e,i){nt._renderObjects(t,e,i,"back")},nt.renderForegroundObjects=function(t,e,i){nt._renderObjects(t,e,i,"front")},nt._renderObjects=function(t,e,i,n){nt._renderObjectsForAxis(t,e,i,n,t.xAxis,G.getAxisRefObjs(t,"x")),nt._renderObjectsForAxis(t,e,i,n,t.yAxis,G.getAxisRefObjs(t,"y")),nt._renderObjectsForAxis(t,e,i,n,t.y2Axis,G.getAxisRefObjs(t,"y2"))},nt._renderObjectsForAxis=function(t,e,i,n,r,o){if(o&&r)for(var s=0;s<o.length;s++){var a=o[s];if(G.isObjectRendered(t,a)&&a&&G.getLocation(a)==n){var l,h=G.getType(a);if("area"==h?l=nt._createReferenceArea(a,t,i,r):"line"==h&&(l=nt._createReferenceLine(a,t,i,r)),null!=l){var c=r==t.xAxis?"xAxis":r==t.yAxis?"yAxis":"y2Axis",p=new u(t,[l],a,s,c);t.registerObject(p),t.getEventManager().associate(l,p),e.addChild(l)}}}},nt._createReferenceArea=function(t,e,i,n){var r,o=e.getCtx(),s=n.getPosition(),a="top"==s||"bottom"==s,l="radial"==s,u=G.getColor(t),h=G.getLineType(t);if(null!=t.items&&n==e.yAxis){var c=t.items,p=[],d=[];if(e.xAxis.isGroupAxis())for(;c.length<B.getGroupCount(e);)c.push(null);for(var g=0;g<c.length;g++){var f=c[g],_=G.getLowValue(f),v=G.getHighValue(f);if(null!=_&&null!=v){var S=n.getUnboundedCoordAt(_),E=n.getUnboundedCoordAt(v),T=e.xAxis.getUnboundedCoordAt(G.getXValue(e,c,g));p.push(new m(T,E,E)),d.push(new m(T,S,S))}else p.push(new m),d.push(new m)}r=new y(e,!0,i,null,new DvtSolidFill(u),null,h,p,h,d)}else{var b=G.getLowValue(t),C=G.getHighValue(t);null!=b&&b!=-(1/0)||(b=n.getInfo().getGlobalMin()),null!=C&&C!=1/0||(C=n.getInfo().getGlobalMax());var A=nt._getAxisCoord(e,n,b),D=nt._getAxisCoord(e,n,C);if(K.isPolar(e)){var I,x=i.x+i.w/2,O=i.y+i.h/2;if(l)if(F.isGridPolygonal(e)){var M=B.getGroupCount(e),R=DvtPolygonUtils.getRegularPolygonPoints(x,O,M,D,0,1),w=DvtPolygonUtils.getRegularPolygonPoints(x,O,M,A,0,0);I=DvtPathUtils.polyline(R)+DvtPathUtils.polyline(w)+DvtPathUtils.closePath()}else I=DvtPathUtils.moveTo(x,O-D)+DvtPathUtils.arcTo(D,D,Math.PI,1,x,O+D)+DvtPathUtils.arcTo(D,D,Math.PI,1,x,O-D)+DvtPathUtils.moveTo(x,O-A)+DvtPathUtils.arcTo(A,A,Math.PI,0,x,O+A)+DvtPathUtils.arcTo(A,A,Math.PI,0,x,O-A)+DvtPathUtils.closePath();else{var P=e.getRadius(),L=et.polarToCartesian(P,A,i),N=et.polarToCartesian(P,D,i);I=DvtPathUtils.moveTo(x,O)+DvtPathUtils.lineTo(L.x,L.y)+DvtPathUtils.arcTo(P,P,D-A,DvtAgent.isRightToLeft(o)?0:1,N.x,N.y)+DvtPathUtils.lineTo(N.x,N.y)+DvtPathUtils.closePath()}r=new DvtPath(o,I)}else{var k;k=a?[A,0,D,0,D,i.h,A,i.h]:[0,A,0,D,i.w,D,i.w,A],r=new DvtPolygon(o,k)}r.setSolidFill(u)}return r},nt._createReferenceLine=function(t,e,i,n){var r=n.getPosition(),o="top"==r||"bottom"==r,s="radial"==r,a="tangential"==r,l=G.getLineWidth(t),u=G.getLineType(t),h=G.getColor(t),c=new DvtSolidStroke(h,1,l);t.lineStyle&&c.setStyle(DvtStroke.convertTypeString(t.lineStyle));var p,d=e.getCtx();if(null!=t.items&&n==e.yAxis){var g=t.items,f=[],_=[];if(f.push(_),e.xAxis.isGroupAxis())for(;g.length<B.getGroupCount(e);)g.push(null);for(var v=[],S=0;S<g.length;S++){var E=g[S],T=null;if(null!=E&&(isNaN(E)?null!=E.value&&(T=E.value):T=E),null!=T){var b=n.getUnboundedCoordAt(T),C=e.xAxis.getUnboundedCoordAt(G.getXValue(e,g,S));v.push(new m(C,b,b))}else v.push(new m)}p=new y(e,!1,i,null,null,c,u,v)}else{if(!t.value)return null;var A=nt._getAxisCoord(e,n,t.value);if(null==A||A==1/0||A==-(1/0))return null;var D=i.x+i.w/2,I=i.y+i.h/2;if(s){if(F.isGridPolygonal(e)){var _=DvtPolygonUtils.getRegularPolygonPoints(D,I,B.getGroupCount(e),A,0);p=new DvtPolygon(d,_)}else p=new DvtCircle(d,D,I,A);p.setFill(null)}else if(a){var x=et.polarToCartesian(e.getRadius(),A,i);p=new DvtLine(d,D,I,x.x,x.y)}else p=o?new DvtLine(d,A,0,A,i.h):new DvtLine(d,0,A,i.w,A),p.setPixelHinting(!0);p.setStroke(c)}return p},nt._getAxisCoord=function(t,e,i){if(e.isGroupAxis()){var n=B.getGroupIndex(t,i);if(n>=0)return e.getUnboundedCoordAt(n)}return isNaN(i)?null:e.getUnboundedCoordAt(i)};var rt=function(){};DvtObj.createSubclass(rt,DvtBaseComponent,"DvtSparkChart"),rt.newInstance=function(t,e,i){var n=new rt;return n.Init(t,e,i),n},rt.getDefaults=function(t){return(new st).getDefaults(t)},rt.prototype.Init=function(t,e,n){rt.superclass.Init.call(this,t,e,n),this.Defaults=new st,this._eventManager=new at(this),this._eventManager.addListeners(this),this._chart=i.newInstance(t,this._onRenderEnd,this),this.addChild(this._chart),DvtAgent.isTouchDevice()||this._eventManager.setKeyboardHandler(new DvtKeyboardHandler(this._eventManager,this)),this._tooltipMask=new DvtRect(t),this.addChild(this._tooltipMask),this.setId("sparkChart1000"+Math.floor(1e9*Math.random()))},rt.prototype.SetOptions=function(t){t?(this.Options=this.Defaults.calcOptions(t),DvtAgent.isEnvironmentBrowser()||(this.Options.animationOnDisplay="none",this.Options.animationOnDataChange="none")):this.Options||(this.Options=this.GetDefaults())},rt.prototype.setId=function(t){rt.superclass.setId.call(this,t),this._chart&&this._chart.setId(t+"chart")},rt.prototype.render=function(t,e,i){this.SetOptions(t),isNaN(e)||isNaN(i)||(this.Width=e,this.Height=i),this._eventReceived=!1,this._isDoneRendering=!1,lt.render(this,this.Width,this.Height);var n=this.Options.shortDesc;this._tooltipMask.setWidth(this.Width),this._tooltipMask.setHeight(this.Height),this._tooltipMask.setInvisibleFill(),n?(this._peer=new DvtSimpleObjPeer(null,n,this.Options.color),this._eventManager.associate(this._tooltipMask,this._peer)):this._peer=null,this.Options._selectingCursor&&this.setCursor(DvtSelectionEffectUtils.getSelectingCursor()),this.UpdateAriaAttributes(),this._eventReceived&&this.RenderComplete(),this._isDoneRendering=!0},rt.prototype._onRenderEnd=function(t){this._eventReceived=!0,t.getType()==DvtReadyEvent.TYPE&&this._isDoneRendering&&this.RenderComplete()},rt.prototype.__getChart=function(){return this._chart},rt.prototype.getAutomation=function(){return new ot(this)},rt.prototype.GetComponentDescription=function(){return DvtBundle.getTranslation(this.getOptions(),"componentName",DvtBundle.UTIL_PREFIX,"CHART")},rt.prototype.UpdateAriaAttributes=function(){var t=DvtDisplayable.generateAriaLabel(DvtStringUtils.processAriaLabel(this.GetComponentDescription()),this.Options.shortDesc?[this.Options.shortDesc]:null);
this.IsParentRoot()?(this.getCtx().setAriaRole("img"),this.getCtx().setAriaLabel(DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,"COLON_SEP_LIST",[DvtBundle.getTranslatedString(DvtBundle.UTIL_PREFIX,"DATA_VISUALIZATION"),t]))):(this.setAriaRole("img"),this.setAriaProperty("label",t))},rt.prototype.getEventManager=function(){return this._eventManager},rt.prototype.__getLogicalObject=function(){return this._peer};var ot=function(t){this._sparkChart=t};DvtObj.createSubclass(ot,DvtAutomation,"DvtSparkChartAutomation"),ot.prototype.getDataItem=function(t){var e=this._sparkChart.__getChart(),i=e.getAutomation().getDataItem(0,t);return i?{borderColor:i.borderColor,color:i.color,date:i.x,low:i.low,high:i.high,value:null==i.low||null==i.high?i.value:i.high-i.low}:null};var st=function(){this.Init({skyros:st.VERSION_1,alta:st.SKIN_ALTA})};DvtObj.createSubclass(st,DvtBaseComponentDefaults,"DvtSparkChartDefaults"),st.SKIN_ALTA={skin:DvtCSSStyle.SKIN_ALTA,color:"#267db3"},st.VERSION_1={skin:DvtCSSStyle.SKIN_SKYROS,type:"line",animationOnDisplay:"none",animationOnDataChange:"none",emptyText:null,color:"#666699",firstColor:null,lastColor:null,highColor:null,lowColor:null,visualEffects:"auto",baselineScaling:"min",barSpacing:"auto",lineWidth:1,lineStyle:"solid",lineType:"straight",markerSize:5,markerShape:"auto",barGapRatio:.25,_statusMessageStyle:new DvtCSSStyle("font-size: 12px; color: #404259;")};var at=function(t){this.Init(t.getCtx(),t.dispatchEvent,t),this._sparkChart=t};DvtObj.createSubclass(at,DvtEventManager,"DvtSparkChartEventManager"),at.prototype.ProcessKeyboardEvent=function(t){if(!this.KeyboardHandler)return!1;if(t.keyCode==DvtKeyboardEvent.TAB){var e=this._sparkChart.getCtx().getStageAbsolutePosition();this.ProcessObjectTooltip(t,e.x,e.y,this._sparkChart.__getLogicalObject(),this._sparkChart)}return!1},at.prototype.OnBlur=function(t){at.superclass.OnBlur.call(this,t),this.hideTooltip()};var lt=new Object;return DvtObj.createSubclass(lt,DvtObj,"DvtSparkChartRenderer"),lt.render=function(t,e,i){var n=t.__getChart(),r=lt._convertOptionsObj(t),o=t.getOptions();if("area"==o.type||"line"==o.type||"lineWithArea"==o.type){var s=lt._getDataItems(t),a=!1;if(o.firstColor||o.lastColor||o.highColor||o.lowColor)a=!0;else for(var l=0;l<s.length;l++)if(s[l]&&"on"==s[l].markerDisplayed){a=!0;break}if(a&&s.length>0||"none"==o.lineType){var u=o.markerSize/2;e-=2*u,i-=2*u,n.setTranslate(u,u)}}n.render(r,e,i)},lt._getDataItems=function(t){var e=t.getOptions();return e&&e.items?e.items:[]},lt._convertOptionsObj=function(t){var e=t.getOptions(),i={styleDefaults:{},xAxis:{},yAxis:{},groups:[]};i.translations=e.translations;for(var n="floatingBar"==e.type,r=[],o=-1,s=-1,a=-(1/0),l=1/0,u=lt._getDataItems(t),h=0;h<u.length;h++){var c=u[h],p={};c instanceof Object?(n?(p.low=c.floatValue,p.high=c.floatValue+c.value):(p.value=c.value,p.low=c.low,p.high=c.high),c.date&&(i.timeAxisType="enabled",i.groups.push(c.date)),"on"==c.markerDisplayed&&(p.markerDisplayed="on"),c.color&&(p.color=c.color),c.borderColor&&(p.borderColor=c.borderColor),c.markerShape&&(p.markerShape=c.markerShape),c.markerSize&&(p.markerSize=c.markerSize)):p.value=c,r.push(p);var d=null!=p.value?p.value:Math.max(p.low,p.high);d>a&&(a=d,o=h);var g=null!=p.value?p.value:Math.min(p.low,p.high);l>g&&(l=g,s=h)}e.highColor&&o>=0&&(r[o].markerDisplayed="on",r[o].color||(r[o].color=e.highColor)),e.lowColor&&s>=0&&(r[s].markerDisplayed="on",r[s].color||(r[s].color=e.lowColor)),e.firstColor&&r.length>0&&(r[0].markerDisplayed="on",r[0].color||(r[0].color=e.firstColor)),e.lastColor&&r.length>0&&(r[r.length-1].markerDisplayed="on",r[r.length-1].color||(r[r.length-1].color=e.lastColor)),i.series=[{items:r,areaColor:e.areaColor}],e.referenceObjects&&(i.yAxis.referenceObjects=e.referenceObjects),i.__spark=!0;var f=e.barSpacing;"auto"==f&&(f=DvtAgent.getDevicePixelRatio()>1?"subpixel":"pixel"),i.__sparkBarSpacing=f,i.type=n?"bar":e.type,i.animationOnDataChange=e.animationOnDataChange,i.animationOnDisplay=e.animationOnDisplay,i.emptyText=e.emptyText,i.styleDefaults.colors=[e.color],i.styleDefaults.animationDuration=e.animationDuration,i.styleDefaults.animationIndicators="none",i.styleDefaults.lineWidth=e.lineWidth,i.styleDefaults.lineStyle=e.lineStyle,i.styleDefaults.lineType=e.lineType,i.styleDefaults.markerSize=e.markerSize,i.styleDefaults.markerShape=e.markerShape,i.styleDefaults.barGapRatio=e.barGapRatio,i.styleDefaults.dataItemGaps="0%",i.xAxis.rendered="off",i.yAxis.rendered="off";var _="zero"==e.baselineScaling,v=a!=l?.1*(a-l):.1*Math.abs(a);return i.yAxis.min=_&&l>=0?0:l-v,i.yAxis.max=_&&0>=a?0:a+v,"none"==e.visualEffects||"area"!=e.type&&"lineWithArea"!=e.type?i.styleDefaults.seriesEffect="color":i.styleDefaults.seriesEffect="gradient",i.layout={gapWidthRatio:0,gapHeightRatio:0},i.legend={rendered:"off"},i._statusMessageStyle=e._statusMessageStyle,i},e}),define("ojs/ojchart",["ojs/ojcore","jquery","ojs/ojcomponentcore","ojs/ojdvt-base","ojs/internal-deps/dvt/DvtChart"],function(t,e,i,n,r){t.__registerWidget("oj.ojSparkChart",e.oj.dvtBaseComponent,{widgetEventPrefix:"oj",options:{},_CreateDvtComponent:function(t,e,i){return r.DvtSparkChart.newInstance(t,e,i)},_GetComponentStyleClasses:function(){var t=this._super();return t.push("oj-sparkchart"),t},_GetTranslationMap:function(){var t=this.options.translations,e=this._super();return e["DvtUtilBundle.CHART"]=t.componentName,e},_Render:function(){this.element.attr("title")?(this.options.shortDesc=this.element.attr("title"),this.element.data(this.element,"title",this.element.attr("title")),this.element.removeAttr("title")):this.element.data("title")&&(this.options.shortDesc=this.element.data("title")),this._super()},getDataItem:function(e){var i=this._component.getAutomation();return new t.SparkChartDataItem(i.getDataItem(e))},_GetComponentDeferredDataPaths:function(){return{root:["items"]}}}),t.SparkChartDataItem=function(t){this._data=t},t.SparkChartDataItem.prototype.getBorderColor=function(){return this._data?this._data.borderColor:null},t.SparkChartDataItem.prototype.getColor=function(){return this._data?this._data.color:null},t.SparkChartDataItem.prototype.getDate=function(){return this._data?this._data.date:null},t.SparkChartDataItem.prototype.getFloatValue=function(){return this.getLow()},t.SparkChartDataItem.prototype.getLow=function(){return this._data?this._data.low:null},t.SparkChartDataItem.prototype.getHigh=function(){return this._data?this._data.high:null},t.SparkChartDataItem.prototype.getValue=function(){return this._data?this._data.value:null},t.__registerWidget("oj.ojChart",e.oj.dvtBaseComponent,{widgetEventPrefix:"oj",options:{categoryFilter:null,categoryHighlight:null,optionChange:null,selectInput:null,viewportChange:null,viewportChangeInput:null,drill:null},_CreateDvtComponent:function(t,e,i){return r.DvtChart.newInstance(t,e,i)},_ConvertLocatorToSubId:function(t){var e=t.subId;return"oj-chart-item"==e?e="dataItem["+t.seriesIndex+"]["+t.itemIndex+"]":"oj-chart-group"==e?e="group"+this._GetStringFromIndexPath(t.indexPath):"oj-chart-series"==e?e="series["+t.index+"]":"oj-chart-axis-title"==e?e=t.axis+":title":"oj-chart-reference-object"==e?e=t.axis+":referenceObject["+t.index+"]":"oj-legend-section"==e?e="legend:section"+this._GetStringFromIndexPath(t.indexPath):"oj-legend-item"==e?(e="legend:section"+this._GetStringFromIndexPath(t.sectionIndexPath),e+=":item["+t.itemIndex+"]"):"oj-chart-tooltip"==e&&(e="tooltip"),e},_ConvertSubIdToLocator:function(t){var e={};if(0==t.indexOf("dataItem")){var i=this._GetIndexPath(t);e.subId="oj-chart-item",e.seriesIndex=i[0],e.itemIndex=i[1]}else if(0==t.indexOf("group"))e.subId="oj-chart-group",e.indexPath=this._GetIndexPath(t);else if(0==t.indexOf("series"))e.subId="oj-chart-series",e.index=this._GetFirstIndex(t);else if(t.indexOf("Axis:title")>0)e.subId="oj-chart-axis-title",e.axis=t.substring(0,t.indexOf(":"));else if(t.indexOf("Axis:referenceObject")>0)e.subId="oj-chart-reference-object",e.axis=t.substring(0,t.indexOf(":")),e.index=this._GetFirstIndex(t);else if(0==t.indexOf("legend"))if(t.indexOf(":item")>0){var n=t.indexOf(":item"),r=t.substring(0,n),o=t.substring(n);e.subId="oj-legend-item",e.sectionIndexPath=this._GetIndexPath(r),e.itemIndex=this._GetFirstIndex(o)}else 0==t.indexOf("section")&&(e.subId="oj-legend-section",e.indexPath=this._GetIndexPath(t));else"tooltip"==t&&(e.subId="oj-chart-tooltip");return e},_ProcessStyles:function(){if(this._super(),this.options.styleDefaults||(this.options.styleDefaults={}),!this.options.styleDefaults.colors){var e=new t.ColorAttributeGroupHandler;this.options.styleDefaults.colors=e.getValueRamp()}},_GetComponentStyleClasses:function(){var t=this._super();return t.push("oj-chart"),t},_GetChildStyleClasses:function(){var t=this._super();return t["oj-chart-data-label"]={path:"styleDefaults/dataLabelStyle",property:"CSS_TEXT_PROPERTIES"},t["oj-chart-stack-label"]={path:"styleDefaults/stackLabelStyle",property:"CSS_TEXT_PROPERTIES"},t["oj-chart-footnote"]={path:"footnote/style",property:"CSS_TEXT_PROPERTIES"},t["oj-chart-pie-center-label"]={path:"pieCenterLabel/style",property:"CSS_TEXT_PROPERTIES"},t["oj-chart-slice-label"]={path:"styleDefaults/sliceLabelStyle",property:"CSS_TEXT_PROPERTIES"},t["oj-chart-subtitle"]={path:"subtitle/style",property:"CSS_TEXT_PROPERTIES"},t["oj-chart-stock-falling"]={path:"styleDefaults/stockFallingColor",property:"background-color"},t["oj-chart-stock-range"]={path:"styleDefaults/stockRangeColor",property:"background-color"},t["oj-chart-stock-rising"]={path:"styleDefaults/stockRisingColor",property:"background-color"},t["oj-chart-title"]={path:"title/style",property:"CSS_TEXT_PROPERTIES"},t["oj-chart-xaxis-tick-label"]={path:"xAxis/tickLabel/style",property:"CSS_TEXT_PROPERTIES"},t["oj-chart-xaxis-title"]={path:"xAxis/titleStyle",property:"CSS_TEXT_PROPERTIES"},t["oj-chart-yaxis-tick-label"]={path:"yAxis/tickLabel/style",property:"CSS_TEXT_PROPERTIES"},t["oj-chart-yaxis-title"]={path:"yAxis/titleStyle",property:"CSS_TEXT_PROPERTIES"},t["oj-chart-y2axis-tick-label"]={path:"y2Axis/tickLabel/style",property:"CSS_TEXT_PROPERTIES"},t["oj-chart-y2axis-title"]={path:"y2Axis/titleStyle",property:"CSS_TEXT_PROPERTIES"},t["oj-chart-pan-icon"]={path:"_resources/panUp",property:"CSS_URL"},t["oj-chart-pan-icon oj-active"]={path:"_resources/panDown",property:"CSS_URL"},t["oj-chart-select-icon"]={path:"_resources/selectUp",property:"CSS_URL"},t["oj-chart-select-icon oj-active"]={path:"_resources/selectDown",property:"CSS_URL"},t["oj-chart-zoom-icon"]={path:"_resources/zoomUp",property:"CSS_URL"},t["oj-chart-zoom-icon oj-active"]={path:"_resources/zoomDown",property:"CSS_URL"},t["oj-legend"]={path:"legend/textStyle",property:"CSS_TEXT_PROPERTIES"},t["oj-legend-title"]={path:"legend/titleStyle",property:"CSS_TEXT_PROPERTIES"},t["oj-legend-section-close-icon"]={path:"legend/_resources/closedEnabled",property:"CSS_URL"},t["oj-legend-section-close-icon oj-hover"]={path:"legend/_resources/closedOver",property:"CSS_URL"},t["oj-legend-section-close-icon oj-active"]={path:"legend/_resources/closedDown",property:"CSS_URL"},t["oj-legend-section-open-icon"]={path:"legend/_resources/openEnabled",property:"CSS_URL"},t["oj-legend-section-open-icon oj-hover"]={path:"legend/_resources/openOver",property:"CSS_URL"},t["oj-legend-section-open-icon oj-active"]={path:"legend/_resources/openDown",property:"CSS_URL"},t},_GetEventTypes:function(){return["categoryFilter","categoryHighlight","drill","optionChange","selectInput","viewportChange","viewportChangeInput"]},_GetTranslationMap:function(){var t=this.options.translations,e=this._super();return e["DvtChartBundle.DEFAULT_GROUP_NAME"]=t.labelDefaultGroupName,e["DvtChartBundle.LABEL_SERIES"]=t.labelSeries,e["DvtChartBundle.LABEL_GROUP"]=t.labelGroup,e["DvtChartBundle.LABEL_VALUE"]=t.labelValue,e["DvtChartBundle.LABEL_TARGET_VALUE"]=t.labelTargetValue,e["DvtChartBundle.LABEL_X"]=t.labelX,e["DvtChartBundle.LABEL_Y"]=t.labelY,e["DvtChartBundle.LABEL_Z"]=t.labelZ,e["DvtChartBundle.LABEL_PERCENTAGE"]=t.labelPercentage,e["DvtChartBundle.LABEL_LOW"]=t.labelLow,e["DvtChartBundle.LABEL_HIGH"]=t.labelHigh,e["DvtChartBundle.LABEL_OPEN"]=t.labelOpen,e["DvtChartBundle.LABEL_CLOSE"]=t.labelClose,e["DvtChartBundle.LABEL_VOLUME"]=t.labelVolume,e["DvtChartBundle.LABEL_MIN"]=t.labelMin,e["DvtChartBundle.LABEL_MAX"]=t.labelMax,e["DvtChartBundle.LABEL_OTHER"]=t.labelOther,e["DvtChartBundle.PAN"]=t.tooltipPan,e["DvtChartBundle.MARQUEE_SELECT"]=t.tooltipSelect,e["DvtChartBundle.MARQUEE_ZOOM"]=t.tooltipZoom,e["DvtUtilBundle.CHART"]=t.componentName,e},_HandleEvent:function(t){var e=t&&t.getType?t.getType():null;if(e===r.DvtSelectionEvent.TYPE||e===r.DvtSelectionEvent.TYPE_INPUT){var i=t.getSelection();if(i){for(var n=[],o=0;o<i.length;o++){var s={id:i[o].getId(),series:i[o].getSeries(),group:i[o].getGroup()};n.push(s)}var a={endGroup:t.getEndGroup(),startGroup:t.getStartGroup(),xMax:t.getXMax(),xMin:t.getXMin(),yMax:t.getYMax(),yMin:t.getYMin()};e===r.DvtSelectionEvent.TYPE?this._UserOptionChange("selection",n,a):(a.items=n,this._trigger("selectInput",null,a))}}else if(e===r.DvtCategoryHideShowEvent.TYPE_HIDE||e===r.DvtCategoryHideShowEvent.TYPE_SHOW){var l=e===r.DvtCategoryHideShowEvent.TYPE_HIDE?"out":"in";this._trigger("categoryFilter",null,{category:t.getCategory(),type:l}),this._UserOptionChange("hiddenCategories",t.hiddenCategories)}else if(e===r.DvtCategoryRolloverEvent.TYPE_OVER||e===r.DvtCategoryRolloverEvent.TYPE_OUT){var u=e===r.DvtCategoryRolloverEvent.TYPE_OVER?"on":"off";this._trigger("categoryHighlight",null,{categories:t.categories,type:u}),this._UserOptionChange("highlightedCategories",t.categories)}else if(e===r.DvtChartViewportChangeEvent.TYPE||e===r.DvtChartViewportChangeEvent.TYPE_INPUT){var h={endGroup:t.getEndGroup(),startGroup:t.getStartGroup(),xMax:t.getXMax(),xMin:t.getXMin(),yMax:t.getYMax(),yMin:t.getYMin()};e===r.DvtChartViewportChangeEvent.TYPE&&(this.options.xAxis||(this.options.xAxis={}),this.options.yAxis||(this.options.yAxis={}),this.options.xAxis.viewportStartGroup=null,this.options.xAxis.viewportEndGroup=null,null!=t.getXMin()&&null!=t.getXMax()&&(this.options.xAxis.viewportMin=t.getXMin(),this.options.xAxis.viewportMax=t.getXMax()),null!=t.getYMin()&&null!=t.getYMax()&&(this.options.yAxis.viewportMin=t.getYMin(),this.options.yAxis.viewportMax=t.getYMax())),this._trigger(e===r.DvtChartViewportChangeEvent.TYPE?"viewportChange":"viewportChangeInput",null,h)}else e===r.DvtDrillEvent.TYPE?this._trigger("drill",null,{id:t.getId(),series:t.getSeries(),group:t.getGroup()}):this._super(t)},_LoadResources:function(){null==this.options._resources&&(this.options._resources={});var e=this.options._resources;e.overviewGrippy=t.Config.getResourceUrl("resources/internal-deps/dvt/chart/drag_horizontal.png"),e.panCursorDown=t.Config.getResourceUrl("resources/internal-deps/dvt/chart/hand-closed.cur"),e.panCursorUp=t.Config.getResourceUrl("resources/internal-deps/dvt/chart/hand-open.cur")},getTitle:function(){var t=this._component.getAutomation();return t.getTitle()},getGroup:function(t){var e=this._component.getAutomation();return e.getGroup(t)},getSeries:function(t){var e=this._component.getAutomation();return e.getSeries(t)},getGroupCount:function(){var t=this._component.getAutomation();return t.getGroupCount()},getSeriesCount:function(){var t=this._component.getAutomation();return t.getSeriesCount()},getDataItem:function(t,e){var i=this._component.getAutomation().getDataItem(t,e);return this._AddAutomationGetters(i),i},getLegend:function(){var t=this._component.getAutomation().getLegend();return this._AddAutomationGetters(t),t},getPlotArea:function(){var t=this._component.getAutomation().getPlotArea();return this._AddAutomationGetters(t),t},getXAxis:function(){var t=this._component.getAutomation().getXAxis();return this._AddAutomationGetters(t),t},getYAxis:function(){var t=this._component.getAutomation().getYAxis();return this._AddAutomationGetters(t),t},getY2Axis:function(){var t=this._component.getAutomation().getY2Axis();return this._AddAutomationGetters(t),t},getValuesAt:function(t,e){return this._component.getValuesAt(t,e)},getContextByNode:function(t){var e=this.getSubIdByNode(t);return e&&"oj-chart-tooltip"!==e.subId?e:null},_GetComponentDeferredDataPaths:function(){return{root:["groups","series"]}},whenReady:function(){return this._super()}})}),define("ojs/ojtoolbar",["ojs/ojcore","jquery","ojs/ojcomponentcore"],function(t,e){!function(){t.__registerWidget("oj.ojToolbar",e.oj.baseComponent,{widgetEventPrefix:"oj",options:{chroming:"half"},_InitOptions:function(e,i){this._super(e,i),"disabled"in i&&t.Logger.warn("Caller attempted to set the 'disabled' option on Toolbar, but Toolbar does not support the 'disabled' option.  See API doc.")},_ComponentCreate:function(){this._super(),this.element.attr(t.Components._OJ_CONTAINER_ATTR,this.widgetName).addClass("oj-toolbar oj-component").attr("role","toolbar"),this._setup(!0)},_NotifyContextMenuGesture:function(t,e,i){var n=this.element.find(":oj-button[tabindex=0]");this._OpenContextMenu(e,i,{launcher:n,position:{of:"keyboard"===i?n.ojButton("widget"):e}})},_setOption:function(e,i){return this._superApply(arguments),"disabled"===e?void t.Logger.warn("Caller attempted to set the 'disabled' option on Toolbar, but Toolbar does not support the 'disabled' option.  See API doc.  Ignoring the call."):void("chroming"===e&&(this.$buttonsets.ojButtonset("refresh"),this.$topLevelButtons.ojButton("refresh")))},refresh:function(){this._super(),this._setup(!1)},_setup:function(t){var i=this;this.isRtl="rtl"===this._GetReadingDirection(),this.$buttons=this.element.find(":oj-button").unbind("keydown"+this.eventNamespace).bind("keydown"+this.eventNamespace,function(t){i._handleKeyDown(t,e(this))}).unbind("click"+this.eventNamespace).bind("click"+this.eventNamespace,function(t){e(this).ojButton("option","disabled")||i._setTabStop(e(this))}).unbind("focus"+this.eventNamespace).bind("focus"+this.eventNamespace,function(t){i._setTabStop(e(this))}),this.$buttonsets=this.element.find(":oj-buttonset").ojButtonset("refresh"),this.$topLevelButtons=this.$buttons.not(this.$buttonsets.find(":oj-button")).ojButton("refresh"),this.$enabledButtons=this.$buttons.filter(function(t){return!e(this).ojButton("option","disabled")}),this._initTabindexes(t)},_initTabindexes:function(t){var i=e(this._lastTabStop);this._lastTabStop=void 0,this.$buttons.attr("tabindex","-1");var n;n=t||!i.is(this.$enabledButtons)?this.$enabledButtons.first():i,this._setTabStop(n)},_mapToTabbable:function(t){var e=this.$enabledButtons;return t.map(function(t,n){if("radio"!=n.type||n.checked||""==n.name)return n;var r=i(n,e).filter(":checked");return r.length?r[0]:n})},_setTabStop:function(t){t=this._mapToTabbable(t);var i=t[0],n=this._lastTabStop;i!==n&&(e(n).attr("tabindex","-1"),t.attr("tabindex","0"),this._lastTabStop=i)},_handleKeyDown:function(t,i){switch(t.which){case e.ui.keyCode.LEFT:case e.ui.keyCode.RIGHT:t.preventDefault();var n=this.$enabledButtons,r=n.length;if(2>r)break;var o=n.index(i),s=t.which==e.ui.keyCode.RIGHT^this.isRtl?1:-1,a=(o+s+r)%r;n.eq(a).focus();break;case e.ui.keyCode.UP:case e.ui.keyCode.DOWN:"radio"==i.attr("type")&&t.preventDefault()}},_destroy:function(){this.element.removeClass("oj-toolbar oj-component").removeAttr(t.Components._OJ_CONTAINER_ATTR).removeAttr("role"),this.$buttons.attr("tabindex","0"),this.$buttonsets.ojButtonset("refresh"),this.$topLevelButtons.ojButton("refresh")}});var i=function(t,e){var i,n=t.name;if(n){n=n.replace(/'/g,"\\'");var r=":radio[name='"+n+"']:oj-button";i=e.filter(r)}else i=e.filter(t).filter(":oj-button");return i}}(),t.Components.setDefaultOptions({ojToolbar:{chroming:t.Components.createDynamicPropertyGetter(function(e){return t.ThemeUtils.getOptionDefaultMap("toolbar").chroming})}})}),define("views/chart",["knockout","ojs/ojchart","ojs/ojtoolbar","ojs/ojbutton"],function(t){function e(e){this.acts=e,this.type=t.observable("bar"),this.stack=t.observable("off"),this.orientation=t.observable("horizontal"),this.series=t.computed(i,this),this.votesConverter=t.observable(r),this.typeOptions=[{id:"bar",label:"bar",value:"bar",icon:"oj-icon demo-bar-unstack"},{id:"pie",label:"pie",value:"pie",icon:"oj-icon demo-bar-stack"}],this.stackOptions=[{id:"unstacked",label:"unstacked",value:"off",icon:"oj-icon demo-bar-unstack"},{id:"stacked",label:"stacked",value:"on",icon:"oj-icon demo-bar-stack"}],this.orientationOptions=[{id:"vertical",label:"vertical",value:"vertical",icon:"oj-icon demo-bar-vert"},{id:"horizontal",label:"horizontal",value:"horizontal",icon:"oj-icon demo-bar-horiz"}]}function i(){return"pie"===this.type()?this.acts.map(function(t){return{name:t.name(),items:[{value:t.numberOfVotes(),label:t.numberOfVotes()}]}}):this.acts.map(function(t){return{name:t.name(),items:[t.numberOfVotes()]}})}var n=oj.Validation.converterFactory("number"),r=n.createConverter({minimumFractionDigits:0,maximumFractionDigits:0});return e}),define("ojs/ojfilmstrip",["ojs/ojcore","jquery","ojs/ojcomponentcore","promise"],function(t,e){t.FilmStripPagingModel=function(){this.Init()},t.Object.createSubclass(t.FilmStripPagingModel,t.EventSource,"oj.FilmStripPagingModel"),t.FilmStripPagingModel.prototype.Init=function(){t.FilmStripPagingModel.superclass.Init.call(this),this._page=-1,this._totalSize=0,this._pageSize=-1},t.FilmStripPagingModel.prototype.setTotalSize=function(t){this._totalSize=t},t.FilmStripPagingModel.prototype.getPageSize=function(){return this._pageSize},t.FilmStripPagingModel.prototype.getPage=function(){return this._page},t.FilmStripPagingModel.prototype.setPage=function(t,e){t=parseInt(t,10);try{var i=this.getPageCount(),n=this._page,r=this._pageSize,o=r;e&&e.pageSize&&(o=e.pageSize);var s=Math.ceil(this._totalSize/o);if(0>t||t>s-1)throw new Error("JET FilmStrip: Invalid 'page' set: "+t);var a=!1;if(t!=n||o!=r){var l=this.handleEvent("beforePage",{page:t,previousPage:n});if(l===!1)return Promise.reject();a=!0}this._page=t,this._pageSize=o;var u=this.getPageCount(),h=this;return new Promise(function(e,r){i!=u&&h.handleEvent("pageCount",{pageCount:u,previousPageCount:i}),a&&h.handleEvent("page",{page:t,previousPage:n}),e(null)})}catch(c){return Promise.reject(c)}},t.FilmStripPagingModel.prototype.getStartItemIndex=function(){return this._page*this._pageSize},t.FilmStripPagingModel.prototype.getEndItemIndex=function(){return Math.min(this.getStartItemIndex()+this._pageSize,this._totalSize)-1},t.FilmStripPagingModel.prototype.getPageCount=function(){return Math.ceil(this._totalSize/this._pageSize)},t.FilmStripPagingModel.prototype.totalSize=function(){return this._totalSize},t.FilmStripPagingModel.prototype.totalSizeConfidence=function(){return"actual"},function(){t.__registerWidget("oj.ojFilmStrip",e.oj.baseComponent,{defaultElement:"<div>",widgetEventPrefix:"oj",options:{maxItemsPerPage:0,orientation:"horizontal",currentItem:0,arrowPlacement:"adjacent",arrowVisibility:"auto"},_ComponentCreate:function(){this._super();var e=this.element;e.addClass("oj-filmstrip oj-component").attr("tabindex",0).attr("role","region"),e.uniqueId();var n=this.options;if(n.disabled&&t.Logger.warn(tt),n.orientation!==v&&n.orientation!==q)throw new Error(c+n.orientation);if(n.arrowPlacement!==i&&n.arrowPlacement!==W)throw new Error(p+n.arrowPlacement);if(n.arrowVisibility!==Z&&n.arrowVisibility!==f&&n.arrowVisibility!==m&&n.arrowVisibility!==r)throw new Error(d+n.arrowVisibility);this.touchEventNamespace=this.eventNamespace+"Touch",this.mouseEventNamespace=this.eventNamespace+"Mouse",this.keyEventNamespace=this.eventNamespace+"Key",this.navArrowHoverableEventNamespace=this.eventNamespace+"NavArrowHoverable",this._setup(!0)},refresh:function(){this._super(),this._setup(!1)},getItemsPerPage:function(){return this._itemsPerPage},getPagingModel:function(){return this._pagingModel},_NotifyShown:function(){this._super(),this._needsSetup&&this._setup(this._needsSetup[0])},_NotifyAttached:function(){this._super(),this._needsSetup&&this._setup(this._needsSetup[0])},_setup:function(e){if(!this._canCalculateSizes()){var i=!1;return this._needsSetup&&(i=this._needsSetup[0]),void(this._needsSetup=[e||i])}this._needsSetup=null,this._bRTL="rtl"===this._GetReadingDirection(),this._bTouchSupported=t.DomUtils.isTouchSupported();var n=this.element,r=this;e?(this._itemsPerPage=0,this._handlePageFunc=function(t){r._handlePage(t)},this._pagingModel=new t.FilmStripPagingModel,this._componentSize=0,this._itemSize=-1,this._handleTransitionEndFunc=function(t){r._handleTransitionEnd()},this._handleResizeFunc=function(t,e){r._handleResize()},this._bTouchSupported&&(this._handleTouchStartFunc=function(t){r._handleTouchStart(t)},this._handleTouchMoveFunc=function(t){r._handleTouchMove(t)},this._handleTouchEndFunc=function(t){r._handleTouchEnd(t)},this._addTouchListeners()),this._handleMouseDownFunc=function(t){r._handleMouseDown(t)},this._handleMouseMoveFunc=function(t){r._handleMouseMove(t)},this._handleMouseUpFunc=function(t){r._handleMouseUp(t)},this._addMouseListeners(),this._handleKeyDownFunc=function(t){r._handleKeyDown(t)},this._addKeyListeners()):this._destroyInternal();for(var o=n.children(),s=0;s<o.length;s++)t.Components.subtreeDetached(o[s]);if(e){var a=this._pagingModel;a.setTotalSize(o.length),a.on("page",this._handlePageFunc)}this._wrapChildren(),this._adjustSizes();for(var s=0;s<o.length;s++)t.Components.subtreeAttached(o[s]);t.DomUtils.addResizeListener(n[0],this._handleResizeFunc)},_destroy:function(){this._bTouchSupported&&(this._removeTouchListeners(),this._handleTouchStartFunc=null,this._handleTouchMoveFunc=null,this._handleTouchEndFunc=null),this._removeMouseListeners(),this._handleMouseDownFunc=null,this._handleMouseMoveFunc=null,this._handleMouseUpFunc=null,this._removeKeyListeners(),this._handleKeyDownFunc=null,this._destroyInternal(),this._pagingModel.off("page",this._handlePageFunc),this._handlePageFunc=null,this._pagingModel=null,this._handleResizeFunc=null,this._handleTransitionEndFunc=null;var t=this.element;t.removeClass("oj-filmstrip oj-component "+x).removeAttr("tabindex role"),t.removeUniqueId(),this._super()},_destroyInternal:function(){var e=this.element;t.DomUtils.removeResizeListener(e[0],this._handleResizeFunc),this._itemSize=-1,this._queuedHandleResize&&(clearTimeout(this._queuedHandleResize),this._queuedHandleResize=null);for(var i=this._getItems(),n=0;n<i.length;n++)t.Components.subtreeDetached(i[n]);this._clearCalculatedSizes();var r=this._getItemContainers();r.unwrap(),this._unwrapChildren();for(var n=0;n<i.length;n++)t.Components.subtreeAttached(i[n])},_setOption:function(e,n,o){var s=this.options,a=!1,l=-1,u=this._pagingModel,g=u.getPage();switch(e){case"disabled":t.Logger.warn(tt);break;case"orientation":if(n!==v&&n!==q)throw new Error(c+n);a=s.orientation!=n;break;case"maxItemsPerPage":a=s.maxItemsPerPage!=n;break;case"arrowPlacement":if(n!==i&&n!==W)throw new Error(p+n);a=s.arrowPlacement!=n;break;case"arrowVisibility":if(n!==Z&&n!==f&&n!==m&&n!==r)throw new Error(d+n);a=s.arrowVisibility!=n;break;case y:if(s.currentItem!=n&&(l=this._findPage(n),0>l||l>=u.getPageCount()))throw new Error(h+n)}switch(this._super(e,n,o),e){case y:l>-1&&l!=g&&u.setPage(l)}a&&this._setup(!1)},_handleResize:function(){if(this._bHandlingResize){if(!this._queuedHandleResize){var t=this;this._queuedHandleResize=setTimeout(function(){t._queuedHandleResize=null,t._handleResize()},0)}}else this._bHandlingResize=!0,this._adjustSizes(!0),this._bHandlingResize=!1},_isHorizontal:function(){var t=this.options;return t.orientation!==q},_getCssPositionAttr:function(){var t=this._isHorizontal();return t?this._bRTL?"right":"left":"top"},_getCssSizeAttr:function(){var t=this._isHorizontal();return t?"width":"height"},_canCalculateSizes:function(){var t=document.createElement("div"),e=t.style;e.position="absolute",e.width="10px",e.height="10px";var i=this.element[0];i.appendChild(t);var n=!1;try{n=t.offsetWidth>0&&t.offsetHeight>0}catch(r){}return i.removeChild(t),n},_wrapChildren:function(){var t=this.element,e=this._isHorizontal(),n=t.children();n.addClass(O).wrap("<div class='"+I+" "+M+"'></div>");var r=this._getCssPositionAttr(),o=t.children().wrapAll("<div class='"+I+" "+w+"' style='"+r+": 0px;'></div>").parent();this._pagesWrapper=o;var s=this.options;s.arrowVisibility!==f&&s.arrowPlacement===i&&(this._contentWrapper=o.wrap("<div class='"+I+" oj-filmstrip-content-container'></div>").parent()),t.addClass(I),e||t.addClass(j),s.arrowVisibility!==f&&(this._prevButton=this._createPrevNavArrow(),this._nextButton=this._createNextNavArrow(),this._navArrowsShownOnHover()&&this._setupNavArrowsHoverable())},_unwrapChildren:function(){var t=this.element,e=this._getItems();this._tearDownNavArrowsHoverable(),this._prevButton&&(this._UnregisterChildNode(this._prevButton),this._prevButton=null),this._nextButton&&(this._UnregisterChildNode(this._nextButton),this._nextButton=null);var i=t.children(K+A);i&&i.remove(),e.removeClass(O).unwrap().unwrap(),this._pagesWrapper=null,this._contentWrapper&&(e.unwrap(),this._contentWrapper=null),t.removeClass(I+" "+j)},_setupNavArrowsHoverable:function(){var t=this.element;t.on("mouseenter"+this.navArrowHoverableEventNamespace,function(t){e(t.currentTarget).hasClass("oj-disabled")||e(t.currentTarget).addClass(x)}).on("mouseleave"+this.navArrowHoverableEventNamespace,function(t){e(t.currentTarget).removeClass(x)})},_tearDownNavArrowsHoverable:function(){var t=this.element;t.off(this.navArrowHoverableEventNamespace)},_navArrowsShownOnHover:function(){var t=this.options,e=t.arrowVisibility;return e===m||e===r&&t.arrowPlacement===W},_hasPrevPage:function(){var t=this._pagingModel;return t.getPage()>0},_hasNextPage:function(){var t=this._pagingModel;return t.getPage()<t.getPageCount()-1},_prevPage:function(){if(this._hasPrevPage()){var t=this._pagingModel;t.setPage(t.getPage()-1)}},_nextPage:function(){if(this._hasNextPage()){var t=this._pagingModel;t.setPage(t.getPage()+1)}},_displayNavigationArrow:function(t,e){var n=this.options,r=n.arrowPlacement;r===i?e.css("visibility",t?"":f):e.parent().css("display",t?"":E)},_updateNavigationArrowsDisplay:function(){var t=this.options,e=t.arrowVisibility;if(e!==f){var i=this._pagingModel,n=i.getPage(),r=i.getPageCount();this._displayNavigationArrow(0!==n,this._prevButton),this._displayNavigationArrow(n!==r-1,this._nextButton)}},_createPrevNavArrow:function(){var t=this.element,e=this._isHorizontal(),i=e?V:Y,n=this._createNavigationArrowContainer(i),r=this.options,o=r.arrowPlacement;o===W?t.append(n):t.prepend(n);var s=nt(this.getTranslatedString("labelAccArrowPreviousPage")),a=nt(this.getTranslatedString("tipArrowPreviousPage")),l=this._createNavigationArrow(n,i,s,a),u=this;return l.on("click",function(){u._prevPage()}),l},_createNextNavArrow:function(){var t=this.element,e=this._isHorizontal(),i=e?b:T,n=this._createNavigationArrowContainer(i);t.append(n);var r=nt(this.getTranslatedString("labelAccArrowNextPage")),o=nt(this.getTranslatedString("tipArrowNextPage")),s=this._createNavigationArrow(n,i,r,o),a=this;return s.on("click",function(){a._nextPage()}),s},_createNavigationArrowContainer:function(t){var i=e(document.createElement("div"));i.addClass(A+" "+t);var n=this.options,r=n.arrowPlacement;return r===W&&(i.addClass("oj-filmstrip-arrow-container-overlay"),this._navArrowsShownOnHover()&&i.addClass(D)),i},_createNavigationArrow:function(t,e,n,r){var o="<div class='"+C+" oj-default oj-enabled "+e+"' role='button' tabindex='-1'";o+="><span class='oj-filmstrip-arrow-icon "+e+" oj-component-icon'></span></div>",t.append(o);var s=this.element,a=s.attr("id"),l=t.children(K+C).eq(0);l.uniqueId();var u=l.attr("id");n&&l.attr("aria-label",n),r&&l.attr("title",r),l.attr("aria-labelledby",u+" "+a),this._hoverable(l),this._activeable(l);var h=this.options,c=h.arrowPlacement;return c===i&&this._navArrowsShownOnHover()&&l.addClass(D),l},_getItemContainers:function(){var t=this._pagesWrapper,e=t.find(K+M);return e;
},_getItems:function(){var t=this._pagesWrapper,e=t.find(K+O);return e},_getPages:function(){var t=this._pagesWrapper,e=t.children(K+R);return e},_clearCalculatedSizes:function(){var t=this._pagesWrapper,e=this._getPages();e.css(g,u).css(J,u);var i=this._getItemContainers();i.css(g,u).css(J,u),t.css(this._getCssSizeAttr(),u)},_adjustSizes:function(r){this._clearCalculatedSizes();var s=this.options,a=this._isHorizontal(),l=s.maxItemsPerPage,h=1>l,c=this.element,p=this._getItemContainers();if(this._itemSize<0){var d=this._getItemIndex(s.currentItem),_=e(p[d]),v=_.children(K+O);v.css(o,u),t.Components.subtreeShown(v[0]),this._itemSize=a?_.width():_.height()}var m=a?c.width():c.height();if(s.arrowVisibility!==f&&s.arrowPlacement===i){var y=c.children(K+A),S=y.eq(0),T=a?S.width():S.height();m-=2*T}if(this._componentSize=m,!h){var b=Math.max(Math.floor(m/this._itemSize),1);l>b&&(l=b)}var C=h?Math.max(Math.floor(m/this._itemSize),1):l,D=m/C;p.css(g,D+z).css(J,D+z);var x=Math.ceil(p.length/C),M=this._getPages(),w=!1,P=this._pagingModel;if(P.getPageCount()!=x||this._itemsPerPage!=C||!M||M.length<1){if(w=!0,r)for(var L=0;L<p.length;L++)t.Components.subtreeDetached(p[L]);M&&M.length>0&&p.unwrap();for(var L=0;L<p.length;L+=C){var N=p.slice(L,L+C);N.wrapAll("<div class='"+I+" "+R+"' style='"+o+": "+E+";' "+n+"='true'></div>")}if(r)for(var L=0;L<p.length;L++)t.Components.subtreeAttached(p[L])}M=this._getPages(),M.css(g,m+z).css(J,m+z);var k=this._pagesWrapper,H=this._contentWrapper;k.css(this._getCssSizeAttr(),m),H&&H.css(this._getCssSizeAttr(),m);var F=0;if((s.currentItem||0===s.currentItem)&&(F=this._findPage(s.currentItem,C)),P.getPageCount()!=x||this._itemsPerPage!=C||P.getPage()!=F)P.setPage(F,{pageSize:C});else if(w){var B=P.getPage();this._handlePage({previousPage:B,page:B})}},_handlePage:function(t){var i=t.page,n=t.previousPage,r=this._pagesWrapper,o=(this.options,this._getPages()),s=this._pagingModel,a=s.getPageSize(),l=0>n||n==i||this._itemsPerPage!=a;this._itemsPerPage=a;var u=null;l||(u=e(o[n]));var h=this._getCssPositionAttr(),c=e(o[i]),p=c.is(_);p&&this._unhidePage(c);var d=this._bDragInit;if(n>-1&&!l&&(d=!0,r.css(this._getCssSizeAttr(),2*this._componentSize),n>i&&p&&r.css(h,-this._componentSize+z),i>n?(u.addClass(N),c.addClass(L)):(u.addClass(H),c.addClass(k))),d){var g=this,f=this._bDragInit;if(f&&0>n){var v=o.filter($);v.addClass(P)}setTimeout(function(){g._finishHandlePage(i,n,l,f)},25)}else this._finishHandlePage(i,n,l)},_finishHandlePage:function(t,i,n,r){var o=this._pagesWrapper;if(n||(this._bPageChangeTransition=!0,o.on("transitionend"+this.eventNamespace+" webkitTransitionEnd"+this.eventNamespace,this._handleTransitionEndFunc)),n)this._handleTransitionEnd();else{var s=this._getPages();if(r&&it(s),i>-1){var a=t>i,l=e(s[i]),u=e(s[t]);l.addClass(P),u.addClass(P),a?(l.removeClass(N),u.removeClass(L),l.addClass(B),u.addClass(F)):(l.removeClass(H),u.removeClass(k),l.addClass(G),u.addClass(U))}else if(r){var h=s.filter($);et(h,"translate3d(0, 0, 0)")}}},_handleTransitionEnd:function(){this._bPageChangeTransition=!1;var i=this._pagesWrapper,n=this._getCssPositionAttr();i.off(this.eventNamespace).css(this._getCssSizeAttr(),this._componentSize).css(n,"0px");var r=null;(t.FocusUtils.containsFocus(i[0])||this._nextButton&&t.FocusUtils.containsFocus(this._nextButton[0])||this._prevButton&&t.FocusUtils.containsFocus(this._prevButton[0]))&&(r=document.activeElement);for(var o=this._pagingModel,s=o.getPage(),a=this._getPages(),l=0;l<a.length;l++)l!=s&&this._hidePage(e(a[l]));if(a.removeClass(P+" "+B+" "+F+" "+G+" "+U),it(a),this._updateNavigationArrowsDisplay(),r&&e(r).is(_)){var u=this.element,h=t.FocusUtils.getFirstTabStop(a[s]);h?t.FocusUtils.focusElement(h):t.FocusUtils.focusElement(u[0])}var c=this.options,p=this._findPage(c.currentItem);if(p!=s){var d=this._getFirstItemOnPage(s);this.option(y,d,{_context:{writeback:!0}})}},_getItemIndex:function(e){var i=-1,n=this._getItems();if("number"==typeof e)e>=0&&e<n.length&&(i=e);else if("string"==typeof e&&t.DomUtils.isValidIdentifier(e))for(var r=0;r<n.length;r++){var o=n[r],s=o.id;if(s&&s.length>0&&s===e){i=r;break}}return i},_findPage:function(t,e){var i=this._getItemIndex(t),n=-1;return i>-1&&(void 0===e&&(e=this._itemsPerPage),n=Math.floor(i/e)),n},_getFirstItemOnPage:function(t,e,i){var n=this._pagingModel;if(void 0===e&&(e=n.getPageCount()),t>=0&&e>t){var r=this._getItems();void 0===i&&(i=this._itemsPerPage);var o=t*i;if(o<r.length){var s=r[o],a=s.id;return a&&a.length>0?a:o}}return-1},_hidePage:function(e){t.Components.subtreeHidden(e[0]),e.css(o,E).attr(n,"true");var i=e.find(K+O);i.css(o,E)},_unhidePage:function(e){e.css(o,u).removeAttr(n);var i=e.find(K+O);i.css(o,u),t.Components.subtreeShown(e[0])},_addKeyListeners:function(){var t=this.element;t.on("keydown"+this.keyEventNamespace,this._handleKeyDownFunc)},_removeKeyListeners:function(){var t=this.element;t.off(this.keyEventNamespace)},_addMouseListeners:function(){var t=this.element;t.on("mousedown"+this.mouseEventNamespace,this._handleMouseDownFunc).on("mousemove"+this.mouseEventNamespace,this._handleMouseMoveFunc).on("mouseup"+this.mouseEventNamespace,this._handleMouseUpFunc)},_removeMouseListeners:function(){var t=this.element;t.off(this.mouseEventNamespace)},_addTouchListeners:function(){var t=this.element;t.on("touchstart"+this.touchEventNamespace,this._handleTouchStartFunc).on("touchmove"+this.touchEventNamespace,this._handleTouchMoveFunc).on("touchend"+this.touchEventNamespace,this._handleTouchEndFunc).on("touchcancel"+this.touchEventNamespace,this._handleTouchEndFunc)},_removeTouchListeners:function(){var t=this.element;t.off(this.touchEventNamespace)},_handleKeyDown:function(t){var i=this._pagingModel,n=i.getPage(),r=-1;switch(t.keyCode){case e.ui.keyCode.RIGHT:r=this._bRTL?n-1:n+1;break;case e.ui.keyCode.LEFT:r=this._bRTL?n+1:n-1;break;case e.ui.keyCode.DOWN:r=n+1;break;case e.ui.keyCode.UP:r=n-1;break;case e.ui.keyCode.HOME:r=0;break;case e.ui.keyCode.END:r=i.getPageCount()-1;break;default:return}r>-1&&r<i.getPageCount()&&i.setPage(r),t.preventDefault()},_handleMouseDown:function(t){var e=t.originalEvent;this._dragScrollStart(e)},_handleMouseMove:function(t){var e=t.originalEvent;this._dragScrollMove(t,e)},_handleMouseUp:function(t){this._dragScrollEnd()},_handleTouchStart:function(t){var e=t.originalEvent,i=e.touches;if(1===i.length){var n=i[0];this._dragScrollStart(n)}},_handleTouchMove:function(t){var e=t.originalEvent,i=e.touches,n=i[0];this._dragScrollMove(t,n),(this._bTouch||this._scrolledForThisTouch)&&t.preventDefault()},_handleTouchEnd:function(t){this._dragScrollEnd()},_dragScrollStart:function(t){var e=this._pagingModel;if(e.getPageCount()>1&&!this._bPageChangeTransition){this._bTouch=!0,this._bDragInit=!1;var i=this._isHorizontal();this._touchStartCoord=i?t.pageX:t.pageY,this._touchStartCoord2=i?t.pageY:t.pageX}},_initDragScroll:function(t){var i=this._isHorizontal();this._touchStartCoord=i?t.pageX:t.pageY,this._touchStartCoord2=i?t.pageY:t.pageX;var n=this._getCssPositionAttr(),r=this._pagesWrapper,o=this._pagingModel,s=this._getPages(),a=1;o.getPage()>0&&(this._unhidePage(e(s[o.getPage()-1])),r.css(n,-this._componentSize+z),a++),o.getPage()<o.getPageCount()-1&&(this._unhidePage(e(s[o.getPage()+1])),a++),a>1&&r.css(this._getCssSizeAttr(),a*this._componentSize),this._touchStartScroll=parseInt(r.css(n),10)},_dragScrollMove:function(t,i){if(this._bTouch){var n=this._isHorizontal(),r=n?i.pageX:i.pageY,o=r-this._touchStartCoord,u=n?i.pageY:i.pageX,h=u-this._touchStartCoord2;if(Math.abs(h)>Math.abs(o)&&(this._bTouch=!1,this._scrolledForThisTouch=!1),!this._bDragInit)return void(Math.abs(o)>s&&(this._initDragScroll(i),this._bDragInit=!0));var c=n&&this._bRTL?o>0:0>o,p=this._pagingModel,d=p.getPage(),g=c&&d<p.getPageCount()-1||!c&&d>0;if(g){var f=this.element[0],_=Math.min(a*(n?f.offsetWidth:f.offsetHeight),l),v=this._getCssPositionAttr(),m=this._pagesWrapper,y=this._getPages();if(Math.abs(o)>=_){var S=c?d+1:d-1,E=(this._getFirstItemOnPage(S),c?d-1:d+1);if(E>-1&&E<p.getPageCount()&&this._hidePage(e(y[E])),c&&E>-1){var T=parseInt(m.css(v),10);m.css(v,T+this._componentSize+z)}m.css(this._getCssSizeAttr(),2*this._componentSize),this._bTouch=!1,p.setPage(S)}else{var b=n&&this._bRTL?-o:o,C=n?"translate3d("+b+"px, 0, 0)":"translate3d(0, "+b+"px, 0)";et(y.filter($),C)}this._scrolledForThisTouch=!0}this._scrolledForThisTouch&&(t.preventDefault(),t.stopPropagation())}},_dragScrollEnd:function(){if(this._bTouch&&this._bDragInit){var t=this._pagingModel,e=t.getPage();this._handlePage({previousPage:e,page:e})}this._bTouch=!1,this._bDragInit=!1,this._scrolledForThisTouch=!1},getNodeBySubId:function(t){if(null==t)return this.element?this.element[0]:null;var e=t.subId;return"oj-filmstrip-start-arrow"===e?this.widget().find(K+C+K+V)[0]:"oj-filmstrip-end-arrow"===e?this.widget().find(K+C+K+b)[0]:"oj-filmstrip-top-arrow"===e?this.widget().find(K+C+K+Y)[0]:"oj-filmstrip-bottom-arrow"===e?this.widget().find(K+C+K+T)[0]:null},getSubIdByNode:function(t){for(var e=this.getNodeBySubId({subId:"oj-filmstrip-start-arrow"}),i=this.getNodeBySubId({subId:"oj-filmstrip-end-arrow"}),n=this.getNodeBySubId({subId:"oj-filmstrip-top-arrow"}),r=this.getNodeBySubId({subId:"oj-filmstrip-bottom-arrow"}),o=t,s=this.element[0];o&&o!=s;){if(o===e)return{subId:"oj-filmstrip-start-arrow"};if(o===i)return{subId:"oj-filmstrip-end-arrow"};if(o===n)return{subId:"oj-filmstrip-top-arrow"};if(o===r)return{subId:"oj-filmstrip-bottom-arrow"};o=o.parentElement}return null}});var i="adjacent",n="aria-hidden",r="auto",o="display",s=3,a=.33,l=100,u="",h="JET FilmStrip: Value of 'currentItem' option not found: ",c="JET FilmStrip: Unsupported value set as 'orientation' option: ",p="Unsupported value set as 'arrowPlacement' option: ",d="Unsupported value set as 'arrowVisibility' option: ",g="flex-basis",f="hidden",_=":hidden",v="horizontal",m="hover",y="currentItem",S="-ms-transform",E="none",T="oj-bottom",b="oj-end",C="oj-filmstrip-arrow",A="oj-filmstrip-arrow-container",D="oj-filmstrip-arrow-transition",I="oj-filmstrip-container",x="oj-filmstrip-hover",O="oj-filmstrip-item",M="oj-filmstrip-item-container",R="oj-filmstrip-page",w="oj-filmstrip-pages-container",P="oj-filmstrip-transition",L="oj-filmstrip-transition-next-newpage-from",N="oj-filmstrip-transition-next-oldpage-from",k="oj-filmstrip-transition-prev-newpage-from",H="oj-filmstrip-transition-prev-oldpage-from",F="oj-filmstrip-transition-next-newpage-to",B="oj-filmstrip-transition-next-oldpage-to",U="oj-filmstrip-transition-prev-newpage-to",G="oj-filmstrip-transition-prev-oldpage-to",j="oj-filmstrip-vertical",V="oj-start",Y="oj-top",W="overlay",K=".",z="px",X="transform",q="vertical",Z="visible",$=":visible",J="-webkit-flex-basis",Q="-webkit-transform",tt="JET FilmStrip: 'disabled' option not supported",et=function(t,e){t.css(Q,e).css(S,e).css(X,e)},it=function(t){t.css(Q,u).css(S,u).css(X,u)},nt=function(t){var i=e("<div></div>");return i.text(t),i[0].innerHTML}}()}),define("views/details",["knockout","ojs/ojcore","settings","ojs/ojmodel","ojs/ojfilmstrip","ojs/ojbutton"],function(t,e,i){function n(e){this.id=e.drillModel.drillId(),this.fetched=t.observable(!1),this.data=t.observableArray(),this.nameNoWhitespace=t.computed(a,this),this.handleActivated=r.bind(this),this.getItemInitialDisplay=o.bind(this),this.goBack=s.bind(this,e)}function r(){var t=this,i=new l;i.id=this.id,i.fetch({success:function(i,n,r){t.data(e.KnockoutUtils.map(i)),t.fetched(!0),twttr&&twttr.widgets.load(document.querySelector(".twt-button"))}})}function o(t){return 3>t?"":"none"}function s(t,e,i){t.drillModel.drillId(void 0),t.drillModel.currentModule("acts")}function a(){var t=this.data();return t&&t.name&&t.name().replace(/ /g,"")}var l=e.Model.extend({urlRoot:i.baseUrl+"/mobile/custom/artistapi/acts"});return n}),define("text",["module"],function(t){var e,i,n,r,o,s=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],a=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,l=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,u="undefined"!=typeof location&&location.href,h=u&&location.protocol&&location.protocol.replace(/\:/,""),c=u&&location.hostname,p=u&&(location.port||void 0),d={},g=t.config&&t.config()||{};return e={version:"2.0.12",strip:function(t){if(t){t=t.replace(a,"");var e=t.match(l);e&&(t=e[1])}else t="";return t},jsEscape:function(t){return t.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:g.createXhr||function(){var t,e,i;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(e=0;3>e;e+=1){i=s[e];try{t=new ActiveXObject(i)}catch(n){}if(t){s=[i];break}}return t},parseName:function(t){var e,i,n,r=!1,o=t.indexOf("."),s=0===t.indexOf("./")||0===t.indexOf("../");return-1!==o&&(!s||o>1)?(e=t.substring(0,o),i=t.substring(o+1,t.length)):e=t,n=i||e,o=n.indexOf("!"),-1!==o&&(r="strip"===n.substring(o+1),n=n.substring(0,o),i?i=n:e=n),{moduleName:e,ext:i,strip:r}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(t,i,n,r){var o,s,a,l=e.xdRegExp.exec(t);return l?(o=l[2],s=l[3],s=s.split(":"),a=s[1],s=s[0],!(o&&o!==i||s&&s.toLowerCase()!==n.toLowerCase()||(a||s)&&a!==r)):!0},finishLoad:function(t,i,n,r){n=i?e.strip(n):n,g.isBuild&&(d[t]=n),r(n)},load:function(t,i,n,r){if(r&&r.isBuild&&!r.inlineText)return void n();g.isBuild=r&&r.isBuild;var o=e.parseName(t),s=o.moduleName+(o.ext?"."+o.ext:""),a=i.toUrl(s),l=g.useXhr||e.useXhr;return 0===a.indexOf("empty:")?void n():void(!u||l(a,h,c,p)?e.get(a,function(i){e.finishLoad(t,o.strip,i,n)},function(t){n.error&&n.error(t)}):i([s],function(t){e.finishLoad(o.moduleName+"."+o.ext,o.strip,t,n)}))},write:function(t,i,n,r){if(d.hasOwnProperty(i)){var o=e.jsEscape(d[i]);n.asModule(t+"!"+i,"define(function () { return '"+o+"';});\n")}},writeFile:function(t,i,n,r,o){var s=e.parseName(i),a=s.ext?"."+s.ext:"",l=s.moduleName+a,u=n.toUrl(s.moduleName+a)+".js";e.load(l,n,function(i){var n=function(t){return r(u,t)};n.asModule=function(t,e){return r.asModule(t,u,e)},e.write(t,l,n,o)},o)}},"node"===g.env||!g.env&&"undefined"!=typeof process&&process.versions&&process.versions.node&&!process.versions["node-webkit"]?(i=require.nodeRequire("fs"),e.get=function(t,e,n){try{var r=i.readFileSync(t,"utf8");0===r.indexOf("\ufeff")&&(r=r.substring(1)),e(r)}catch(o){n&&n(o)}}):"xhr"===g.env||!g.env&&e.createXhr()?e.get=function(t,i,n,r){var o,s=e.createXhr();if(s.open("GET",t,!0),r)for(o in r)r.hasOwnProperty(o)&&s.setRequestHeader(o.toLowerCase(),r[o]);g.onXhr&&g.onXhr(s,t),s.onreadystatechange=function(e){var r,o;4===s.readyState&&(r=s.status||0,r>399&&600>r?(o=new Error(t+" HTTP status: "+r),o.xhr=s,n&&n(o)):i(s.responseText),g.onXhrComplete&&g.onXhrComplete(s,t))},s.send(null)}:"rhino"===g.env||!g.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java?e.get=function(t,e){var i,n,r="utf-8",o=new java.io.File(t),s=java.lang.System.getProperty("line.separator"),a=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(o),r)),l="";try{for(i=new java.lang.StringBuffer,n=a.readLine(),n&&n.length()&&65279===n.charAt(0)&&(n=n.substring(1)),null!==n&&i.append(n);null!==(n=a.readLine());)i.append(s),i.append(n);l=String(i.toString())}finally{a.close()}e(l)}:("xpconnect"===g.env||!g.env&&"undefined"!=typeof Components&&Components.classes&&Components.interfaces)&&(n=Components.classes,r=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),o="@mozilla.org/windows-registry-key;1"in n,e.get=function(t,e){var i,s,a,l={};o&&(t=t.replace(/\//g,"\\")),a=new FileUtils.File(t);try{i=n["@mozilla.org/network/file-input-stream;1"].createInstance(r.nsIFileInputStream),i.init(a,1,0,!1),s=n["@mozilla.org/intl/converter-input-stream;1"].createInstance(r.nsIConverterInputStream),s.init(i,"utf-8",i.available(),r.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),s.readString(i.available(),l),s.close(),i.close(),e(l.value)}catch(u){throw new Error((a&&a.path||"")+": "+u)}}),e});