/**
 * Copyright (c) 2014, Oracle and/or its affiliates.
 * All rights reserved.
 */
"use strict";
define(['./DvtToolkit', './DvtPanZoomCanvas'], function(dvt) {
  // Internal use only.  All APIs and functionality are subject to change at any time.
    // Map the D namespace to dvt, which is used to provide access across partitions.
  var D = dvt;
  D.FS=function(a,b,c){this.Init(a,b,c)};(0,D.ca)("DvtAmxThematicMap",D.FS);D.z.q(D.FS,D.D,"DvtAmxThematicMap");D.FS.BB=10;D.FS.prototype.Init=function(a,b,c){D.FS.u.Init.call(this,a);this.ka=new D.GS(a,b,c);this.MY=new D.D(a);this.MY.k(this.ka);this.k(this.MY);this.Of=new D.HS};D.FS.newInstance=function(a,b,c){return new D.FS(a,b,c)};D.FS.newInstance=D.FS.newInstance;D.FS.prototype.U=function(a,b,c){this.J=this.Of.wj(a);this.Ha=b;this.Ja=c;b=new D.B(0,0,b,c);this.RC(this,b);this.ka.U(a,b.e,b.g)};
D.FS.prototype.render=D.FS.prototype.U;
D.FS.prototype.RC=function(a,b){this.Hb&&(a.removeChild(this.Hb),this.Hb=D.o);var c=new D.B(D.FS.BB,D.FS.BB,b.e-2*D.FS.BB,b.g-2*D.FS.BB),d=this.J,e=d.legend.rendered,f=d.legend.scrolling,g=D.Jl.ea(d.legend);this.E3(this.J,g);if(e&&!(g.AMa&&0==g.AMa.length)){e=d.legend.position;delete g.position;g.layout.gapRatio=(0,D.IS)(this);g.hideAndShowBehavior="none";g.rolloverBehavior="none";g.scrolling=d.legend.scrolling;var h=(0,D.vo)(this.ka.j());a.k(h);"auto"==e&&"asNeeded"!==f?e="bottom":"auto"==e&&"asNeeded"==
f&&(e="end");f=(0,D.G)(a.j());"start"==e?e=f?"right":"left":"end"==e&&(e=f?"left":"right");g.orientation="left"==e||"right"==e?"vertical":"horizontal";f="top"==e||"bottom"==e;f=h.Ap(g,f?c.e:d.layout.legendMaxSize*c.e,f?d.layout.legendMaxSize*c.g:c.g);if(0<f.e&&0<f.g)switch(h.U(g,f.e,f.g),this.Hb=h,d=window.Math.ceil(d.layout.legendGap*(0,D.IS)(this)),(0,D.to)(c,e,h,f.e,f.g,d),e){case "top":this.MY.W(f.g+D.FS.BB);case "bottom":b.g-=f.g+D.FS.BB;break;case "left":this.MY.N(f.e+D.FS.BB);case "right":b.e-=
f.e+D.FS.BB}}};D.IS=function(a){if(a.J.layout.gapRatio!==D.o&&!(0,window.isNaN)(a.J.layout.gapRatio))return a.J.layout.gapRatio;var b=window.Math.min(a.Ha/400,1);a=window.Math.min(a.Ja/300,1);return window.Math.min(b,a)};D.FS.prototype.E3=function(a,b){b.title=a.legend?a.legend.title:D.o;b.sections=[];if(a&&a.legend&&a.legend.sections)for(var c=0;c<a.legend.sections.length;c++){var d=a.legend.sections[c];d&&b.sections.push({title:d.title,items:d.items,sections:d.sections})}return b};
D.GS=function(a,b,c){this.Init(a,b,c)};(0,D.ca)("DvtThematicMap",D.GS);D.z.q(D.GS,D.gq,"DvtThematicMap");
D.GS.prototype.Init=function(a,b,c){D.GS.u.Init.call(this,a,b,c);(0,D.CT)(this);this.Jf=[];this.kz=[];this.HCa=this.lx=this.cd=this.Hb=D.o;this.W3=D.p;this.aP=[];this.wP={};this.VX=D.p;this.nW={};this.N4={};this.Zo=[];this.S3=new D.D(this.j());this.LO=new D.D(this.j());this.hz=new D.D(this.j());this.kx=new D.D(this.j());this.JK=this.XG=this.R6=D.p;this.rX=6;this.Az=D.k;this.aL={};this.iV=D.p;this.xd=D.o;this.Xn=16777215;this.Of=new D.HS;this.hb.Da(this,this);this.$e=D.p};
D.GS.newInstance=function(a,b,c){return new D.GS(a,b,c)};D.GS.prototype.Ud=function(a){D.GS.u.Ud.call(this,a);(0,D.rl)()||(this.J.animationOnDisplay="none",this.J.animationOnMapChange="none",this.J.animationOnDrill="none");(new D.DT(this)).parse(this.J)};D.GS.prototype.za=(0,D.x)("hb");D.ET=function(a,b){for(var c=0;c<a.Jf.length;c++)if(a.Jf[c].Hh==b)return a.Jf[c]};D.y=D.GS.prototype;D.y.cw=function(a){this.Ly=(0,window.parseFloat)(a)};D.y.Ma=(0,D.x)("Ly");
D.y.z0=function(a){a=(0,window.parseInt)(a);var b=this.Xn;if(1==a||3==a||5==a||7==a)b&=-17,this.JK=D.p;if(2==a||3==a||6==a||7==a)b&=-4098,this.XG=D.p;if(4==a||5==a||6==a||7==a)b&=-257;this.Xn=b};D.y.Mca=function(a){this.bn=a;this.hb.Mca(a)};
D.y.GI=function(){D.GS.u.GI.call(this);!this.yr&&this.aEa&&(this.Jf=[],this.aP=[],this.wP={},this.nW={},this.N4={},this.Zo=[],this.removeChild(this.cd),this.HCa=this.lx=this.Hb=this.cd=D.o,this.Xn=16777215,this.JK=this.XG=D.k,this.CK=this.Rb,this.S3=new D.D(this.j()),this.LO=new D.D(this.j()),this.hz=new D.D(this.j()),this.kx=new D.D(this.j()),this.xd=D.o,this.hb.zk(this),(0,D.CT)(this),this.iV=D.p,this.hb.Mc(),this.hb.Da(this,this))};
D.CT=function(a){a.hb=new D.FT(a.j(),a.Wa,a);a.hb.We(a);(0,D.Mf)()?a.MF=D.o:(a.MF=new D.GT(a,a.hb),(0,D.ql)(a.hb,a.MF))};D.y=D.GS.prototype;D.y.Vua=function(a){(0,D.G)(this.j())||(a=this.getWidth()-5-a.getWidth(),this.cd.N(a))};
D.y.RC=function(){if(this.lx){this.cd&&(this.cd.Y(),this.removeChild(this.cd));var a="true"==this.lx.disclosed,b="fixed"==this.lx.display||(0,D.Ge)();if(!b||a){var c=this.lx.maxWidth,d=c.indexOf("%"),c=-1!=d?(0,window.parseFloat)(c.substring(0,d))/100*this.getWidth():(0,window.parseFloat)(c),d=this.getHeight()-10;"alta"==this.vc?(this.cd=new D.is(this.j(),D.o,this,"pd"),this.cd.oa("dvtPanelDrawerEvent",this.Iea,D.p,this),this.cd.hu(c),this.cd.eT(d),this.cd.zz=b,(0,D.G)(this.j())?(this.cd.Pu="right",
this.cd.N(0)):this.cd.N(this.getWidth())):(this.cd=new D.iv(this.j(),c,d,"col_northeast",(0,D.ls)(this),this.$r(),a,b),this.cd.oa("dvtCollapsiblePanelEvent",this.Iea,D.p,this),this.cd.oa("dvtResizeEvent",this.Vua,D.p,this),c=this.cd,d=this.lx.collapseTooltip,c.fP=this.lx.expandTooltip,c.CO=d);c=this.lx;this.Hb=(0,D.vo)(this.j(),this.nca,this);this.k(this.cd);this.k(this.Hb);d=this.Hb.Ap(c,this.cd.QR(),this.cd.aM());this.Hb.U(c,d.e,d.g);var e;if("alta"==this.vc){(0,D.ks)(this.cd,this.Hb.Ev().g);this.removeChild(this.Hb);
var c=new D.Ve(this.j(),(0,D.ls)(this).legendEna,0,0,24,24),d=new D.Ve(this.j(),(0,D.ls)(this).legendOvr,0,0,24,24),f=new D.Ve(this.j(),(0,D.ls)(this).legendDwn,0,0,24,24),g=(0,D.O)("DvtUtilBundle","LEGEND");(0,D.ms)(this.cd,this.Hb,c,d,f,g,"legend");this.cd.Wq();a&&this.cd.mf(D.k,D.k)}else e=this.cd,a=this.Hb,e.sJ.k(a),a.oa("dvtResizeEvent",e.T1,D.p,e),a=e.sJ.G(),e.Ha=window.Math.min(e.Rh,a.e+10),e.Ja=window.Math.min(e.Ni,a.g+10),e.fb?(e.fb.Ij((0,D.iQ)(e,e.Ha,e.Ja)),a="col_northwest"==e.Pj||"col_southwest"==
e.Pj,e.lj&&a&&e.lj.N(e.Ha)):(a=new D.Vh(e.j(),(0,D.iQ)(e,e.Ha,e.Ja)),c=e.da.borderAlpha,a.va(e.$y,e.em),a.Ya(e.Os,c),e.fb=a,e.Ua(e.fb,0),e.zz||(e.lj=D.vC.I$(e.j(),25,e.da,D.p),e.lj.D(e.da.borderAlpha),e.k(e.lj),a="col_northwest"==e.Pj||"col_southwest"==e.Pj,e.gm=e.isCollapsed()?D.V.pZ(e.j(),e.Tn,25,e.da,a?D.V.cB:D.V.qw):D.V.nZ(e.j(),e.Tn,25,e.da,a?D.V.cB:D.V.qw),e.lj.k(e.gm),e.lj.N(a?e.Ha:-10),(0,D.Mf)()?e.gm.oa(D.vh.Yf,e.AI,D.p,e):(e.gm.oa(D.vn,e.AI,D.p,e),e.gm.oa(D.hA,e.n2,D.p,e),e.gm.oa(D.iA,e.m2,
D.p,e)))),e.DV&&(0,D.jQ)(e,D.p),e=this.cd.G(),a=(0,D.G)(this.j())?5:this.getWidth()-5-e.e-e.x,(0,D.Ik)(this.cd,a,5),e.e+=5;if(this.hla=b)e||(e=this.cd.G()),this.t7=e.e,this.Rb.kl(this.getWidth()-this.t7,this.getHeight(),D.k)}}};
D.y.Kj=function(){D.GS.u.Kj.call(this);var a=new D.D(this.j()),b=new D.D(this.j());this.Rb=this.fa;this.Rb.k(a);this.Rb.ja.k(b);this.Tj(a,b);if(this.Rk){(this.Bd=this.Rb.Bd)&&this.Rb.k(this.Bd);(0,D.HT)(this);b=new D.B(0,0,this.getWidth(),this.getHeight());if(!this.$e&&!this.CK)D.wl.isSupported(this.Iha)&&(this.jb=D.wl.jD(this.j(),this.Iha,this.Rb,b,this.Ly));else{var c=D.o;this.W3&&!this.yr?c=this.bza:this.Rk&&this.Rk.Hh!=this.oDa&&(c=this.Rk.Ur());D.wl.isSupported(c)&&(this.jb=D.wl.fD(this.j(),
c,this.CK,this.Rb,b,this.Ly))&&this.k(this.CK)}this.jb?(this.Bd&&this.k(this.Bd),this.hb.Mc(),this.hb.zk(this),this.iV=D.k,this.jb.le(this.br,this),this.jb.play()):this.br();this.aEa=a;this.Rk&&(this.oDa=this.Rk.Hh);(0,D.vl)(this.j(),[this]);this.$e=D.k}};
D.y.Tj=function(a,b){this.RC();b.k(this.S3);b.k(this.LO);this.Az?a.k(this.hz):b.k(this.hz);a.k(this.kx);var c=this.Rb.ja.Ea();this.e$=D.p;for(var d=0;d<this.Jf.length;d++){var e=this.Jf[d];if(!this.e$&&e instanceof D.cT||!(e instanceof D.cT))e.U(c),!this.e$&&e instanceof D.cT&&(this.e$=D.k,this.Rk=e)}this.Rk&&(c=this.Rk.hK,this.hK!=c&&(this.hK=c,this.Q6=this.Yka=this.Xka=D.o),c=(0,D.oT)(this),0==c.length&&(c=(0,D.BT)(this)),this.MF&&(c=c[0])&&D.FT.u.fu.call(this.hb,c),this.Rb.fw(D.o),this.Rb.iu(D.o),
this.Rb.To=D.k,this.Rb.Hi=D.k,!this.W3&&!this.yr&&this.Q6!=D.o?((0,D.Fs)(this.Rb,this.Q6),(0,D.Is)(this.Rb,this.Xka,this.Yka)):this.Rb.Ko(D.o,this.Rk.mH()),(0,D.IT)(this),(0,D.JT)(this),this.Rb.To=this.XG,this.Rb.Hi=this.JK)};D.y.eNa=function(a,b,c){this.$e=D.p;(0,D.HT)(this);(0,D.KT)(new D.DT(this),[a],(0,D.ET)(this,b),this.Rk.Hh,c);this.RC();this.$e=D.k;(0,D.JT)(this)};D.GS.prototype.updateLayer=D.GS.prototype.eNa;
D.JT=function(a){var b;b=a.Rb.Bq;var c=a.Rk.mH(),d=a.Rb.$c();b=window.Math.min((d.e-2*b)/c.e,(d.g-2*b)/c.g);a.Rb.fw(b);a.Rb.iu(b*(a.XG?a.rX:1))};D.zT=function(a){a.Rk.hK&&a.Rb.Ko(D.o,a.Rk.mH());(0,D.IT)(a);a.R6&&(0,D.LT)(a)};D.GS.prototype.Uca=(0,D.v)("g9");D.MT=function(a,b){var c=new D.Ej;c.translate(b.Fc,b.zc);a.Az&&a.hz.Ga(c);a.kx.Ga(c)};D.GS.prototype.Iea=function(a){var b=new D.Vr;(0,D.km)(b,"isLegendDisclosed","show"==a.Dj());this.Wa(b)};
D.NT=function(a,b,c){if(b=b.O){var d=a.Rb.ja,e=(0,D.qq)(b,d,d.Ea);c&&(a.Zia=d.Ea(),(0,D.T)(b,"typeMatrix",a,a.gBa,a.jFa,e));c=new D.Ej(1,0,0,1,e.Fc,e.zc);a.Az&&(0,D.T)(b,"typeMatrix",a.hz,a.hz.Ea,a.hz.Ga,c);(0,D.T)(b,"typeMatrix",a.kx,a.kx.Ea,a.kx.Ga,c)}};
D.GS.prototype.ph=function(a){switch(a.Dj()){case "adjustPanConstraints":if(this.JK){var b=a.ev;a=this.Rb.Bq;var c=this.Rb.$c();a=new D.B(a,a,c.e-2*a,c.g-2*a);var d=this.Rk.mH(),e=d.x*b,c=d.y*b,f=d.e*b,b=d.g*b,d=0;f>a.e?(this.hla&&(0,D.G)(this.j())&&(d=this.t7),this.Rb.ut=a.x+a.e+d-(e+f),this.Rb.rt=a.x-e+d):(this.hla&&(0,D.G)(this.j())&&(d=2*this.t7),e=(a.x+a.e+d)/2-(e+f/2),this.Rb.ut=e,this.Rb.rt=e);b>a.g?(this.Rb.vt=a.y+a.g-(c+b),this.Rb.st=a.y-c):(a=(a.y+a.g)/2-(c+b/2),this.Rb.vt=a,this.Rb.st=
a)}break;case "zooming":case "elasticAnimBegin":(0,D.NT)(this,a,D.k);break;case "zoomed":if(a.ev!=D.o){c=this.Rb.ja.Ea();(0,D.km)(a,"panX",c.Fc);(0,D.km)(a,"panY",c.zc);a.O=D.o;this.Wa(a);(0,D.MT)(this,c);for(b=0;b<this.Jf.length;b++)this.Jf[b].ph(a,c)}break;case "zoomAndCenter":(0,D.OT)(this);break;case "zoomToFitEnd":this.Wa(new D.SC)}};
D.GS.prototype.vw=function(a){var b=a.Dj();if("elasticAnimBegin"==b)(0,D.NT)(this,a,D.p);else if("panned"==b&&a.zma!=D.o){var c=this.Rb.ja.Ea();(0,D.km)(a,"zoom",this.Rb.fd());(0,D.km)(a,"panX",c.Fc);(0,D.km)(a,"panY",c.zc);a.O=D.o;this.Wa(a);(0,D.MT)(this,c);for(a=0;a<this.Jf.length;a++)this.Jf[a].vw(c)}this.cd&&("alta"==this.vc?"dragPanBegin"===b?this.cd.ua(D.p):"dragPanEnd"===b&&this.cd.ua(D.k):(c=this.$r(),a=this.cd.fb.dc().ea(),"dragPanBegin"===b?(this.Hb.D(c.backgroundDragAlpha),a.D(c.borderDragAlpha),
this.cd.fb.ba(a),this.cd.lj&&this.cd.lj.D(c.borderDragAlpha),this.cd.ua(D.p)):"dragPanEnd"===b&&(this.Hb.D(1),a.D(c.borderAlpha),this.cd.fb.ba(a),this.cd.lj&&this.cd.lj.D(c.borderAlpha),this.cd.ua(D.k))))};D.GS.prototype.gB=function(){return"none"==this.bn&&!this.XG&&(!this.JK||"alta"==this.vc)?"hidden":D.GS.u.gB.call(this)};D.GS.prototype.IT=function(){var a=this.gB();return"hidden"!=a?new D.PT(this.j(),this,"initCollapsed"==a?1:2):D.o};
D.IT=function(a){a.VX=D.k;for(var b=0;b<a.Jf.length;b++){var c=a.Jf[b].Hh;c in a.wP&&(a.aL[c]=a.wP[c][1],a.fm=c,a.cz=a.wP[c][0],a.sZ())}a.VX=D.p};
D.GS.prototype.Aca=function(){(0,D.HT)(this);for(var a=[],b=[],c=this.Jf.length-1;-1<c;c--)this.Jf[c].Hh==this.Rk.Hh?this.Jf[c].reset(b):this.Jf[c].reset(a);for(c=0;c<a.length;c++)if(a[c]){var d=a[c].getParent();d&&d.removeChild(a[c])}for(c=0;c<b.length;c++)b[c]&&b[c].D(1);this.aP=[];a=new D.Zr(this.j(),0.3);this.Rb.Ko(a);a.play();this.Zo=[];this.Bd&&"none"!=this.bn&&((0,D.QT)(this.Bd,D.p),(0,D.RT)(this.Bd,D.p))};
D.LT=function(a){var b=a.LO.G(),c=a.hz.G();if(a.Az){var d=a.Rb.ja.Ea();c.e/=d.Kd;c.g/=d.pg;c.x/=d.Kd;c.y/=d.pg}b=(0,D.tp)(b,c);(0,D.HT)(a);var e;a.Rb.To||(e=a.Rb.Qx(),a.Rb.iu(e*a.rX));(0,D.rl)()&&(a.jb=new D.Zr(a.j(),0.3));0<b.e&&0<b.g?a.Rb.Ko(a.jb,b):a.Rb.Ko(a.jb,a.Rk.mH());a.jb&&a.jb.play();e&&a.Rb.iu(e)};D.GS.prototype.WG=function(a){var b=new D.Zr(this.j(),0.3);this.Rb.Ko(b,a);b.play()};
D.OT=function(a){if(a.cz){var b=(0,D.ET)(a,a.fm).Xi(a.cz);if(b&&(b=b.Ob)){for(var b=b.getSelection(),c=0;c<b.length;c++)b[c]=b[c].xa();if(0<b.length){for(var d=b[0].G(),c=1;c<b.length;c++)d=(0,D.tp)(d,b[c].G());a.WG(d)}}}};D.ST=function(a,b){var c=D.JS.cJa(a.kk,b);return(0,D.ET)(a,c)};D.kT=function(a,b){var c=D.JS.Dqa(a.kk,b);return(0,D.ET)(a,c)};D.oT=function(a){var b=[];if(a.Rk)for(var c=0;c<a.Jf.length;c++){var d=a.Jf[c].Jj,e;for(e in d)b=a.Rk.Hh==a.Jf[c].Hh?b.concat((0,D.tT)(d[e])):b.concat((0,D.uT)(d[e]))}return b};
D.BT=function(a){var b=[];if(a.Rk)for(var c=0;c<a.Jf.length;c++){var d=a.Jf[c].Jj;if(a.Rk.Hh==a.Jf[c].Hh||!(a.Jf[c]instanceof D.cT))for(var e in d)b=b.concat(d[e].gk)}return b};D.GS.prototype.jFa=function(a){this.Zia=a;if(this.Az){for(var b=(0,D.BT)(this),c=0;c<b.length;c++)b[c].ph(a);b=this.kx.Ka();for(c=0;c<b;c++)for(var d=this.kx.la(c),e=d.Ka(),f=0;f<e;f++){var g=d.la(f);g instanceof D.hT&&g.update(a)}}};D.GS.prototype.gBa=(0,D.x)("Zia");
D.GS.prototype.sZ=function(){(0,D.HT)(this);var a=(0,D.kT)(this,this.fm),b=(0,D.ET)(this,this.fm),c=[];if(a){this.nW[this.fm]=this.cz;var d=this.aL[this.fm];!this.VX&&"single"==this.bn&&(this.Zo.pop(),b.reset(c,d),a.reset(this.kz));for(var e=[],f=0;f<d.length;f++){var g=d[f],h=(0,D.gT)(b,g);e.push(h[0]);for(var j=0;j<h.length;j++)this.N4[h[j]]=d[f];a.S$(h,c);if(h=b.Xi(this.cz)){for(var j=g,l=this.kz,m=0;m<h.Wc.length;m++)if(h.Wc[m].Xk()==j){h.Wc[m].OM(D.k);h.Zo.push(j);l.push(h.Wc[m].xa());if(m=h.Wc[m].Zc())l.push(m),
(m=m.pm)&&l.push(m);break}for(m=0;m<h.gk.length;m++)if(h.gk[m].Xk()==j){l.push(h.gk[m].xa());break}}this.Zo.push(g)}(0,D.TT)(this,this.kz,c,D.p);(0,D.UT)(this,a.Hh);this.fm=a.Hh;this.aL[this.fm]=e}};
D.GS.prototype.T$=function(){(0,D.HT)(this);for(var a=(0,D.ET)(this,this.fm),b=(0,D.ST)(this,this.fm),c=[],d=[],e=this.aL[this.fm],f=0;f<e.length;f++){var g=this.N4[e[f]];d.push(g);if(-1!=D.eg.Sa(this.Zo,g)){a.pT((0,D.gT)(b,g),this.kz);for(var h=b.Xi(this.nW[b.Hh]),j=g,l=c,m=0;m<h.Wc.length;m++)if(h.Wc[m].Xk()==j){var n=D.eg.Sa(h.Zo,j);h.Zo.splice(n,1);h.Wc[m].OM(D.p);n=h.Wc[m].xa();h.Zm.k(n);l.push(n);if(m=h.Wc[m].Zc())m.update(h.QK),l.push(m),l.push(m.pm);break}for(m=0;m<h.gk.length;m++)if(h.gk[m].Xk()==
j){n=h.gk[m].xa();h.Ww.k(n);l.push(n);break}g=D.eg.Sa(this.Zo,g);-1!=g&&this.Zo.splice(g,1)}}(0,D.TT)(this,this.kz,c,D.k);this.fm=b.Hh;this.cz=this.nW[this.fm];this.aL[this.fm]=d;(0,D.UT)(this,this.fm)};D.HT=function(a){a.jb&&(a.jb.stop(D.k),a.jb=D.o)};
D.TT=function(a,b,c,d){a.Rb.ja.Ea();if("zoomToFit"==a.O3&&!a.VX){var e=new D.Zr(a.j(),0.3);(0,D.rl)()||(e=D.o);d?a.Rb.Ko(e):(0,D.OT)(a);e&&e.play()}(0,D.HT)(a);if((0,D.rl)()&&("alphaFade"==a.O3||"auto"==a.O3))a.jb=D.wl.fD(a.j(),"alphaFade",b,c,D.o,0.5);a.jb?(a.hb.Mc(),a.hb.zk(a),a.jb.le(a.Kva,a),a.jb.play()):(0,D.VT)(a)};
D.GS.prototype.Wa=function(a){var b=a.Xa();if("selection"==b)if(this.cz){this.w9=a.getSelection();for(var b=this.aL,c=this.fm,d=this.w9,e=[],f=(0,D.ET)(this,this.fm).Xi(this.cz).Wc,g=0;g<d.length;g++)for(var h=0;h<f.length;h++)if(f[h].getId()==d[g]){e.push(f[h].Xk());break}b[c]=e;(0,D.UT)(this,this.fm);(0,D.km)(a,"clientId",this.cz);this.CV&&!(this.CV instanceof D.mh)&&(this.rpa=this.CV)}else(0,D.UT)(this,D.o),this.rpa=D.o;else b==D.yT.mga?((0,D.km)(a,"clientId",this.KJ),this.aP="multiple"==this.bn?
this.aP.concat(this.w9):this.w9,b=a.KAa,b==D.yT.uua&&this.T$(),b==D.yT.i1?this.sZ():b==D.yT.Rva&&this.Aca(),a.mf(this.aP)):("showPopup"==b||"hidePopup"==b)&&(0,D.km)(a,"clientId",this.KJ);D.GS.u.Wa.call(this,a)};D.UT=function(a,b){if(a.Bd&&a.bn&&"none"!=a.bn){var c=(0,D.kT)(a,b),d=(0,D.ST)(a,b);c?(0,D.QT)(a.Bd,D.k):(0,D.QT)(a.Bd,D.p);d?(0,D.RT)(a.Bd,D.k):(0,D.RT)(a.Bd,D.p)}};D.GS.prototype.Y=function(){D.GS.u.Y.call(this);this.hb&&(this.hb.Y(),this.hb=D.o)};D.GS.prototype.destroy=D.GS.prototype.Y;
D.GS.prototype.br=function(){this.Bd&&this.Rb.k(this.Bd);this.CK&&(this.removeChild(this.CK),this.CK=D.o);this.jb=D.o;this.R6&&(0,D.LT)(this);this.J.highlightedCategories&&0<this.J.highlightedCategories.length&&this.Fe(this.J.highlightedCategories);this.iV&&(this.hb.We(this),this.iV=D.p)};D.GS.prototype.Kva=function(){(0,D.VT)(this);this.jb=D.o;this.hb.We(this)};
D.VT=function(a){if(0<a.kz.length){for(var b=0;b<a.kz.length;b++){var c=a.kz[b];if(c)if(c instanceof D.hT)c.reset();else if(c.Xx&&c.Xx())c.D(0);else{var d=c.getParent();d&&d.removeChild(c)}}a.kz=[]}};D.GS.prototype.V5=function(a,b){var c=new D.kn(a,b),d=[],e;for(e in this.kj)for(var f in this.kj[e])d.push(this.kj[e][f]);for(e in this.Ez)for(f in this.Ez[e])d.push(this.Ez[e][f]);e=this.Hb.SOa;for(var g in e)f=new D.WT(e[g].eg(),g),d.push(f);(0,D.Kl)(c.Jk,d,D.k)};D.GS.prototype.Hd=(0,D.x)("xd");
D.GS.prototype.WM=(0,D.v)("xd");D.GS.prototype.dg=function(){this.Ck||(this.Ck=new D.XT(this));return this.Ck};D.GS.prototype.getAutomation=D.GS.prototype.dg;D.GS.prototype.Yj=function(){return(0,D.O)("DvtUtilBundle","THEMATIC_MAP")};D.GS.prototype.nca=function(a){"dvtResizeEvent"==a.Xa()&&this.Hb&&this.Hb.Dc(a)};D.GS.prototype.Fe=function(a){this.J.highlightedCategories=D.Jl.ea(a);(0,D.Kl)(a,(0,D.oT)(this).concat((0,D.BT)(this)),"any"==this.J.highlightMatch)};D.GS.prototype.highlight=D.GS.prototype.Fe;
D.GS.prototype.hs=function(a,b){var c=(0,D.YT)(this,a);c&&c.hs(b)};D.GS.prototype.processDefaultHoverEffect=D.GS.prototype.hs;D.GS.prototype.PA=function(a,b){var c=(0,D.YT)(this,a);c&&c.PA(b)};D.GS.prototype.processDefaultSelectionEffect=D.GS.prototype.PA;D.GS.prototype.$v=function(a,b){var c=(0,D.YT)(this,a);c&&c.$v(b)};D.GS.prototype.processDefaultFocusEffect=D.GS.prototype.$v;
D.YT=function(a,b){for(var c=0;c<a.Jf.length;c++){var d=a.Jf[c].Jj,e;for(e in d)for(var f=d[e].gk,c=0;c<f.length;c++)if(f[c].getId()===b)return f[c]}return D.o};
D.HS=function(){this.Init({fusion:D.aU,alta:D.bU})};D.z.q(D.HS,D.fk,"DvtThematicMapDefaults");
D.aU={animationDuration:500,animationOnDisplay:"none",animationOnDrill:"none",animationOnMapChange:"none",controlPanelBehavior:"hidden",drilling:"none",highlightMatch:"all",hoverBehavior:"none",initialZooming:"none",markerZoomBehavior:"fixed",panning:"none",tooltipDisplay:"auto",visualEffects:"none",zooming:"none",styleDefaults:{skin:"alta",areaStyle:"background-color:#B8CDEC;border-color:#FFFFFF;",hoverBehaviorDelay:200,dataAreaDefaults:{borderColor:"#FFFFFF",drilledInnerColor:"#FFFFFF",drilledOuterColor:"#000000",
hoverColor:"#FFFFFF",opacity:1,selectedInnerColor:"#FFFFFF",selectedOuterColor:"#000000"},dataMarkerDefaults:{borderColor:"#FFFFFF",borderStyle:"solid",borderWidth:0.5,color:"#000000",height:8,labelStyle:"font-family:Tahoma;font-size:13pt;color:#000000",opacity:0.4,scaleX:1,scaleY:1,shape:"circle",width:8},labelStyle:"font-family:Tahoma;font-size:11pt;"},legend:{position:"auto",rendered:D.k,layout:{gapRatio:1}},layout:{gapRatio:D.o,legendMaxSize:0.3,legendGap:10},resources:{images:{},translations:{}}};
D.bU={styleDefaults:{areaStyle:"background-color:#DDDDDD;border-color:#FFFFFF;",dataAreaDefaults:{drilledOuterColor:"#0572CE"},dataMarkerDefaults:{color:"rgb(51,51,51)",labelStyle:'font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;font-size:12px;color:#333333',opacity:1},labelStyle:'font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;font-size:12px;'}};D.cU={animationOnLayerChange:"none",labelDisplay:"auto",labelType:"short"};D.dU={animationOnDataChange:"none",selectionMode:"none"};
D.iU=function(a){for(var b=0;b<a.Jf.length;b++){var c=a.Jf[b].Jj,d;for(d in c){var e=c[d].Cd;if(e&&e.bC)return e}}return D.o};D.y=D.GS.prototype;D.y.Ej=function(a,b,c){this.EAa=D.p;return(a=(0,D.iU)(this))?a.Ej(c):D.p};D.y.tk=function(a,b){var c=(0,D.iU)(this);return c?c.tk(a,b):D.o};D.y.Tt=function(a,b){var c=(0,D.iU)(this);return c?c.Tt(a,b):D.o};D.y.po=function(a,b){var c=(0,D.iU)(this);return c?c.po(a,b):D.o};D.y.Gv=function(a,b){var c=(0,D.iU)(this);return c?c.Gv(a,b):D.o};
D.y.Nv=function(a,b){var c=(0,D.iU)(this);return c?c.Nv(a,b):D.o};D.y.Sv=function(){var a=(0,D.iU)(this);a&&a.Sv()};D.y.Sr=function(){var a=(0,D.iU)(this);a&&a.Sr();(0,D.Ou)(this.fa)};
D.GS.prototype.lo=function(a,b,c){var d=this.Rb.fd();a=(a-(0,D.Gs)(this.Rb))/d;b=(b-(0,D.Hs)(this.Rb))/d;a:{for(var d=a,e=b,f=0;f<this.Jf.length;f++)if(this.Jf[f].rIa){var g=this.Jf[f].ul;if(g&&g.Xr(d,e)){d=g;break a}}d=D.o}return(this.ul=d)?this.ul.lo(a,b,c):D.o};D.GS.prototype.Xr=function(a,b){var c=this.Rb.fd();a=(a-(0,D.Gs)(this.Rb))/c;b=(b-(0,D.Hs)(this.Rb))/c;return this.ul?this.ul.Xr(a,b):D.o};
D.eT=function(a,b){this.PU=a;this.Iza=b};D.z.q(D.eT,D.Pu,"DvtThematicMapDropTarget");D.eT.prototype.lo=function(a,b,c){if(a=(0,D.lT)(this.PU,a,b))a!=this.vF&&(this.PU.uu(a),this.vF=a);else return this.PU.uu(D.o),D.o;return c[0]};D.eT.prototype.Xr=function(a,b){var c=(0,D.lT)(this.PU,a,b);if(c){var d=D.$.RKa(a,b,this.Iza);return{UQa:c.lza,yQa:d.x,zQa:d.y}}return D.o};
D.XT=(0,D.v)("ka");(0,D.ca)("DvtThematicMapAutomation",D.XT);D.z.q(D.XT,D.Wj,"DvtThematicMapAutomation");
D.XT.prototype.Xl=function(a){a=(0,D.Xj)(this.ka.za(),a);var b;if(a&&(a instanceof D.mT||a instanceof D.nT))a:{for(var c=a.xa(),d=this.ka.Jf,e=0;e<d.length;e++){var f=d[e].Jj;for(b in f)if(c instanceof D.Vh)for(var g=f[b].Wc,h=0;h<g.length;h++){if(g[h]===a){b=(0,D.ZT)(b)+":area["+h+"]";break a}}else if(c instanceof D.Qn||c instanceof D.rr){g=f[b].gk;for(h=0;h<g.length;h++)if(g[h]===a){b=(0,D.ZT)(b)+":marker["+h+"]";break a}}}b=D.o}else b=D.o;return b};
D.XT.prototype.fg=function(a){if("tooltip"==a)return(0,D.Fm)(this.ka);var b=a.indexOf(":"),c=a.indexOf("[");a=0<b&&0<c?(a=(0,D.$T)(this,a.substring(0,b),a.substring(b+1,c),(0,window.parseInt)(a.substring(c+1,a.length-1))))?a.xa().Aa():D.o:D.o;return a};D.XT.prototype.getDomElementForSubId=D.XT.prototype.fg;D.XT.prototype.getData=function(a,b,c){return(a=(0,D.$T)(this,a,b,c))?(b={},b.color=a.Yi(),b.tooltip=a.ed(),c=a.Zc(),b.label=c?c.Ee():D.o,b.selected=a.Fa(),b):D.o};D.XT.prototype.getData=D.XT.prototype.getData;
D.$T=function(a,b,c,d){a=a.ka.Jf;for(var e=0;e<a.length;e++){var f=a[e].Jj,g;for(g in f)if((0,D.ZT)(g)==b){if("area"==c)return f[g].eja[d];if("marker"==c)return f[g].gja[d]}}return D.o};D.ZT=function(a){var b=a.lastIndexOf(":");return 0<b?a.substring(b+1):a};
D.LS=function(a,b){this.Init(a,b)};D.z.q(D.LS,D.Vh,"DvtDrillablePath");D.y=D.LS.prototype;D.y.Init=function(a,b){D.LS.u.Init.call(this,a);this.$B=this.ZB=this.fW=this.eW=D.o;this.X6=D.p;this.Zoom=1;this.Zf=b};D.y.Xx=(0,D.x)("X6");
D.y.OM=function(a){this.X6!=a&&(this.X6=a,this.Xx()?(this.ZB=this.Ti(),this.ZB.P(D.o),this.ZB.ua(D.p),this.$B=this.Ti(),this.$B.P(D.o),this.$B.ua(D.p),a=this.getParent(),a.k(this.$B),a.k(this.ZB),this.ZB.ba((0,D.ZS)(this,this.eW,2)),this.$B.ba((0,D.ZS)(this,this.fW,4)),this.ua(D.p),this.vf=D.p):(this.vf&&(this.Di(),this.Ci.ba((0,D.ZS)(this,this.As,1),2)),this.$B.getParent().removeChild(this.$B),this.ZB.getParent().removeChild(this.ZB),this.ua(D.k),this.D(1)))};
D.y.rb=function(a){this.Ek!=a&&(a&&(this.vf?(this.jN(),this.Pm=(0,D.ZS)(this,this.Pm,2),this.Zl=(0,D.ZS)(this,this.Zl,6)):(this.Gs=(0,D.ZS)(this,this.Gs,1),this.aq=(0,D.ZS)(this,this.aq,4))),D.LS.u.rb.call(this,a))};D.y.Sb=function(){this.Fa()?(this.jN(),this.Pm=(0,D.ZS)(this,this.Pm,2),this.Zl=(0,D.ZS)(this,this.Zl,6)):this.As=(0,D.ZS)(this,this.As,2);D.LS.u.Sb.call(this)};
D.y.jN=function(){this.Pm||(this.Pm=this.As.ea(),this.Pm.sa(2),this.Zf&&(this.Pm.Qc=D.k));this.Zl||(this.Zl=this.aq.ea(),this.Zl.sa(6),this.Zf&&(this.Zl.Qc=D.k))};D.y.Ib=function(){this.Fa()&&(this.Gs=(0,D.ZS)(this,this.Gs,1),this.aq=(0,D.ZS)(this,this.aq,4));D.LS.u.Ib.call(this)};D.y.Ho=function(a,b){D.LS.u.Ho.call(this,a,b);this.Zf&&(this.As&&(this.As.Qc=D.k),this.YT&&(this.YT.Qc=D.k));return this};
D.y.Jo=function(a,b){D.LS.u.Jo.call(this,a,b);this.Zf&&(this.Gs&&(this.Gs.Qc=D.k),this.aq&&(this.aq.Qc=D.k));return this};D.y.Jp=function(a,b){D.LS.u.Jp.call(this,a,b);this.Zf&&(this.Pm&&(this.Pm.Qc=D.k),this.Zl&&(this.Zl.Qc=D.k));return this};D.$S=function(a,b,c){if(!a.Zf){var d=b.dc();d&&(d=d.ea(),d.sa(c/a.Zoom),b.ba(d))}};D.ZS=function(a,b,c){a.Zf||(b=b.ea(),b.sa(c/a.Zoom));return b};
D.aT=function(a,b){a.Zoom=b.Kd;a.Xx()?((0,D.$S)(a,a.ZB,2),(0,D.$S)(a,a.$B,4)):a.Fa()?a.vf?((0,D.$S)(a,a.Ci,2),(0,D.$S)(a,a,6)):((0,D.$S)(a,a.Ci,1),(0,D.$S)(a,a,4)):a.vf?(0,D.$S)(a,a.Ci,2):(0,D.$S)(a,a,1)};
D.KS=function(a,b,c){this.Init(a,b,c)};D.z.q(D.KS,D.D,"DvtCustomDataItem");D.y=D.KS.prototype;
D.y.Init=function(a,b,c){D.KS.u.Init.call(this,a);this.gz=b;b instanceof D.Oj?(this.Ha=b.getWidth(),this.Ja=b.getHeight(),this.k(b)):(this.Aa().appendChild(b),b=(0,D.zg)(a,this),this.Ha=b.e,this.Ja=b.g);this.Iu=new D.F(a,-5,-5,this.Ha+10,this.Ja+10);(0,D.Li)(this.Iu);a=new D.J(c.selectedInnerColor,1,2);b=new D.J("rgb(235, 236, 237)",1,4);var d=new D.J(c.selectedInnerColor,1,2),e=new D.J(c.selectedOuterColor,1,4),f=new D.J(c.selectedInnerColor,1,2);c=new D.J(c.selectedOuterColor,1,6);this.Iu.Ho(a,
b).Jo(d,e).Jp(f,c);this.Ua(this.Iu,0)};D.y.Mb=function(a,b){(0,D.Mf)()?this.Iu.Mb(a,b):D.KS.u.Mb.call(this,a,b)};D.y.ld=function(a){(0,D.Mf)()?this.Iu.ld(a):D.KS.u.ld.call(this,a)};D.y.getWidth=(0,D.x)("Ha");D.y.getHeight=(0,D.x)("Ja");D.y.Xf=function(a){this.Iu.Xf(a)};D.y.Oa=function(){return this.Iu.Oa()};D.y.Fa=function(){return this.Iu.Fa()};D.y.rb=function(a){this.Iu.rb(a)};D.y.Sb=function(){this.Iu.Sb()};D.y.Ib=function(){this.Iu.Ib()};D.y.tD=(0,D.x)("gz");
D.y.OL=function(a){this.gz instanceof D.Oj&&this.gz.OL(a)};
this?this.DvtBaseMapManager?D.JS=this.DvtBaseMapManager:(this.DvtBaseMapManager=D.JS={},D.JS._UNPROCESSED_MAPS=[[],[],[]],D.JS._UNPROCESSED_PARENT_UPDATES=[[]]):window.DvtBaseMapManager?D.JS=window.DvtBaseMapManager:(D.JS={},window.DvtBaseMapManager=D.JS,D.JS._UNPROCESSED_MAPS=[[],[],[]],D.JS._UNPROCESSED_PARENT_UPDATES=[[]]);D.z.q(D.JS,D.z,"DvtBaseMapManager");D.JS.NI=0;D.JS.TN=1;D.JS.c3=2;D.JS.b3=3;D.JS.zU=4;D.JS.Bw="__index";D.JS.jj={};
D.JS.uqa=function(a,b){D.JS.Mr();var c=D.JS.jj[a][b];return c&&(c=c[D.JS.zU])?new D.B(c[0],c[1],c[2],c[3]):D.o};D.JS.HHa=function(a,b){D.JS.Mr();var c=D.JS.jj[a][b];return c?c[D.JS.b3]:D.o};D.JS.IHa=function(a,b){D.JS.Mr();var c=D.JS.jj[a][b];return c?c[D.JS.NI]:D.o};D.JS.IIa=function(a,b,c){D.JS.Mr();a=D.JS.jj[a][b];var d;a&&(d=a[D.JS.NI]);return d&&d[c]?d[c][1]:D.o};D.JS.UHa=function(a,b){D.JS.Mr();var c=D.JS.jj[a];if(c&&(c=c.cities))if(c=c[D.JS.TN][b])return new D.H(c[0],c[1]);return D.o};
D.JS.VHa=function(a,b){D.JS.Mr();var c=D.JS.jj[a];if(c&&(c=c.cities))if(c=c[D.JS.NI][b])return c[1];return D.o};D.JS.FHa=function(a,b,c){D.JS.Mr();var d=D.JS.jj[a];if(d&&(d=d[b])){if((d=d[D.JS.b3])&&d[c])return(0,D.yF)(d[c][0]).sd();a=D.JS.jj[a][b][D.JS.TN][c];if(!a)return D.o;a=D.M.qZ(a);return D.M.G(a).sd()}return D.o};D.JS.Dqa=function(a,b){D.JS.Mr();var c=D.JS.jj[a][b];return c?D.JS.jj[a][D.JS.Bw][c.__index+1]:D.o};
D.JS.cJa=function(a,b){D.JS.Mr();return D.JS.jj[a][b]?D.JS.jj[a][D.JS.Bw][D.JS.jj[a][b].__index-1]:D.o};D.JS.nqa=function(a,b){D.JS.Mr();return D.JS.jj[a][b][D.JS.TN]};D.JS.dJa=function(a,b,c){D.JS.Mr();return D.JS.jj[a][b][D.JS.TN][c]};D.JS.THa=function(a,b){D.JS.Mr();var c=D.JS.Dqa(a,b);return c&&(c=D.JS.jj[a][c][D.JS.c3])?c:[]};D.JS.aQa=function(a,b){D.JS.Mr();return D.JS.jj[a][D.JS.Bw][b]};
D.JS.sca=function(a,b,c,d,e,f,g,h){var j=D.JS.jj[a];j||(j={},j[D.JS.Bw]=[],D.JS.jj[a]=j);a=j[b];a||(a={},j[b]=a,g!=D.o&&(j[D.JS.Bw][g]=b));a[D.JS.NI]=c;a[D.JS.TN]=d;a[D.JS.c3]=e;a[D.JS.b3]=f;a[D.JS.zU]=h;a[D.JS.Bw]=g};(0,D.ca)("DvtBaseMapManager.registerBaseMapLayer",D.JS.sca);D.JS.dta=function(a,b,c){var d=D.JS.jj[a];d||(d={},D.JS.jj[a]=d);a=d[b];a||(a={},d[b]=a);(a=d[b])&&(a[D.JS.NI]=c)};(0,D.ca)("DvtBaseMapManager.registerResourceBundle",D.JS.dta);
D.JS.Ata=function(a,b,c){if(a=D.JS.jj[a])if(b=a[b])for(var d in c)b[D.JS.NI][d]=c[d]};(0,D.ca)("DvtBaseMapManager.updateResourceBundle",D.JS.Ata);
D.JS.Mr=function(){var a,b,c=D.JS._UNPROCESSED_MAPS;if(c){for(a=0;a<c[0].length;a++)b=c[0][a],D.JS.sca(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7]);for(a=0;a<c[1].length;a++)b=c[1][a],D.JS.dta(b[0],b[1],b[2]);for(a=0;a<c[2].length;a++)b=c[2][a],D.JS.Ata(b[0],b[1],b[2]);D.JS._UNPROCESSED_MAPS=[[],[],[]]}if(c=D.JS._UNPROCESSED_PARENT_UPDATES){for(a=0;a<c[0].length;a++){b=c[0][a];var d=b[1],e=b[2],f=D.JS.jj[b[0]],g;if(f){if(d=f[d]){d[D.JS.c3]=b[3];g=d[D.JS.zU];a=d[D.JS.Bw];d=f[D.JS.Bw];d.splice(a,0,e);f[e][D.JS.Bw]=
a;for(a+=1;a<d.length;a++)(e=f[d[a]])&&e[D.JS.Bw]++}(d=f[b[2]])&&(d[D.JS.zU]=g)}}D.JS._UNPROCESSED_PARENT_UPDATES=[[]]}};D.JS.VMa=function(a,b,c,d,e,f){if(0<f){b=1/(window.Math.min(d/b,e/c)*f);if(1>=b)return a;c=[];if(a)for(var g in a)d=a[g],(0,window.isNaN)(d)&&(d=D.M.qZ(a[g])),c[g]=D.M.WMa(d,b);return c}return a};
D.WT=function(a,b){this.Init(a,b)};D.z.q(D.WT,D.z,"DvtThematicMapCategoryWrapper");D.WT.prototype.Init=function(a,b){this.qh=a;this.Jk=b};D.WT.prototype.Vc=(0,D.x)("Jk");D.WT.prototype.Nd=function(){return[this.qh]};
D.yT=function(a){this.Init(D.yT.mga);this.KAa=a};D.z.q(D.yT,D.$i,"DvtMapDrillEvent");D.yT.mga="drill";D.yT.uua=0;D.yT.i1=1;D.yT.Rva=2;D.yT.prototype.mf=(0,D.v)("an");
D.ZJ=function(a,b,c){this.Init("action");this.PB=a;this.HQ=b;this.Sm=c};(0,D.ca)("DvtMapActionEvent",D.ZJ);D.z.q(D.ZJ,D.$i,"DvtMapActionEvent");D.ZJ.TYPE="action";D.ZJ.prototype.Wk=(0,D.x)("PB");D.ZJ.prototype.getClientId=D.ZJ.prototype.Wk;D.ZJ.prototype.Raa=(0,D.x)("HQ");D.ZJ.prototype.getRowKey=D.ZJ.prototype.Raa;D.ZJ.prototype.Xe=(0,D.x)("Sm");D.ZJ.prototype.getAction=D.ZJ.prototype.Xe;
D.hT=function(a,b,c,d,e,f){this.Init(a,b,c,d,e,f)};D.z.q(D.hT,D.Nf,"DvtMapLabel");D.y=D.hT.prototype;D.y.Init=function(a,b,c,d,e,f){D.hT.u.Init.call(this,a,b,0,0);this.Zf=f;this.Qw=[];this.ua(D.p);this.df();this.Jg();this.ji=D.o;this.zr=d;this.xG=e;if(c&&(this.Qw.push((0,D.yF)(c[0])),1<c.length)){this.s7=[];for(b=1;b<c.length;b++)d=c[b],this.Qw.push((0,D.yF)(d[0])),d=new D.hp(a,d[1]),(0,D.Ti)(d),e=new D.J("#000000"),this.Zf&&(e.Qc=D.k),d.ba(e),this.s7.push(d)}};
D.y.update=function(a){a=a.Kd;for(var b=-1,c=D.af.Ch(this),d=D.p,e=0;e<this.Qw.length;e++){var f=this.Qw[e].e*a;if(c.g<=this.Qw[e].g*a)if(c.e<=f){b=e;break}else if(this.getParent()||(d=D.k,this.xG.k(this)),this.G().e<=f){b=e;break}}-1==b&&"on"==this.zr&&(b=this.Qw.length-1);this.m5!=b?(-1==b?this.reset():(this.getParent()||this.xG.k(this),c=this.Qw[b].sd(),this.Dm(c),this.s7&&(this.xG.removeChild(this.pm),this.pm=D.o,0<b?(this.pm=this.s7[b-1],this.xG.k(this.pm),d=this.oc(),d.ca("color","#000000"),
this.Na(d),d=this.Qw[b],e=this.pm.Ab(),f=e.length,d.x>e[f-2]?(this.$h(),this.Jg(),this.Dm(new D.H(d.x,c.y))):d.y>e[f-1]?(this.mo(),this.df(),this.Dm(new D.H(c.x,d.y))):d.x+d.e<e[f-2]?(this.ai(),this.Jg(),this.Dm(new D.H(d.x+d.e,c.y))):d.y+d.g<e[f-1]&&(this.Pr(),this.df(),this.Dm(new D.H(c.x,d.y+d.g)))):(this.df(),this.Jg(),d=this.oc(),d.ca("color",this.sla),this.Na(d)))),this.m5=b):-1==b&&d&&this.xG.removeChild(this);-1!=this.m5&&(b=new D.Ej,b.translate(a*this.ji.x-this.ji.x,a*this.ji.y-this.ji.y),
this.Ga(b),this.pm&&(this.pm.Ga(new D.Ej(a,0,0,a)),this.Zf||(b=this.pm.dc().ea(),b.sa(1/a),this.pm.ba(b))))};D.y.Dm=function(a){this.ji=a;this.ha(a.x);this.ya(a.y)};D.y.sd=(0,D.x)("ji");D.y.Na=function(a){D.hT.u.Na.call(this,a);this.sla||(this.sla=a.C("color"))};D.y.reset=function(){this.xG.removeChild(this);this.m5=-1;this.pm&&(this.xG.removeChild(this.pm),this.pm=D.o)};
D.nT=function(a,b,c,d,e){this.Init(a,b,c,d,e)};D.z.q(D.nT,D.z,"DvtMapObjPeer");D.y=D.nT.prototype;
D.y.Init=function(a,b,c,d,e){this.wa=a;this.jq=b;this.Fb=c;this.Ub=this.yl=this.Qh=D.p;this.Fb.NM&&this.Fb.NM(a.color);this.Lb=d;this.ji=e;this.Tk=1;this.K=b.ka;this.wa.categories||this.Lb&&(this.wa.categories=[this.Lb.Ee()]);c=a.location;"auto"==this.K.qja&&c&&(b=b.uQ,(b=!(b instanceof D.cT)||b instanceof D.pT?D.JS.VHa(this.K.kk,c):D.JS.IIa(this.K.kk,b.Hh,c))&&(this.wa.shortDesc=a.shortDesc?b+": "+a.shortDesc:b));this.Fb&&(a.destination?(this.Fb.ld("link"),this.Fb.setCursor("pointer"),this.w7=D.C.mD("_blank",
a.destination)):this.Fb.ld("img"));this.Rm()};D.y.getId=function(){return this.wa.id};D.y.Wk=function(){return this.wa.clientId};D.y.Xk=function(){return this.wa.location};D.y.sd=(0,D.x)("ji");D.y.Dm=function(a){this.ji=a;this.JU()};D.y.xa=(0,D.x)("Fb");D.y.Zc=(0,D.x)("Lb");D.y.Xi=(0,D.x)("jq");D.y.Xe=function(){return this.wa.action};D.y.sb=function(a){this.Fb.sb(a);this.Lb&&this.Lb.sb(a)};D.y.ed=function(){return this.wa.shortDesc};
D.y.$c=function(){return this.Fb.getWidth?this.Fb.getWidth()*this.Fb.getHeight():0};D.y.Vc=function(){return this.wa.categories};D.y.Ne=function(){if("none"!=this.K.qja){var a=this.K.A().tooltip;return a?(0,D.$p)(this.K.j().jd(),a,this.Fv()):this.ed()}return D.o};D.y.Fv=function(){return{id:this.getId(),label:this.Lb?this.Lb.Ee():D.o,color:this.Yi(),location:this.Xk(),x:this.wa.x,y:this.wa.y}};D.y.mD=(0,D.x)("w7");D.y.Yi=function(){return this.wa.color?this.wa.color:"#000000"};
D.y.nc=function(){var a=[];this.Oa()&&a.push((0,D.O)("DvtUtilBundle",this.Fa()?"STATE_SELECTED":"STATE_UNSELECTED"));return(0,D.Hk)(this.ed(),a)};D.y.Nd=function(){return[this.xa()]};D.y.Rm=function(){if(!(0,D.df)()){var a=this.nc();a&&this.Fb.Mb("label",a)}};D.y.Xf=function(a){this.Fb.Xf&&this.Fb.Xf(a)};D.y.Oa=function(){return this.Fb.Oa?this.Fb.Oa():D.p};D.y.Fa=(0,D.x)("Qh");
D.y.rb=function(a){if(this.Oa()){var b=this.Ki();this.Qh=a;this.jq.A().selectionRenderer?(0,D.AT)(this,this.jq.A().selectionRenderer,this.Ki(),b):this.PA(a);this.Rm()}};D.y.Sb=function(){var a=this.Ki();this.yl=D.k;this.jq.A().hoverRenderer?(0,D.AT)(this,this.jq.A().hoverRenderer,this.Ki(),a):this.hs(D.k)};D.y.Ib=function(){var a=this.Ki();this.yl=D.p;this.jq.A().hoverRenderer?(0,D.AT)(this,this.jq.A().hoverRenderer,this.Ki(),a):this.hs(D.p)};D.y.WM=(0,D.v)("xd");D.y.Hd=(0,D.x)("xd");
D.y.Ej=function(a){for(var b=this.jq.Wk(),c=0;c<a.length&&a[c]!=b;c++);return b};D.y.tk=function(){return this.jq.FB(this)};D.y.St=function(){return this.jq.EB()};D.y.Yd=function(a){return a.type==D.vn?this:32==a.keyCode&&a.ctrlKey?this:(0,D.wn)(this,a,this.wea())};D.y.wea=function(){return(0,D.BT)(this.Xi().ka)};D.y.Ye=function(a){return this.Fb.getParent()?this.Fb instanceof D.KS?this.Fb.G(a?a:this.Fb.j().Lc):this.Fb.G(a):new D.B(0,0,0,0)};D.y.Vj=function(){return this.Fb.Aa()};
D.y.Be=function(){var a=this.Ki();this.Ub=D.k;this.jq.A().focusRenderer?(0,D.AT)(this,this.jq.A().focusRenderer,this.Ki(),a):this.$v(D.k)};D.y.qc=function(){if(this.Ic()){var a=this.Ki();this.Ub=D.p;this.jq.A().focusRenderer?(0,D.AT)(this,this.jq.A().focusRenderer,this.Ki(),a):this.$v(D.p)}};D.y.Ic=(0,D.x)("Ub");D.y.ph=function(a){this.Fb.getParent()&&(this.Tk=a.Kd,this.JU())};
D.y.h0=function(){if(this.Lb){this.Lb.df();var a=this.Fb.Vi()*this.Tk,b=this.Fb.Wi()*this.Tk,c=this.Fb.getHeight(),d=this.Fb instanceof D.Qn?this.Fb.Xa():"image",e=this.wa.labelPosition;"top"==e?(b=b-c/2-4,this.Lb.Pr()):"bottom"==e?(b+=c/2,this.Lb.mo()):(b="triangleUp"==d?b+c/6:"triangleDown"==d?b-c/6:b,this.Lb.Jg());this.Lb.ha(a).ya(b)}};
D.y.JU=function(){var a=this.Fb.getWidth(),b=this.Fb.getHeight();if(a!=D.o&&b!=D.o&&this.Fb.getParent()){var c=0,d=this.ji.x,c=this.ji.y;this.Fb.Ov&&(c=this.Fb.Ov(),d=this.ji.x*window.Math.cos(c)-this.ji.y*window.Math.sin(c),c=this.ji.x*window.Math.sin(c)+this.ji.y*window.Math.cos(c));d=this.ji.x*this.Tk-d;c=this.ji.y*this.Tk-c;this.Fb instanceof D.KS&&(d+=this.ji.x-a/2,c+=this.ji.y-b/2);(0,D.Ik)(this.Fb,d,c);(0,D.wp)(this.Fb);this.h0()}};
D.y.Cf=function(a,b){var c=new D.jo(this.K.j(),this.Fb,this.Xi().Ma()),d=b.xa();if(this.Fb.kc){var e=d.kc(),f=this.Fb.kc();f instanceof D.xo&&!(f.zb()==e.zb()&&f.ma()==e.ma())&&(this.Fb.P(e),b.Zc()&&this.Lb&&(e=this.Lb.kc(),this.Lb.P(b.Zc().kc().ea()),(0,D.T)(c.O,"typeFill",this.Lb,this.Lb.kc,this.Lb.P,e)),(0,D.T)(c.O,"typeFill",this.Fb,this.Fb.kc,this.Fb.P,f))}if(this.Fb.Rt&&(f=b.xa().Rt(),e=this.Fb.Rt(),f.x!=e.x||f.y!=e.y||f.e!=e.e||f.g!=e.g))this.Fb.TA(f),(0,D.T)(c.O,"typeRectangle",this.Fb,this.Fb.Rt,
this.Fb.TA,e);f=d.Ov();e=this.Fb.Ov();if(f!=e){var g=f-e;g>window.Math.PI?f-=2*window.Math.PI:g<-window.Math.PI&&(f+=2*window.Math.PI);this.Fb.Xj(f);(0,D.T)(c.O,"typeNumber",this.Fb,this.Fb.Ov,this.Fb.Xj,e)}var g=b.sd(),h=this.sd();if(g&&h&&(g.x!=h.x||g.y!=h.y||f!=e))this.Dm(new D.H(g.x,g.y)),(0,D.T)(c.O,"typePoint",this,this.sd,this.Dm,new D.H(h.x,h.y));this.Lb&&b.Zc()?(f=b.Zc().pa(),e=this.Lb.pa(),f!=e&&(this.Lb.ha(f),(0,D.T)(c.O,"typeNumber",this.Lb,this.Lb.pa,this.Lb.ha,e)),f=b.Zc().qa(),e=this.Lb.qa(),
f!=e&&(this.Lb.ya(f),(0,D.T)(c.O,"typeNumber",this.Lb,this.Lb.qa,this.Lb.ya,e)),b.Zc().D(0)):b.Zc()&&b.Zc().D(0);d.D(0);a.add(c,1)};D.y.bi=function(a){var b=[this.Fb],c=this.Zc();c&&b.push(c);b=new D.lo(this.K.j(),b,this.Xi().Ma());a.add(b,0)};D.y.Vg=function(a){var b=[this.Fb];this.Fb.D(0);var c=this.Zc();c&&(c.D(0),b.push(c));b=new D.Jn(this.K.j(),b,this.Xi().Ma());a.add(b,2)};D.y.PA=function(a){this.Fb.rb&&this.Fb.rb(a)};D.y.$v=function(a){this.hs(a)};
D.y.hs=function(a){a?this.Fb.Sb&&this.Fb.Sb():this.Fb.Ib&&!this.Ic()&&this.Fb.Ib()};D.AT=function(a,b,c,d){if(a.Fb instanceof D.KS){var e=a.K.A()._contextHandler;e&&(c=e(a.Fb.Aa(),a.Fb.tD(),a.wa,c,d),b=b(c),a=a.Fb,a.gz!==b&&(a.gz&&(a.gz instanceof D.Oj?a.removeChild(a.gz):a.Aa().removeChild(a.gz)),b instanceof D.Oj?a.k(b):a.Aa().appendChild(b),a.gz=b))}};D.nT.prototype.Ki=function(){return{hovered:this.yl,selected:this.Fa(),focused:this.Ic()}};
D.mT=function(a,b,c,d){this.Init(a,b,c,d)};D.z.q(D.mT,D.nT,"DvtMapAreaPeer");D.y=D.mT.prototype;D.y.Init=function(a,b,c,d){D.mT.u.Init.call(this,a,b,c,d)};D.y.rb=function(a){this.Oa()&&(a&&!this.yl&&this.Zm.k(this.Fb),D.mT.u.rb.call(this,a))};D.y.Sb=function(){this.Zm.k(this.Fb);D.mT.u.Sb.call(this)};D.y.Ib=function(){this.Fa()?this.Zm.k(this.Fb):this.Zm.Ua(this.Fb,0);D.mT.u.Ib.call(this)};D.y.Xx=function(){return this.Fb.Xx()};D.y.OM=function(a){a?this.Zm.k(this.Fb):this.Zm.Ua(this.Fb,0);this.Fb.OM(a)};
D.y.ph=function(a){D.mT.u.ph.call(this,a);this.Fb.getParent()&&((0,D.aT)(this.Fb,a),this.Xx()||this.h0(a))};D.y.h0=function(a){this.Zc()&&this.Zc().update(a)};D.y.wea=function(){return(0,D.oT)(this.Xi().ka)};D.y.Cf=function(a,b){D.mT.u.Cf.call(this,a,b);this.Xi().uQ.Bt[this.Xk()]=D.p};D.y.JU=(0,D.t)();
D.bT=function(a,b,c,d){this.Init(a,b,c,d)};D.z.q(D.bT,D.D,"DvtMapArea");D.y=D.bT.prototype;D.y.Init=function(a,b,c,d){D.bT.u.Init.call(this,a);this.Qh=this.$E=D.p;this.lza=c;this.I=b;this.k(this.I);this.Zf=d;if(a=b.dc())this.Mha=a.getWidth()};D.y.ye=(0,D.x)("Xh");D.y.jw=(0,D.v)("Xh");D.y.dc=function(){return this.I instanceof D.cj?this.I.dc():D.o};D.y.ba=function(a){this.I instanceof D.cj&&this.I.ba(a)};D.y.P=function(a){this.I instanceof D.cj&&this.I.P(a)};
D.y.kc=function(){return this.I instanceof D.cj?this.I.kc():D.o};D.y.jA=function(){return this.I instanceof D.Vh?this.I.jA():D.o};D.y.Ij=function(a){this.I instanceof D.Vh&&this.I.Ij(a)};D.y.aI=function(a){this.I instanceof D.Ve&&this.I.aI(a)};D.y.gH=function(){return this.I.Ti()};D.y.contains=function(a,b){var c=this.G();return a>=c.x&&a<=c.x+c.e&&b>=c.y&&b<=c.y+c.g};D.y.ph=function(a){if(!this.Zf&&this.I&&this.Mha){var b=this.I.dc().ea();b.sa(this.Mha/a.Kd);this.I.ba(b)}};
D.dT=function(a,b,c){this.Init(a,b,c)};D.z.q(D.dT,D.z,"DvtMapLayer");D.y=D.dT.prototype;D.y.Init=function(a,b,c){this.ka=a;this.Hh=b;this.p1=c;this.Jj={};this.Oo=new D.Ej};D.y.Lfa=(0,D.t)();D.y.E2=(0,D.t)();
D.y.$ca=function(a,b){this.jb&&this.jb.stop(D.k);this.Oo=b;this.yt=this.Xi(a.Wk());this.Jj[a.Wk()]=a;a.U(this.Oo);a.ph(new D.SC("zoomed"),this.Oo);if(this.yt){var c=a.Ur(),d=a.Ma();if("auto"==c){var e=new D.Gn(this.ka.j());(0,D.Hn)(e,this.yt.gk.concat(this.yt.Wc),a.gk.concat(a.Wc));this.jb=e.Ur()}else if(D.wl.isSupported(c)){this.Wna=D.k;for(var f=new D.B(0,0,this.ka.getWidth(),this.ka.getHeight()),g=(0,D.sT)(this.yt),e=0;e<g.length;e++){var h=new D.F(this.ka.j(),0,0,this.ka.getWidth(),this.ka.getHeight());
h.P(D.o);g[e].k(h)}for(var j=(0,D.sT)(a),e=0;e<j.length;e++)h=new D.F(this.ka.j(),0,0,this.ka.getWidth(),this.ka.getHeight()),h.P(D.o),j[e].k(h);f=D.wl.fD(this.ka.j(),c,g,j,f,d);g=new D.B(0,0,this.ka.getWidth()/this.Oo.Kd,this.ka.getHeight()/this.Oo.Kd);j=[this.yt.Zm];for(e=0;e<j.length;e++)h=new D.F(this.ka.j(),0,0,this.ka.getWidth()/this.Oo.Kd,this.ka.getHeight()/this.Oo.Kd),h.P(D.o),j[e].k(h);for(var l=[a.Zm],e=0;e<l.length;e++)h=new D.F(this.ka.j(),0,0,this.ka.getWidth()/this.Oo.Kd,this.ka.getHeight()/
this.Oo.Kd),h.P(D.o),l[e].k(h);e=D.wl.fD(this.ka.j(),c,j,l,g,d);this.jb=new D.ho(this.ka.j(),[f,e])}else{c=[this.yt.Zm,this.yt.Ww,this.yt.NO];for(e=0;e<c.length;e++)c[e].getParent().removeChild(c[e])}this.Lfa();if(this.jb){this.p1.zk(this.ta);var m=this;this.jb.le(function(){m.br(a)},this);this.jb.play()}}else this.E2(),(0,D.zT)(this.ka)};D.y.Xi=function(a){return this.Jj?this.Jj[a]:D.o};D.y.U=function(a){this.Oo=a;for(var b in this.Jj)this.Jj[b].U(a)};
D.y.reset=function(a,b){for(var c in this.Jj)this.Jj[c].reset(a,b)};D.y.ph=function(a,b){this.Oo=b;for(var c in this.Jj)this.Jj[c].ph(a,b)};D.y.vw=function(a){this.Oo=a;for(var b in this.Jj)this.Jj[b].vw(a)};
D.y.br=function(a){if(this.yt)for(var b=[this.yt.Zm,this.yt.Ww,this.yt.NO],c=0;c<b.length;c++){var d=b[c].getParent();d&&d.removeChild(b[c])}if(this.Wna){this.Wna=D.p;b=(0,D.sT)(a);for(c=0;c<b.length;c++)b[c].js(b[c].Ka()-1);a=[a.Zm];for(c=0;c<a.length;c++)a[c].js(a[c].Ka()-1)}this.E2();(0,D.zT)(this.ka);this.jb=D.o;this.p1.We(this.ta)};
D.cT=function(a,b,c,d,e){this.Init(a,b,c,d,e)};D.z.q(D.cT,D.dT,"DvtMapAreaLayer");D.y=D.cT.prototype;D.y.Init=function(a,b,c,d,e){D.cT.u.Init.call(this,a,b,e);this.zr=c;this.ula=d;this.eO={};this.Lo={};this.ps={};this.lK=this.ku=D.o;this.an=[];this.Bt={};this.Ct={};this.eY={};this.hI=new D.D(this.ka.j());this.EN=new D.D(this.ka.j());this.ka.S3.Ua(this.hI,0);this.ka.kx.Ua(this.EN,0);this.ul=new D.eT(this,this.ka.kk)};D.y.t0=(0,D.v)("M3");D.y.Ur=(0,D.x)("M3");D.y.cw=(0,D.v)("L3");D.y.Ma=(0,D.x)("L3");
D.y.rIa=(0,D.x)("ul");D.fT=function(a,b){a.ku=b;for(var c in a.ku)a.Bt[c]=D.k,a.Ct[c]=D.k};D.cT.prototype.Sqa=function(a){return!this.lK?D.o:this.lK[a]};D.gT=function(a,b){return a.ql[b]?a.ql[b].split(","):[]};D.cT.prototype.UZ=(0,D.x)("zr");
D.cT.prototype.mH=function(){if(!this.nK)if(this.hK)this.nK=D.M.G(D.M.qZ(D.JS.dJa(this.ka.kk,this.Hh,this.hK)));else if("world"!=this.ka.kk&&"worldRegions"!=this.ka.kk&&(this.nK=D.JS.uqa(this.ka.kk,this.Hh)),!this.nK){var a=(0,D.tp)(this.hI.G(),this.ka.LO.G());0<a.e&&0<a.g&&(this.nK=a)}return this.nK};
D.iT=function(a,b,c){var d=a.ps[b];if(d&&((c||!a.Lo[b])&&a.zta(b),a.Lo[b]||(c=new D.bT(a.ka.j(),d,b,a.ka.Zf),a.Lo[b]=c,a.p1.Da(d,c),c.jw(a.ku&&a.ku[b]?a.ku[b][1]:D.o)),a.Ct[b]&&(c=a.eO[b],!c&&("off"!=a.zr&&a.ku)&&(c="short"==a.ula?a.ku[b][0]:a.ku[b][1]))))a.lK&&a.lK[b]?c=new D.hT(a.ka.j(),c,a.lK[b],a.zr,a.EN,a.ka.Zf):(d=(0,D.zg)(a.ka.j(),d),c=new D.hT(a.ka.j(),c,[[d.x,d.y,d.e,d.g]],a.zr,a.EN,a.ka.Zf)),a.eO[b]=c,a.p7&&c.Na(a.p7)};
D.jT=function(a,b,c){if(a.ps[b]){a.hI.k(a.Lo[b]);var d=a.eO[b];d&&(a.Ct[b]?d.update(a.Oo):d.reset(),a.eY[b]=a.Ct[b]);c&&(c.push(a.Lo[b]),d&&(c.push(d),c.push(d.pm)))}};D.y=D.cT.prototype;
D.y.zta=function(a){if(!this.Ana||this.dia){this.dia=D.p;var b;this.Ana=(b="world"==this.ka.kk||"worldRegions"==this.ka.kk?D.JS.uqa(this.ka.kk,this.Hh):this.mH())?D.JS.VMa(D.JS.nqa(this.ka.kk,this.Hh),b.e,b.g,this.ka.getWidth(),this.ka.getHeight(),this.ka.XG?this.ka.rX:1):D.JS.nqa(this.ka.kk,this.Hh)}b=this.Ana[a];this.ps[a]&&b?this.ps[a].Ij(b):delete this.ps[a]};D.y.$ca=function(a,b,c){D.cT.u.$ca.call(this,a,b,c);if(c==this.Hh)for(var d in this.ps)(0,D.iT)(this,d,D.k),this.Bt[d]&&(0,D.jT)(this,d)};
D.y.U=function(a){this.dia=D.k;for(var b in this.ps)(0,D.iT)(this,b,D.k),this.Bt[b]&&(0,D.jT)(this,b);D.cT.u.U.call(this,a)};D.y.Lfa=function(){for(var a in this.Bt)this.Bt[a]||((0,D.iT)(this,a,D.p),(0,D.jT)(this,a))};D.y.E2=function(){for(var a in this.Bt)if(!this.Bt[a]){this.hI.removeChild(this.Lo[a]);var b=this.eO[a];b&&(this.eY[a]=D.p,this.EN.removeChild(b),(b=b.pm)&&this.EN.removeChild(b))}};
D.y.S$=function(a,b){for(var c=0;c<a.length;c++)(0,D.iT)(this,a[c],D.p),this.Bt[a[c]]&&(0,D.jT)(this,a[c],b);for(var d in this.Jj)this.Jj[d].S$(a,b,this.Oo);this.an=this.an.concat(a)};D.y.pT=function(a,b){for(var c in this.Jj)this.Jj[c].pT(a,b);c=(0,D.kT)(this.ka,this.Hh);for(var d=0;d<a.length;d++){var e=a[d];if(this.Lo[e]){var f=D.eg.Sa(this.an,e);-1!==f&&(this.an.splice(f,1),b.push(this.Lo[e]))}c&&c.pT((0,D.gT)(this,e),b)}};
D.y.reset=function(a,b){D.cT.u.reset.call(this,a,b);"none"!=this.ka.bn&&(this.pT(this.an,a),this.an=[])};D.lT=function(a,b,c){for(var d in a.Lo)if(a.Lo[d].contains(b,c))return a.Lo[d];return D.o};
D.cT.prototype.uu=function(a){this.If&&(this.hI.removeChild(this.If),this.If=D.o);if(a&&(this.If=a.gH()))this.If.P(new D.xo(this.bP.C("background-color"))),a=this.bP.C("border-width")?this.bP.C("border-width").substring(0,this.bP.C("border-width").indexOf("px")):1,this.ka.Zf||(a/=this.Oo.Kd),a=new D.J(this.bP.C("border-color"),1,a),this.ka.Zf&&(a.Qc=D.k),this.If.ba(a),this.hI.k(this.If);return this.If};
D.cT.prototype.ph=function(a,b){D.cT.u.ph.call(this,a,b);if(!this.ka.Zf)for(var c in this.Lo)this.Lo[c].ph(b);for(c in this.eY)if(this.eY[c]){var d=this.eO[c];d&&d.update(b)}};
D.pT=function(a,b,c,d,e){this.Init(a,b,c,d,e)};D.z.q(D.pT,D.cT,"DvtMapCustomAreaLayer");D.pT.prototype.Init=function(a,b,c,d,e){D.pT.u.Init.call(this,a,b,c,d,e)};D.pT.prototype.zta=(0,D.t)();D.pT.prototype.mH=function(){return new D.B(0,0,this.DCa,this.CCa)};D.qT=function(a){var b=a.ka.getWidth(),c=a.ka.getHeight();a=a.kza;for(var d=0;d<a.length;d++){var e=a[d],f=e.source,g=e.width,e=e.height;if(f&&-1<f.search(".svg")||g>=b&&e>=c||d==a.length-1)return f}};
D.pT.prototype.ph=function(a,b){D.pT.u.ph.call(this,a,b);if(this.Lo.image){var c=(0,D.qT)(this);c!=this.NW&&(this.NW=c,this.Lo.image.aI(this.NW))}};
D.rT=function(a,b,c,d,e){this.Init(a,b,c,d,e)};D.z.q(D.rT,D.z,"DvtMapDataLayer");D.rT.prototype.Init=function(a,b,c,d,e){this.ka=a;this.PB=c;this.je=e;this.Wc=[];this.gk=[];this.eja=[];this.gja=[];this.hb=d;this.Cd=new D.Nu(a.j());(0,D.Br)(this.hb,this.Cd);this.Zm=new D.D(this.ka.j());this.Ww=new D.D(this.ka.j());this.NO=new D.D(this.ka.j());this.ka.LO.Ua(this.Zm,0);this.ka.hz.Ua(this.Ww,0);this.ka.kx.Ua(this.NO,0);this.uQ=b;this.an=[];this.Zo=[]};D.rT.prototype.A=(0,D.x)("je");
D.sT=function(a){var b=[a.NO];a.ka.Az&&b.push(a.Ww);return b};D.tT=function(a){for(var b=[],c=0;c<a.Wc.length;c++)a.Wc[c].Xx()||b.push(a.Wc[c]);return b};D.uT=function(a){for(var b=[],c=0;c<a.Wc.length;c++)for(var d=0;d<a.an.length;d++)a.Wc[c].Xk()==a.an[d]&&(a.Wc[c].Xx()||b.push(a.Wc[c]));return b};D.vT=function(a,b){a.gja.push(b);b&&(a.gk.push(b),a.hb.Da(b.xa(),b))};D.wT=function(a,b){a.eja.push(b);b&&(a.Wc.push(b),a.hb.Da(b.xa(),b),b.Zm=a.Zm)};D.y=D.rT.prototype;D.y.Wk=(0,D.x)("PB");D.y.t0=(0,D.v)("M3");
D.y.Ur=(0,D.x)("M3");D.y.cw=(0,D.v)("L3");D.y.Ma=(0,D.x)("L3");D.y.hw=function(a){if(this.xq=a)this.Ob=new D.sl(this.xq),this.hb.ju(this.PB,this.Ob)};D.y.Oa=function(){return this.xq!=D.o};D.xT=function(a,b){var c;c=a.Wc[b];var d=c.xa(),e=a.uQ.ps[c.Xk()];e?(d.Ij(e.jA()),c=D.k):(c=a.Wc.indexOf(c),-1!==c&&a.Wc.splice(c,1),c=D.p);if(c){d=a.Wc[b].xa();a.Zm.k(d);if(c=a.Wc[b].Zc())0<c.Qw.length||(d=d.G(),c.Qw.push(d)),c.update(a.QK);return D.k}return D.p};D.y=D.rT.prototype;
D.y.U=function(a){this.Tha=D.k;this.QK=a;a={};var b=this.gk.slice();b.sort(function(a,b){return a.$c()<b.$c()?1:a.$c()>b.$c()?-1:0});for(var c=0;c<b.length;c++){var d=b[c],e=d.xa(),f=d.Zc();if(f){var g=new D.D(e.j());this.Ww.k(g);g.k(e);g.k(f);d.h0()}else this.Ww.k(e);(d=d.Xk())&&(a[d]=D.k)}for(c=0;c<this.Wc.length;c++)a[this.Wc[c].Xk()]&&(this.Wc[c].Lb=D.o),(0,D.xT)(this,c)||c--;this.L6&&this.Oz()};
D.y.S$=function(a,b,c){this.QK=c;for(var d=[],e=0;e<a.length;e++)for(var f=0;f<this.Wc.length;f++)if(this.Wc[f].Xk()==a[e]){d.push(this.Wc[f].Xk());(0,D.xT)(this,f);var g=this.Wc[f].xa();b.push(g);(0,D.aT)(g,c);if(f=this.Wc[f].Zc())b.push(f),(f=f.pm)&&b.push(f);break}for(f=0;f<this.gk.length;f++)for(e=0;e<a.length;e++)c=this.gk[f].Xk(),g=this.gk[f].xa(),c!=D.o?c==a[e]&&(this.Ww.k(g),b.push(g)):(this.Ww.k(g),b.push(g));this.an=this.an.concat(d)};
D.y.pT=function(a,b){for(var c=0;c<a.length;c++)for(var d=0;d<this.Wc.length;d++)if(this.Wc[d].Xk()==a[c]){this.Wc[d].Xx()&&this.Wc[d].OM(D.p);this.Wc[d].Fa()&&this.Ob.RS(this.Wc[d]);var e=D.eg.Sa(this.an,a[c]);if(-1<e&&(this.an.splice(e,1),b.push(this.Wc[d].xa()),d=this.Wc[d].Zc()))b.push(d),b.push(d.pm);break}};
D.y.reset=function(a,b){if(this.Ob)for(var c=this.Ob.getSelection(),d=0;d<c.length;d++)(!b||b&&-1==D.eg.Sa(b,c[d].Xk()))&&this.Ob.RS(c[d]);if("none"!=this.ka.bn)for(c=0;c<this.Zo.length;c++){for(d=0;d<this.Wc.length;d++)if(this.Wc[d].Xk()==this.Zo[c]){this.Wc[d].OM(D.p);var e=this.Wc[d].xa();this.Zm.k(e);a.push(e);if(d=this.Wc[d].Zc())d.update(this.QK),a.push(d),a.push(d.pm);break}for(d=0;d<this.gk.length;d++)if(this.gk[d].Xk()==this.Zo[c]){e=this.gk[d].xa();this.Ww.k(e);a.push(e);break}}this.Zo=
[]};D.y.ph=function(a,b){this.QK=b;var c=b.Kd,d=a.Dj();if(this.Tha&&"zoomed"==d){this.Tha=D.p;for(d=0;d<this.Wc.length;d++){var e=this.Wc[d].xa(),f=e.$Da;if(f){var g=new D.nh;f.Ge(g);g.Ga(new D.Ej(1/c,D.o,D.o,1/c));e.P(g)}}}d=this.Wc;for(c=0;c<d.length;c++)d[c].ph(b);if(this.ka.Az){d=this.gk;for(c=0;c<d.length;c++)d[c].ph(b)}};D.y.vw=(0,D.v)("QK");D.y.Oz=function(){this.Ob&&((0,D.om)(this.Ob,this.L6,this.gk.concat(this.Wc)),this.L6=D.o)};
D.y.FB=function(a){if(this.Ob){a.Fa()||(this.Ob.Cm(a,D.p),this.hb.Dv(a));a=[];for(var b=this.Ob.getSelection(),c=0;c<b.length;c++)a.push(b[c].getId());return a}return D.o};D.y.EB=function(){for(var a=[],b=this.Ob.getSelection(),c=0;c<b.length;c++)a.push(b[c].xa());return a};
D.GT=function(a,b){this.Init(a,b)};D.z.q(D.GT,D.Aq,"DvtThematicMapKeyboardHandler");D.y=D.GT.prototype;D.y.Init=function(a,b){D.GT.u.Init.call(this,a,b);this.ka=a};D.y.BA=function(a){return this.Xg(a)&&!a.ctrlKey};
D.y.Hj=function(a){var b=a.keyCode;if(221==b){var b=this.ra.Od(),c=(0,D.BT)(this.ka);b instanceof D.mT&&0<c.length&&(b=(0,D.wn)(b,a,c));(0,D.eU)(this.ra,b)}else 219==b?(b=this.ra.Od(),c=(0,D.oT)(this.ka),!(b instanceof D.mT)&&0<c.length&&(b=(0,D.wn)(b,a,c)),(0,D.eU)(this.ra,b)):(b=D.GT.u.Hj.call(this,a),this.Xg(a)&&!a.ctrlKey&&(0,D.eU)(this.ra,b));return b};D.y.cu=function(a){return 32==a.keyCode&&a.ctrlKey};
D.y.Xg=function(a){var b=D.GT.u.Xg.call(this,a);if(!b&&(a=a.keyCode,219==a||221==a))b=D.k;return b};
D.FT=function(a,b,c){this.Init(a,b,c)};D.z.q(D.FT,D.hk,"DvtThematicMapEventManager");D.y=D.FT.prototype;D.y.Init=function(a,b,c){D.FT.u.Init.call(this,a,b,c);this.Wz={};this.ka=c;this.Mw=D.p};D.y.nh=function(a){if(a&&a.Xi)return this.Wz[a.Xi().Wk()]};D.y.ju=function(a,b){this.Wz[a]=b};D.y.Mca=(0,D.v)("bn");D.y.RS=function(a,b){var c=this.Wz[a];c&&c.RS(b)};D.y.JL=function(a){(a=this.Wz[a])&&a.JL()};
D.y.zy=function(a){var b=(0,D.Xj)(this,a.target);b&&(b.Hd&&b.Xi)&&(this.ka.KJ=b.Xi().Wk());D.FT.u.zy.call(this,a)};D.y.Lm=function(a){this.ka.KJ=D.o;D.FT.u.Lm.call(this,a)};D.y.Ih=function(a){var b=(0,D.Xj)(this,a.target);(0,D.eU)(this,b);if(!b||!b.Oa||!b.Oa())for(var c in this.Wz)if(this.Wz[c].Cm(D.o,a.ctrlKey)){var d=new D.yn([]);(0,D.km)(d,"clientId",c);this.pb.call(this.ta,d)}D.FT.u.Ih.call(this,a);this.FF(b,a.pageX,a.pageY)};
D.y.FF=function(a,b,c){if(a instanceof D.nT){var d=a.mD();d?d.call():a.Xe()!=D.o?(0,D.fU)(this,a,b,c):a.Hd()&&(this.ka.KJ=a.Xi().Wk())}};D.fU=function(a,b,c,d){var e=new D.ZJ(b.Wk(),b.getId(),b.Xe());(0,D.km)(e,"clientId",b.Xi().Wk());c!=D.o&&d!=D.o&&(b=(0,D.nv)(a.ka.j(),c,d),(0,D.km)(e,"pointXY",{x:b.x,y:b.y}));a.Mc();a.pb.call(a.ta,e)};
D.eU=function(a,b){var c=D.o,d=D.o,e=D.o;b&&(b instanceof D.nT?e=b.xa():b instanceof D.bT&&(e=b),b.Xi&&(d=b.Xi(),c=d.Wk(),d=d.uQ.Hh));var f=a.ka;f.fm=d;f.cz=c;f.CV=e};D.y=D.FT.prototype;D.y.xy=function(a){a=(0,D.Xj)(this,a.target);this.nh(a)&&(this.bn&&"none"!=this.bn)&&(a=new D.yT(D.yT.i1),this.pb.call(this.ta,a))};
D.y.Jh=function(a){var b=D.k,c=a.keyCode,d=this.Od(),e=d.xa();9!=c&&this.Mw?(e.OL(a),a.preventDefault()):(48==c||96==c)&&a.ctrlKey&&a.shiftKey?(this.ka.Aca(),a.preventDefault()):220==c?((d=this.ka.cd)&&(d instanceof D.iv?(0,D.jv)(d,!d.isCollapsed()):d instanceof D.is&&d.mf(!d.lb())),a.preventDefault()):13==c?d instanceof D.nT?(a=d.mD())?a.call():d.Xe()!=D.o&&(0,D.fU)(this,d):(a.shiftKey?this.ka.T$():this.ka.sZ(),a.preventDefault()):32==c&&a.ctrlKey?((0,D.eU)(this,d),(0,D.nz)(this,d,D.k),a.preventDefault()):
(48==c||96==c)&&a.ctrlKey?(a.altKey?(d=this.ka,e||(e=d.rpa),e||(e=d.CV),d.WG(e.G())):(0,D.OT)(this.ka),a.preventDefault()):9==c&&e instanceof D.KS?!a.shiftKey&&d.Ic()?(d.qc(),e.OL(a),a.preventDefault(),this.Mw=D.k):(a.shiftKey&&this.Mw?(this.LI(a,d),a.preventDefault()):(this.Mw&&d.Be(),b=D.FT.u.Jh.call(this,a)),this.Mw=D.p):b=D.FT.u.Jh.call(this,a);return b};
D.y.oB=function(a){var b=(0,D.Xj)(this,a.target);(0,D.eU)(this,b);if(b instanceof D.GS)for(var c in this.Wz)if(this.Wz[c].Cm(D.o,a.ctrlKey)){for(var d=this.Wz[c].getSelection(),e=[],f=0;f<d.length;f++)e.push(d[f].getId());d=new D.yn(e);this.pb.call(this.ta,d)}D.FT.u.oB.call(this,a);this.FF(b,a.In.pageX,a.In.pageY)};D.y.V1=function(a){a=(0,D.Xj)(this,a.target);this.ka.KJ=a&&a.Hd&&a.Xi?a.Xi().Wk():D.o};D.y.Zea=function(a){a=(0,D.Xj)(this,a.target);this.ka.KJ=a&&a.Hd&&a.Xi?a.Xi().Wk():D.o};
D.y.jB=function(a){var b=(0,D.Xj)(this,a.target);b&&(this.nh(b)&&this.bn&&"none"!=this.bn)&&((0,D.nz)(this,b,a.ctrlKey),a=new D.yT(D.yT.i1),this.pb.call(this.ta,a))};D.y.Yp=function(a,b,c){var d=this.ka.A();"dim"==d.hoverBehavior&&(b=b.Vc?b.Vc():[],d.highlightedCategories=c?b.slice():D.o,c=new D.kn(c?"categoryRollOver":"categoryRollOut",d.highlightedCategories),b=(0,D.Zp)(d.styleDefaults.hoverBehaviorDelay),this.uB.Rd(c,(0,D.oT)(this.ka).concat((0,D.BT)(this.ka)),b,"any"==d.highlightMatch),a.stopPropagation())};
D.DT=function(a){this.Init(a)};D.z.q(D.DT,D.z,"DvtThematicMapJsonParser");D.DT.prototype.Init=function(a){this.ka=a;this.XW=D.p;this.UE=D.o;this.uCa=(0,D.Mf)();this.aja={};this.cja={}};
D.DT.prototype.parse=function(a){var b=a.animationDuration;"string"==typeof b?"ms"==b.slice(-2)?b=(0,window.parseInt)(b.slice(0,-2))/1E3:"s"==b.slice(-1)&&(b=(0,window.parseFloat)(b.slice(0,-1))):b/=1E3;this.ka.cw(b);this.ka.Iha="auto"==a.animationOnDisplay?"alphaFade":a.animationOnDisplay;this.ka.bza="auto"==a.animationOnMapChange?"alphaFade":a.animationOnMapChange;this.XW=a.source!=D.o;var b=this.ka,c=this.XW?"$"+a.basemap:a.basemap;b.W3=b.kk&&b.kk!=c;b.kk=c;this.ka.z0(a.featuresOff);this.ka.GO=
a.controlPanelBehavior;b=a.tooltipDisplay;"shortDesc"==b?b="shortDescOnly":"labelAndShortDesc"==b&&(b="auto");this.ka.qja=b;(b=a.popups)&&this.ka.WM(this.lm(b));this.ka.Mca(a.drilling);this.ka.O3=a.animationOnDrill;this.ka.R6="auto"==a.initialZooming;this.ka.Az="fixed"==a.markerZoomBehavior;this.ka.JK="auto"==a.panning;this.ka.XG="auto"==a.zooming;this.ka.Xka=a.panX;this.ka.Yka=a.panY;this.ka.Q6=a.zoom;(0,window.isNaN)(a.maxZoom)||(b=window.Math.max(a.maxZoom,1),this.ka.rX=b);a._legend&&(this.ka.lx=
a._legend);b=a.styleDefaults;(0,D.br)(this.ka,b);this.UE=new D.I(b.areaStyle);(0,D.$f)(this.UE,b.labelStyle);this.jza=new D.I(b.dropTargetStyle);this.ka.HY=b;if(this.XW&&a.sourceXml)for(var b=(new D.Ij).parse(a.sourceXml).Gc(),d,e,c=0;c<b.length;c++)if(d=b[c],e=d.getName(),"layer"==e){e=d;d=e.Gc();e=e.B("id");for(var f=D.i,g=D.i,h=[],j=0;j<d.length;j++)if(f=d[j],g=f.getName(),"image"==g){g={};g.source=f.B("source");g.width=f.B("width");g.height=f.B("height");var l=f.B("bidi"),f=f.B("dir");g.dir="true"==
l||"rtl"==f?"rtl":"ltr";h.push(g)}this.aja[e]=h}else if("points"==e){d=d.Gc();h=e=D.i;j={};f={};for(g=0;g<d.length;g++)e=d[g],h=e.getName(),"point"==h&&(j[e.B("name")]=[e.B("x"),e.B("y")],f[e.B("name")]=[D.o,e.B("longLabel")]);D.JS.sca(this.ka.kk,"cities",f,j,D.o,D.o,1)}b=a.areaLayers;c=this.ka.kk;for(d=0;d<b.length;d++)if(e=D.Jl.Id(b[d],D.cU),j=e.layer){e.areaStyle&&(0,D.$f)(this.UE,e.areaStyle);e.labelStyle&&(0,D.$f)(this.UE,e.labelStyle);if(this.XW){f=h=new D.pT(this.ka,j,e.labelDisplay,e.labelType,
this.ka.za());j=this.aja[j];l=D.o;g=(0,D.G)(f.ka.j());if(j&&0<j.length){var l=j[0].width,m=j[0].height;f.DCa=l;f.CCa=m;for(var n=[],q=0;q<j.length;q++)g&&"rtl"==j[q].dir?n.push(j[q]):!g&&"ltr"==j[q].dir&&n.push(j[q]);f.kza=0<n.length?n:j;f.NW=(0,D.qT)(f);l=new D.Ve(f.ka.j(),f.NW,0,0,l,m)}l&&((0,D.fT)(f,{image:[D.o,D.o]}),f.ps={image:l})}else{h=new D.cT(this.ka,j,e.labelDisplay,e.labelType,this.ka.za());f=D.JS.IHa(c,j);g=h;q=f;l={};m=this.ka.j();n=D.i;for(n in q){l[n]=new D.Vh(m);if((q=this.UE.C("border-color"))&&
"transparent"!=q)q=new D.J(q),this.ka.Zf&&(q.Qc=D.k),l[n].ba(q);q=this.UE.C("background-color");"transparent"!=q?l[n].va(q):l[n].P(D.o)}g.ps=l;(0,D.fT)(h,f);f=D.JS.HHa(c,j);h.lK=f;j=D.JS.THa(this.ka.kk,j);h.ql=j}h.p7=this.UE;h.bP=this.jza;h.t0("auto"==e.animationOnLayerChange?"alphaFade":e.animationOnLayerChange);h.cw(this.ka.Ma());this.ka.Jf.push(h);e.areaDataLayer&&(0,D.KT)(this,[e.areaDataLayer],h,D.o,D.k);e.pointDataLayers&&(0,D.KT)(this,e.pointDataLayers,h,D.o,D.p)}(0,D.KT)(this,a.pointDataLayers,
D.o,D.o,D.p)};
D.KT=function(a,b,c,d,e){if(b)for(var f=0;f<b.length;f++){var g=D.Jl.Id(b[f],D.dU);if(g.markerDefs){var h=g.markerDefs,j;for(j in h)if(!a.cja[j]){var l=(new D.Ij).parse(h[j]);a.cja[j]=D.wA.Qpa(a.ka.j(),l)}}g.legend&&(a.ka.lx=g.legend);if(c){if(c instanceof D.cT&&e)for(h in e=c,h=D.i,e.ku)e.Bt[h]=D.k,e.Ct[h]=D.k}else c=new D.dT(a.ka,g.id,a.ka.za()),a.ka.Jf.push(c);h=new D.rT(a.ka,c,g.id,a.ka.za(),g);e=g.selectionMode;"single"==e?h.hw("s"):"multiple"==e&&h.hw("m");h.t0(g.animationOnDataChange);h.cw(a.ka.Ma());
var m=D.o;c instanceof D.cT&&(m=g.isolatedItem);var n=g.disclosedItems,l=[],q;e=c instanceof D.cT;var r;g.popups&&(r=a.lm(g.popups));var s=a.ka.A().hiddenCategories,u=g.areas;if(u)for(var A=0;A<u.length;A++)if(s&&D.eg.wA(s,u[A].categories))(0,D.wT)(h,D.o);else{var w=u[A].location;if(m)if(m!=u[A].id)continue;else q=w;n&&-1!=n.indexOf(u[A].id)&&l.push(w);var E=a,P=c,N=h,w=u[A],L=w.location;if(P.ps[L]&&w.color){P.Bt[L]=D.p;L=new D.LS(E.ka.j(),E.ka.Zf);w=D.Jl.Id(w,E.ka.HY.dataAreaDefaults);w.labelStyle||
(w.labelStyle=E.ka.HY.labelStyle);var W=new D.J(w.hoverColor,1,2),U=new D.J(w.selectedInnerColor,1,1),ga=new D.J(w.selectedOuterColor,1,4);L.Ho(W,D.o).Jo(U,ga);W=new D.J(w.drilledInnerColor,1,2);ga=new D.J(w.drilledOuterColor,1,4);U=L;U.eW=W;U.eW&&U.Zf&&(U.eW.Qc=D.k);U.fW=ga;U.fW&&U.Zf&&(U.fW.Qc=D.k);P.Ct[w.location]=D.p;(0,D.gU)(E,w,L);E=E.jF(P,N,w,L,D.k);w=new D.mT(w,N,L,E)}else w=D.o;r&&w.WM(r);w&&(w.Xf(h.Oa()),(0,D.wT)(h,w))}u=g.renderer;if((N=g.markers)&&!u)for(A=0;A<N.length;A++)if(s&&D.eg.wA(s,
N[A].categories))(0,D.vT)(h,D.o);else{w=N[A].location;if(m)if(m!=N[A].id)continue;else q=w;w=a.WV(c,h,N[A],e);r&&w.WM(r);w&&(w.Xf(h.Oa()),(0,D.vT)(h,w))}if(s=g.images)for(A=0;A<s.length;A++){w=s[A].location;if(m)if(m!=s[A].id)continue;else q=w;w=a.f5(c,h,s[A],e);r&&w.WM(r);w&&(0,D.vT)(h,w)}if(u)for(A=0;A<N.length;A++){w=N[A].location;if(m)if(m!=N[A].id)continue;else q=w;n&&-1!=n.indexOf(N[A].id)&&l.push(w);s=a.ka.A()._contextHandler(a.ka.Aa(),D.o,N[A],{hovered:D.p,selected:D.p,focused:D.p},D.o);L=
u(s);E=a;P=c;s=h;w=N[A];W=L;U=e;(L=(0,D.hU)(s,w))?(U&&(P.Ct[w.location]=D.p),E=new D.KS(E.ka.j(),W,E.ka.HY.dataAreaDefaults),w=new D.nT(w,s,E,D.o,L)):w=D.o;r&&w.WM(r);w&&(w.Xf(h.Oa()),(0,D.vT)(h,w))}if(q)for(A in h.WOa=m,m=c,n=q,m.hK=n,m.nK=D.o,A=D.i,m.ps)A!=n&&(m.Bt[A]=D.p);if((g=g.selection)&&0<g.length)h.L6=g;l&&0<l.length&&(a.ka.wP[c.Hh]=[h.Wk(),l]);d?c.$ca(h,a.ka.fa.ja.Ea(),d):c.Jj[h.Wk()]=h}};
D.DT.prototype.WV=function(a,b,c,d){var e=(0,D.hU)(b,c);if(!e)return D.o;var f=this.ka.HY.dataMarkerDefaults,g=new D.I(f.labelStyle);(0,D.$f)(g,c.labelStyle);c=D.Jl.Id(c,f);c.labelStyle=g.toString();f=1;(0,window.isNaN)(c.scaleX)||(f=c.scaleX);g=1;(0,window.isNaN)(c.scaleY)||(g=c.scaleY);var h=c.width,j=c.height;if(!h||(0,window.isNaN)(h))h=this.ka.A().styleDefaults.dataMarkerDefaults.width;if(!j||(0,window.isNaN)(j))j=this.ka.A().styleDefaults.dataMarkerDefaults.height;if(c.source)f=new D.rr(this.ka.j(),
e.x,e.y,h*f,j*g,c.source,c.sourceSelected,c.sourceHover,c.sourceHoverSelected);else var l=c.shape?c.shape:this.ka.A().styleDefaults.dataMarkerDefaults.shape,f=new D.Qn(this.ka.j(),l,this.ka.vc,e.x,e.y,h*f,j*g);(g=c.rotation)&&f.Xj(g*window.Math.PI/180);d&&(a.Ct[c.location]=D.p);(0,D.gU)(this,c,f);a=this.jF(a,b,c,f,d);return new D.nT(c,b,f,a,e)};
D.DT.prototype.f5=function(a,b,c,d){var e=(0,D.hU)(b,c);if(!e)return D.o;var f=new D.Ve(this.ka.j(),c.url),g=c.width,h=c.height;g!=D.o&&h!=D.o&&(f.ha(e.x-g/2),f.ya(e.y-h/2),f.sa(g),f.Ia(h));d&&(a.Ct[c.location]=D.p);var j=new D.nT(c,b,f,D.o,e);(!g||!h)&&D.He.Co(this.ka.j(),c.url,function(a){a&&(a.width&&a.height)&&(f.sa(a.width),f.Ia(a.height),f.ha(e.x-a.width/2),f.ya(e.y-a.height/2),j.JU())});return j};
D.DT.prototype.jF=function(a,b,c,d,e){var f=c.location,g=c.label,h=g?"on":"off";e&&(h=a.UZ());d=d instanceof D.Vh;if(!g&&e&&(d&&"off"!=h||!d&&"on"==h))g="long"==a.ula?a.ku[f][1]:a.ku[f][0];if(g){var j=this.ka.j(),j=d?new D.hT(j,g,a.Sqa?a.Sqa(f):D.o,h,b.NO,this.ka.Zf):new D.Nf(j,g,0,0);b=new D.I;d&&b.Id(new D.I(a.p7));c.labelStyle&&(0,D.$f)(b,c.labelStyle);a=b.C("color");b.ca("color",D.o);j.Na(b);if(j instanceof D.hT&&(D.Bp===D.k||!a))a=D.K.zj(c.color);a&&j.va(a)}return j};
D.gU=function(a,b,c){var d=b.pattern,e=b.color,f=a.uCa||"alta"==a.ka.vc?"none":b.visualEffects;if(c instanceof D.Qn){if("none"!=b.borderStyle){var g=b.borderWidth;"string"==typeof g&&(g="px"==g.slice(-2)?(0,window.parseFloat)(b.borderWidth.slice(0,-2)):(0,window.parseFloat)(b.borderWidth));var h=new D.J(b.borderColor,1,g);a.ka.Az||(h.Qc=D.k);h.Ak((0,D.ng)(b.borderStyle));c.ba(h)}g=b.opacity;"none"!=f?c.P(new D.oh.Rpa(e,c,g)):d?c.P(new D.nh(d,e,"#FFFFFF")):e&&c.va(e,g)}else if(c instanceof D.Vh){if(b=
b.borderColor)h=new D.J(b),a.ka.Zf&&(h.Qc=D.k),c.ba(h);d?(a=new D.nh(d,e,"#FFFFFF"),c.$Da=a):c.va(e,g)}};D.hU=function(a,b){var c=a.ka,d=c.kk,e=b.location;return e?((c=D.JS.FHa(d,a.uQ.Hh,e))||(c=D.JS.UHa(d,e)),c):D.$.gMa(b.x,b.y,c.kk)};D.DT.prototype.lm=function(a){for(var b=[],c=0;c<a.length;c++)b.push(new D.Vi(a[c].popupId,a[c].triggerType,D.o,a[c].align));return b};
D.$={};D.z.q(D.$,D.z,"DvtThematicMapProjections");D.$.Iy=new D.B(0,0,800,500);D.$.EU=6378206.4;D.$.q3=new D.B(500,200,200,200);D.$.p3=new D.B(163,-49,17,17);D.$.Cga=new D.B(-17.379205428479874,-37.201510854305546,68.66391442808313,77.50071544582713);D.$.Fga=new D.B(-0.8436866097568272,-0.7626456732012923,1.8336308036296942,1.5748427214611724);D.$.Gga=new D.B(113.29667079927977,-52.89550592498755,65.25257389065216,42.123114617504626);
D.$.Sga=new D.B(-0.47944476148667076,-0.0014669405958800579,0.7364925893845453,0.6293972741802124);D.$.hha=new D.B(-0.6154469465354344,-0.24589767758847714,1.2448236795108683,1.2631535127174947);D.$.oha=new D.B(-80.60817722658722,-60.796273249672765,46.608687602908056,66.96595767361796);D.$.Ega=new D.B(68.20516856593524,-52.89892708045518,111.65739821771903,116.55460214469134);D.$.Rga=new D.B(-24.543831069368586,-37.202500659225905,204.54283106936856,164.9634493690208);
D.$.fha=new D.B(-117.12451221229134,-54.95921623126266,82.33223251442891,87.67786623127876);D.$.qha=new D.B(-0.6154656300926513,0.0507209798775865,1.0153104799231851,0.966537441082997);D.$.sha=new D.B(-171.9,-62.6,349.8,150.8);D.$.Dwa=new D.B(172,51,8,3);D.$.Ewa=new D.B(-180,51,51,21);D.$.jxa=new D.B(-178.5,18.9,35,11);D.$.gya=new D.B(-124.8,24.4,58,25.5);D.$.Dga=new D.B(-187.5517578125,59.82610321044922,57.562225341796875,43.83738708496094);
D.$.$ga=new D.B(-160.23606872558594,18.91549301147461,5.4374847412109375,3.3189010620117188);D.$.pha=new D.B(-2386803.25,-1183550.5,4514111,2908402);D.$.o3=new D.B(165,400,100,100);D.$.l3=new D.B(-75,350,240,150);D.$.Pn=[[1,0],[0.9986,0.0314],[0.9954,0.0629],[0.99,0.0943],[0.9822,0.1258],[0.973,0.1572],[0.96,0.1887],[0.9427,0.2201],[0.9216,0.2515],[0.8962,0.2826],[0.8679,0.3132],[0.835,0.3433],[0.7986,0.3726],[0.7597,0.4008],[0.6732,0.4532],[0.6213,0.4765],[0.5722,0.4951],[0.5322,0.5072]];
D.$.gMa=function(a,b,c){var d;switch(c){case "africa":d=D.$.sz(D.$.Cga,D.$.nP(a,b));break;case "asia":d=D.$.sz(D.$.Fga,D.$.uW(40,95,20,60,a,b),D.$.dj(5));break;case "australia":d=D.$.fBa(a,b);break;case "europe":d=D.$.sz(D.$.Sga,D.$.uW(35,25,40,65,a,b),D.$.dj(10));break;case "northAmerica":d=D.$.sz(D.$.hha,D.$.uW(23,-96,20,60,a,b));break;case "southAmerica":d=D.$.sz(D.$.oha,new D.H(a,b),D.$.dj(5));break;case "apac":d=D.$.sz(D.$.Ega,D.$.nP(a,b));break;case "emea":d=D.$.sz(D.$.Rga,D.$.nP(a,b));break;
case "latinAmerica":d=D.$.sz(D.$.fha,new D.H(a,b));break;case "usaAndCanada":d=D.$.sz(D.$.qha,D.$.uW(23,-96,20,60,a,b));break;case "worldRegions":d=D.$.Aka(a,b);break;case "usa":d=D.$.KBa(a,b);break;case "world":d=D.$.Aka(a,b)}return d?new D.H(10*d.x,10*d.y):new D.H(a,b)};
D.$.KBa=function(a,b){var c;return(0,D.fn)(D.$.Dwa,a,b)||(0,D.fn)(D.$.Ewa,a,b)?(c=D.$.nq(D.$.Dga,D.$.l3),D.$.bO(c,D.$.nP(a,b))):(0,D.fn)(D.$.jxa,a,b)?(c=D.$.nq(D.$.$ga,D.$.o3),D.$.bO(c,new D.H(a,b))):(0,D.fn)(D.$.gya,a,b)?(c=D.$.nq(D.$.pha,D.$.Iy),D.$.bO(c,D.$.BBa(new D.H(-95,36),a,b))):new D.H(a,b)};D.$.Aka=function(a,b){var c=D.$.nq(D.$.sha,D.$.Iy);return D.$.bO(c,D.$.FBa(a,b))};
D.$.fBa=function(a,b){var c;c=(0,D.fn)(D.$.p3,a,b)?D.$.nq(D.$.p3,D.$.q3):D.$.nq(D.$.Gga,D.$.Iy);return D.$.bO(c,D.$.nP(a,b))};D.$.sz=function(a,b,c){a=D.$.nq(a,D.$.Iy);if(c){var d=new D.Ej;d.rotate(c);a=D.$.Hia(a,d)}return(0,D.xq)(a,b)};
D.$.uW=function(a,b,c,d,e,f){b=D.$.dj(b);a=D.$.dj(a);c=D.$.dj(c);d=D.$.dj(d);d=0.5*(window.Math.sin(c)+window.Math.sin(d));c=window.Math.pow(window.Math.cos(c),2)+2*d*window.Math.sin(c);a=c-2*d*window.Math.sin(a);a=window.Math.sqrt(a)/d;e=d*(D.$.dj(e)-b);f=c-2*d*window.Math.sin(D.$.dj(f));f=window.Math.sqrt(f)/d;return new D.H(f*window.Math.sin(e),a-f*window.Math.cos(e))};D.$.nP=function(a,b){var c=window.Math.log(window.Math.tan(0.25*window.Math.PI+0.5*D.$.dj(b)));return new D.H(a,D.$.$M(c))};
D.$.BBa=function(a,b,c){b=D.$.dj(b);c=D.$.dj(c);var d=D.$.dj(a.x);a=D.$.dj(a.y);return new D.H(window.Math.cos(c)*window.Math.sin(b-d)*D.$.EU,(window.Math.cos(a)*window.Math.sin(c)-window.Math.sin(a)*window.Math.cos(c)*window.Math.cos(b-d))*D.$.EU)};
D.$.FBa=function(a,b){var c=window.Math.floor(window.Math.abs(b)/5);c>=D.$.Pn.length-1&&(c=D.$.Pn.length-2);var d=(window.Math.abs(b)-5*c)/5,e=a*(D.$.Pn[c][0]+d*(D.$.Pn[c+1][0]-D.$.Pn[c][0])),c=D.$.Pn[c][1]+d*(D.$.Pn[c+1][1]-D.$.Pn[c][1]);0>b&&(c*=-1);return new D.H(e,180*c)};D.$.bO=function(a,b){return new D.H(b.x*a.Kd+a.Fc,b.y*a.pg+a.zc)};D.$.Hia=function(a,b){var c=a.Kd,d=a.pg;return new D.Ej(b.Kd*c,b.Mh*c,b.eh*d,b.pg*d,a.Fc+b.Fc*c,a.zc+b.zc*d)};
D.$.nq=function(a,b){var c=b.x,d=b.y,e=a.e,f=a.g,g=0,g=b.e/e,h=b.g/f,g=g<=h?g:h,c=c-a.x*g,d=d+a.y*g,c=c+(b.e-e*g)/2,d=d+(b.g-(b.g-f*g)/2);return new D.Ej(g,0,0,-g,c,d)};D.$.dj=function(a){return a*(window.Math.PI/180)};D.$.$M=function(a){return a*(180/window.Math.PI)};
D.$.RKa=function(a,b,c){var d;a/=10;b/=10;switch(c){case "africa":d=D.$.tz(D.$.Cga,new D.H(a,b));d=D.$.lP(d.x,d.y);break;case "asia":d=D.$.tz(D.$.Fga,new D.H(a,b),D.$.dj(5));d=D.$.xW(40,95,20,60,d.x,d.y);break;case "australia":d=D.$.qBa(a,b);break;case "europe":d=D.$.tz(D.$.Sga,new D.H(a,b),D.$.dj(10));d=D.$.xW(35,25,40,65,d.x,d.y);break;case "northAmerica":d=D.$.tz(D.$.hha,new D.H(a,b));d=D.$.xW(23,-96,20,60,d.x,d.y);break;case "southAmerica":d=D.$.tz(D.$.oha,new D.H(a,b),D.$.dj(5));break;case "apac":d=
D.$.tz(D.$.Ega,new D.H(a,b));d=D.$.lP(d.x,d.y);break;case "emea":d=D.$.tz(D.$.Rga,new D.H(a,b));d=D.$.lP(d.x,d.y);break;case "latinAmerica":d=D.$.tz(D.$.fha,new D.H(a,b));break;case "usaAndCanada":d=D.$.tz(D.$.qha,new D.H(a,b));d=D.$.xW(23,-96,20,60,d.x,d.y);break;case "worldRegions":d=D.$.hka(a,b);break;case "usa":d=D.$.tBa(a,b);break;case "world":d=D.$.hka(a,b)}return d?d:new D.H(a,b)};
D.$.tBa=function(a,b){var c;return(0,D.fn)(D.$.l3,a,b)?(c=D.$.nq(D.$.Dga,D.$.l3),c.Vx(),c=(0,D.xq)(c,new D.H(a,b)),D.$.lP(c.x,c.y)):(0,D.fn)(D.$.o3,a,b)?(c=D.$.nq(D.$.$ga,D.$.o3),c.Vx(),(0,D.xq)(c,new D.H(a,b))):(0,D.fn)(D.$.Iy,a,b)?(c=D.$.nq(D.$.pha,D.$.Iy),c.Vx(),c=(0,D.xq)(c,new D.H(a,b)),D.$.rBa(new D.H(-95,36),c.x,c.y)):new D.H(a,b)};D.$.hka=function(a,b){var c=D.$.nq(D.$.sha,D.$.Iy);c.Vx();c=(0,D.xq)(c,new D.H(a,b));return D.$.sBa(c.x,c.y)};
D.$.qBa=function(a,b){var c;c=(0,D.fn)(D.$.q3,a,b)?D.$.nq(D.$.p3,D.$.q3):D.$.nq(D.$.Gga,D.$.Iy);c.Vx();c=(0,D.xq)(c,new D.H(a,b));return D.$.lP(c.x,c.y)};D.$.tz=function(a,b,c){a=D.$.nq(a,D.$.Iy);if(c){var d=new D.Ej;d.rotate(c);a=D.$.Hia(a,d)}a.Vx();return(0,D.xq)(a,b)};
D.$.xW=function(a,b,c,d,e,f){b=D.$.dj(b);a=D.$.dj(a);c=D.$.dj(c);d=D.$.dj(d);d=0.5*(window.Math.sin(c)+window.Math.sin(d));c=window.Math.pow(window.Math.cos(c),2)+2*d*window.Math.sin(c);a=c-2*d*window.Math.sin(a);a=window.Math.sqrt(a)/d;var g=window.Math.sqrt(e*e+(a-f)*(a-f));return new D.H(D.$.$M(b+window.Math.atan(e/(a-f))/d),D.$.$M(window.Math.asin((c-g*g*d*d)/(2*d))))};D.$.lP=function(a,b){return new D.H(a,D.$.$M(2*window.Math.atan(window.Math.exp(D.$.dj(b)))-0.5*window.Math.PI))};
D.$.rBa=function(a,b,c){b/=D.$.EU;c/=D.$.EU;var d=D.$.dj(a.y),e=window.Math.sqrt(b*b+c*c),f=window.Math.asin(e);return new D.H(D.$.$M(D.$.dj(a.x)+window.Math.atan(b*window.Math.sin(f)/(e*window.Math.cos(d)*window.Math.cos(f)-c*window.Math.sin(d)*window.Math.sin(f)))),D.$.$M(window.Math.asin(window.Math.cos(f)*window.Math.sin(d)+c*window.Math.sin(f)*window.Math.cos(d)/e)))};
D.$.sBa=function(a,b){var c=window.Math.floor(window.Math.abs(b)/5);c>=D.$.Pn.length-1&&(c=D.$.Pn.length-2);var d=(window.Math.abs(b/180)-D.$.Pn[c][1])/(D.$.Pn[c+1][1]-D.$.Pn[c][1]),e=5*d+5*c,c=a/(D.$.Pn[c][0]+d*(D.$.Pn[c+1][0]-D.$.Pn[c][0]));0>b&&(e*=-1);return new D.H(c,e)};
D.GQ=function(a,b,c,d,e,f,g){this.Init(a,b,c,d,e,f,g)};D.z.q(D.GQ,D.mQ,"DvtMapControlButton");
D.GQ.prototype.Init=function(a,b,c,d,e,f){D.GQ.u.Init.call(this,a);this.w4=e;this.ce=b;this.ra=f;(0,D.Sh)(this.ce,this.Wua,this);a=new D.Bu(this,D.o,D.o,D.o,D.o,D.o,0==this.w4?(0,D.O)("DvtSubcomponentBundle","CONTROL_PANEL_DRILLUP"):1==this.w4?(0,D.O)("DvtSubcomponentBundle","CONTROL_PANEL_DRILLDOWN"):2==this.w4?(0,D.O)("DvtSubcomponentBundle","CONTROL_PANEL_RESET"):D.o);this.ra.Da(this.ce,a);this.k(this.ce);this.cma=c;this.fla=D.k};
D.GQ.prototype.Zg=function(a){this.D(a?1:0.4);this.fla=a;this.ce.Zg(a);(0,D.Qe)(this.ce)};D.GQ.prototype.Wua=function(a){(0,D.ti)(a);this.fla&&this.cma&&this.cma()};
D.PT=function(a,b,c){this.Init(a,b,c)};D.z.q(D.PT,D.tu,"DvtThematicMapControlPanel");D.PT.prototype.Init=function(a,b,c){D.PT.u.Init.call(this,a,b,c);this.bn=b.bn;this.Tn=(0,D.ls)(b);this.LAa=D.z.Mf(b,b.T$);this.JAa=D.z.Mf(b,b.sZ);this.VEa=D.z.Mf(b,b.Aca);this.CJ=this.DJ=this.koa=D.o;this.xja=this.wja=D.p;this.da=b.$r()};D.QT=function(a,b){a.wja=b;a.CJ&&a.CJ.Zg(b)};D.RT=function(a,b){a.xja=b;a.DJ&&a.DJ.Zg(b)};
D.PT.prototype.NN=function(a){if(this.bn&&"none"!=this.bn){var b=(0,D.Eu)(this.da,"buttonWidth",0);this.koa=D.V.TGa(this.j(),this.VEa,this.fa,this.Tn,this.ra,this.da);a.k(this.koa);this.CJ=D.V.GGa(this.j(),this.JAa,this.fa,this.Tn,this.ra,this.da);this.CJ.N(b);this.CJ.Zg(this.wja);a.k(this.CJ);this.DJ=D.V.HGa(this.j(),this.LAa,this.fa,this.Tn,this.ra,this.da);this.DJ.N(2*b);this.DJ.Zg(this.xja);a.k(this.DJ)}};
  return D;
});