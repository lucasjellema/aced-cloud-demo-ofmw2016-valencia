window.apmeum=window.apmeum||{};if(typeof(apmeum.KEY_RESPONSE_HEADER_OPERATION_ID)==="undefined"){apmeum.KEY_RESPONSE_HEADER_OPERATION_ID="X-ORACLE-APMCS-REQUEST-ID";apmeum.util={};apmeum.util.getCookie=function(c){var b=document.cookie.indexOf(c+"=");if(b!=-1){b=b+c.length+1;var a=document.cookie.indexOf(";",b);if(a==-1){a=document.cookie.length}return decodeURIComponent(document.cookie.substring(b,a))}};apmeum.getBrowserType=function(){if(!!window.chrome&&!!window.chrome.webstore){return"chrome"}if(typeof InstallTrigger!=="undefined"){return"firefox"}if(
/*@cc_on!@*/
false||!!document.documentMode){return"ie"}if((!!window.opr&&!!opr.addons)||!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0){return"opera"}if(Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0){return"safari"}if(!!window.StyleMedia){return"edge"}return"uknown"};apmeum.opt=function(){var b=[];var o=[];var m=[];var t=[];var v;var h=2048-apmeum.baseCollectorUrl.length;var j=0;var d="";var p=function(){var z=f();var y=apmeum.util.getCookie("apmCorrPage");if(y&&y.length>0){corrCookieFld=y.split("|");if(corrCookieFld.length>2){if(!apmeum.operationId){apmeum.operationId=corrCookieFld[0]}if(!apmeum.agentId){apmeum.agentId=corrCookieFld[1]}if(!apmeum.agentVersionKey){apmeum.agentVersionKey=corrCookieFld[2]}}}var A=r("pageview");var B=A.extraParams;B+="&ns="+z.navigationStart+"&rs="+z.responseStart+"&di="+z.domInteractive+"&dr="+z.domReady+"&pr="+z.pageReady;B+="&sw="+screen.width+"&sh="+screen.height+"&spd="+screen.colorDepth;if(window.outerHeight){B+="&ww="+encodeURIComponent(outerWidth||document.documentElement.clientWidth||document.body.clientWidth)+"&wh="+encodeURIComponent(outerHeight||document.documentElement.clientHeight||document.body.clientHeight)+"&dw="+encodeURIComponent(innerWidth||document.documentElement.clientWidth||document.body.clientWidth)+"&dh="+encodeURIComponent(innerHeight||document.documentElement.clientHeight||document.body.clientHeight)}B+="&de="+encodeURIComponent((document.charset?document.charset:document.characterSet));B+="&dt="+encodeURIComponent(i());j=1;if(apmeum.statusCode){B+="&sc="+encodeURIComponent(apmeum.statusCode)}B+="&drf="+encodeURIComponent(document.referrer);A.extraParams=B;apmeum.invokeRequest(A)};function f(){var y=null;if(window.performance&&window.performance.timing){y=n()}else{y=u()}return y}function n(){var y={};var z=window.performance.timing;y.navigationStart=z.navigationStart;y.responseStart=z.responseStart;y.domInteractive=z.domInteractive;y.domReady=z.domContentLoadedEventEnd;y.pageReady=z.loadEventEnd;if(!y.pageReady){if(apmeum.pageReady>=y.domReady){y.pageReady=apmeum.pageReady?apmeum.pageReady:0}else{y.pageReady=0}}return y}function u(){var z={};var y=x();z.navigationStart=y?Number(y):0;z.responseStart=apmeum.responseStart?apmeum.responseStart:0;z.domInteractive=0;z.domReady=apmeum.domReady?apmeum.domReady:0;z.pageReady=apmeum.time();if(z.navigationStart==0){z.pageReady-=z.responseStart;z.domReady-=z.responseStart;z.responseStart=0}return z}function x(){var y=apmeum.util.getCookie("apmeum-navigationStart");var A=Number(apmeum.util.getCookie("apmeum-pd"));var z=Number(apmeum.util.getCookie("apmeum-pr"));if(A&&A==document.referrer.hashCode()){return y}if(apmeum.time()-Number(y)<30000){if(A==document.URL.hashCode()&&z==document.referrer.hashCode()){return y}if(document.referrer&&document.URL.hashCode()==z){return y}}return 0}var g=function(){if(o.length==0){return}var B=r("call");var C=B.extraParams;C+="&dt="+encodeURIComponent(i());var y;var A=0;for(var z=0;z<o.length;z++){if(o[z].apmeum_endTime<o[z].apmeum_respTime){o[z].apmeum_endTime=o[z].apmeum_respTime}y="&ct"+z+"="+encodeURIComponent(o[z].apmeum_url)+"&csm"+z+"="+encodeURIComponent(o[z].apmeum_syncMode)+"&csl"+z+"="+encodeURIComponent(o[z].apmeum_sentLength)+"&crl"+z+"="+encodeURIComponent(o[z].apmeum_respLength)+"&cs"+z+"="+encodeURIComponent(o[z].apmeum_startTime)+"&cr"+z+"="+encodeURIComponent(o[z].apmeum_respTime)+"&ce"+z+"="+encodeURIComponent(o[z].apmeum_endTime)+"&cm"+z+"="+encodeURIComponent(o[z].apmeum_method)+"&cu"+z+"="+encodeURIComponent(o[z].apmeum_user)+"&crs"+z+"="+encodeURIComponent(o[z].apmeum_status);if(o[z].apmeum_operationId){y+="&oi"+z+"="+encodeURIComponent(o[z].apmeum_operationId)}if(h<y.length+a(B)+A.toString().length+22&&z!=0){break}C+=y;B.extraParams=C;A+=1}C+="&sz="+encodeURIComponent(A);o.splice(0,A);B.extraParams=C;apmeum.invokeRequest(B);if(o.length>0){g()}};var k=function(){if(m.length==0){return}var A=r("error");var B=A.extraParams;B+="&dt="+encodeURIComponent(i());var C;var z=0;for(var y=0;y<m.length;y++){C="&em"+y+"="+encodeURIComponent(m[y].message)+"&sf"+y+"="+encodeURIComponent(m[y].file)+"&ln"+y+"="+encodeURIComponent(m[y].line)+"&fs"+y+"="+encodeURIComponent(m[y].startTime);if(h<C.length+a(A)+z.toString().length+22&&y!=0){break}B+=C;A.extraParams=B;z+=1}B+="&sz="+encodeURIComponent(z);m.splice(0,z);A.extraParams=B;apmeum.invokeRequest(A);if(m.length>0){k()}};var l=function(){if(b.length==0){return}var B=r("event");var C=B.extraParams;var z;var A=0;for(var y=0;y<b.length;y++){z="&ec"+y+"="+encodeURIComponent(b[y].category+"&ev")+y+"="+encodeURIComponent(b[y].value)+"&es"+y+"="+encodeURIComponent(b[y].start)+"&ee"+y+"="+encodeURIComponent(b[y].end);if(b[y].label){z+="&el"+y+"="+encodeURIComponent(b[y].label)}if(h<z.length+a(B)+A.toString().length+22&&y!=0){break}C+=z;B.extraParams=C;A+=1}C+="&sz="+encodeURIComponent(A);b.splice(0,A);B.extraParams=C;apmeum.invokeRequest(B);if(b.length>0){l()}};var c=function(){if(t.length==0){return}var B=r("eua");var C=B.extraParams;C+="&dt="+encodeURIComponent(i());var y;var A=0;for(var z=0;z<t.length;z++){y="&xp"+z+"="+encodeURIComponent(t[z].xpath)+"&px"+z+"="+encodeURIComponent(t[z].pageX)+"&py"+z+"="+encodeURIComponent(t[z].pageY)+"&dw"+z+"="+encodeURIComponent(t[z].documentW)+"&dh"+z+"="+encodeURIComponent(t[z].documentH)+"&as"+z+"="+encodeURIComponent(t[z].startTime);if(h<y.length+a(B)+A.toString().length+22&&z!=0){break}C+=y;B.extraParams=C;A+=1}C+="&sz="+encodeURIComponent(A);t.splice(0,A);B.extraParams=C;apmeum.invokeRequest(B);if(t.length>0){c()}};var i=function(y){if(apmeum.pagename&&apmeum.pagename.length>0){return apmeum.pagename}return document.title};var r=function(A){var B="";var D="";var z="";B="v=1&t="+A;if(apmeum.customerId){D+="&X-USER-IDENTITY-DOMAIN-NAME="+apmeum.customerId}else{console.log("Oracle APM Browser agent cannot send data to cloud without valid apmeum.customerId. Please verify your configuration")}var F=(window.location.origin?window.location.origin:window.location);D+="&sba="+encodeURIComponent((""+F).split("?",1).join("?").split("/",3).join("/"));D+="&rp="+encodeURIComponent(window.location.pathname);z+="&qp="+encodeURIComponent(window.location.search);z+="&hp="+encodeURIComponent(window.location.hash);if(apmeum.operationId){D+="&oi="+encodeURIComponent(apmeum.operationId)}if(apmeum.agentId){D+="&sak="+encodeURIComponent(apmeum.agentId)}if(apmeum.agentVersionKey){D+="&sav="+encodeURIComponent(apmeum.agentVersionKey)}if(apmeum.sid){D+="&sid="+encodeURIComponent(apmeum.sid)}if(apmeum.pos2){D+="&pos2="+encodeURIComponent(apmeum.pos2)}if(apmeum.pos){D+="&pos="+encodeURIComponent(apmeum.pos)}if(apmeum.atk){D+="&atk="+encodeURIComponent(apmeum.atk)}if(apmeum.username){D+="&un="+encodeURIComponent(apmeum.username)}var E=apmeum.util.getCookie("oracle_apm_syndye");var C=apmeum.util.getCookie("oracle_apm_testguid");if(E){D+="&sd="+encodeURIComponent(E)}else{if(C){D+="&sd="+encodeURIComponent(C)}}var y={typeParams:B,commonParams:D,extraParams:z};return y};var a=function(z){var y=0;if(z){y=z.typeParams.length+z.commonParams.length+z.extraParams.length}return y};var s=function(){g();k();l();c();if(apmeum.combinedPost.messageArray.length>0){apmeum.combinedPost.send()}v=null};var w=function(){if(!v){v=setTimeout(s,2000)}};var q=function(A){var y=apmeum.getBrowserType();var z=apmeum.obs;if(y&&apmeum.hasOwnProperty("typeobs")&&apmeum.typeobs.hasOwnProperty(y)){z=apmeum.typeobs[y]}if(typeof z!="undefined"){if((z&A)==0){return false}}return true};return{collectPage:function(){if(!q(1)){return}p();w()},collectCalls:function(y){if(!q(2)){return}o[o.length]=y;w()},collectErrors:function(B,z,y,A){if(!q(4)){return}m[m.length]={message:B,file:z,line:y,startTime:A};w()},collectEua:function(z,D,B,C){if(!q(16)){return}var y,A;if(outerHeight){y=innerWidth||document.documentElement.clientWidth||document.body.clientWidth;A=innerHeight||document.documentElement.clientHeight||document.body.clientHeight}t[t.length]={xpath:z,pageX:D,pageY:B,documentW:y,documentH:A,startTime:C};w()},collectEvent:function(y,z,C,B,D,A){if(!q(8)){return}if(!y||!z||!C||!B){return"Some required value is empty"}b[b.length]={category:y,value:z,start:C,end:B};if(D){b[b.length-1].label=D}w()},sendAll:s}};apmeum.option=apmeum.opt();apmeum.collreachable=0;apmeum.invokeRequest=function(a){if((apmeum.transType=="beacon"||apmeum.transType=="fetch")&&apmeum.cmp==true){apmeum.combinedPost.invoke(a)}else{apmeum.invokeGet(a)}};apmeum.invokeGet=function(b){var c=b.typeParams+b.commonParams+b.extraParams;if(apmeum.transType=="beacon"&&"sendBeacon" in navigator){navigator.sendBeacon(apmeum.baseCollectorUrl,c+"&cts="+encodeURIComponent(apmeum.time()));return}if(apmeum.collreachable>1){return}if(c.indexOf("&t=pageview&")==0&&apmeum.collreachable==0){return}if(apmeum.transType=="fetch"&&window.fetch){fetch(apmeum.baseCollectorUrl+c+"&cts="+encodeURIComponent(apmeum.time()),{method:"get",credentials:"include",mode:"cors"}).then(function(d){apmeum.collreachable=1})["catch"](function(d){apmeum.collreachable=2})}else{var a=apmeum.pool.getConnection();if(a){a.onload=function(){if(a.naturalWidth>0){apmeum.collreachable=1}else{apmeum.collreachable=2}};a.src=apmeum.baseCollectorUrl+c+"&cts="+encodeURIComponent(apmeum.time())}else{if(apmeum.debug){console.log("apmeum.js: Unable to get image from connection pool")}}}};apmeum.time=function(){return new Date().getTime()};apmeum.combinedPost={};apmeum.combinedPost.messageArray=[];apmeum.combinedPost.invoke=function(b){var a=this;a.messageArray.push(b)};apmeum.combinedPost.send=function(){var m=this;if(apmeum.transType!="beacon"&&apmeum.transType!="fetch"){return}if(m.messageArray.length<=0){return}var h=10*1024;var a=0;var k=m.messageArray[0].commonParams;var j=k.split("&");a+=k.length;var c={};for(var f=0;f<j.length;f++){var i=j[f];if(i){var d=i.split("=");c[d[0]]=d[1]}}c.cma=[];for(var g=0;g<m.messageArray.length;){var b=m.messageArray[g];if(k==b.commonParams){var l=b.typeParams+b.extraParams;a+=l.length;if(a>h){break}c.cma.push(l);m.messageArray.splice(0,1)}else{g++}}c.cts=encodeURIComponent(apmeum.time());if(apmeum.transType=="beacon"&&"sendBeacon" in navigator){navigator.sendBeacon(apmeum.baseCollectorUrl,JSON.stringify(c));return}if(apmeum.collreachable>1){return}if(apmeum.transType=="fetch"&&window.fetch){fetch(apmeum.baseCollectorUrl,{method:"POST",credentials:"include",mode:"cors",body:JSON.stringify(c)}).then(function(n){apmeum.collreachable=1})["catch"](function(n){apmeum.collreachable=2})}if(m.messageArray.length>0){m.send()}};apmeum.createConnectionPool=function(d,f){var h=d;var c=0;var g=[];var a=[];function b(i){return function(){i.src=""}}return{getConnection:function(){var i=null;if(c==h){c=0}var j=apmeum.time();if(!g[c]){g[c]=new Image();g[c].onload=function(){if(img.naturalWidth>0){apmeum.collreachable=1}else{apmeum.collreachable=2}};a[c]=0}if(j-a[c]>=f){i=g[c];a[c]=j;c++;setTimeout(b(i),f)}return i}}};apmeum.getDefaultTransportType=function(){if("sendBeacon" in navigator){return"beacon"}if(window.fetch){return"fetch"}return"image"};apmeum.init=function(){if(!apmeum.connectionCount||apmeum.connectionCount<=0){apmeum.connectionCount=3}if(!apmeum.connectionTimeout){apmeum.connectionTimeout=2000}apmeum.pool=apmeum.createConnectionPool(apmeum.connectionCount,apmeum.connectionTimeout);function i(n){var o=document.location.pathname;var p=o.indexOf(";");if(p==-1){return null}var m=o.indexOf(n+"=",p);if(m!=-1){m=m+n.length+1;var l=o.indexOf(";",m);if(l==-1){l=o.indexOf("/",m)}if(l==-1){l=o.length}return decodeURIComponent(o.substring(m,l))}}function g(n){var o=document.location.search;if(o==null||o.length<2){return null}var m=o.indexOf(n+"=");if(m!=-1){m=m+n.length+1;var l=o.indexOf("&",m);if(l==-1){l=o.length}return decodeURIComponent(o.substring(m,l))}}if(apmeum.sid==null&&apmeum.tracking_cookie!=null){apmeum.sid=apmeum.util.getCookie(apmeum.tracking_cookie)}if(apmeum.sid==null&&apmeum.tracking_param!=null){apmeum.sid=i(apmeum.tracking_param);if(apmeum.sid==null){apmeum.sid=g(apmeum.tracking_param)}}if(apmeum.tracking_cookie==null){apmeum.tracking_cookie="OMCtrack"}if(apmeum.sid==null){apmeum.sid=apmeum.util.getCookie(apmeum.tracking_cookie)}if(apmeum.sid==null){var j="";if(apmeum.tracking_cookie_domain){j+="; domain="+apmeum.tracking_cookie_domain}if(apmeum.tracking_cookie_path){j+="; path="+apmeum.tracking_cookie_path}if(apmeum.tracking_cookie_expires){j+="; expires="+apmeum.tracking_cookie_expires}apmeum.sid=parseInt(Math.random()*2147418112)+new Date().getTime();document.cookie=apmeum.tracking_cookie+"="+apmeum.sid+j}var b=apmeum.option;var c=function(l,m,n){if(l.addEventListener){l.addEventListener(m,n,false);return true}else{if(l.attachEvent){l.attachEvent("on"+m,n);return true}else{return false}}};c(window,"unload",function(l){b.sendAll()});var d=window.onerror;window.onerror=function h(n,m,l){var o=new Date().getTime();b.collectErrors(n,m,l,o);if(d){return d(n,m,l)}};c(window,"load",function(l){if(!window.performance){apmeum.pageReady=Number(new Date)}setTimeout(apmeum.option.collectPage,10)});if(!window.performance){c(window,"DOMContentLoaded",function(l){apmeum.domReady=Number(new Date)});c(window,"beforeunload",function(l){document.cookie="apmeum-navigationStart="+apmeum.time()+"; path=/";document.cookie="apmeum-pd="+document.URL.hashCode()+"; path=/";document.cookie="apmeum-pr="+document.referrer.hashCode()+"; path=/"})}c(window,"click",function(o){var p=new Date().getTime();function m(q){if(q&&q.id){return'//*[@id="'+q.id+'"]'}else{return n(q)}}function n(t){var v=[];for(;t&&t.nodeType==1;t=t.parentNode){var r=0;for(var u=t.previousSibling;u;u=u.previousSibling){if(u.nodeType==Node.DOCUMENT_TYPE_NODE){continue}if(u.nodeName==t.nodeName){++r}}var s=t.nodeName.toLowerCase();var q=(r?"["+(r+1)+"]":"");v.splice(0,0,s+q)}return v.length?"/"+v.join("/"):null}var l;if(o.srcElement){l=m(o.srcElement)}else{if(o.target){l=m(o.target)}}b.collectEua(l,o.pageX,o.pageY,p)});var a=window.XMLHttpRequest.prototype.open;var k=window.XMLHttpRequest.prototype.send;XMLHttpRequest.prototype.open=function(q,n,o,m,l){if(!q){var q=""}if(!n){var n=""}if(!m){var m=""}var p=o!==false?"async":"sync";a.apply(this,arguments);this.apmeum_method=q;this.apmeum_url=n;this.apmeum_syncMode=p;this.apmeum_user=m};XMLHttpRequest.prototype.send=function(l){if(!l){var l=""}var m=f(this);c(this,"readystatechange",m.onLoadWrapper);this.apmeum_startTime=apmeum.time();this.apmeum_sentLength=l.length;k.apply(this,arguments)};apmeum.getHttpHeader=function(q,l){var m=q.getAllResponseHeaders();var o=m.indexOf("\n"+l+":");var n=null;if(o>0){e=m.indexOf("\n",o+1);n=m.substr(o+l.length+2,e-o-l.length-2).trim()}return n};var f=function(o){var m=function(p){return p&&apmeum.toString.apply(p)==="[object Function]"};var l=function(){n();try{if(m(this._onload)){return o._onload.apply(this,arguments)}}finally{o.apmeum_endTime=apmeum.time();o.apmeum_status=o.status;if(o.status!=0){b.collectCalls(o)}}};var n=function(){if(o.responseText&&o.responseText.length){o.apmeum_respLength=o.responseText.length}else{o.apmeum_respLength=0}o.apmeum_respTime=apmeum.time();var p=apmeum.getHttpHeader(o,apmeum.KEY_RESPONSE_HEADER_OPERATION_ID);if(p){o.apmeum_operationId=p}};return{onLoadWrapper:function(){if(m(o.onload)){if(o.onload!==l){o._onload=o.onload;o.onload=l}}else{if(m(o.onreadystatechange)){if(!o._onreadystatechange){o._onreadystatechange=o.onreadystatechange;o.onreadystatechange=null}}if(o.readyState==4){n()}try{if(m(o._onreadystatechange)){return o._onreadystatechange.apply(o,arguments)}}finally{if(o.readyState==4){o.apmeum_endTime=apmeum.time();o.apmeum_status=o.status;if(o.status!=0){b.collectCalls(o)}}}}}}};String.prototype.hashCode=function(){var n=0,m;if(this.length==0){return n}for(var l=0;l<this.length;l++){m=this.charCodeAt(l);n=((n<<5)-n)+m;n|=0}return n};if(apmeum.cmp==true&&apmeum.transType=="image"){if(apmeum.debug){console.log("apmeum.js: If transport type is 'image', combined post will not be supported, as 'image' send GET request only")}}if((apmeum.transType=="beacon"&&!"sendBeacon" in navigator)||(apmeum.transType=="fetch"&&!window.fetch)){if(apmeum.debug){console.log("apmeum.js: Transport type "+apmeum.transType+" is not supported in this browser")}apmeum.transType=apmeum.getDefaultTransportType()}if(!apmeum.transType||(apmeum.transType!="beacon"&&apmeum.transType!="fetch"&&apmeum.transType!="image")){apmeum.transType=apmeum.getDefaultTransportType()}if(apmeum.cmp==undefined){apmeum.cmp=true}};apmeum.init()};